(window['webpackJsonp']=window['webpackJsonp']||[])['push']([[0x24],{'+39A':function(a,b,c){a['exports']={'header':'_3PGkv','headerLogo':'iHFy5','content':'_35ePj','title':'cOWjL','lostSvg':'KtK4N','description':'_2trhD','tips':'_1u9aK','submitBtn':'_19UDB','logoSvg':'_2xuKp'};},'+Heo':function(j,k,q){'use strict';var w=q('BkRI'),x=q['n'](w),z=q('2vnA'),A=q('odX6'),B=q('Tk+0'),C=q('paMO'),D=q('xZ6H'),E=Object['defineProperty'],F=Object['defineProperties'],G=Object['getOwnPropertyDescriptor'],H=Object['getOwnPropertyDescriptors'],I=Object['getOwnPropertySymbols'],J=Object['prototype']['hasOwnProperty'],K=Object['prototype']['propertyIsEnumerable'],L=(P,Q,R)=>Q in P?E(P,Q,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':R}):P[Q]=R,M=(P,Q)=>{for(var R in Q||(Q={}))J['call'](Q,R)&&L(P,R,Q[R]);if(I){for(var R of I(Q))K['call'](Q,R)&&L(P,R,Q[R]);}return P;},N=(P,Q,R,T)=>{for(var U,V=T>0x1?void 0x0:T?G(Q,R):Q,W=P['length']-0x1;W>=0x0;W--)(U=P[W])&&(V=(T?U(Q,R,V):U(V))||V);return T&&V&&E(Q,R,V),V;};class O{constructor(P){this['isPin']=!0x1,this['isEdit']=!0x1,this['isLoading']=!0x1,this['anchorPosition']={'x':0x0,'y':0x0,'width':0x0,'height':0x0},this['zIndex']=0x2328,this['pin']=Q=>{Q?this['updatePosition'](Q):this['updatePosition'](this['anchorEl']['getBoundingClientRect']()),this['isPin']=!0x0;},this['unPin']=()=>{this['isPin']=!0x1,this['editorStore']['preventEditorKeydownAction'](!0x1);},this['refId']=P['refId'],this['anchorEl']=P['anchorEl'],this['noteId']=P['noteId'],this['blockId']=P['blockId'],this['selection']=P['selection'],this['cursorInfo']=P['cursorInfo'],this['pageId']=P['pageId'],this['cellId']=P['cellId'],this['screenId']=P['screenId'],this['isTextActionBar']=P['isTextActionBar']||!0x1,this['isCreating']=P['isCreating']||!0x1;}get['note'](){return this['notePopperStore']['notes']['get'](this['noteId']);}get['noteType'](){return this['note']['note_type'];}['editable'](P){P?(this['editorUI']['clearSelectedShadow'](),this['editorStore']['preventEditorKeydownAction'](!0x0)):this['editorStore']['preventEditorKeydownAction'](!0x1),this['isEdit']=P;}['updatePosition'](P){this['anchorPosition']=P;}['cancel'](){if(this['isCreating']){if(this['editorStore']['backupBlockText']&&!this['isTextActionBar']){var P=new C['a'](),Q=x()(this['editorStore']['backupBlockText']||[['']]);this['editorStore']['clearBackupBlockText'](),this['cellId']?this['editorStore']['updateTableCells'](this['blockId'],this['cellId'],Q,P):this['blockStore']['setBlockText'](P,this['blockId'],Q),this['editorStore']['preventEditorKeydownAction'](!0x1),this['editorStore']['invokeObserver'](P),this['editorStore']['moveCursorAfterRender']({'id':this['blockId'],'cellId':this['cellId'],'position':{'offset':this['editorStore']['backupCursorPos']['offset']}});}else this['editorStore']['moveCursorAfterRender']({'id':this['blockId'],'cellId':this['cellId'],'position':'persist'});}this['isTextActionBar']=!0x1,this['notePopperStore']['closeNotePopper']();}['dereference'](P){this['isLoading']=!0x0;var Q=D['a']['createNote'](M({'note_type':this['noteType']},P));this['notePopperStore']['notes']['set'](Q['note_id'],Q),this['save'](Q),this['noteId']=Q['note_id'];}['save'](P){if(this['isLoading']=!0x0,this['isCreating']){if(this['selection']){var [Q,R]=this['selection'],T=Q['totalOffset'],U=R['totalOffset'];this['insertBySelection'](P,{'startTotalOffset':T,'endTotalOffset':U});}else this['insert'](P);}else this['batchUpdate'](P,{'note_id':this['noteId'],'blockId':this['blockId'],'cellId':this['cellId'],'edited_time':Date['now']()});this['note']['update'](M({},P));}['insertBySelection'](P,Q){var {startTotalOffset:R,endTotalOffset:T}=Q,U=new C['a'](),V=[],W=this['cellId']?this['blockAPI']['getCellNodeTitle'](this['blockId'],this['cellId']):this['blockAPI']['getNodeTitle'](this['blockId']),[X,Y,Z]=this['blockAPI']['sliceTitle'](W,R,T);V['push'](...X,...Y),V['push'](['',[D['a']['buildSectionStyle']({'note_id':P['note_id'],'content':x()(P['content']||[['']]),'label':P['label']||'','note_type':this['noteType']})]]),V['push'](...Z),this['blockAPI']['rearrangeNodeTitle'](V),this['cellId']?this['editorStore']['modifyCellContentText'](this['blockId'],this['cellId'],V,U):this['editorStore']['modifyContentText'](this['blockId'],V,U),this['submit'](U,this['blockId'],this['cellId'],T+0x1);}['insert'](P){var Q=new C['a'](),R=x()(this['editorStore']['backupBlockText']||[['']]);this['editorStore']['clearBackupBlockText']();var [T,,U]=this['blockAPI']['sliceTitle'](R,this['editorStore']['backupCursorPos']['offset']),V=[];V['push'](...T),V['push'](['',[D['a']['buildSectionStyle']({'note_id':P['note_id'],'content':x()(P['content']||[['']]),'label':P['label']||'','note_type':this['noteType']})]]),V['push'](...U);var W=this['blockAPI']['filterTitle'](V);this['cellId']?this['editorStore']['updateTableCells'](this['blockId'],this['cellId'],W,Q):this['blockStore']['setBlockText'](Q,this['blockId'],W),this['submit'](Q,this['blockId'],this['cellId']);}['update'](P,Q,R){var T=[],U=Q['cellId']?this['blockAPI']['getCellNodeTitle'](Q['blockId'],Q['cellId']):this['blockAPI']['getNodeTitle'](Q['blockId']);Array['isArray'](U)&&(T=U['map'](W=>Array['isArray'](W)?W['map'](X=>Array['isArray'](X)?X['map'](Y=>{if([B['a']['Note'],B['a']['Footnote']]['includes'](Y[0x0])){var [Z,,a0]=Y;if(a0['note_id']===Q['note_id'])return D['a']['buildSectionStyle']((a1=M({},a0),a2={'note_id':P['note_id'],'content':x()(P['content']||[['']]),'label':P['label']||'','note_type':Z},F(a1,H(a2))));}var a1,a2;return Y;}):X):W)),T=this['blockAPI']['rearrangeNodeTitle'](T);var V=R||new C['a']();Q['cellId']?this['editorStore']['modifyCellContentText'](Q['blockId'],Q['cellId'],T,V):this['editorStore']['modifyContentText'](Q['blockId'],T,V),R||this['submit'](V,Q['blockId'],Q['cellId']);}['batchUpdate'](P,Q){var R=new C['a']({'ignoreLock':!0x0}),T=Q['note_id'];this['notePopperStore']['notes']['get'](T)['reference']['forEach'](U=>{var {blockId:V,cellId:W}=U;this['update'](P,{'note_id':T,'blockId':V,'cellId':W,'edited_time':Q['edited_time']},R);}),this['submit'](R,Q['blockId'],Q['cellId']);}['submit'](P,Q,R){var T=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:this['editorStore']['backupCursorPos']['offset']+0x1;this['editorStore']['preventEditorKeydownAction'](!0x1),this['editorStore']['invokeObserver'](P,{'callback':()=>{this['isCreating']=!0x1,this['isLoading']=!0x1,this['isPin']||this['notePopperStore']['closeNotePopper'](),this['isPin']&&this['editable'](!0x1);}}),this['editorStore']['moveCursorAfterRender']({'id':Q,'cellId':R,'position':{'offset':T}});}}N([A['b']],O['prototype'],'notePopperStore',0x2),N([A['b']],O['prototype'],'blockAPI',0x2),N([A['b']],O['prototype'],'editorUI',0x2),N([A['b']],O['prototype'],'editorStore',0x2),N([A['b']],O['prototype'],'blockStore',0x2),N([z['computed']],O['prototype'],'note',0x1),N([z['computed']],O['prototype'],'noteType',0x1),N([z['observable']],O['prototype'],'noteId',0x2),N([z['observable']],O['prototype'],'isPin',0x2),N([z['observable']],O['prototype'],'isEdit',0x2),N([z['observable']],O['prototype'],'isLoading',0x2),N([z['observable']],O['prototype'],'isCreating',0x2),N([z['observable']],O['prototype'],'anchorPosition',0x2),N([z['observable']],O['prototype'],'zIndex',0x2),N([z['action']],O['prototype'],'editable',0x1),N([z['action']],O['prototype'],'pin',0x2),N([z['action']],O['prototype'],'updatePosition',0x1),N([z['action']],O['prototype'],'dereference',0x1),N([z['action']],O['prototype'],'save',0x1),N([z['action']],O['prototype'],'insert',0x1),N([z['action']],O['prototype'],'update',0x1),k['a']=O;},'+XjY':function(b,c,d){'use strict';d['d'](c,'c',function(){return f;}),d['d'](c,'b',function(){return g;}),d['d'](c,'a',function(){return h;}),d['d'](c,'d',function(){return j;});var f={'S':0x53,'TAB':0x9,'BACKSPACE':0x8,'DELETE':0x2e,'END':0x23,'C':0x43,'V':0x56,'D':0x44,'UP':0x26,'LEFT':0x25,'RIGHT':0x27,'DOWN':0x28,'ENTER':0xd,'ESC':0x1b,'Z':0x5a,'SLASH1':0xbf,'SLASH2':0xdc,'META':0x5b,'SHIFT':0x10,'CTRL':0x11,'ALT':0x12,'DASH':0xbd,'SPACE':0x20,'SHARP':0x33,'STAR':0x38,'LEFT_BRACKET':0xdb,'RIGHT_BRACKET':0xdd,'PLUS':0xbb,'RIGHT_ARROW':0xbe,'LEFT_ARROW':0xbc,'CAPSLOCK':0x14,'A':0x41,'B':0x42,'H':0x48,'I':0x49,'E':0x45,'K':0x4b,'J':0x4a,'X':0x58,'U':0x55,'O':0x4f,'M':0x4d,'N':0x4e,'F':0x46,'ZERO':0x30,'ONE':0x31,'TWO':0x32,'THREE':0x33,'FOUR':0x34,'FIVE':0x35,'SIX':0x36,'SEVEN':0x37,'EIGHT':0x38,'NINE':0x39,'HYPHEN':0xbd,'P':0x50,'R':0x52,'L':0x4c,'T':0x54,'G':0x47,'Q':0x51,'BACK_QUOTE':0xc0,'COLON':0xba,'COLON_FIREFOX':0x3b},g=(f['ALT'],f['CAPSLOCK'],f['SHIFT'],f['META'],f['CTRL'],f['LEFT'],f['RIGHT'],f['DOWN'],f['UP'],/macintosh|mac os x/i['test'](navigator['userAgent'])?'⌘':'Ctrl'),h=/macintosh|mac os x/i['test'](navigator['userAgent'])?'Opt':'Alt',j=k=>/macintosh|mac os x/i['test'](navigator['userAgent'])?'⌘+option+'['concat'](k):['0','-','+']['includes'](k)?'Ctrl+Alt+'['concat'](k):'Ctrl+Shift+'['concat'](k);},'+tG8':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('sD0r'),f=(c('jY8L'),Object(d['a'])({'components':{'MuiMenu':{'styleOverrides':{'root':{},'paper':{'borderRadius':'6px','boxShadow':'0px\x200px\x200px\x200.5px\x20var(--color-basic-transparent-06),\x200px\x204px\x2012px\x200px\x20var(--wolai-modal-shadow-color)'},'list':{'padding':'6px\x200px'}}},'MuiMenuItem':{'styleOverrides':{'root':{'padding':'4px\x2012px\x204px\x208px','margin':'0px\x206px','borderRadius':'4px','fontSize':'14px','lineHeight':'22px','&\x20.Mui-focusVisible':{},'&\x20.Mui-disabled':{},'&\x20.Mui-selected':{},'&\x20.MuiListItemIcon-root':{'minWidth':'24px'},'&\x20.MuiListItemText-root':{'&\x20.MuiTypography-root':{'fontSize':'14px','lineHeight':'22px'}},'&\x20+\x20.MuiDivider-root':{'margin':'6px\x200px'}},'dense':{},'divider':{},'gutters':{}}},'MuiPopover':{'styleOverrides':{'root':{},'paper':{'filter':'none\x20!important','borderRadius':'6px','boxShadow':'0px\x200px\x200px\x200.5px\x20var(--color-basic-transparent-06),\x200px\x204px\x2012px\x200px\x20var(--wolai-modal-shadow-color)'}}},'MuiList':{'styleOverrides':{'root':{'padding':'6px\x200px'}}},'MuiPaper':{'styleOverrides':{'root':{'borderRadius':'6px','boxShadow':'0px\x200px\x200px\x200.5px\x20var(--color-basic-transparent-06),\x200px\x204px\x2012px\x200px\x20var(--wolai-modal-shadow-color)','backgroundColor':'var(--wolai-modal-bg)'},'rounded':{},'outlined':{},'elevation':{}}},'MuiSvgIcon':{'styleOverrides':{'root':{'width':'18px','height':'18px'}}},'MuiDivider':{'styleOverrides':{'root':{'borderColor':'var(--color-basic-transparent-06)'},'light':{'borderColor':'var(--color-basic-transparent-06)'}}}}}));},'/LkL':function(b,f,g){'use strict';var h=g('23mu'),j=g('wxQR'),k=Object['defineProperty'],m=Object['getOwnPropertySymbols'],p=Object['prototype']['hasOwnProperty'],q=Object['prototype']['propertyIsEnumerable'],v=(y,z,A)=>z in y?k(y,z,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':A}):y[z]=A,w=(y,z)=>{for(var A in z||(z={}))p['call'](z,A)&&v(y,A,z[A]);if(m){for(var A of m(z))q['call'](z,A)&&v(y,A,z[A]);}return y;};class x extends h['a']{['createReference'](y,z){return this['set'](y,j['p'],[],w({'id':y},z));}['updateReference'](y,z){return this['update'](y,j['p'],[],w({'id':y},z));}['copyReference'](y,z,A){return this['copy'](z,j['p'],[],w({'id':y},A));}['updateBlockId'](y,z){return this['update'](y,j['p'],[],{'block_id':z});}}f['a']=x;},'/P4t':function(b,c,d){'use strict';var f=d('iaWm'),g=d('bXzw');class h extends f['RouterStore']{['syncHistoryWithStore'](j){this['history']=Object(f['syncHistoryWithStore'])(j,this);}}c['a']=Object(g['a'])(h);},0x0:function(a,b){},'02XR':function(a,b,c){'use strict';b['a']=class{constructor(d){var {maxLimit:f=0x5,requestApi:g,rejectWhenExceed:h=!0x1}=d;this['maxLimit']=f,this['requestQueue']=[],this['currentConcurrent']=0x0,this['requestApi']=g,this['rejectWhenExceed']=h;}['request'](){for(var d=arguments['length'],f=new Array(d),g=0x0;g<d;g++)f[g]=arguments[g];return h=this,j=null,k=function*(){if(this['currentConcurrent']>=this['maxLimit']){if(this['rejectWhenExceed'])return;yield this['startBlocking']();}try{this['currentConcurrent']++;var l=yield this['requestApi'](...f);return Promise['resolve'](l);}catch(m){return Promise['reject'](m);}finally{this['currentConcurrent']--,this['next']();}},new Promise((l,m)=>{var p=v=>{try{u(k['next'](v));}catch(w){m(w);}},q=v=>{try{u(k['throw'](v));}catch(w){m(w);}},u=v=>v['done']?l(v['value']):Promise['resolve'](v['value'])['then'](p,q);u((k=k['apply'](h,j))['next']());});var h,j,k;}['startBlocking'](){var d,f=new Promise((g,h)=>d=g);return this['requestQueue']['push'](d),f;}['next'](){this['requestQueue']['length']<=0x0||this['requestQueue']['shift']()();}};},'0LCY':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=f=>{var g='function'==typeof window['requestIdleCallback']?window['requestIdleCallback']:setTimeout,h=!0x1;return function(){h||(h=!0x0,g(()=>{h=!0x1,f();}));};};},'0SbH':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;}),d['d'](c,'b',function(){return j;});var f=class{constructor(){this['editorContributions']=[],this['editorActions']=[],this['editorCommands']=Object['create'](null);}['registerEditorContribution'](k,l){this['editorContributions']['push']({'id':k,'ctor':l});}['getEditorContributions'](){return this['editorContributions']['slice'](0x0);}['registerEditorAction'](k){k['register'](),this['editorActions']['push'](k);}['getEditorActions'](){return this['editorActions']['slice'](0x0);}['registerEditorCommand'](k){k['register'](),this['editorCommands'][k['id']]=k;}['getEditorCommand'](k){return this['editorCommands'][k]||null;}},g=f;g['INSTANCE']=new f();var h=g['INSTANCE'];function j(k,l){g['INSTANCE']['registerEditorContribution'](k,l);}},'0W19':function(a,b,c){'use strict';var d={'quick':(f,g)=>{if(window['self']===window['top'])return window['sensors']&&window['sensors']['lib_version']?g?window['sensors']['quick'](f,g):window['sensors']['quick'](f):void(g&&g());g&&g();},'track':function(){for(var f=arguments['length'],g=new Array(f),h=0x0;h<f;h++)g[h]=arguments[h];window['sensors']&&window['sensors']['lib_version']?window['sensors']['track'](...g):g[0x2]&&'function'==typeof g[0x2]&&g[0x2]();}};b['a']=d;},'0nhg':function(a,b,c){'use strict';var d=c('2vnA'),f=c('bXzw');Object(d['configure'])({'enforceActions':'never'}),b['a']=Object(f['a'])(class{constructor(){this['dropImageFile']=[],this['dropVideoFile']=[],this['dropAudioFile']=[],this['dropFile']=[],this['convertUrl']=[],this['uploadImageList']=[],this['uploadVideoList']=[],this['uploadFileList']=[],this['cacheUploadFile']=(g,h,j,k,l)=>{var m=this['uploadFileList']['findIndex'](n=>n['id']===g);if(m>-0x1)this['uploadFileList'][m]['progress']=h;else{if(0x64===h)return;this['uploadFileList']['push']({'progress':0x0,'id':g,'filePath':j,'filename':k,'fileSize':l});}},this['deleteCacheUploadFile']=g=>{var h=this['uploadFileList']['findIndex'](j=>j['id']===g);h>-0x1&&this['uploadFileList']['splice'](h,0x1);};}get['clipboardImageSource'](){return this['_clipboardImageSource'];}set['clipboardImageSource'](g){this['_clipboardImageSource']=g;}get['clipboardSplitTitle'](){return this['_clipboardSplitTitle'];}set['clipboardSplitTitle'](g){this['_clipboardSplitTitle']=g;}get['clipboardFileSource'](){return this['_clipboardFileSource'];}set['clipboardFileSource'](g){this['_clipboardFileSource']=g;}});},'1htI':function(a,b,c){'use strict';var d=c('nMYx');c['d'](b,'a',function(){return d['a'];}),c('5ht6');},'1rK0':function(j,q,x){'use strict';x['d'](q,'a',function(){return a6;});var z=x('2vnA'),B=x('BkRI'),C=x['n'](B),D=x('vN+2'),F=x['n'](D),G=x('f9x4'),H=x('OIS1'),J=x('O7iK'),K=x['n'](J),L=x('xweI'),M=x['n'](L),N=x('odX6'),Q=x('EofD'),R=x('eYb8'),U=x('Rsoz'),V=Object['defineProperty'],W=Object['defineProperties'],X=Object['getOwnPropertyDescriptor'],Y=Object['getOwnPropertyDescriptors'],Z=Object['getOwnPropertySymbols'],a0=Object['prototype']['hasOwnProperty'],a1=Object['prototype']['propertyIsEnumerable'],a2=(a7,a8,a9)=>a8 in a7?V(a7,a8,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a9}):a7[a8]=a9,a3=(a7,a8)=>{for(var a9 in a8||(a8={}))a0['call'](a8,a9)&&a2(a7,a9,a8[a9]);if(Z){for(var a9 of Z(a8))a1['call'](a8,a9)&&a2(a7,a9,a8[a9]);}return a7;},a4=(a7,a8)=>W(a7,Y(a8)),a5=(a7,a8,a9,aa)=>{for(var ab,ac=aa>0x1?void 0x0:aa?X(a8,a9):a8,ad=a7['length']-0x1;ad>=0x0;ad--)(ab=a7[ad])&&(ac=(aa?ab(a8,a9,ac):ab(ac))||ac);return aa&&ac&&V(a8,a9,ac),ac;};class a6{constructor(a7,a8){this['disposers']=[],this['rowDisposers']=[],this['loading']=!0x0,this['dirty']=!0x1,this['viewPageSort']=[],this['duplicateProperty']=a9=>{var aa,ab,ac=U['a']['t']('stores.database.copyStuff','的副本',{'ns':'editor'}),ad=this['dataSource']['getProperty'](a9),ae=(null==(aa=ad['name'])?void 0x0:aa['endsWith'](ac))?ad['name']:''['concat'](ad['name']||U['a']['t']('stores.database.defaultPropertyName','字段名',{'ns':'editor'}))['concat'](ac),af=a4(a3({},C()(ad)),{'name':ae,'id':Object(H['b'])(),'createByViewId':this['view_id']});(null==(ab=af['options'])?void 0x0:ab['length'])&&af['options']['forEach'](ah=>{ah['option_id']=Object(H['b'])(),ah['property_id']=af['id'];});var ag=a4(a3({},C()(this['viewProperties']['get'](a9))),{'id':af['id'],'createByViewId':this['view_id']});return{'newProperty':af,'newViewProperty':ag};},this['view_id']=a7['view_id']||Object(H['b'])(),this['block_id']=a7['block_id'],this['table_id']=a7['table_id'],this['dataSource']=a8,this['validation']=new Q['a'](this['table_id'],this['view_id']),this['type']=a7['type'],this['viewPageSort']=[],this['columnQuerys']=new R['a'](a7['view_id']),this['disposers']['push'](Object(z['autorun'])(()=>{var a9=this['dataStore']['getBlockValue'](this['block_id']),aa=[];this['columnQuerys']['forEach'](ab=>{aa['push'](...ab['ids']);}),a9['sub_nodes']=Array['from'](new Set(aa)),this['viewPageSort']=a9['sub_nodes']['slice']();}),Object(z['reaction'])(()=>{var a9;return null==(a9=this['popperStore']['tableEditorState'])?void 0x0:a9['anchorEl'];},a9=>{if(!a9)for(;this['dataStore']['stashDBChanges']['length'];){var aa=this['dataStore']['stashDBChanges']['shift']();'function'==typeof aa&&aa();}}));}get['sorters'](){return this['data']['sorters']||[];}get['filters'](){return this['data']['filters']||{'logical':G['l']['Or'],'filters':[]};}get['data'](){return this['dataStore']['getDataView'](this['view_id']);}get['visibleRowIds'](){var a7=[...this['dataStore']['getDataRows'](this['table_id'])['values']()]['filter'](a8=>{var a9=this['dataStore']['getBlockValue'](a8['block_id']);return(null==a9?void 0x0:a9['id'])&&(null==a9?void 0x0:a9['active'])&&0x1===a8['status']&&!a8['template'];})['map'](a8=>a8['block_id']);return new Set(a7);}get['page_sort'](){return this['viewPageSort'];}get['version'](){return this['data']['version'];}get['visibleProperties'](){return this['properties']['filter'](a7=>!a7['hidden']);}get['hiddenProperties'](){return this['properties']['filter'](a7=>a7['hidden']);}get['propertyIds'](){return this['properties']['map'](a7=>a7['id']);}get['viewProperties'](){return new Map(this['data']['properties']['map'](a7=>[a7['id'],a7]));}get['snProperty'](){var a7=this['dataSource']['getPropertyListByType'](G['p']['SN']);return a7&&a7['length']?a7[0x0]:null;}get['snPropertyHidden'](){var a7=this['snProperty'];return!(a7&&a7['id']&&this['viewProperties']['has'](a7['id']))||(this['viewProperties']['get'](a7['id'])['hidden']||!0x1);}get['properties'](){var a7=K()([...this['viewProperties']['keys']()]['map']((a8,a9)=>[a8,a9]));return M()(this['dataSource']['getPropertyIds'](),a8=>a7[a8])['map'](a8=>{var a9=this['dataSource']['getProperty'](a8);return this['viewProperties']['get'](a8)||this['createPropertyByViewType'](a9);});}['insertRow'](a7,a8){this['dataStore']['getDataRow'](this['table_id'],a7)&&this['columnQuerys']['forEach'](a9=>{a9['insertRow'](a7,a8);});}['deleteRow'](a7){this['columnQuerys']['forEach'](a8=>{a8['deleteRow'](a7);});}['createRow'](a7,a8,a9){if(this['dataSource']['hasRow'](null==a8?void 0x0:a8['block_id']))return a8['duplicate'](a7,a9);var aa={'table_id':this['table_id'],'block_id':a7||Object(H['b'])(),'properties':(null==a8?void 0x0:a8['properties'])?C()(null==a8?void 0x0:a8['properties']):{},'created_time':new Date()['toISOString'](),'created_by':this['userStore']['userId'],'edited_time':new Date()['toISOString'](),'edited_by':this['userStore']['userId'],'version':0x1};return this['validation']['convert'](aa);}['getColumnTitle'](a7){return console['error']('需视图自行实现'),'';}['dispose'](){this['disposers']['forEach'](a7=>a7()),this['rowDisposers']['forEach'](a7=>a7()),this['disposers']=[],this['rowDisposers']=[];}['filterRow'](a7){if(this['columnQuerys']['size']){var a8=this['dataStore']['getDataRow'](this['table_id'],a7),a9=this['validation']['validate'](a8);return this['columnQuerys']['forEach'](aa=>{a9||aa['deleteRow'](a7);}),!a9;}return!0x1;}['filterRows'](){var a7=new Set(),a8=new Set();this['columnQuerys']['forEach'](a9=>{var aa=a9['sortedIds']['slice'](0x0,this['settings']['page_size']||0x32);a9['clearRows'](),aa['forEach'](ab=>{if(a7['has'](ab)||a8['has'](ab))a7['has'](ab)&&a9['addRow'](ab);else{var ac=this['dataStore']['getDataRow'](this['table_id'],ab);this['validation']['validate'](ac)?(a7['add'](ab),a9['addRow'](ab)):a8['add'](ab);}});});}['fixData'](){this['columnQuerys']['reFresh'](null,!0x0);}['syncRemoteAggregation'](){F()();}['createPropertyByViewType'](a7){return{'id':a7['id'],'hidden':!0x1};}}a5([z['observable']],a6['prototype'],'columnQuerys',0x2),a5([z['observable']],a6['prototype'],'loading',0x2),a5([z['observable']],a6['prototype'],'dirty',0x2),a5([N['b']],a6['prototype'],'blockAPI',0x2),a5([N['b']],a6['prototype'],'dataStore',0x2),a5([N['b']],a6['prototype'],'memberStore',0x2),a5([N['b']],a6['prototype'],'groupStore',0x2),a5([N['b']],a6['prototype'],'popperStore',0x2),a5([N['b']],a6['prototype'],'editorUI',0x2),a5([z['observable']],a6['prototype'],'dataSource',0x2),a5([z['observable']],a6['prototype'],'viewPageSort',0x2),a5([z['observable']],a6['prototype'],'type',0x2),a5([z['computed']],a6['prototype'],'sorters',0x1),a5([z['computed']],a6['prototype'],'filters',0x1),a5([N['b']],a6['prototype'],'domAPI',0x2),a5([N['b']],a6['prototype'],'userStore',0x2),a5([N['b']],a6['prototype'],'publicUserStore',0x2),a5([z['computed']],a6['prototype'],'data',0x1),a5([z['computed']],a6['prototype'],'visibleRowIds',0x1),a5([z['computed']],a6['prototype'],'page_sort',0x1),a5([z['computed']],a6['prototype'],'version',0x1),a5([z['computed']],a6['prototype'],'visibleProperties',0x1),a5([z['computed']],a6['prototype'],'hiddenProperties',0x1),a5([z['computed']],a6['prototype'],'propertyIds',0x1),a5([z['computed']],a6['prototype'],'viewProperties',0x1),a5([z['computed']],a6['prototype'],'snProperty',0x1),a5([z['computed']],a6['prototype'],'snPropertyHidden',0x1),a5([z['computed']],a6['prototype'],'properties',0x1),a5([z['action']],a6['prototype'],'duplicateProperty',0x2),a5([z['action']],a6['prototype'],'filterRow',0x1),a5([z['action']],a6['prototype'],'filterRows',0x1);},'1sra':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('XsrN'),g=d('5D19'),h=(j,k)=>{var l,{spaceId:m,userId:p}=k;if(j['startsWith']('data:image'))return{'link':j,'error':null};try{l=new URL(j);}catch(q){return{'link':null,'error':'图片链接不正确，请输入以\x20http/https\x20开头的\x20url\x20地址'};}return f['a']['find'](s=>l['hostname']['endsWith'](s))?{'link':j,'error':null}:{'link':Object(g['p'])('proxy/image',{'src':encodeURIComponent(j),'spaceId':m,'userId':p}),'error':null};};},'1yJr':function(b,d,f){'use strict';f['d'](d,'b',function(){return j;}),f['d'](d,'c',function(){return k;}),f['d'](d,'d',function(){return l;}),f['d'](d,'a',function(){return m;});var g=f('5D19'),h=(p,q,u)=>new Promise((v,w)=>{var x=A=>{try{z(u['next'](A));}catch(B){w(B);}},y=A=>{try{z(u['throw'](A));}catch(B){w(B);}},z=A=>A['done']?v(A['value']):Promise['resolve'](A['value'])['then'](x,y);z((u=u['apply'](p,q))['next']());}),j=function(){var p=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'guide';return h(void 0x0,null,function*(){return yield Object(g['i'])(Object(g['p'])('quest/group/'['concat'](p)),g['h']);});},k=function(){var p=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'guide',q=arguments['length']>0x1?arguments[0x1]:void 0x0;return h(void 0x0,null,function*(){return yield Object(g['n'])(Object(g['p'])('quest/group/'['concat'](p,'/')['concat'](q)),{},g['h']);});},l=p=>h(void 0x0,null,function*(){return yield Object(g['n'])(Object(g['p'])('quest/control/updateQuestControl'),p,g['h']);}),m=()=>h(void 0x0,null,function*(){return yield Object(g['n'])(Object(g['p'])('quest/control/getQuestControl'),{},g['h']);});},'23mu':function(b,d,f){'use strict';var g=f('odX6'),h=f('Mucf'),j=Object['defineProperty'],k=Object['getOwnPropertyDescriptor'],l=(p,q,u)=>{var {id:v,table:w,path:x,args:y}=p,z={'id':v,'table':w,'path':x,'command':q,'args':y};try{var A=u['getBlockValue'](v);if(A['page_id']){var B=u['getBlockValue'](A['page_id']);if('database'===B['type']&&B['database_id'])z['database_id']=B['database_id'];else{if(B['parent_id']){var C=u['getBlockValue'](B['parent_id']);'database'===C['type']&&C['database_id']&&(z['database_id']=C['database_id'],z['page_id']=B['id']);}}}}catch(D){}return z;};class m{constructor(p){this['operations']=p;}['getBlockUndoData'](p,q){var u,v=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:[];u=q?this['dataStore']['getBlockProperty'](p,q,!0x0)||this['dataStore']['getBlockProperty'](p,q)||{}:this['dataStore']['getBlockValue'](p,!0x0)||this['dataStore']['getBlockValue'](p);var w={};return v['forEach'](x=>{w[x]=q['length']||'object'!=typeof u[x]?u[x]:JSON['stringify'](u[x]);}),this['fixStyleProps'](w),w;}['fixStyleProps'](p){for(var q in p)['color','background']['includes'](q)&&!p[q]&&(p[q]='color'===q?'inherit':'Default\x20background');}['set'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['SET'],this['dataStore']);return w&&(x['extend']=w),this['operations']['push'](x),this;}['update'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['UPDATE'],this['dataStore']);return w&&(x['extend']=w),this['operations']['push'](x),this;}['delete'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['DELETE'],this['dataStore']);return w&&(x['extend']=w),this['operations']['push'](x),this;}['updateComment'](p,q,u,v){return this['operations']['push'](l({'id':p,'table':q,'path':u,'args':v},h['e']['UPDATE_COMMENT'],this['dataStore'])),this;}['updatePermission'](p,q,u,v){return this['operations']['push'](l({'id':p,'table':q,'path':u,'args':v},h['e']['UPDATE_PERMISSION'],this['dataStore'])),this;}['updateTable'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['UPDATE_TABLE'],this['dataStore']);return x['change']=w,this['operations']['push'](x),this;}['listAfter'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['LIST_AFTER'],this['dataStore']);return w&&(x['extend']=w),this['operations']['push'](x),this;}['listBefore'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['LIST_BEFORE'],this['dataStore']);return w&&(x['extend']=w),this['operations']['push'](x),this;}['listRemove'](p,q,u,v,w){var x=l({'id':p,'table':q,'path':u,'args':v},h['e']['LIST_REMOVE'],this['dataStore']);return w&&(x['extend']=w),this['operations']['push'](x),this;}['copy'](p,q,u,v){return this['operations']['push'](l({'id':p,'table':q,'path':u,'args':v},h['e']['COPY'],this['dataStore'])),this;}}((p,q,u,v)=>{for(var w,x=v>0x1?void 0x0:v?k(q,u):q,y=p['length']-0x1;y>=0x0;y--)(w=p[y])&&(x=(v?w(q,u,x):w(x))||x);v&&x&&j(q,u,x);})([g['b']],m['prototype'],'dataStore',0x2),d['a']=m;},'2WhD':function(a,b,c){a['exports']={'btn':'_3CmTX','btnPrimary':'_1-Vvn','checkboxItem':'_1m2_0','paper':'T4ADl','defaultPaper':'_1hS3e','mobilePaper':'_3FuYO','mobileContent':'_2J7Ya','title':'_24e_b','contentMobile':'_3AErX','mobileButtonContainer':'_1uIPB','mobileCancelButton':'quKOb','mobileSuccessButton':'_33oM4','borderLeft':'_39OnO','buttonContainer':'RBto3','footnote':'_2JUC6','eduBanner':'_2qBHq','permissionDetail':'_3XgNn','bindBtn':'_1IBnQ','closeBtn':'_3My-R','checkBtn':'_2B7qu'};},'2xkG':function(b,c,d){'use strict';d['d'](c,'b',function(){return f;});var f=[{'name':'纯文本','key':'text','sortKey':'text','keyWord':['text']},{'name':'仪表数字','key':'ybsz','sortKey':'ybsz','keyWord':['ybsz','dashboard','仪表数字']}],g=[{'name':'LaTeX','key':'latex','sortKey':'latex','keyWord':['latex','tex','context']},{'name':'C','key':'c','sortKey':'c','keyWord':['c']},{'name':'R','key':'r','sortKey':'r','keyWord':['r']},{'name':'C#','key':'csharp','sortKey':'csharp','keyWord':['csharp','dotnet','cs','c#']},{'name':'Go','key':'go','sortKey':'go','keyWord':['go']},{'name':'CSS','key':'css','sortKey':'css','keyWord':['css']},{'name':'XML','key':'xml','sortKey':'xml','keyWord':['xml']},{'name':'HTML','key':'html','sortKey':'html','keyWord':['html']},{'name':'SVG','key':'svg','sortKey':'svg','keyWord':['svg']},{'name':'Markup','key':'markup','sortKey':'markup','keyWord':['mathml','ssml','atom','rss']},{'name':'C++','key':'cpp','sortKey':'cpp','keyWord':['cpp','c++']},{'name':'Elm','key':'elm','sortKey':'elm','keyWord':['elm']},{'name':'Git','key':'git','sortKey':'git','keyWord':['git']},{'name':'PHP','key':'php','sortKey':'php','keyWord':['php']},{'name':'Bash','key':'bash','sortKey':'bash','keyWord':['bash','shell']},{'name':'Dart','key':'dart','sortKey':'dart','keyWord':['dart']},{'name':'Flow','key':'flow','sortKey':'flow','keyWord':['flow']},{'name':'Java','key':'java','sortKey':'java','keyWord':['java']},{'name':'JSON','key':'json','sortKey':'json','keyWord':['json','webmanifest']},{'name':'Ruby','key':'rb','sortKey':'rb','keyWord':['rb','ruby']},{'name':'Rust','key':'rust','sortKey':'rust','keyWord':['rust']},{'name':'YAML','key':'yaml','sortKey':'yaml','keyWord':['yaml','yml']},{'name':'nginx','key':'nginx','sortKey':'nginx','keyWord':['nginx']},{'name':'C-like','key':'clike','sortKey':'clike','keyWord':['clike','c-like']},{'name':'Docker','key':'dockerfile','sortKey':'dockerfile','keyWord':['dockerfile','docker']},{'name':'MATLAB','key':'matlab','sortKey':'matlab','keyWord':['matlab']},{'name':'Python','key':'python','sortKey':'python','keyWord':['python','py']},{'name':'Stylus','key':'stylus','sortKey':'stylus','keyWord':['stylus']},{'name':'GraphQL','key':'graphql','sortKey':'graphql','keyWord':['graphql']},{'name':'Markdown','key':'markdown','sortKey':'markdown','keyWord':['markdown','md']},{'name':'React','key':'js','sortKey':'react','keyWord':['react','js','javascript']},{'name':'React\x20JSX','key':'jsx','sortKey':'react\x20jsx','keyWord':['jsx','react','js']},{'name':'React\x20TSX','key':'tsx','sortKey':'react\x20tsx','keyWord':['tsx','react','js']},{'name':'JavaScript','key':'js','sortKey':'javascript','keyWord':['js','javascript']},{'name':'TypeScript','key':'typescript','sortKey':'typescript','keyWord':['typescript','ts']},{'name':'Sass\x20(Sass)\x20','key':'sass','sortKey':'sass','keyWord':['sass']},{'name':'Sass\x20(scss)\x20','key':'scss','sortKey':'scss','keyWord':['scss']},{'name':'Objective-C','key':'objectivec','sortKey':'objectivec','keyWord':['objectivec','objc','Objective-C']},{'name':'Swift','key':'swift','sortKey':'swift','keyWord':['swift']},{'name':'Vala','key':'vala','sortKey':'vala','keyWord':['vala']},{'name':'VB.Net','key':'vbnet','sortKey':'vbnet','keyWord':['vbnet']},{'name':'Scala','key':'scala','sortKey':'scala','keyWord':['scala']},{'name':'Visual\x20Basic','key':'visual-basic','sortKey':'visual-basic','keyWord':['vb']},{'name':'Perl','key':'perl','sortKey':'perl','keyWord':['perl']},{'name':'ABAP','key':'abap','sortKey':'abap','keyWord':['abap']},{'name':'Lua','key':'lua','sortKey':'lua','keyWord':['lua']},{'name':'Ada','key':'ada','sortKey':'ada','keyWord':['ada']},{'name':'Groovy','key':'groovy','sortKey':'groovy','keyWord':['groovy']},{'name':'Julia','key':'julia','sortKey':'julia','keyWord':['julia']},{'name':'Haskell','key':'haskell','sortKey':'haskell','keyWord':['haskell','hs']},{'name':'CoffeeScript','key':'coffeescript','sortKey':'coffeescript','keyWord':['coffeescript']},{'name':'Elixir','key':'elixir','sortKey':'elixir','keyWord':['elixir','elixir']},{'name':'PowerShell','key':'powershell','sortKey':'powershell','keyWord':['powershell']},{'name':'Clojure','key':'clojure','sortKey':'clojure','keyWord':['clojure']},{'name':'Lisp','key':'lisp','sortKey':'lisp','keyWord':['lisp','emacs','elisp','emacs-lisp']},{'name':'Vim\x20script','key':'vim','sortKey':'vim','keyWord':['vim','vim\x20script']},{'name':'OCaml','key':'ocaml','sortKey':'ocaml','keyWord':['ocaml']},{'name':'Erlang','key':'erlang','sortKey':'erlang','keyWord':['erlang']},{'name':'Puppet','key':'puppet','sortKey':'puppet','keyWord':['puppet']},{'name':'Fortran','key':'fortran','sortKey':'fortran','keyWord':['fortran']},{'name':'F#','key':'fsharp','sortKey':'fsharp','keyWord':['fsharp','f#']},{'name':'Nix','key':'nix','sortKey':'nix','keyWord':['nix']},{'name':'WebAssembly','key':'wasm','sortKey':'wasm','keyWord':['wasm']},{'name':'FreeMarker','key':'ftl','sortKey':'ftl','keyWord':['ftl']},{'name':'6502\x20Assembly','key':'asm6502','sortKey':'asm6502','keyWord':['asm6502','6502','assembly']},{'name':'QML','key':'qml','sortKey':'qml','keyWord':['qml']},{'name':'SQL','key':'sql','sortKey':'sql','keyWord':['sql']},{'name':'BASIC','key':'basic','sortKey':'basic','keyWord':['basic']},{'name':'Makefile','key':'makefile','sortKey':'makefile','keyWord':['makefile']},{'name':'Pascal','key':'pascal','sortKey':'pascal','keyWord':['pascal','objectpascal']},{'name':'Scheme','key':'scheme','sortKey':'scheme','keyWord':['scheme']},{'name':'Regex','key':'regex','sortKey':'regex','keyWord':['regex']},{'name':'Kotlin','key':'kotlin','sortKey':'kotlin','keyWord':['kotlin','kts']},{'name':'Ini','key':'ini','sortKey':'ini','keyWord':['ini']},{'name':'Http','key':'http','sortKey':'http','keyWord':['http','https']},{'name':'Verilog','key':'verilog','sortKey':'verilog','keyWord':['verilog']},{'name':'.properties','key':'properties','sortKey':'properties','keyWord':['properties']},{'name':'GLSL','key':'glsl','sortKey':'glsl','keyWord':['glsl']},{'name':'DAX','key':'dax','sortKey':'dax','keyWord':['dax']},{'name':'Tcl','key':'tcl','sortKey':'tcl','keyWord':['tcl']},{'name':'.ignore','key':'ignore','sortKey':'ignore','keyWord':['ignore']},{'name':'Protocol\x20Buffers','key':'protobuf','sortKey':'protobuf','keyWord':['protobuf']},{'name':'NASM','key':'nasm','sortKey':'nasm','keyWord':['nasm']},{'name':'HLSL','key':'hlsl','sortKey':'hlsl','keyWord':['hlsl']},{'name':'VHDL','key':'vhdl','sortKey':'vhdl','keyWord':['vhdl']},{'name':'Nim','key':'nim','sortKey':'nim','keyWord':['nim']},{'name':'Mermaid','key':'mermaid','sortKey':'mermaid','keyWord':['mermaid']},{'name':'Vue','key':'js','sortKey':'vue','keyWord':['vue','js','javascript']},{'name':'Vue\x20JSX','key':'jsx','sortKey':'vue\x20jsx','keyWord':['jsx','vue','js']},{'name':'Arduino','key':'arduino','sortKey':'arduino','keyWord':['arduino']},{'name':'Processing','key':'processing','sortKey':'processing','keyWord':['processing']},{'name':'Batch','key':'batch','sortKey':'batch','keyWord':['batch']},{'name':'Excel\x20Formula','key':'excel-formula','sortKey':'excel-formula','keyWord':['excel-formula']},{'name':'Diff','key':'diff','sortKey':'diff','keyWord':['diff']}]['sort']((j,k)=>j['sortKey']['localeCompare'](k['sortKey'])),h=[...f,...g];c['a']=h;},'30Mb':function(b,f,g){'use strict';var h=g('23mu'),j=g('wxQR'),k=g('z7Vv'),m=Object['defineProperty'],p=Object['getOwnPropertySymbols'],q=Object['prototype']['hasOwnProperty'],v=Object['prototype']['propertyIsEnumerable'],w=(y,z,A)=>z in y?m(y,z,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':A}):y[z]=A;class x extends h['a']{['createWorkspace'](y){var {userId:z,id:A}=y;return this['set'](z,j['s'],[],{'workspace_id':A})['listAfter'](z,j['r'],['user_workspace_view'],{'id':A});}['addFavoritePage'](y,z){var A={'id':z};return this['listBefore'](y,j['s'],['favorite_pages'],A);}['removeFavoritePage'](y,z){var A={'id':z};return this['listRemove'](y,j['s'],['favorite_pages'],A);}['addFavoritePageTemplate'](y,z){var A={'id':z};return this['listBefore'](y,j['s'],['favorite_page_templates'],A);}['removeFavoritePageTemplate'](y,z){var A={'id':z};return this['listRemove'](y,j['s'],['favorite_page_templates'],A);}['updateWorkspacePreference'](y,z){return this['update'](y,j['s'],[],((A,B)=>{for(var C in B||(B={}))q['call'](B,C)&&w(A,C,B[C]);if(p){for(var C of p(B))v['call'](B,C)&&w(A,C,B[C]);}return A;})({},Object(k['f'])(z)));}['updateUserWorkspace'](y){var {userId:z,spaces:A}=y;return this['update'](z,j['r'],[],{'user_workspace_view':JSON['stringify'](A)});}}f['a']=x;},'31fx':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('aD9L'),g='https://api.wolai.com'['includes']('test');class h{static['userTemplates'](j){return Object(f['h'])()?[g?'2c9u3ux8mW23HtVNmyj7JB':'nAoYioCTszv4UcwZSahPfr',...this['userSpaceTemplates']]:[g?'3kCt24YZk69hW8gMoUxS8B':'mv4JdT1Dhu9rUwZmSZVQZi',...this['userSpaceTemplates']];}static['teamTemplates'](j){return Object(f['h'])()?[g?'za3Mcd93BGyFc3GJHv8RB':'dq3SLzCFkBp7HrPog2PBu9',...this['teamSpaceTemplates']]:[g?'9dTqXbVDaG96TPC2TqNgrg':'5nPTmCjdoii6BuSfqhoxpt',...this['teamSpaceTemplates']];}static['enterpriseTemplates'](j){return Object(f['h'])()?[g?'za3Mcd93BGyFc3GJHv8RB':'dq3SLzCFkBp7HrPog2PBu9',...this['enterpriseSpaceTemplates']]:[g?'9dTqXbVDaG96TPC2TqNgrg':'5nPTmCjdoii6BuSfqhoxpt',...this['enterpriseSpaceTemplates']];}static['getSpaceTemplates'](j){switch(j['plan']){case'free':case'personal_pro':return this['userTemplates'](j['career']);case'team_pro':case'team_free':case'team_standard':case'personal_family':return this['teamTemplates'](j['career']);case'team_enterprise':case'team_enterprise_tryout':return this['enterpriseTemplates'](j['career']);default:return this['userTemplates'](j['career']);}}static['getTemplates'](){var j=this['teamSpaceTemplates']['concat'](this['userSpaceTemplates']);return j=(j=j['concat'](this['enterpriseSpaceTemplates']))['concat'](['mv4JdT1Dhu9rUwZmSZVQZi','nAoYioCTszv4UcwZSahPfr','5nPTmCjdoii6BuSfqhoxpt','dq3SLzCFkBp7HrPog2PBu9']),Array['from'](new Set(j));}}h['teamSpaceTemplates']=g?['5SDmoiCgR2TXqWM2Nd8HCa','o9cAwgnFDap9VH3kjJjW4A','5DUaFRrgwNvWbvT4W5MNfC','3RAdXDCBS4JTyJPJ4WYMDF','uywLMD3LzEBQuFFCTqZi96','qfncRGjbFqUXn2bgb9iSno','bY4Wcjx6mwaLmSHNWo7n5i']:['pgWnpHNUWqhnFuNTqfPgv','5WqSvbSQSWxYh8UnD2dJwq','9Zd4ZbAPZk5t3PxPEqkDTm','kmP4KUayRzBZotGQV4a2Nh','sabhwpiLvnCp5fHcpt83dF','gFGjwNsawDEwo2UbB6cyCS','2hWSdZJ5qDZYsgXSx6DGrD'],h['userSpaceTemplates']=g?['5SDmoiCgR2TXqWM2Nd8HCa','o9cAwgnFDap9VH3kjJjW4A','5DUaFRrgwNvWbvT4W5MNfC','3RAdXDCBS4JTyJPJ4WYMDF','uywLMD3LzEBQuFFCTqZi96','qfncRGjbFqUXn2bgb9iSno','bY4Wcjx6mwaLmSHNWo7n5i']:['pgWnpHNUWqhnFuNTqfPgv','5WqSvbSQSWxYh8UnD2dJwq','9Zd4ZbAPZk5t3PxPEqkDTm','kmP4KUayRzBZotGQV4a2Nh','sabhwpiLvnCp5fHcpt83dF','gFGjwNsawDEwo2UbB6cyCS','2hWSdZJ5qDZYsgXSx6DGrD'],h['enterpriseSpaceTemplates']=g?['5SDmoiCgR2TXqWM2Nd8HCa','o9cAwgnFDap9VH3kjJjW4A','5DUaFRrgwNvWbvT4W5MNfC','3RAdXDCBS4JTyJPJ4WYMDF','uywLMD3LzEBQuFFCTqZi96','qfncRGjbFqUXn2bgb9iSno','bY4Wcjx6mwaLmSHNWo7n5i']:['pgWnpHNUWqhnFuNTqfPgv','5WqSvbSQSWxYh8UnD2dJwq','9Zd4ZbAPZk5t3PxPEqkDTm','kmP4KUayRzBZotGQV4a2Nh','sabhwpiLvnCp5fHcpt83dF','gFGjwNsawDEwo2UbB6cyCS','2hWSdZJ5qDZYsgXSx6DGrD'];},'38Rj':function(a0,a1,a2){'use strict';a2['r'](a1),a2['d'](a1,'WOLAI_CURRENT_WORKSPACE',function(){return a4;}),a2['d'](a1,'WOLAI_CURRENT_PAGE',function(){return a5;}),a2['d'](a1,'WOLAI_SIDEBAR_WIDTH',function(){return a6;}),a2['d'](a1,'WOLAI_EDITOR_LAST_USED_TEXT_STYLE',function(){return a7;}),a2['d'](a1,'WOLAI_EDITOR_BLOCK_BACKGROUND',function(){return a8;}),a2['d'](a1,'WOLAI_EDITOR_INPUT_PLACEHOLDER',function(){return a9;}),a2['d'](a1,'WOLAI_FIRST_REGISTER',function(){return aa;}),a2['d'](a1,'WOLAI_LAST_CODE_LANGUAGE',function(){return ab;}),a2['d'](a1,'WOLAI_LAST_CODE_LINEBREAK',function(){return ac;}),a2['d'](a1,'WOLAI_LAST_CODE_LIGATURES',function(){return ad;}),a2['d'](a1,'WOLAI_LAST_CODE_LINE_NUMBER',function(){return af;}),a2['d'](a1,'WOLAI_LAST_CODE_PREVIEW_FORMAT',function(){return ag;}),a2['d'](a1,'WOLAI_TOGGLE_LIST',function(){return ah;}),a2['d'](a1,'WOLAI_FONT_COLOR',function(){return ai;}),a2['d'](a1,'WOLAI_ICON_TAB',function(){return aj;}),a2['d'](a1,'WOLAI_LAST_USED_ICON',function(){return ak;}),a2['d'](a1,'WOLAI_LAST_VIEWED_PAGE',function(){return al;}),a2['d'](a1,'WOLAI_FIRST_NETWORK',function(){return am;}),a2['d'](a1,'WOLAI_SIDEBAR_VISIBLE',function(){return an;}),a2['d'](a1,'WOLAI_SHARE_SIDEBAR_VISIBLE',function(){return ao;}),a2['d'](a1,'WOLAI_SECOND_CONTAINER_FLEX',function(){return ap;}),a2['d'](a1,'WOLAI_THEME',function(){return aq;}),a2['d'](a1,'WOLAI_THEME_AUTO',function(){return ar;}),a2['d'](a1,'WOLAI_USER_DATA',function(){return as;}),a2['d'](a1,'WOLAI_USER_INFO',function(){return at;}),a2['d'](a1,'WOLAI_DAG_MODE',function(){return au;}),a2['d'](a1,'WOLAI_LAST_CALLOUT_ICON',function(){return av;}),a2['d'](a1,'WOLAI_LAST_CALLOUT_COLOR_SETTING',function(){return aw;}),a2['d'](a1,'WOLAI_SIDEBAR_FAVORITE_VISIBLE',function(){return ax;}),a2['d'](a1,'WOLAI_SIDEBAR_WORKSPACE_VISIBLE',function(){return ay;}),a2['d'](a1,'WOLAI_SIDEBAR_SHARED_VISIBLE',function(){return az;}),a2['d'](a1,'WOLAI_SIDEBAR_PRIVATE_VISIBLE',function(){return aA;}),a2['d'](a1,'WOLAI_SIMPLE_TABLE_HEADER',function(){return aB;}),a2['d'](a1,'WOLAI_DYNAMIC_ICON_COLOR',function(){return aC;}),a2['d'](a1,'WOLAI_HEADER_LEVEL_PROMPT',function(){return aD;}),a2['d'](a1,'WOLAI_LIST_LEVEL_ALIGNMENT',function(){return aE;}),a2['d'](a1,'WOLAI_BLANK_LINE_PROMPT',function(){return aF;}),a2['d'](a1,'WOLAI_SIMPLE_TABLE_TOOLTIP',function(){return aG;}),a2['d'](a1,'WOLAI_CODE_TOOLTIP',function(){return aH;}),a2['d'](a1,'WOLAI_LATEX_TOOLTIP',function(){return aI;}),a2['d'](a1,'WOLAI_SPELL_CHECK',function(){return aJ;}),a2['d'](a1,'WOLAI_POLICY',function(){return aK;}),a2['d'](a1,'WOLAI_DIAGRAM_TOOLTIP',function(){return aL;}),a2['d'](a1,'WOLAI_USER_ID',function(){return aM;}),a2['d'](a1,'WOLAI_COPY_WITH_TITLE',function(){return aN;}),a2['d'](a1,'WOLAI_PROGRESS_BAR_COLOR_SETTING',function(){return aO;}),a2['d'](a1,'WOLAI_SCREEN_LOCKED',function(){return aP;}),a2['d'](a1,'WOLAI_LEAD_ENABLED',function(){return aQ;}),a2['d'](a1,'WOLAI_IMAGE_BORDER',function(){return aR;}),a2['d'](a1,'WOLAI_FLY_MODE',function(){return aS;}),a2['d'](a1,'WOLAI_DEBUG_MODE',function(){return aT;}),a2['d'](a1,'WOLAI_LAST_EDU_EMAIL_VERIFIED_TIME',function(){return aU;}),a2['d'](a1,'IS_FLY_MODE',function(){return aV;}),a2['d'](a1,'WOLAI_UPGRADE_DISMISSED_AT',function(){return aW;}),a2['d'](a1,'WOLAI_FIRST_OPEN_BLOCK_HISTORY',function(){return aX;}),a2['d'](a1,'WOLAI_PRO_PLAN_REMINDER_DISMISSED_AT',function(){return aY;}),a2['d'](a1,'WOLAI_PRO_PLAN_ONE_DAY_REMINDER',function(){return aZ;}),a2['d'](a1,'WOLAI_HIDE_EDU_ADVERTISE',function(){return b0;}),a2['d'](a1,'WOLAI_TEMPLATE_BUTTON_COLOR_SETTING',function(){return b1;}),a2['d'](a1,'WOLAI_LAST_DATE',function(){return b2;}),a2['d'](a1,'WOLAI_DINGTALK_TRYOUT_BANNER_DISMISSED_AT',function(){return b3;}),a2['d'](a1,'WOLAI_COLUMN_TOGGLE',function(){return b4;});var a3=a2('uMVv'),a4='wolai_current_workspace',a5='wolai_current_page',a6='wolai_sidebar_width',a7='wolai_editor_last_used_text_style',a8='wolai_editor_block_background',a9='wolai_editor_input_placeholder',aa='wolai_first_register',ab='wolai_last_code_language',ac='wolai_last_code_lineBreak',ad='wolai_last_code_ligatures',af='wolai_last_code_line_number',ag='wolai_last_code_preview_format',ah='wolai_toggle_list',ai='wolai_font_color',aj='wolai_icon_tab',ak='wolai_last_used_icon',al='wolai_last_viewed_page',am='wolai_first_network',an='wolai_sidebar_visible',ao='wolai_share_sidebar_visible',ap='wolai_second_container_flex',aq='wolai_theme',ar='wolai_theme_auto',as='wolai_user_data',at='wolai_user_info',au='wolai_dag_mode',av='wolai_last_callout_icon',aw='wolai_last_callout_color_setting',ax='wolai_sidebar_favorite_visible',ay='wolai_sidebar_workspace_visible',az='wolai_sidebar_shared_visible',aA='wolai_sidebar_private_visible',aB='wolai_simple_table_header',aC='wolai_dynamic_icon_color',aD='wolai_header_level_prompt',aE='wolai_list_level_alignment',aF='wolai_blank_line_prompt',aG='wolai_simple_table_tooltip',aH='wolai_code_tooltip',aI='wolai_latex_tooltip',aJ='wolai_spell_check',aK='wolai_policy',aL='wolai_diagram_tooltip',aM='wolai_user_id',aN='wolai_copy_with_title',aO='wolai_progress_bar_color_setting',aP='wolai_screen_locked',aQ='wolai_lead_enabled',aR='wolai_image_border',aS='wolai_fly_mode',aT='active-eruda',aU='wolai_last_edu_email_verified_time',aV=window['interop']?window['interop']['getAirplaneModeStatus']&&window['interop']['getAirplaneModeStatus']():a3['a'](aS,!0x0),aW='wolai_upgrade_dismissed_at',aX='wolai_first_open_block_history',aY='wolai_pro_plan_dismissed_at',aZ='wolai_pro_plan_one_day_reminder',b0='wolai_hide_edu_advertise',b1='wolai_template_button_color_setting',b2='wolai_last_date',b3='wolai_dingtalk_tryout_banner_dismissed_at',b4='wolai_column_toggle';},'3G1M':function(b,f,g){'use strict';var h=g('2vnA'),j=g('odX6'),k=g('aD9L'),m=g('bXzw'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],u=(w,x,y,z)=>{for(var A,B=z>0x1?void 0x0:z?q(x,y):x,C=w['length']-0x1;C>=0x0;C--)(A=w[C])&&(B=(z?A(x,y,B):A(B))||B);return z&&B&&p(x,y,B),B;};Object(h['configure'])({'enforceActions':'never'});class v{constructor(){this['_showMobileActionBar']=null;}get['showMobileActionBar'](){return null!==this['_showMobileActionBar']?this['_showMobileActionBar']:!0x1===this['screenStore']['mainScreen']['readOnly']&&Object(k['h'])()&&!this['workspaceStore']['inApp'];}['setMobileActionBarStatus'](w){this['_showMobileActionBar']=w;}['resetMobileActionBarStatus'](){this['_showMobileActionBar']=null;}}u([j['b']],v['prototype'],'workspaceStore',0x2),u([j['b']],v['prototype'],'screenStore',0x2),u([h['observable']],v['prototype'],'_showMobileActionBar',0x2),u([h['action']],v['prototype'],'setMobileActionBarStatus',0x1),u([h['action']],v['prototype'],'resetMobileActionBarStatus',0x1),f['a']=Object(m['a'])(v);},'3rJR':function(j,k,q){'use strict';q['d'](k,'a',function(){return Q;});var w=q('mRsi'),x=q['n'](w),z=q('tLB3'),A=q['n'](z),B=q('dt0z'),C=q['n'](B),D=q('4qC0'),E=q['n'](D),F=q('PtqM'),G=q['n'](F),H=q('UB5X'),J=q['n'](H),K=q('hEhG'),L=q['n'](K),M=q('M9XF'),N=q('OIS1'),O=q('mkDC'),P=q('C8q+');class Q extends M['a']{['concat'](){for(var R=arguments['length'],T=new Array(R),U=0x0;U<R;U++)T[U]=arguments[U];var V=x()(T),W=V['find'](X=>X instanceof Error);return W||V['join']('');}['replace'](R,T,U,V){if(G()(R)||G()(T)||G()(U)||G()(V))return P['b']['VALUE'];if(!(E()(R)&&J()(T)&&E()(V)&&J()(U)))return P['b']['VALUE'];var W=A()(T),X=A()(U),Y=R['substr'](0x0,W-0x1),Z=R['substr'](W-0x1+X);return''['concat'](Y)['concat'](V)['concat'](Z);}['repeat'](R,T){return G()(R)||G()(T)?P['b']['VALUE']:E()(R)&&J()(T)?L()(R,T):P['b']['VALUE'];}['replaceRegex'](R,T,U){if(G()(R)||G()(T)||G()(U))return P['b']['VALUE'];if(!E()(R)||!E()(T)||!E()(U))return P['b']['VALUE'];try{return R['replace'](new RegExp(T),U);}catch(V){return P['b']['VALUE'];}}['mid'](R,T,U){if(G()(R)||G()(T)||G()(U))return P['b']['VALUE'];if(null==T)return P['b']['VALUE'];var V=A()(T),W=A()(U);return V<0x1||W<0x0?P['b']['VALUE']:Number['isNaN'](W)?R['substr'](V-0x1):R['substr'](V-0x1,W);}['left'](R,T){if(G()(R)||G()(T))return P['b']['VALUE'];if(!E()(R))return P['b']['VALUE'];var U=A()(T);return U<=0x0?'':Number['isNaN'](U)?R['substr'](0x0):R['substr'](0x0,U);}['right'](R,T){if(G()(R)||G()(T))return P['b']['VALUE'];if(!E()(R))return P['b']['VALUE'];var U=A()(T);return U<=0x0?'':Number['isNaN'](U)?R['substr'](0x0):R['substr'](-U);}['contains'](R,T){return G()(R)||G()(T)?P['b']['VALUE']:E()(R)&&E()(T)?R['includes'](T):P['b']['VALUE'];}['startsWith'](R,T){return G()(R)||G()(T)?P['b']['VALUE']:E()(R)&&E()(T)?R['startsWith'](T):P['b']['VALUE'];}['endsWith'](R,T){return G()(R)||G()(T)?P['b']['VALUE']:E()(R)&&E()(T)?R['endsWith'](T):P['b']['VALUE'];}['match'](R,T){if(G()(R)||G()(T))return P['b']['VALUE'];if(!E()(R)||!E()(T))return P['b']['VALUE'];try{return R['match'](new RegExp(T));}catch(U){return P['b']['VALUE'];}}['find'](R,T,U){if(G()(R)||G()(T)||G()(U))return P['b']['VALUE'];if(!E()(R)||!E()(T)||U&&!J()(U))return P['b']['VALUE'];U=void 0x0===U?0x0:U;var V=T['indexOf'](R,U-0x1);return-0x1===V?0x0:V+0x1;}['search'](R,T,U){if(G()(R)||G()(T)||G()(U))return P['b']['VALUE'];if(!E()(R)||!E()(T)||U&&!J()(U))return P['b']['VALUE'];U=void 0x0===U?0x0:U;var V=T['toLowerCase']()['indexOf'](R['toLowerCase'](),U-0x1)+0x1;return 0x0===V?P['b']['VALUE']:V;}['isString'](R){return G()(R)?R:E()(R);}['replaceall'](R,T,U){return G()(R)||G()(T)||G()(U)?P['b']['VALUE']:E()(R)&&E()(R)&&E()(U)?R['split'](T)['join'](U):P['b']['VALUE'];}['len'](R){return G()(R)||G()(R)?R:C()(R)['length'];}['lower'](R){return G()(R)||G()(R)?R:C()(R)['toLowerCase']();}['upper'](R){return G()(R)||G()(R)?R:C()(R)['toUpperCase']();}['trim'](R){return G()(R)||G()(R)?R:C()(R)['trim']();}['toString'](R){return G()(R)||G()(R)?R:C()(R);}['id'](){return Object(N['b'])();}}Q['implementedFunctions']={'CONCAT':{'method':'concat','valueType':O['a']['String'],'definition':'连接多个字符串','use':'CONCAT(value1,\x20[value2,\x20…])','useParams':'value...：参与连接的数值','example':()=>'CONCAT(\x22牛奶\x22,\x22咖啡\x22)\x20=\x20牛奶咖啡','parameters':[{'argumentType':[O['a']['String']]}],'expandRanges':!0x0},'MID':{'method':'mid','valueType':O['a']['String'],'definition':'返回文本字符串中指定长度的字符','use':'MID(text,start,[numOfChars])','useParams':'text:要提取字符的文本字符串\x0astart:要提取的第一个字符的位置,text字符串第一个字符位置为1\x0anumOfChars:可选，提取的字符数量；不填写，则提取从start位置到结尾的字符串','example':()=>'MID(\x22成功企业用wolai\x22,\x203)\x0a=>\x20企业用wolai\x0aMID(\x22成功企业用wolai\x22,\x203,2)=>\x20企业','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']]},{'argumentType':[O['a']['Number']],'optionalArg':!0x0}]},'LEFT':{'method':'left','valueType':O['a']['String'],'definition':'返回字符串从第一个字符开始提取指定长度的字符','use':'LEFT(text,[numOfChars])','useParams':'text:要提取字符的文本字符串\x0anumOfChars:可选，提取的字符数量；超过字符串长度或不填写，则提取整个字符串)','example':()=>'LEFT(\x22成功企业用wolai\x22,\x204)\x0a=>\x20成功企业\x0aLEFT(\x22成功企业用wolai\x22)=>\x20成功企业用wolai','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']],'optionalArg':!0x0}]},'RIGHT':{'method':'right','valueType':O['a']['String'],'definition':'返回字符串从最后一个向前提取指定长度的字符','use':'RIGHT(text,[numOfChars])','useParams':'text:要提取字符的文本字符串\x0anumOfChars:可选，提取的字符数量；超过字符串长度或不填写，则提取整个字符串)','example':()=>'RIGHT(\x22成功企业用wolai\x22,\x205)\x0a=>\x20wolai\x0aRIGHT(\x22成功企业用wolai\x22)=>\x20成功企业用wolai','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']],'optionalArg':!0x0}]},'CONTAINS':{'method':'contains','valueType':O['a']['Boolean'],'definition':'判断字符串中是否包含指定的内容','use':'CONTAINS(text,str)','useParams':'text：用于查找的字符串\x20str：指定的字符或字符串','example':()=>'CONTAINS(\x22www.wolai.com\x22,\x20\x22wolai\x22)\x20\x0a=>\x20true\x0aCONTAINS(\x22www.wolai.com\x22,\x20\x22google\x22)\x20=>\x20false','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]}]},'STARTSWITH':{'method':'startsWith','valueType':O['a']['Boolean'],'definition':'判断字符串前缀是否满足条件','use':'STARTSWITH(text,prefix)','useParams':'text:用于对比的文本\x20prefix：前缀','example':()=>'STARTSWITH(\x22www.wolai.com\x22,\x20\x22www\x22)\x20\x0a=>\x20true\x0aSTARTSWITH(\x22www.wolai.com\x22,\x20\x22wolai\x22)\x20=>\x20false','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]}]},'ENDSWITH':{'method':'endsWith','valueType':O['a']['Boolean'],'definition':'判断字符串后缀是否满足条件','use':'ENDSWITH(text,suffix)','useParams':'text:用于对比的文本\x20suffix：后缀','example':()=>'ENDSWITH(\x22www.wolai.com\x22,\x20\x22com\x22)\x20\x0a=>\x20true\x0aENDSWITH(\x22www.wolai.com\x22,\x20\x22wolai\x22)\x20=>\x20false','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]}]},'MATCH':{'method':'match','valueType':O['a']['Boolean'],'definition':'判断字符串是否匹配给定的正则表达式','use':'MATCH(text,regex)','useParams':'text:用于匹配的文本\x20regex:\x20正则表达式','example':()=>'MATCH(\x22www.wolai.com\x22,\x22wolai.*\x22)\x20\x0a=>\x20true','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]}]},'REPEAT':{'method':'repeat','valueType':O['a']['String'],'definition':'按指定次数重复字符串，并返回结果','use':'REPEAT(text,count)','useParams':'text：需要重复的字符串\x20count：重复次数\x0a总长度不超过1000','example':()=>'REPEAT(\x22wolai\x22,\x222\x22)\x20\x0a=>\x20wolaiwolai','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']]}]},'REPLACE':{'method':'replace','valueType':O['a']['String'],'definition':'将文本中指定区域的内容替换成新内容','use':'REPLACE(text,startPos,\x20length,\x20replacement)','useParams':'text：需要处理的字符串\x20startPos：被替换内容的开始位置\x20length：被替换内容的长度\x20replacement：替换内容','example':()=>'REPLACE(\x22www.google.com\x22,5,\x206,\x20\x27wolai\x27)\x20\x0a=>\x20www.wolai.com','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']]},{'argumentType':[O['a']['Number']]},{'argumentType':[O['a']['String']]}]},'REPLACEREGEX':{'method':'replaceRegex','valueType':O['a']['String'],'definition':'替换text中符合regex模式的字符串为replacement','use':'REPLACEREGEX(text,regex,\x20replacement)','useParams':'text：需要处理的字符串\x20regex:\x20正则表达式\x20replacement：替换的新内容','example':()=>'REPLACEREGEX(\x22www.wol-ai.com\x22,\x20\x27wol-ai.*\x27,\x20\x27wolai.com\x27)\x20\x0a=>\x20www.wolai.com','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]}]},'FIND':{'method':'find','valueType':O['a']['Number'],'definition':'在\x20whereToFind\x20字符串中从start_pos开始（如果有）搜索\x20target，并返回位置，未找到返回0','use':'find(target,\x20whereToFind,\x20[start_pos])','useParams':'target：搜索目标值\x20whereToFind：用于搜索的字符串\x20start_pos：开始搜索的位置','example':()=>'find(\x22wolai\x22,\x22www.wolai.com\x22)\x20=\x205\x0afind(\x22wolai\x22,\x22www.wolai.com\x20wolai\x22,6)\x20=\x2015\x0afind(\x22text\x22,\x22www.wolai.com\x22)\x20=\x200','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']],'optionalArg':!0x0}]},'SEARCH':{'method':'search','valueType':O['a']['Number'],'definition':'在\x20whereToFind\x20字符串中从start_pos开始（如果有）搜索\x20target，并返回位置，未找到返回空值empty','use':'search(target,\x20whereToFind,\x20[start_pos])','useParams':'target：搜索目标值\x20whereToFind：用于搜索的字符串\x20start_pos：开始搜索的位置','example':()=>'search(\x22wolai\x22,\x22www.wolai.com\x22)\x20=\x205\x0asearch(\x22wolai\x22,\x22www.wolai.com\x20wolai\x22,6)\x20=\x2015\x0asearch(\x22text\x22,\x22www.wolai.com\x20wolai\x22)\x20=\x20empty','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['Number']],'optionalArg':!0x0}]},'ISSTRING':{'method':'isString','valueType':O['a']['Boolean'],'definition':'判断value是否为字符串','use':'ISSTRING(value)','useParams':'value：需要判断的值','example':()=>'ISSTRING(\x2211\x22)\x20=>\x20true\x0aISSTRING(12)\x20=>\x20false','parameters':[{'argumentType':[O['a']['String'],O['a']['Boolean'],O['a']['Number'],O['a']['String']]}]},'REPLACEALL':{'method':'replaceall','valueType':O['a']['String'],'definition':'将文本中指定内容替换成新内容','use':'REPLACEALL(text,oldstr,newstr)','useParams':'text：用于替换内容的一段文本\x0aoldstr：需要被替换的原内容\x0anewstr：替换的新内容','example':()=>'REPLACEALL(\x221\x20&\x202\x20&\x203\x20=\x206\x22,\x20\x22&\x22,\x20\x22+\x22)\x0a=>\x20\x221\x20+\x202\x20+\x203\x20=\x206\x22','parameters':[{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]},{'argumentType':[O['a']['String']]}]},'LEN':{'method':'len','valueType':O['a']['Number'],'definition':'返回文本字符串的长度（字符个数）','use':'LEN(text)','useParams':'text：计算长度的一段文本，空格作为字符进行计数','example':()=>'LEN(\x22Hello\x20World\x22)\x20=\x2011','parameters':[{'argumentType':[O['a']['String']]}]},'LOWER':{'method':'lower','valueType':O['a']['String'],'definition':'将文本中所有大写字母转换为小写字母','use':'LOWER(text)','useParams':'text：需要转换的文本','example':()=>'LOWER(\x22Hello\x20World\x22)\x0a=>\x22hello\x20world\x22','parameters':[{'argumentType':[O['a']['String']]}]},'UPPER':{'method':'upper','valueType':O['a']['String'],'definition':'将文本中所有小写字母转换为大写字母','use':'UPPER(text)','useParams':'text：需要转换的文本','example':()=>'UPPER(\x22Hello\x20World\x22)\x0a=>\x22HELLO\x20WORLD\x22','parameters':[{'argumentType':[O['a']['String']]}]},'TRIM':{'method':'trim','valueType':O['a']['String'],'definition':'去除文本首尾的空格','use':'TRIM(text)','useParams':'text：需要去除首尾空格的文本','example':()=>'TRIM(\x22\x20Hello\x20World\x20\x22)\x20=>\x22Hello\x20World\x22','parameters':[{'argumentType':[O['a']['String']]}]},'TOSTRING':{'method':'toString','valueType':O['a']['String'],'definition':'将值转换为文本类型','use':'TOSTRING(value)','useParams':'value：进行文本类型转换的值','example':()=>'TOSTRING(12345)\x20\x20=\x20\x2212345\x22\x0aTOSTRING(123.45)\x20\x20=\x20\x22123.45\x22','parameters':[{'argumentType':[O['a']['String'],O['a']['Boolean'],O['a']['Date'],O['a']['Number']]}]},'ID':{'method':'id','valueType':O['a']['String'],'definition':'将值转换为文本类型','use':'id()','example':()=>'id()\x20=\x207cvQiAsYvjojJAiagbYZT9','parameters':[]}};},'3vgY':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=/\.edu$|\.edu.cn$|\.cas.cn$|\.ac.cn$|\.edu\.[a-zA-Z]+$/;},'4/VU':function(j,k,q){'use strict';q['d'](k,'g',function(){return z;}),q['d'](k,'b',function(){return A;}),q['d'](k,'l',function(){return B;}),q['d'](k,'m',function(){return C;}),q['d'](k,'a',function(){return D;}),q['d'](k,'o',function(){return E;}),q['d'](k,'d',function(){return F;}),q['d'](k,'c',function(){return G;}),q['d'](k,'n',function(){return H;}),q['d'](k,'f',function(){return I;}),q['d'](k,'h',function(){return J;}),q['d'](k,'i',function(){return K;}),q['d'](k,'k',function(){return L;}),q['d'](k,'e',function(){return M;}),q['d'](k,'j',function(){return N;});var w=window,x=(O,P)=>w[O]&&w[O]['postMessage'](P),z=()=>x('WolaiJsReady',''),A=O=>{var P='Light';'dark'===O&&(P='Dark'),'system'===O&&(P='System'),x('ThemeChange',P);},B=O=>x('SetAppCookies',O),C=O=>x('SetUnReadMessageCount',O),D=O=>x('JumpUrl',O),E=O=>x('JumpBrowser',O),F=()=>x('JumpUserControl',''),G=()=>x('JumpPrivatePolicy',''),H=()=>x('TimeOut',''),I=O=>x('Login',O),J=()=>x('WolaiRouterReady',''),K=O=>O&&x('OpenNewBrowserPage',O),L=O=>x('SaveBase64ImageToGallery',O),M=O=>x('KeyboardToolChangeNotification',JSON['stringify'](O)),N=O=>x('PreviewImageBlock',JSON['stringify'](O));},'4Ccx':function(b,f,g){'use strict';var j=g('2vnA'),k=g('odX6'),m=g('1yJr'),q=g('0LCY'),v=g('0W19'),w=g('bXzw'),x=Object['defineProperty'],y=Object['getOwnPropertyDescriptor'],z=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?y(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&x(D,E,H),H;},A=(C,D,E)=>new Promise((F,G)=>{var H=K=>{try{J(E['next'](K));}catch(L){G(L);}},I=K=>{try{J(E['throw'](K));}catch(L){G(L);}},J=K=>K['done']?F(K['value']):Promise['resolve'](K['value'])['then'](H,I);J((E=E['apply'](C,D))['next']());});class B{constructor(){this['init']=Object(q['a'])(()=>{Object(m['b'])()['then'](C=>{C&&(this['enabled']=Boolean(C['length']),this['map']=new Map(C['map'](D=>('pending'===D['status']&&this['pendingTracks']['set'](D['alias'],{'detail':D,'handler':()=>Object(m['c'])(D['group'],D['id'])}),[D['id'],D]))));}),Object(m['a'])()['then'](C=>{C&&(this['control']=C);});}),this['toggle']=C=>A(this,null,function*(){this['enabled']?v['a']['track']('enable_guide_quest'):v['a']['track']('disable_guide_quest'),yield Object(m['d'])({'enabled':!this['enabled']}),this['control']['enabled']=!this['enabled'],this['enabled']&&'panel'===C&&this['showTooltipOnce'](),this['enabled']=!this['enabled'],this['init']();}),this['showTooltipOnce']=()=>{this['control']['tooltip']||(this['editorUI']['showSideBar'](),this['tooltip']=!0x0,this['control']['tooltip']=!0x0);},this['neverTooltip']=()=>A(this,null,function*(){yield Object(m['d'])({'tooltip':!0x0});}),this['hideTooltip']=()=>{this['tooltip']=!0x1,this['control']['tooltip']=!0x0;},this['hideAnimation']=()=>{this['showAnimation']=!0x1;},this['enabled']=null,this['map']=new Map(),this['pendingTracks']=new Map(),this['control']={};}get['all'](){return[...this['map']['values']()];}get['pending'](){return this['all']['filter'](C=>'pending'===C['status']);}get['resolved'](){return this['all']['filter'](C=>'resolved'===C['status']);}get['progress'](){return this['all']['length']>0x0?Math['round'](this['resolved']['length']/this['all']['length']*0x2710)/0x64:0x0;}get['totalTaskCredit'](){return Array['from'](this['all'])['reduce']((C,D)=>C+D['reward_amount'],0x0);}get['acquiredTaskCredit'](){return Array['from'](this['resolved'])['reduce']((C,D)=>C+D['reward_amount'],0x0);}get['canOpen'](){var C=this['userStore']['userId'];if(C){var D=C['split']('')['reduce']((E,F)=>(E<<0x5)-E+F['charCodeAt'](0x0)|0x0,0x0);return Math['abs'](D%0x64)<0x32;}return!0x1;}['track'](C){return A(this,null,function*(){if(this['pendingTracks']['has'](C)){var D=this['pendingTracks']['get'](C),{handler:E}=this['pendingTracks']['get'](C);this['pendingTracks']['delete'](C),yield E(),v['a']['track']('guide_quest',{'name':C,'created_time':Date['now'](),'user_id':this['userStore']['userId']}),(null==D?void 0x0:D['detail']['reward_amount'])&&(this['showAnimation']={'amount':null==D?void 0x0:D['detail']['reward_amount']});}});}}z([k['b']],B['prototype'],'userStore',0x2),z([k['b']],B['prototype'],'notificationStore',0x2),z([k['b']],B['prototype'],'editorUI',0x2),z([j['observable']],B['prototype'],'control',0x2),z([j['observable']],B['prototype'],'showAnimation',0x2),z([j['observable']],B['prototype'],'tooltip',0x2),z([j['observable']],B['prototype'],'enabled',0x2),z([j['observable']],B['prototype'],'map',0x2),z([j['observable']],B['prototype'],'pendingTracks',0x2),z([j['computed']],B['prototype'],'all',0x1),z([j['computed']],B['prototype'],'pending',0x1),z([j['computed']],B['prototype'],'resolved',0x1),z([j['computed']],B['prototype'],'progress',0x1),z([j['computed']],B['prototype'],'totalTaskCredit',0x1),z([j['computed']],B['prototype'],'acquiredTaskCredit',0x1),z([j['computed']],B['prototype'],'canOpen',0x1),f['a']=Object(w['a'])(B);},'4Dn8':function(f,g,j){'use strict';j['d'](g,'e',function(){return v;}),j['d'](g,'a',function(){return w;}),j['d'](g,'d',function(){return z;}),j['d'](g,'g',function(){return A;}),j['d'](g,'b',function(){return B;}),j['d'](g,'c',function(){return C;}),j['d'](g,'f',function(){return D;});var k=j('EE1x'),m=j['n'](k),q=j('oDFA');function v(){var E=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',F=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},G=Object['assign']({'exact':!0x0,'strict':!0x0},F),H=q(G);return H['test'](E);}function w(E){var F=new URL(window['location']['href'])['searchParams']['get'](E);return null===F?'':decodeURI(F);}var x=m['a']['v4']()['source'],y=m['a']['v6']()['source'],z=new RegExp('^(?:localhost|'['concat'](x,'|')['concat'](y,'|')['concat']('(?:(?:[a-z\x5cu00a1-\x5cuffff0-9][-_]*)*[a-z\x5cu00a1-\x5cuffff0-9]+)','?')['concat']('(?:\x5c.(?:[a-z\x5cu00a1-\x5cuffff0-9]-*)*[a-z\x5cu00a1-\x5cuffff0-9]+)*',')\x5c.(?:[a-z\x5cu00a1-\x5cuffff]{2,})')),A=E=>z['test'](E)?'http://'['concat'](E):E,B=function(){var E=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'';return/^file:\/\//['test'](E['toLowerCase']());},C=function(){var E=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'';return/^javascript:/['test'](E['toLowerCase']());},D=(E,F,G)=>{var [H,I]=E['split']('?'),J={};I&&I['split']('&')['forEach'](L=>{var [M,N]=L['split']('=');J[M]=N;}),J[F]=G;var K=Object['keys'](J)['map'](L=>''['concat'](L,'=')['concat'](J[L]))['join']('&');return''['concat'](H,'?')['concat'](K);};},'4Ljp':function(b,d,f){'use strict';f['d'](d,'a',function(){return m;});var g=f('hpLR'),h=f('odX6'),j=f('9rbq'),k=(p,q,u)=>new Promise((v,w)=>{var x=A=>{try{z(u['next'](A));}catch(B){w(B);}},y=A=>{try{z(u['throw'](A));}catch(B){w(B);}},z=A=>A['done']?v(A['value']):Promise['resolve'](A['value'])['then'](x,y);z((u=u['apply'](p,q))['next']());}),l=class{constructor(){this['getKF5API']=p=>k(this,null,function*(){var {hideButton:q=!0x0}=p||{},u=window;if(u['KF5SupportBoxAPI'])return yield new Promise(y=>u['KF5SupportBoxAPI']['ready'](()=>y(u['KF5SupportBoxAPI'])));var v=document['createElement']('style');v['innerHTML']='.kf5-chatSupport-right-bottom\x20.kf5-supportBox{right:\x2020px\x20!important;}';var w=document['createElement']('script');w['setAttribute']('type','text/javascript'),w['setAttribute']('id','kf5-provide-supportBox'),w['setAttribute']('kchat-id',l['kChatId']),w['setAttribute']('kf5-domain','wolai.kf5.com'),w['setAttribute']('charset','utf-8'),w['setAttribute']('src','https://assets-cdn.kf5.com/supportbox/main.js?'['concat'](new Date()['getDay']())),document['body']['appendChild'](w),document['head']['appendChild'](v);var x=yield Object(g['a'])(()=>u['KF5SupportBoxAPI'],{'timeout':0x2710,'interval':0x1f4});if(window['dispatchEvent'](new Event('load')),yield Object(g['b'])(0x0),x)return yield new Promise(y=>{u['KF5SupportBoxAPI']['ready'](()=>{q&&x['removeButton'](),this['_identify']&&x['identify'](this['_identify']),this['_config']&&x['config'](this['_config']),y(x);});});console['error']('kf5SupportBoxAPI\x20init\x20failed'),Object(h['b'])('notificationStore')['enqueueSnackbar']({'message':'客服系统加载失败','options':{'variant':'error'}});}),this['identify']=p=>{this['_identify']=p;},this['config']=p=>{var {iframe:q=!0x1}=p;this['_config']={'mobileOpenIframe':q};},this['open']=()=>k(this,null,function*(){if(Object(h['b'])('userStore')['csOnline']){var p=yield this['getKF5API']();p?p['open']():console['error']('open:\x20get\x20supportBoxApi\x20failed');}else window['open'](l['formUrl']);}),this['close']=()=>k(this,null,function*(){var p=yield this['getKF5API']();p?p['close']():console['error']('close:\x20get\x20supportBoxApi\x20failed');});}static['getInstance'](){return l['instance']||(l['instance']=new l()),l['instance'];}['getCustomerServiceUrl'](){var q=Object(h['b'])('userStore'),{userName:v,email:w,mobile:x,userId:y,version:z,registerTime:A,csOnline:B,hasPremiumSpace:C}=q;if(B){var D=encodeURIComponent(JSON['stringify']([{'name':'版本','value':z},{'name':'注册时间','value':A},{'name':'用户ID','value':y},{'name':'空间计划','value':C()?'专业版用户':'试用版用户'}])),E=new URL('https://wolai.kf5.com/kchat/'['concat'](l['kChatId']));return E['searchParams']['append']('name',v),E['searchParams']['append']('email',w),E['searchParams']['append']('phone',x),E['searchParams']['append']('identity',y),E['searchParams']['append']('metadata',D),E['href'];}return l['formUrl'];}},m=l;m['instance']=null,m['kChatId']='1040503',m['formUrl']=j['Ob']['CONTACT_HELP'];},'4vIs':function(j,q,x){'use strict';x['d'](q,'a',function(){return a4;});var z=x('2vnA'),A=x('BkRI'),B=x['n'](A),C=x('vN+2'),D=x['n'](C),F=x('7+vZ'),G=x('f9x4'),H=x('1rK0'),J=x('paMO'),K=x('OIS1'),L=x('95X5'),M=x('5mAU'),N=x('KiBK'),Q=x('Rsoz'),R=Object['defineProperty'],U=Object['defineProperties'],V=Object['getOwnPropertyDescriptor'],W=Object['getOwnPropertyDescriptors'],X=Object['getOwnPropertySymbols'],Y=Object['prototype']['hasOwnProperty'],Z=Object['prototype']['propertyIsEnumerable'],a0=(a5,a6,a7)=>a6 in a5?R(a5,a6,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a7}):a5[a6]=a7,a1=(a5,a6)=>{for(var a7 in a6||(a6={}))Y['call'](a6,a7)&&a0(a5,a7,a6[a7]);if(X){for(var a7 of X(a6))Z['call'](a6,a7)&&a0(a5,a7,a6[a7]);}return a5;},a2=(a5,a6,a7,a8)=>{for(var a9,aa=a8>0x1?void 0x0:a8?V(a6,a7):a6,ab=a5['length']-0x1;ab>=0x0;ab--)(a9=a5[ab])&&(aa=(a8?a9(a6,a7,aa):a9(aa))||aa);return a8&&aa&&R(a6,a7,aa),aa;},a3=(a5,a6,a7)=>new Promise((a8,a9)=>{var aa=ad=>{try{ac(a7['next'](ad));}catch(ae){a9(ae);}},ab=ad=>{try{ac(a7['throw'](ad));}catch(ae){a9(ae);}},ac=ad=>ad['done']?a8(ad['value']):Promise['resolve'](ad['value'])['then'](aa,ab);ac((a7=a7['apply'](a5,a6))['next']());});class a4 extends H['a']{constructor(a5,a6){super(a5,a6),this['type']=G['h']['Board'],this['queryAggregation']=D['a'],this['syncRemoteAggregation']=D['a'],this['type']=G['h']['Board'],this['disposers']['push'](Object(z['reaction'])(()=>this['columns']['size'],()=>{this['columns']['forEach'](a7=>{var a8=''['concat'](a7['option_id']);a7&&!this['columnQuerys']['has'](a8)&&this['columnQuerys']['add'](a8);}),this['columns']['size']||this['columnQuerys']['clear']();},{'fireImmediately':!0x0}),Object(z['reaction'])(()=>{var a7;return null==(a7=this['property'])?void 0x0:a7['type'];},()=>{this['check']();},{'fireImmediately':!0x0}),Object(z['reaction'])(()=>this['columnQuerys']['pending'],a7=>{a7?this['rowDisposers']['forEach'](a8=>a8()):this['dataStore']['getDataRows'](this['table_id'])['forEach'](a8=>{this['rowDisposers']['push'](Object(z['reaction'])(()=>a8['version'],()=>{0x0===a8['status']?this['columnQuerys']['forEach'](a9=>a9['deleteRow'](a8['block_id'])):this['property']&&this['computedGroup']([a8]);}));});}));}get['title'](){return this['data']['title']||Q['a']['t']('stores.database.board.defaultTitle','看板视图',{'ns':'editor'});}get['settings'](){return Object['assign']({'page_size':0x32,'size':G['c']['Normal']},this['data']['settings']);}get['grouping'](){return this['data']['grouping'];}get['canGroupBy'](){return this['dataStore']['getDataTable'](this['table_id'])['properties']['filter'](a5=>[G['p']['Select'],G['p']['MultiSelect'],G['p']['People'],G['p']['LastEditedBy'],G['p']['CreatedBy']]['includes'](a5['type']));}get['visibleColumns'](){return[...this['columns']['values']()]['filter'](a5=>!a5['hidden']);}get['hiddenColumns'](){return[...this['columns']['values']()]['filter'](a5=>a5['hidden']);}get['allColumns'](){return[...this['columns']['values']()];}get['columnTitles'](){var a5=new Map(),a6=new Set(Array['from'](this['columns']['keys']()));return a6['delete'](void 0x0),a6['delete']('undefined'),[...a6['keys']()]['forEach'](a7=>{if([G['p']['People'],G['p']['CreatedBy'],G['p']['LastEditedBy']]['includes'](this['property']['type'])){var a8=M['a']['people']([a7]);a5['set'](a7,a8||[['']]);}else{var a9=M['a']['select']([a7],this['table_id']);a5['set'](a7,a9||[['']]);}}),a5;}get['property'](){return this['dataSource']['getProperty'](this['grouping']['property']);}get['columns'](){return this['property']?this['canGroupBy']['every'](a5=>a5['id']!==this['property']['id'])?new Map():new Map(this['data']['columns']['filter'](a5=>a5['property_id']===this['grouping']['property'])['map'](a5=>{return[a5['option_id'],(a6=a1({},a5),a7={'property_id':this['data']['grouping']['property']},U(a6,W(a7)))];var a6,a7;})):new Map();}['deleteRow'](a5){this['columnQuerys']['forEach'](a6=>{a6['deleteRow'](a5);});}['hasColumn'](a5){return this['columns']['has'](a5);}['createRow'](a5,a6,a7,a8,a9){var aa='undefined'===a8?void 0x0:a8,ab={'table_id':this['table_id'],'block_id':a5||Object(K['b'])(),'properties':{},'created_time':new Date()['toISOString'](),'created_by':this['userStore']['userId'],'edited_time':new Date()['toISOString'](),'edited_by':this['userStore']['userId'],'version':0x1};if(this['dataSource']['hasRow'](null==a6?void 0x0:a6['block_id'])){var ac=a6['duplicate'](a5,a7);ab=B()(a1(a1({},ab),ac));}else{var ad=(null==a6?void 0x0:a6['getData'])?a6['getData']():a6;ab=B()(a1(a1({},ab),ad)),ab=this['validation']['convert'](ab);}if(this['grouping']['property']){var ae=new M['a'](this['table_id'],ab);ae['parse'](),Array['isArray'](a9)&&a9['length']&&a9['forEach'](af=>{ae['deleteOptionId'](af,this['grouping']['property']);}),aa&&ae['addOptionId'](aa,this['grouping']['property']),ab['properties'][this['grouping']['property']]='',ab['properties'][this['grouping']['property']]=ae['convert'](this['grouping']['property'])||[[]];}return ab;}['getRowNearby'](a5,a6,a7){var a8=void 0x0===a7?'undefined':a7;if(this['columnQuerys']['has'](a8)){var a9=this['columnQuerys']['get'](a8),aa=this['dataStore']['getDataRow'](this['table_id'],a5),ab=a9['ids']||[];if(aa){var ac=ab['indexOf'](a5);return-0x1===ac?{'prev_block_id':ab[ab['length']-0x1]||'','next_block_id':''}:{'prev_block_id':'after'===a6?a5:ac>0x0?ab[ac-0x1]:'','next_block_id':'before'===a6?a5:ac<ab['length']&&ab[ac+0x1]||''};}return{'prev_block_id':ab[ab['length']-0x1]||'','next_block_id':''};}return console['warn']('无此分组',a8),{'prev_block_id':'','next_block_id':''};}['insertRow'](a5,a6){var a7=this['dataStore']['getDataRow'](this['table_id'],a5);if(a7){var a8=new M['a'](this['table_id'],a7);a8['parse'](this['grouping']['property']);var a9=a8['getOptionIds'](this['grouping']['property']);a9['size']||a9['add']('undefined'),a9['forEach'](aa=>{this['columnQuerys']['has'](aa)&&this['columnQuerys']['get'](aa)['insertRow'](a5,a6);});}}['loadMore'](a5,a6){return a3(this,null,function*(){a5?yield this['columnQuerys']['reFresh'](a6):yield this['columnQuerys']['pagination']();});}['changeSearch'](a5,a6){this['columnQuerys']['changeSearch'](a5),a6||this['loadMore'](!0x0);}['getColumnIds'](a5){return this['columnQuerys']['has'](''['concat'](a5))?this['columnQuerys']['get'](''['concat'](a5))['ids']:[];}['getColumnTitle'](a5){return this['columnTitles']['get'](a5)||[[]];}['check'](){if(!this['columns']['size']&&!this['checking']){if(this['canGroupBy']['some'](a9=>{var aa;return a9['id']===(null==(aa=this['property'])?void 0x0:aa['id']);}))return;this['checking']=!0x0;var a5=new J['a'](),a6=this['canGroupBy']['slice']();if(!a6['length']){var a7=this['dataSource']['createProperty'](G['p']['Select'],Q['a']['t']('stores.database.defaultSelectPropertyName','标签',{'ns':'editor'}));delete a7['isTemplate'],a6['push'](a7),a5['database']['insertProperty'](this['table_id'],Object(z['toJS'])(a7));}var a8=a6[0x0];N['a']['changeViewGroupBy'](this['view_id'],a8['id'],a5),a5['commit'](()=>a3(this,null,function*(){yield this['queryBoardColumns'](),this['checking']=!0x1;}));}}['computedGroup'](a5){a5['forEach'](a6=>{var a7;if(this['columnQuerys']['forEach'](aa=>{aa['deleteRow'](a6['block_id']);}),this['validation']['validate'](a6)){var a8=new M['a'](this['table_id'],a6);a8['parse'](this['grouping']['property']);var a9=a8['getOptionIds'](this['grouping']['property']);!a9['size']&&[G['p']['Select'],G['p']['MultiSelect']]['includes'](null==(a7=this['property'])?void 0x0:a7['type'])&&a9['add']('undefined'),a9['forEach'](aa=>{this['columnQuerys']['has'](aa)&&this['columnQuerys']['get'](aa)['addRow'](a6['block_id']);});}});}['refresh'](){this['columnQuerys']['reFresh']();}['queryBoardColumns'](){return a3(this,null,function*(){this['loading']=!0x0;var {columns:a5,property:a6}=yield Object(F['b'])({'table_id':this['table_id'],'view_id':this['view_id']},G['h']['Board']);this['grouping']['property']===a6&&(this['dataStore']['syncDataViews']({[this['view_id']]:{'columns':a5,'view_id':this['view_id'],'grouping':{'property':a6}}}),yield this['loadMore'](!0x0)),this['loading']=!0x1;});}}a2([z['observable']],a4['prototype'],'checking',0x2),a2([z['computed']],a4['prototype'],'title',0x1),a2([z['computed']],a4['prototype'],'settings',0x1),a2([z['computed']],a4['prototype'],'grouping',0x1),a2([z['computed']],a4['prototype'],'canGroupBy',0x1),a2([z['computed']],a4['prototype'],'visibleColumns',0x1),a2([z['computed']],a4['prototype'],'hiddenColumns',0x1),a2([z['computed']],a4['prototype'],'allColumns',0x1),a2([z['computed']],a4['prototype'],'columnTitles',0x1),a2([z['computed']],a4['prototype'],'property',0x1),a2([z['computed']],a4['prototype'],'columns',0x1),a2([z['action']],a4['prototype'],'computedGroup',0x1),a2([Object(L['a'])(0x3e8,{'maxWait':0x2710})],a4['prototype'],'refresh',0x1);},'5D19':function(j,q,x){'use strict';x['d'](q,'k',function(){return W;}),x['d'](q,'l',function(){return X;}),x['d'](q,'n',function(){return Z;}),x['d'](q,'i',function(){return a0;}),x['d'](q,'o',function(){return a1;}),x['d'](q,'m',function(){return a2;}),x['d'](q,'j',function(){return a3;}),x['d'](q,'g',function(){return a4;});var z=x('vN+2'),A=x['n'](z),B=x('mwIZ'),C=x['n'](B),D=x('vDqi'),F=x['n'](D),G=x('Rsoz'),H=x('YfBr'),J=x('odX6'),K=x('02XR'),L=x('9rbq'),M=x('sA5H'),N=x('uoYi');x['d'](q,'p',function(){return N['i'];}),x['d'](q,'h',function(){return N['h'];}),x['d'](q,'f',function(){return N['f'];}),x['d'](q,'b',function(){return N['b'];}),x['d'](q,'d',function(){return N['d'];}),x['d'](q,'a',function(){return N['a'];}),x['d'](q,'e',function(){return N['e'];}),x['d'](q,'c',function(){return N['c'];});var Q=(a5,a6,a7)=>new Promise((a8,a9)=>{var aa=ad=>{try{ac(a7['next'](ad));}catch(ae){a9(ae);}},ab=ad=>{try{ac(a7['throw'](ad));}catch(ae){a9(ae);}},ac=ad=>ad['done']?a8(ad['value']):Promise['resolve'](ad['value'])['then'](aa,ab);ac((a7=a7['apply'](a5,a6))['next']());}),R=new K['a']({'maxLimit':0x63,'requestApi':F['a']['post']}),U=Object(N['g'])(a5=>''['concat'](a5['data']['table_id'],'-')['concat'](a5['data']['view_id'],'-')['concat'](a5['data']['value'],'-')['concat'](a5['data']['disableGroup'])),V=new K['a']({'maxLimit':0xa,'requestApi':U['post']}),W=new K['a']({'maxLimit':0x63,'requestApi':(a5,a6)=>new Promise(a7=>{document['querySelector']('#id-'['concat'](a5))?a6(a7):a7();})}),X=new K['a']({'maxLimit':0xa,'requestApi':a5=>Object(M['E'])({'pageId':a5})}),Y=(a5,a6)=>{if(0x1f6===C()(a5,'response.status')){if(C()(a5,'response.data.errorMessage')['includes']('Function\x20timed\x20out'))throw a5;throw Object(J['b'])('workspaceStore')['setAccessError']('('['concat'](C()(a5,'config.url'),'):\x20')['concat'](C()(a5,'response.data.errorMessage'))),a5;}if(!C()(a5,'response.data.ErrorMessage')){if(a5['code']&&!isNaN(a5['code'])||a5['response'])throw a5;if(H['a']['startPing'](),a6&&'function'==typeof a6)return a6();throw a5;}a6&&'boolean'==typeof a6||Object(J['b'])('notificationStore')['enqueueSnackbar']({'message':G['a']['t']('services.utils.requestApiError','请求错误({{url}})：{{error}}',{'ns':'editor','url':(a5['response']['config']['url']||'')['split']('/v1')[0x1]||'','error':a5['response']['data']['ErrorMessage']}),'options':{'variant':'error'}});},Z=function(){for(var a5=arguments['length'],a6=new Array(a5),a7=0x0;a7<a5;a7++)a6[a7]=arguments[a7];return Q(void 0x0,null,function*(){var a8;if(!L['gb']||(null==(a8=a6[0x2])?void 0x0:a8['ignoreFlyMode']))try{return yield R['request'](a6[0x0],a6[0x1],a6[0x2])['then'](a9=>Object(N['f'])(a9,Boolean(a6[0x3])||!0x1));}catch(a9){Y(a9,a6[0x3]);}});},a0=L['gb']?A['a']:function(){for(var a5=arguments['length'],a6=new Array(a5),a7=0x0;a7<a5;a7++)a6[a7]=arguments[a7];return Q(void 0x0,null,function*(){return yield F['a']['get'](a6[0x0],a6[0x1])['then'](a8=>Object(N['f'])(a8,a6[0x2]||!0x1));});},a1=L['gb']?A['a']:function(){for(var a5=arguments['length'],a6=new Array(a5),a7=0x0;a7<a5;a7++)a6[a7]=arguments[a7];return Q(void 0x0,null,function*(){try{return yield F['a']['put'](a6[0x0],a6[0x1],a6[0x2])['then'](a8=>Object(N['f'])(a8,Boolean(a6[0x3])||!0x1));}catch(a8){Y(a8,a6[0x3]);}});},a2=L['gb']?A['a']:function(){for(var a5=arguments['length'],a6=new Array(a5),a7=0x0;a7<a5;a7++)a6[a7]=arguments[a7];return Q(void 0x0,null,function*(){try{return yield F['a']['patch'](a6[0x0],a6[0x1],a6[0x2])['then'](a8=>Object(N['f'])(a8,Boolean(a6[0x3])||!0x1));}catch(a8){Y(a8,a6[0x3]);}});},a3=L['gb']?A['a']:function(){for(var a5=arguments['length'],a6=new Array(a5),a7=0x0;a7<a5;a7++)a6[a7]=arguments[a7];return Q(void 0x0,null,function*(){return yield F['a']['delete'](a6[0x0],a6[0x1])['then'](a8=>Object(N['f'])(a8,a6[0x2]||!0x1));});},a4=function(){for(var a5=arguments['length'],a6=new Array(a5),a7=0x0;a7<a5;a7++)a6[a7]=arguments[a7];return Q(void 0x0,null,function*(){var a8;if(!L['gb']||(null==(a8=a6[0x2])?void 0x0:a8['ignoreFlyMode']))try{return yield V['request'](a6[0x0],a6[0x1],a6[0x2])['then'](a9=>Object(N['f'])(a9,Boolean(a6[0x3])||!0x1));}catch(a9){Y(a9,a6[0x3]);}});};},'5Koy':function(f,j,k){'use strict';k['d'](j,'a',function(){return H;});var q=k('kYPY'),v=k('f9x4'),w=k('paMO'),x=k('OIS1'),y=k('Rsoz'),z=Object['defineProperty'],A=Object['defineProperties'],B=Object['getOwnPropertyDescriptors'],C=Object['getOwnPropertySymbols'],D=Object['prototype']['hasOwnProperty'],E=Object['prototype']['propertyIsEnumerable'],F=(I,J,K)=>J in I?z(I,J,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':K}):I[J]=K,G=(I,J)=>{for(var K in J||(J={}))D['call'](J,K)&&F(I,K,J[K]);if(C){for(var K of C(J))E['call'](J,K)&&F(I,K,J[K]);}return I;};function H(I,J,K){var L,M,N=G({},K),O=I['properties']['filter'](W=>[v['p']['Select'],v['p']['MultiSelect'],v['p']['People']]['includes'](W['type'])),P=O['find'](W=>{var X;return W['id']===(null==(X=K['grouping'])?void 0x0:X['property']);});if(O['length']){if(P){var Q=P['options']||[],R=new Set(Q['map'](W=>W['option_id']));N['columns']=K['columns']['filter'](W=>R['has'](W['option_id']));}else{var T=(P=O[0x0])['options']||[];N['columns']=T['map'](W=>({'hidden':!0x1,'value':W['value'],'option_id':W['option_id'],'property_id':P['id']}));}}else{var U=new w['a']();P={'id':Object(x['b'])(),'type':v['p']['Select'],'name':y['a']['t']('stores.database.defaultSelectPropertyName','标签',{'ns':'editor'}),'options':[]},U['database']['insertProperty'](I['table_id'],P),U['commit']();var V=P['options']||[];N['columns']=V['map'](W=>({'hidden':!0x1,'value':W['value'],'option_id':W['option_id'],'property_id':P['id']}));}return N['settings']=Object['assign']({'size':v['c']['Normal'],'page_cover':v['e']['None']},N['settings']),N['columns']['unshift']({'hidden':!0x1,'property_id':P['id'],'option_id':void 0x0}),N['grouping']={'property':P['id']},N['properties']=N['properties']||I['properties']['map'](W=>({'id':W['id'],'hidden':W['id']===P['id']})),L=G({},Object(q['a'])(I,J,N)),M={'type':v['h']['Board'],'title':Object(q['b'])(y['a']['t']('stores.database.board.defaultTitle','看板视图',{'ns':'editor'}),N),'grouping':N['grouping'],'columns':N['columns'],'version':N['version']||0x0},A(L,B(M));}},'5Tgv':function(b,f,g){'use strict';g['d'](f,'a',function(){return x;});var h=g('mwIZ'),j=g['n'](h),k=g('f9x4'),m=g('odX6'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],v=(y,z,A,B)=>{for(var C,D=B>0x1?void 0x0:B?q(z,A):z,E=y['length']-0x1;E>=0x0;E--)(C=y[E])&&(D=(B?C(z,A,D):C(D))||D);return B&&D&&p(z,A,D),D;},w=class{static['filterNumber'](y){for(var z=''['concat'](y),A='',B=0x0;B<z['length'];B++){var C=z['charCodeAt'](B);if(C>0x2f&&C<0x3a&&(A+=z[B]),0x0===A['length']&&'-'===z[B]&&(A+='-'),'.'===z[B]&&A['indexOf']('.')<0x0&&(0x0===A['length']?A+='0.':A+='.'),0x25===C&&A['length']){if(!A['length']||A['charCodeAt'](0x0)<=0x2f||A['charCodeAt'](0x0)>=0x3a)continue;for(var [D='',E='']=A['split']('.'),F=D;F['length']<0x2;)F='0'['concat'](F);var G=F['slice'](-0x2);0x0===(A=F['split'](G)['join']('.'['concat'](G)['concat'](E)))['indexOf']('.')&&(A='0'['concat'](A));break;}0x0===A['length']&&'-'===z[B]&&(A+='-'),'.'===z[B]&&A['indexOf']('.')<0x0&&(0x0===A['length']?A+='0.':A+='.');}return A?''['concat'](parseFloat(A)):A;}static['formatNumber'](y,z,A){var B;if(void 0x0===z)return'';var C=String(z)['startsWith']('-'),D=z;if(A){var E=String(D)['split']('.');if(E[0x1]&&E[0x1]['length']>0x5){var F=E[0x1]['substr'](0x0,0x5)['replace'](/0+$/g,'');D=F?''['concat'](E[0x0],'.')['concat'](F):E[0x0];}}if(y===k['n']['Number'])return D;if(y===k['n']['Percent']){var G=String(D)['split']('.'),H=Math['max']((null==(B=G[0x1])?void 0x0:B['length'])-0x2,0x0);return''['concat']((0x64*(D-0x0))['toFixed'](H),'%');}return y===k['n']['Float']?''['concat']((D-0x0)['toFixed'](0x2)):y===k['n']['Integer']?''['concat'](parseInt(D-0x0,0xa)):y===k['n']['Yuan']?''['concat'](C?'-':'','¥')['concat'](this['toThousandth'](''['concat'](Math['abs'](D-0x0)['toFixed'](0x2)))):y===k['n']['Dollar']?''['concat'](C?'-':'','$')['concat'](this['toThousandth'](''['concat'](Math['abs'](D-0x0)['toFixed'](0x2)))):y===k['n']['Yen']?''['concat'](C?'-':'','JP¥')['concat'](parseInt(Math['abs'](D-0x0),0xa)['toLocaleString']('en-US')):y===k['n']['Euro']?''['concat'](C?'-':'','€')['concat'](this['toThousandth'](''['concat'](Math['abs'](D-0x0)['toFixed'](0x2)))):y===k['n']['Vnd']?''['concat'](C?'-':'','₫')['concat'](parseInt(Math['abs'](D-0x0),0xa)['toLocaleString']('en-US')):y===k['n']['Hkd']?''['concat'](C?'-':'','HK$')['concat'](this['toThousandth'](''['concat'](Math['abs'](D-0x0)['toFixed'](0x1)))):y===k['n']['Thousandth']?''['concat'](C?'-':'')['concat'](Math['abs'](D-0x0)['toLocaleString']('en-US')):void 0x0;}static['toThousandth'](y){var z=y['split']('.');return z[0x0]=(z[0x0]-0x0)['toLocaleString']('en-US'),z['join']('.');}constructor(y,z,A){this['dataSource']=this['databaseViewStore']['dataSources']['get'](y);var B=this['dataSource']['getProperty'](z);if(this['optionIds']=[],this['property']=B,A){var C=this['dataStore']['getDataRow'](y,A),D=null==C?void 0x0:C['properties'];D&&(this['propertyValue']=D[z],this['parse'](D[z]));}}['parse'](){var y,z,A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[];if(Array['isArray'](A)&&this['property']){if([k['p']['Select'],k['p']['MultiSelect']]['includes'](null==(y=this['property'])?void 0x0:y['type'])){var B=A['filter'](D=>'Tag'===(Array['isArray'](D)&&D['length']?j()(D,['1','0','0'],''):'')),C=j()(B,['0','1','0','1'],[]);Array['isArray'](C)&&C['length']&&this['optionIds']['push'](...C);}else k['p']['People']===(null==(z=this['property'])?void 0x0:z['type'])&&A['forEach'](D=>{var E=j()(D,['1','0','0'],''),F=j()(D,['1','0','1'],'');if('Mention'===E&&['member','group']['includes'](F)){var G=j()(D,['1','0','2'],'');G&&this['optionIds']['push'](G);}});}}['value'](){return this['property']?k['p']['Select']===this['property']['type']?this['buildSelect'](this['optionIds']['slice'](0x0,0x1)):k['p']['MultiSelect']===this['property']['type']?this['buildSelect'](this['optionIds']):k['p']['People']===this['property']['type']?this['buildPeople'](this['optionIds']):k['p']['Checkbox']===this['property']['type']?'True'===j()(this['propertyValue'],['0','0'],'False')?[['True']]:[['False']]:this['format'](this['property']['type'],this['propertyValue']):'';}['addOption'](y){var z=new Set(this['optionIds']);z['add'](y),this['optionIds']=Array['from'](z);}['deleteOption'](y){var z=new Set(this['optionIds']);z['delete'](y),this['optionIds']=Array['from'](z);}['buildSelect'](y){var z=y['map'](A=>{var B=this['dataSource']['propertyOptions']['get'](A);return null==B?void 0x0:B['value'];})['filter'](Boolean);if(z['length'])return[[z['join'](','),[['Tag',y]]]];}['buildPeople'](y){var z=y['map'](A=>{var B=this['memberStore']['currentWorkspaceMembers']['get'](A);if(B)return[B['username'],[['Mention','member',A]]];var C=this['groupStore']['groupMap']['get'](A);return C?[C['name'],[['Mention','group',A]]]:void 0x0;})['filter'](Boolean);if(z['length'])return z;}['format'](y,z){var A=this['blockAPI']['getTitlePlainTextByTitle'](z);if(!A)return'';if(k['p']['Number']===y){var B=w['filterNumber'](A),C=this['property']['number_format']||k['n']['Number'];return w['formatNumber'](C,B);}return z||'';}},x=w;v([m['b']],x['prototype'],'dataStore',0x2),v([m['b']],x['prototype'],'databaseViewStore',0x2),v([m['b']],x['prototype'],'memberStore',0x2),v([m['b']],x['prototype'],'groupStore',0x2),v([m['b']],x['prototype'],'blockAPI',0x2);},'5fcL':function(j,q,x){'use strict';var z=x('BkRI'),F=x['n'](z),G=x('Y+p1'),H=x['n'](G),J=x('mwIZ'),K=x['n'](J),Q=x('2vnA'),R=x('Rsoz'),U=x('uMVv'),V=x('sA5H'),W=x('wujz'),X=x('9rbq'),Y=x('aD9L'),Z=x('OIS1'),a0=x('KiBK'),a1=x('paMO'),a2=x('odX6'),a3=x('WRmh'),a4=x('bXzw'),a5=x('0+S8'),a6=Object['defineProperty'],a7=Object['defineProperties'],a8=Object['getOwnPropertyDescriptor'],a9=Object['getOwnPropertyDescriptors'],aa=Object['getOwnPropertySymbols'],ab=Object['prototype']['hasOwnProperty'],ac=Object['prototype']['propertyIsEnumerable'],ad=(aj,ak,al)=>ak in aj?a6(aj,ak,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':al}):aj[ak]=al,ae=(aj,ak)=>{for(var al in ak||(ak={}))ab['call'](ak,al)&&ad(aj,al,ak[al]);if(aa){for(var al of aa(ak))ac['call'](ak,al)&&ad(aj,al,ak[al]);}return aj;},af=(aj,ak)=>a7(aj,a9(ak)),ag=(aj,ak,al,am)=>{for(var an,ao=am>0x1?void 0x0:am?a8(ak,al):ak,ap=aj['length']-0x1;ap>=0x0;ap--)(an=aj[ap])&&(ao=(am?an(ak,al,ao):an(ao))||ao);return am&&ao&&a6(ak,al,ao),ao;},ah=(aj,ak,al)=>new Promise((am,an)=>{var ao=ar=>{try{aq(al['next'](ar));}catch(as){an(as);}},ap=ar=>{try{aq(al['throw'](ar));}catch(as){an(as);}},aq=ar=>ar['done']?am(ar['value']):Promise['resolve'](ar['value'])['then'](ao,ap);aq((al=al['apply'](aj,ak))['next']());});Object(Q['configure'])({'enforceActions':'never'});class ai{constructor(){var aj=this;this['init']=()=>{this['pages']={},this['confirm']={},this['qrCode']={},this['isFollowed']=!0x1;},this['getFollower']=function(){for(var ak=arguments['length'],al=new Array(ak),am=0x0;am<ak;am++)al[am]=arguments[am];return ah(aj,[...al],function*(){var an=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:this['pageId'];this['isFollowed']=yield Object(W['a'])(an);});},this['setFollower']=function(){for(var ak=arguments['length'],al=new Array(ak),am=0x0;am<ak;am++)al[am]=arguments[am];return ah(aj,[...al],function*(){var an=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:this['pageId'],ao=arguments['length']>0x1?arguments[0x1]:void 0x0;this['isFollowed']=yield Object(W['b'])(an,ao);});},this['batchCreatePages']=ak=>{if(Array['isArray'](ak))ak['forEach'](an=>{an['sub_pages']&&(this['pages'][an['id']]||(this['pages'][an['id']]=an['sub_pages']||[]));});else for(var al in ak){var am=ak[al];am['sub_pages']&&(this['pages'][al]||(this['pages'][al]=am['sub_pages']||[]));}},this['refreshPages']=function(){var ak=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:aj['pageId'];if(ak){var al=[],am=[],an=(ap,aq)=>{aq&&aq['length']&&aq['forEach'](ar=>{var as=aj['dataStore']['getBlockValue'](ar);am['includes'](ar)||(am['push'](ar),aj['pageActionCheckStore']['hasPageActionLimit'](as['id'],a3['g']['ViewPage'])&&as['id']&&aj['dataStore']['getSourceId'](as['id'])===as['id']&&([X['y']['PAGE'],X['y']['DATABASE']]['includes'](as['type'])&&!as['source_id']?al['push'](ar):an(ap,as['sub_nodes'])));});},ao=ap=>{var aq=aj['dataStore']['getBlockProperty'](ap,'sub_nodes');an(ap,aq);};ao(ak),H()(aj['pages'][ak],al)||(aj['pages'][ak]=al);}},this['resetPages']=function(){var ak=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};aj['pages']=Object['assign']({},aj['pages'],ak),aj['pages']=F()(aj['pages']);},this['setConfirmOpen']=ak=>{'alert'!==this['confirm']['type']&&(ak?this['confirm']={'open':!0x0,'type':ak['type']||'confirm','title':ak['title']||'','loading':ak['loading']||!0x1,'contents':ak['contents']||'','success':ak['success'],'successText':ak['successText']||'','cancel':ak['cancel'],'cancelText':ak['cancelText'],'footnote':ak['footnote']||'','hideButton':ak['hideButton'],'singleButton':ak['singleButton'],'successButtonId':ak['successButtonId']||'','showTooltip':ak['showTooltip']||!0x1,'tooltipType':ak['tooltipType']||'','adjustMobile':ak['adjustMobile']||!0x1,'mobileSingleButton':ak['mobileSingleButton']||!0x1,'allowBackdropClose':ak['allowBackdropClose']||!0x1,'agree':ak['agree'],'agreeText':ak['agreeText'],'agreeButtonId':ak['agreeButtonId'],'extend':ak['extend'],'extendText':ak['extendText'],'alignContentsCenter':ak['alignContentsCenter'],'showEduTips':ak['showEduTips'],'extendType':ak['extendType']||''}:(this['confirm']&&this['confirm']['cancel']&&this['confirm']['cancel'](),this['confirm']['open']=!0x1,this['confirm']['success']=null));},this['openAlertModal']=function(ak,al){var am=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{'delay':0x64,'successText':R['a']['t'](X['cb']['OK'],'确定',{'ns':'editor'})};return new Promise(an=>{setTimeout(()=>{aj['setConfirmOpen']({'type':'confirm','singleButton':!0x0,'adjustMobile':!0x0,'title':ak,'contents':al,'successText':am['successText'],'success':()=>{an(!0x0);},'cancel':()=>{an(!0x0);}});},am['delay']);});},this['openConfirmModal']=function(ak,al){var am=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{'delay':0x64,'cancelText':R['a']['t'](X['cb']['CANCEL'],'取消',{'ns':'editor'}),'successText':R['a']['t'](X['cb']['OK'],'确定',{'ns':'editor'})};return new Promise(an=>{setTimeout(()=>{aj['setConfirmOpen']({'adjustMobile':!0x0,'type':'confirm','title':ak,'contents':al,'successText':am['successText'],'cancelText':am['cancelText'],'success':()=>{an(!0x0);},'cancel':()=>{an(!0x1);}});},am['delay']);});},this['setConfirmClose']=()=>{this['setConfirmOpen']();},this['setQrCodeOpen']=ak=>{ak?this['qrCode']={'open':!0x0,'url':ak['url']||'','userId':ak['userId'],'theme':ak['theme'],'blockId':ak['blockId'],'topLabel':ak['topLabel']||'','bottomLabel':ak['bottomLabel']||'','type':ak['type']||'block','pageId':ak['pageId']||'','viewId':ak['viewId']||'','visitId':ak['visitId']||'','onCallBack':ak['onCallBack']||null}:(this['qrCode']['open']=!0x1,this['qrCode']['url']='');},this['setPageId']=ak=>{var {workspaceStore:al,userStore:am,screenStore:an}=this;this['workspaceStore']['changeUploadFileCount']('clear'),this['aliOssAPI']['cancelUpload'](),al['setNotFound'](!0x1),am['getWechatConfig'](),an['setMainScreen'](ak);var ao=Array['from'](this['invitationStore']['receivedInvitations'])['map'](ap=>ap[0x1])['filter'](ap=>-0x1===ap['responded_time']&&ap['is_active'])['find'](ap=>ap['workspace_id']===this['spaceStore']['spaceId']);ao&&this['spaceStore']['joinWorkspace'](ao);},this['selectPageId']=(ak,al)=>{if(ak){var am=()=>{if(al){var an=Object(Y['g'])()?al['metaKey']:al['ctrlKey'],ao=al['altKey'];an?window['open'](ak):ao?this['screenStore']['setSecondScreen'](ak):this['screenStore']['mainScreen']['id']!==ak&&this['routerStore']['history']['push'](ak);}else this['screenStore']['mainScreen']['id']!==ak&&this['routerStore']['history']['push'](ak);};if(this['workspaceStore']['uploadFileCount']>0x0)return this['setConfirmOpen']({'title':'','contents':R['a']['t']('stores.pageStore.switchPageWillCancelUploadTaskTips','切换页面会取消当前页面的上传任务，是否确定',{'ns':'editor'}),'success':()=>am()});am();}},this['loadFavoritePages']=ak=>ah(this,null,function*(){var al=this['spaceStore'];if(al['spaceViews']&&al['spaceViews'][ak]){var am=al['spaceViews'][ak]['favorite_pages'];if(am['length']){var an=[];if(am['forEach'](ap=>{this['dataStore']['getBlockValue'](ap)['id']||-0x1===an['findIndex'](aq=>aq['id']===ap)&&an['push']({'table':X['Db'],'id':ap});}),an['length']>0x0){var ao=yield Object(V['v'])(an);this['dataStore']['syncBlockData'](ao);}}}}),this['loadSharedPages']=ak=>ah(this,null,function*(){var {blocks:al}=yield Object(V['K'])({'workspaceId':ak}),{currentWorkspace:am}=this['spaceStore'];ak===am['id']&&(this['dataStore']['syncBlockData'](al),Object['keys'](al)['forEach'](an=>{am['sharedPages']=am['sharedPages']||[],am['sharedPages']['includes'](an)||am['sharedPages']['push'](an);}));}),this['loadSubPages']=function(ak){var al=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1];return ah(aj,null,function*(){var am=al?yield Object(V['L'])(ak):yield Object(V['P'])(ak),an={},ao=[];return this['batchCreatePages'](am||[]),am['forEach'](ap=>{an[ap['id']]={'value':ap},ap['parent_id']!==ak&&ao['push'](ap['parent_id']);}),this['dataStore']['syncBlockData'](an),ao['length']&&(yield this['blockStore']['loadBlocksByIds'](ak,ao)),Object(Q['runInAction'])(()=>{this['pages'][ak]=al?Object['keys'](an):Object['keys'](an)['filter'](ap=>this['pageActionCheckStore']['hasPageActionLimit'](ap,a3['g']['ViewPage'])),this['dataStore']['asyncTreePages']();}),Promise['resolve']();});},this['updatePage']=(ak,al,am)=>{this['dataStore']['updateBlock'](al,am),this['dataStore']['getBlockProperty'](al,'type')===X['y']['DATABASE']?ak['page']['updateDatabase'](al,am):ak['page']['updatePage'](al,am);},this['removePage']=(ak,al)=>{var am,{currentWorkspace:an}=this['spaceStore'];if(this['dataStore']['isTopPage'](al)){var ao=[...an['pages']],ap=ao['indexOf'](al['id']);ao['splice'](ap,0x1),this['spaceStore']['updateCurrentSpacePages'](ao),am=al['id'],ak['page']['removePageInWorkspace'](am,al['parent_id'],al['type']===X['y']['DATABASE']);}else am=al['page_id'],this['adjustPages'](am,al['id'],'remove'),this['blockStore']['deleteBlock'](ak,al);},this['removeRelativeRecord']=(ak,al)=>ah(this,null,function*(){al===this['pageId']&&U['c'](''['concat'](X['Gb']),'');var am=[];X['gb']||this['favoritePages']['forEach'](ao=>{am['push'](this['isSubPage'](ao,al)['then'](ap=>{ap&&this['spaceStore']['removeFavoritePage'](ak,ao);}));});var an=this['dataStore']['getLastViewedPageIds']();an['forEach'](ao=>{am['push'](this['isSubPage'](ao,al)['then'](ap=>{if(ap){var aq=an['indexOf'](ao);an['splice'](aq,0x1);}}));}),yield Promise['all'](am),this['dataStore']['updateLastViewedPages'](an),this['spaceStore']['changeCustomSpaceConfig'](ak,al);}),this['isSubPage']=(ak,al)=>ah(this,null,function*(){if(ak===al)return!0x0;var am=this['dataStore']['getBlockValue'](ak);if(!am['id']){var an=yield Object(V['v'])([{'table':X['Db'],'id':ak}]);if(!(an=an['filter'](ao=>ao['value']['id']))['length'])return!0x1;this['dataStore']['syncBlockData'](an),am=an[0x0]['value'];}return!this['dataStore']['isTopPage'](am)&&(am['page_id']===al||this['isSubPage'](am['page_id'],al));}),this['checkIfExistsParentBlock']=ak=>ah(this,null,function*(){if(!this['dataStore']['isTopPage'](ak)){if(!this['dataStore']['getBlockProperty'](ak['parent_id'],'id')){var al=yield Object(V['v'])([{'table':X['Db'],'id':ak['parent_id']}]);this['dataStore']['syncBlockData'](al);}var am=this['dataStore']['getBlockValue'](ak['parent_id']),an=this['dataStore']['getBlockValue'](am['parent_id']);if(am['id']&&'column'===am['type']&&!an['id']){var ao=yield Object(V['v'])([{'table':X['Db'],'id':am['parent_id']}]);this['dataStore']['syncBlockData'](ao);}}}),this['putPageInTrash']=ak=>ah(this,null,function*(){var al=new a1['a']({'ignoreLock':!0x0});al['undo']=!0x0;var am=this['dataStore']['getBlockValue'](ak);yield this['checkIfExistsParentBlock'](am),this['removePage'](al,am),this['dataStore']['updateBlock'](am['id'],{'active':!0x1,'status':X['w']['TRASH']}),yield this['removeRelativeRecord'](al,ak),al['commit'](()=>{Object(a5['a'])()['then'](an=>an['destroy']()),this['pageId']===ak?this['firstPageId']||(window['location']['href']='/'):this['pageId']===am['page_id']&&this['editorStore']['invokeObserver']();}),this['dataStore']['isTopPage'](am)||this['adjustPages'](am['page_id'],am['id'],'remove'),this['pageId']===ak&&this['firstPageId']&&this['routerStore']['history']['replace'](this['firstPageId']);}),this['addImportPage']=function(ak){var al=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},{pushPage:am}=al,{currentWorkspace:an}=aj['spaceStore'];am&&aj['spaceStore']['updateCurrentSpacePages']([ak,...an['pages']]),aj['routerStore']['history']['push'](ak);},this['getPageDefaultSetting']=()=>{var {currentWorkspace:ak}=this['spaceStore'],al=ak['page_default_setting']||{};return{'block_full_width':al['full_width']||!0x1,'block_isShowDirectorySuspended':al['toc']||!0x1,'block_small_text':al['small_text']||!0x1}||{};},this['addNewDatabasePage']=(ak,al,am)=>{if(al['id']){ak['undo']=!0x0;var an=this['getPageDefaultSetting']();al['setting']=an,ak['page']['addNewDatabasePage'](al['id'],al['parent_id'],this['spaceStore']['spaceId'],al['parent_id'],X['y']['DATABASE'],al),this['blockStore']['setBlockFormat'](ak,al['id'],ae({},an)),am||(Object(Y['h'])()||this['workspaceStore']['newPage']||!this['spaceStore']['getCurrentSpaceViewProps']('open_new_page_in_right')?(this['screenStore']['setMainScreen'](al['id'],!0x0),this['routerStore']['history']['push'](al['id'])):this['screenStore']['setSecondScreen'](al['id'],!0x0));}},this['addNewPage']=(ak,al,am)=>{var {currentWorkspace:an}=this['spaceStore'];if(al['id']){ak['undo']=!0x0;var ao=this['getPageDefaultSetting']();al['setting']=ao,this['dataStore']['isTopPage'](al)?(this['spaceStore']['updateCurrentSpacePages']([al['id'],...an['pages']]),ak['page']['addNewPageInWorkspace'](al['id'],an['id'],al['parent_id'],al['parent_type'],al)):(ak['page']['addNewSubPage'](al['id'],an['id'],al['parent_id'],al['parent_type'],al),this['adjustPages'](al['parent_id'],al['id'],'add')),this['blockStore']['setBlockFormat'](ak,al['id'],ae({},ao)),am||(Object(Y['h'])()||this['workspaceStore']['newPage']||!this['spaceStore']['getCurrentSpaceViewProps']('open_new_page_in_right')?(this['screenStore']['setMainScreen'](al['id'],!0x0),this['routerStore']['history']['push'](al['id'])):this['screenStore']['setSecondScreen'](al['id'],!0x0));}},this['createDataRow']=(ak,al,am,an)=>{var ao,ap=an||new a1['a']({'immediate':!0x0,'ignoreLock':!0x0}),aq=this['dataStore']['getBlockValue'](al),ar={'parent_id':ak,'parent_type':X['y']['DATABASE'],'page_id':ak,'active':!0x0,'permissions':[]},as=al;if((null==aq?void 0x0:aq['type'])!==X['y']['PAGE']||(null==aq?void 0x0:aq['source_id'])){var at=!aq['id'];as=at?al:Object(Z['b'])(),am['row']['block_id']=as;var au={'id':as,'parent_id':ak,'parent_type':X['y']['DATABASE'],'type':X['y']['PAGE'],'active':!0x0,'permissions':[],'sub_nodes':[],'attributes':{},'status':X['w']['ACTIVE']},av=this['getPageDefaultSetting']();au['setting']=av,at||(au['attributes']['title']=F()((null==(ao=null==aq?void 0x0:aq['attributes'])?void 0x0:ao['title'])||[['']])),this['dataStore']['setPageLoaded'](au['id'],!0x0),ap['page']['addNewDatabasePage'](au['id'],ak,this['spaceStore']['spaceId'],ak,X['y']['DATABASE'],au),at||this['blockStore']['insertBlock'](ap,as,al,'before');}else this['updatePage'](ap,as,ar);return ap['database']['createDataRow'](as,am),!an&&ap['commit'](),as;},this['updatePageTitle']=(ak,al,am)=>{var an=this['getPageTitle'](ak);document['title']=al||R['a']['t'](X['cb']['UNTITLED_PAGE'],'新页面',{'ns':'editor'});var ao=am||new a1['a'](),ap={'attributes':{'title':[[al]]}};this['updatePage'](ao,ak,ap),am||ao['commit']();var aq=this['domAPI']['$']('#id-'['concat'](ak));''===al?aq['classList']['add']('noTitle'):''===an&&aq['classList']['remove']('noTitle'),this['resetPages']();},this['findPageParent']=ak=>{var al=this['dataStore']['getBlockValue'](ak);return!(!al['id']||!al['parent_id'])&&(al['parent_type']!==X['y']['PAGE']?this['findPageParent'](al['parent_id']):this['screenStore']['isInScreen'](al['parent_id']));},this['updatePageIcon']=(ak,al,am)=>{if(this['screenStore']['isInScreen'](ak)||this['findPageParent'](ak))this['editorStore']['changeHeaderIcon'](ak,al,am);else{var an=new a1['a']({'ignoreLock':!0x0}),ao=this['dataStore']['getBlockProperty'](ak,'setting')||{},ap=this['dataStore']['getBlockProperty'](ak,'type'),aq={'setting':af(ae({},ao),{'page_icon':am?[al,am]:''})};this['dataStore']['updateBlock'](ak,aq),ap===X['y']['DATABASE']?an['page']['updateDatabase'](ak,aq):an['page']['updatePage'](ak,aq),an['commit']();}this['spaceStore']['refresh']();},this['getFavoritePages']=()=>{var {spaceViews:ak,spaceId:al}=this['spaceStore'];return ak&&ak[al]&&ak[al]['favorite_pages']||[];},this['filterWorkspacePages']=()=>{var ak=[],{currentWorkspace:al}=this['spaceStore'];if(al['pages']&&al['pages']['length'])for(var am=0x0;am<al['pages']['length'];am++){var an=this['dataStore']['getBlockValue'](al['pages'][am]);an['status']===X['w']['ACTIVE']&&this['pageActionCheckStore']['hasPageActionLimit'](al['pages'][am],a3['g']['ViewPage'])&&this['isWorkspacePermission'](an['id'])&&ak['push'](an['id']);}return ak;},this['filterSharedPages']=()=>{var ak=[],{currentWorkspace:al}=this['spaceStore'],am=(al['pages']||[])['concat'](al['sharedPages']||[]);if(am['length']){am=Array['from'](new Set(am));for(var an=0x0;an<am['length'];an++){var ao=this['dataStore']['getBlockValue'](am[an]);ao['status']===X['w']['ACTIVE']&&this['pageActionCheckStore']['hasPageActionLimit'](am[an],a3['g']['ViewPage'])&&this['isSharedPermission'](ao['id'])&&ak['push'](ao['id']);}}return ak;},this['filterPrivatePages']=()=>{var ak=[],{currentWorkspace:al}=this['spaceStore'];if(al['pages']&&al['pages']['length'])for(var am=0x0;am<al['pages']['length'];am++){var an=this['dataStore']['getBlockValue'](al['pages'][am]);an['status']===X['w']['ACTIVE']&&this['pageActionCheckStore']['hasPageActionLimit'](al['pages'][am],a3['g']['ViewPage'])&&this['isPrivatePermission'](an['id'])&&ak['push'](an['id']);}return ak;},this['getPageTitle']=ak=>{var al=this['dataStore']['getBlockValue'](ak);return al['id']&&K()(al,['attributes','title','0','0'])||'';},this['setWorkspacePermission']=function(){var ak=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],al=[],am=!0x1;return ak['forEach'](an=>{an['type']===a3['e']['Space']?an['role']!==a3['d']['None']&&(al['push'](an),am=!0x0):al['push'](an);}),am||al['push']({'type':a3['e']['Space'],'role':a3['d']['All'],'workspace_id':aj['spaceStore']['spaceId']}),al;},this['setPrivatePermission']=function(){var ak=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],al=[];return ak['forEach'](am=>{am['type']===a3['e']['Public']&&al['push'](am);}),al['push']({'type':a3['e']['User'],'role':a3['d']['All'],'user_id':aj['userStore']['userId']}),al;},this['isPublicPermission']=ak=>a3['a']['isPublicPage'](this['userStore']['userId'],ak),this['isSharedPermission']=ak=>a3['a']['isSharedPage'](this['userStore']['userId'],ak),this['isWorkspacePermission']=ak=>a3['a']['isWorkspacePage'](this['userStore']['userId'],ak),this['isPrivatePermission']=ak=>a3['a']['isPrivatePage'](this['userStore']['userId'],ak),this['isAllUsersPermission']=ak=>a3['a']['isAllUsersPage'](ak),this['execOperateAfterMoveSuccess']=ak=>ah(this,null,function*(){var al=this['dataStore']['getBlockValue'](ak),{currentWorkspace:am}=this['spaceStore'];if(this['dataStore']['isTopPage'](al)){var an=[...am['pages']],ao=an['indexOf'](al['id']);an['splice'](ao,0x1),this['spaceStore']['updateCurrentSpacePages'](an);}else{yield this['checkIfExistsParentBlock'](al),this['adjustPages'](al['page_id'],al['id'],'remove');var ap=this['dataStore']['getBlockValue'](al['parent_id']),aq=ap['sub_nodes']||[],ar=aq['findIndex'](au=>au===ak);ar>-0x1&&(aq['splice'](ar,0x1),this['dataStore']['syncBlockData']([ap])),this['editorStore']['removeChildRelativeRecord'](ak);}this['dataStore']['setPageLoaded'](ak,!0x1),this['setConfirmOpen'](),this['isSubPage'](this['pageId'],ak)['then'](au=>{if(au)this['firstPageId']?this['routerStore']['history']['replace'](this['firstPageId']):window['location']['href']='/';else{var av=this['dataStore']['getBlockProperty'](ak,'page_id');this['pageId']===av&&this['editorStore']['invokeObserver']();}});var as=this['dataStore']['getBlockProperty'](ak,'version'),at=(yield Object(V['v'])([{'table':X['Db'],'id':ak}]))['map'](au=>(au['value']&&(au['value']['version']=Math['max'](as,au['value']['version'])),au));this['dataStore']['syncBlockData'](at),this['editorStore']['invokeObserver']();}),this['movePageToOtherWorkspace']=(ak,al)=>ah(this,null,function*(){var am,an=this['dataStore']['getBlockValue'](ak);if(an['id']&&[X['y']['PAGE'],X['y']['DATABASE']]['includes'](an['type'])&&this['dataStore']['getSourceId'](an['id'])===an['id']){this['setConfirmOpen']({'contents':R['a']['t']('stores.pageStore.prepareForMovePage','准备转移...',{'ns':'editor'}),'alignContentsCenter':!0x0,'hideButton':!0x0});var ao=new a1['a']({'ignoreLock':!0x0});this['removeRelativeRecord'](ao,ak);var ap=this['blockAPI']['findAllSubPageNode'](ak);return ap['push'](ak),ap['forEach'](aq=>{this['dataStore']['setPageLoaded'](aq,!0x1);}),((null==(am=ao['operations'])?void 0x0:am['length'])>0x0&&(yield(aq=>ah(this,null,function*(){return yield new Promise(ar=>aq['commit'](ar));}))(ao)),yield Object(V['cb'])({'pageId':ak,'sourceSpaceId':this['spaceStore']['spaceId'],'targetSpaceId':al}));}}),this['movePage']=(ak,al,am)=>ah(this,null,function*(){var an={};am&&am['forEach'](av=>{an[av['id']]={'value':av};}),this['dataStore']['syncBlockData'](an);var ao=this['dataStore']['getBlockValue'](ak),ap=this['dataStore']['getBlockValue'](al),aq=ao['parent_type']===X['y']['DATABASE'];if(ao['id']&&ap['id']&&(!ap['id']||[X['y']['PAGE'],X['y']['DATABASE']]['includes'](ap['type']))){var ar=new a1['a']({'ignoreLock':!0x0});yield this['checkIfExistsParentBlock'](ao),this['removePage'](ar,ao);var as=ap['type']===X['y']['DATABASE'],at=[];if(as){var au=this['dataStore']['getSourceId'](ap['id']);this['databaseViewStore']['getDatabase'](au)||(yield a0['a']['getDatabaseData'](au)),a0['a']['insertRow'](ap['id'],ak,{'blockId':'','position':'before'},ar,!0x0),ao['parent_id']!==ap['id']&&at['push'](ak);}else this['updatePage'](ar,ao['id'],{'parent_type':ap['type'],'parent_id':ap['id'],'page_id':ap['id'],'permissions':ao['permissions']?ao['permissions']['filter'](av=>'public'===av['type']):[]}),this['blockStore']['insertBlock'](ar,ap['id'],ao['id'],'after'),this['adjustPages'](ap['id'],ao['id'],'add');(this['screenStore']['isInScreen'](ap['id'])||aq)&&this['editorStore']['invokeObserver'](),ak===this['blockStore']['pageId']&&(this['refreshPages'](ak),this['spaceStore']['refresh']()),ar['commit'](()=>{if(at['length']&&as){var av=ap['database_id'];if(!av)return;at['forEach'](aw=>{var ax=this['dataStore']['getDataRow'](av,aw);ax&&(ax['isLoading']=!0x1);}),a0['a']['reGetRowData'](av,at);}});}}),this['dragPage']=(ak,al,am)=>{var an=this['dataStore']['getBlockValue'](ak),ao=this['dataStore']['getBlockValue'](al);if(an['id']&&ao['id']){try{this['removePage'](am,an);}catch(ap){console['error'](ap);}ao['source_id']&&(ao=this['dataStore']['getBlockValue'](ao['source_id'])),this['dataStore']['isTopPage'](an)&&this['updatePage'](am,an['id'],{'parent_type':ao['type'],'parent_id':ao['id'],'permissions':an['permissions']?an['permissions']['filter'](aq=>'public'===aq['type']):[]}),this['blockStore']['insertBlock'](am,al,ak,'after'),[X['y']['PAGE'],X['y']['DATABASE']]['includes'](ao['type'])?this['adjustPages'](ao['id'],an['id'],'add'):this['adjustPages'](ao['page_id'],an['id'],'add'),this['screenStore']['isInScreen'](ao['id'])&&this['editorStore']['invokeObserver']();}},this['getParentWithPermissions']=ak=>{var al=this['dataStore']['getBlockValue'](ak);if(al['id'])return this['dataStore']['isTopPage'](al)?Object(Q['toJS'])(al):this['getParentWithPermissions'](al['page_id']);},this['updatePageToWorkspace']=(ak,al,am)=>{this['updatePage'](ak,al,{'active':!0x0,'parent_type':am['parent_type'],'parent_id':am['parent_id'],'page_id':'','permissions':am['permissions']||[]});var {currentWorkspace:an}=this['spaceStore'];an['pages']['findIndex'](ao=>ao===al)<0x0&&(this['spaceStore']['updateCurrentSpacePages']([al,...an['pages']]),ak['page']['restorePageInWorkspace'](al,an['id']));},this['restorePage']=(ak,al,am)=>ah(this,null,function*(){var an={};al['forEach'](ay=>{an[ay['id']]={'value':ay};}),this['dataStore']['syncBlockData'](an);var ao=this['dataStore']['getBlockValue'](ak);if(ao['id']&&ao['status']!==X['w']['DELETE']){var ap=new a1['a']();if(ap['undo']=!0x0,this['dataStore']['isTopPage'](ao))this['updatePageToWorkspace'](ap,ak,ao);else{var aq=this['dataStore']['getBlockValue'](ao['page_id']),ar=yield Object(V['v'])([{'table':X['Db'],'id':ao['parent_id']}]),as=ar[0x0]&&ar[0x0]['value'];if(!aq['id']||!as)return;var at=as['type']===X['y']['DATABASE'],au=as['sub_nodes']||[],av=au['findIndex'](ay=>ay===ak);if(aq['status']===X['w']['TRASH']||aq['status']===X['w']['INACTIVE']){!at&&av>-0x1&&(au['splice'](av,0x1),as['type']!==X['y']['PAGE']?ap['block']['updateBlock'](as['id'],{'sub_nodes':au}):this['updatePage'](ap,as['id'],{'sub_nodes':au}));var aw=this['getParentWithPermissions'](ak)||{};this['updatePageToWorkspace'](ap,ak,aw);}else{if(aq['status']===X['w']['ACTIVE']){if(![X['y']['PAGE'],X['y']['DATABASE']]['includes'](as['type'])&&as['active'])-0x1===av&&(au['push'](ak),ap['block']['updateBlock'](as['id'],{'sub_nodes':au})),this['updatePage'](ap,ak,{'active':!0x0});else{if(!at){var ax=Object(Q['toJS'])(aq['sub_nodes'])||[];-0x1===ax['findIndex'](ay=>ay===ak)&&(ax['push'](ak),this['updatePage'](ap,aq['id'],{'sub_nodes':ax}));}[X['y']['PAGE'],X['y']['DATABASE']]['includes'](as['type'])?this['updatePage'](ap,ak,{'active':!0x0,'parent_type':as['type'],'parent_id':as['id']}):(!at&&av>-0x1&&(au['splice'](av,0x1),ap['block']['updateBlock'](as['id'],{'sub_nodes':au})),this['updatePage'](ap,ak,{'active':!0x0,'parent_type':aq['type'],'parent_id':aq['id']}));}this['screenStore']['isInScreen'](aq['id'])?this['editorStore']['invokeObserver']():this['adjustPages'](aq['id'],ak,'add');}}}ap['commit'](()=>{am&&am();});}}),this['dragPageInsertColumn']=(ak,al,am)=>{var an=this['dataStore']['getBlockValue'](al),ao=this['dataStore']['getBlockValue'](am);if(an&&ao){[X['y']['PAGE'],X['y']['DATABASE']]['includes'](an['type'])&&this['removePage'](ak,an);var ap=Object(Q['toJS'])(this['dataStore']['getBlockProperty'](ao['id'],'sub_nodes'));ap['push'](an['id']),this['updatePage'](ak,an['id'],{'active':!0x0,'parent_type':ao['type'],'parent_id':ao['id'],'page_id':ao['page_id'],'permissions':an['permissions']?an['permissions']['filter'](aq=>'public'===aq['type']):[]}),this['dataStore']['updateBlock'](ao['id'],{'sub_nodes':ap}),ak['block']['updateBlock'](ao['id'],{'sub_nodes':ap});}},this['adjustPages']=function(ak,al,am){var an=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:{'id':'','isPrev':!0x1},ao=aj['pages'][ak]?[...aj['pages'][ak]]:[];if('remove'!==am||0x0!==ao['length']){var ap=ao['findIndex'](ar=>ar===al);if('add'===am&&-0x1===ap){if(an['id']){var aq=ao['findIndex'](ar=>ar===an['id']);aq>-0x1?ao['splice'](an['isPrev']?aq:aq+0x1,0x0,al):ao['push'](al);}else ao['push'](al);}else'remove'===am&&ap>-0x1&&ao['splice'](ap,0x1);aj['pages'][ak]=ao;}},this['dragPageToAddButton']=(ak,al)=>{var am=this['dataStore']['getBlockValue'](ak);if(am['id']){var an=new a1['a']({'ignoreLock':!0x0});am['source_id']&&(am=this['dataStore']['getBlockValue'](am['source_id'])),[X['y']['PAGE'],X['y']['DATABASE']]['includes'](am['type'])&&this['removePage'](an,am);var ao={'active':!0x0,'parent_type':'workspace','parent_id':this['spaceStore']['spaceId'],'permissions':am['permissions']?am['permissions']['filter'](ap=>'public'===ap['type']):[]};al?this['updatePage'](an,am['id'],af(ae({},ao),{'page_id':'','permissions':this['setPrivatePermission'](am['permissions'])})):this['updatePage'](an,am['id'],af(ae({},ao),{'page_id':'','permissions':this['setWorkspacePermission'](am['permissions'])})),this['spaceStore']['updateCurrentSpacePages']([...this['spaceStore']['currentWorkspace']['pages'],am['id']]),an['page']['addPageInWorkspace'](am['id'],this['spaceStore']['spaceId']),this['editorStore']['invokeObserver'](an);}},this['insertPage']=(ak,al,am,an)=>{var ao,ap=this['dataStore']['getBlockValue'](al),aq=this['dataStore']['getBlockValue'](am);if(ap['id']&&aq['id']){aq['source_id']&&(aq=this['dataStore']['getBlockValue'](aq['source_id'])),ap['source_id']&&(ap=this['dataStore']['getBlockValue'](ap['source_id'])),[X['y']['PAGE'],X['y']['DATABASE']]['includes'](ap['type'])&&this['removePage'](ak,ap);var ar=this['dataStore']['isTopPage'](aq)?Object(Q['toJS'])(this['spaceStore']['currentWorkspace']['pages']):Object(Q['toJS'])(this['dataStore']['getBlockProperty'](aq['parent_id'],'sub_nodes'));this['isWorkspacePermission'](ap['id'])&&this['isPrivatePermission'](aq['id'])&&(ap['permissions']=ap['permissions']['filter'](at=>'public'===at['type'])),this['isPrivatePermission'](ap['id'])&&this['isWorkspacePermission'](aq['id'])&&(ap['permissions']=ap['permissions']['filter'](at=>'public'===at['type']));var as={'active':!0x0,'parent_type':aq['parent_type'],'parent_id':aq['parent_id'],'permissions':null!=(ao=ap['permissions'])?ao:[]};this['dataStore']['isTopPage'](aq)?(this['isWorkspacePermission'](aq['id'])?this['updatePage'](ak,ap['id'],af(ae({},as),{'page_id':'','permissions':this['setWorkspacePermission'](ap['permissions'])})):this['isPrivatePermission'](aq['id'])&&this['updatePage'](ak,ap['id'],af(ae({},as),{'page_id':'','permissions':this['setPrivatePermission'](ap['permissions'])})),an?ar['splice'](ar['indexOf'](aq['id']),0x0,ap['id']):ar['splice'](ar['indexOf'](aq['id'])+0x1,0x0,ap['id']),this['spaceStore']['updateCurrentSpacePages'](ar),ak['page']['addPageInWorkspace'](ap['id'],this['spaceStore']['spaceId'],an?'':aq['id'])):(this['updatePage'](ak,ap['id'],af(ae({},as),{'page_id':aq['page_id']})),this['blockStore']['insertBlock'](ak,aq['parent_id'],ap['id'],an?'before':'after',ar['indexOf'](aq['id'])),this['adjustPages'](aq['page_id'],ap['id'],'add',{'id':aq['id'],'isPrev':an}));}},this['changeSubPagesStatus']=ak=>{ak['type']===X['y']['PAGE']&&(this['dataStore']['updateBlock'](ak['id'],{'status':X['w']['DELETE']}),(ak['sub_nodes']||[])['forEach'](al=>{var am=this['dataStore']['getBlockValue'](al);am['id']&&am['type']===X['y']['PAGE']&&this['changeSubPagesStatus'](am);}));},this['completelyDelete']=ak=>ah(this,null,function*(){var al=this['dataStore']['getBlockValue'](ak);if(al['status']===X['w']['TRASH']||al['status']===X['w']['INACTIVE']){if(this['changeSubPagesStatus'](al),!this['dataStore']['isTopPage'](al)){var am=this['dataStore']['getBlockValue'](al['parent_id']);if(am['id']){var an=am['sub_nodes']||[],ao=an['findIndex'](ap=>ap===ak);ao>-0x1&&(an['splice'](ao,0x1),am['type']!==X['y']['PAGE']&&this['dataStore']['updateBlock'](am['id'],{'sub_nodes':an}));}}yield Object(V['k'])({'pageId':ak}),this['pageId']===ak&&(this['firstPageId']?this['routerStore']['history']['replace'](this['firstPageId']):window['location']['href']='/');}}),this['init']();}['setPageCover'](aj){this['pageCover']=aj;}['setPageCoverId'](aj){this['pageCoverId']=aj;}get['pageId'](){return this['screenStore']['mainScreen']['id'];}get['isFavorite'](){return this['favoritePages']['includes'](this['pageId']);}get['favoritePages'](){return this['getFavoritePages']();}get['spacePages'](){return this['filterWorkspacePages']();}get['privatePages'](){return this['filterPrivatePages']();}get['sharedPages'](){return this['filterSharedPages']();}get['firstPageId'](){var aj=U['a'](X['Gb']),{spaceId:ak}=this['spaceStore'],al='';return ak&&aj&&aj['split']('/')[0x0]===ak&&(al=aj['split']('/')[0x1]),al||this['favoritePages'][0x0]||this['spacePages'][0x0]||this['sharedPages'][0x0]||this['privatePages'][0x0]||'';}['cancelUpload'](aj){this['workspaceStore']['changeUploadFileCount']('removes','',aj),this['aliOssAPI']['cancelUpload']();}}ag([Q['observable']],ai['prototype'],'isFollowed',0x2),ag([Q['observable']],ai['prototype'],'pages',0x2),ag([Q['observable']],ai['prototype'],'confirm',0x2),ag([Q['observable']],ai['prototype'],'qrCode',0x2),ag([a2['b']],ai['prototype'],'dataStore',0x2),ag([a2['b']],ai['prototype'],'routerStore',0x2),ag([a2['b']],ai['prototype'],'spaceStore',0x2),ag([a2['b']],ai['prototype'],'blockStore',0x2),ag([a2['b']],ai['prototype'],'biLinkStore',0x2),ag([a2['b']],ai['prototype'],'workspaceStore',0x2),ag([a2['b']],ai['prototype'],'userStore',0x2),ag([a2['b']],ai['prototype'],'editorStore',0x2),ag([a2['b']],ai['prototype'],'screenStore',0x2),ag([a2['b']],ai['prototype'],'domAPI',0x2),ag([a2['b']],ai['prototype'],'blockAPI',0x2),ag([a2['b']],ai['prototype'],'editorUI',0x2),ag([a2['b']],ai['prototype'],'aliOssAPI',0x2),ag([a2['b']],ai['prototype'],'invitationStore',0x2),ag([a2['b']],ai['prototype'],'databaseViewStore',0x2),ag([a2['b']],ai['prototype'],'pageActionCheckStore',0x2),ag([Q['observable']],ai['prototype'],'pageCover',0x2),ag([Q['observable']],ai['prototype'],'pageCoverId',0x2),ag([Q['action']],ai['prototype'],'init',0x2),ag([Q['action']],ai['prototype'],'getFollower',0x2),ag([Q['action']],ai['prototype'],'setFollower',0x2),ag([Q['action']],ai['prototype'],'batchCreatePages',0x2),ag([Q['action']],ai['prototype'],'refreshPages',0x2),ag([Q['action']],ai['prototype'],'resetPages',0x2),ag([Q['action']],ai['prototype'],'setConfirmOpen',0x2),ag([Q['action']['bound']],ai['prototype'],'openAlertModal',0x2),ag([Q['action']['bound']],ai['prototype'],'openConfirmModal',0x2),ag([Q['action']],ai['prototype'],'setConfirmClose',0x2),ag([Q['action']],ai['prototype'],'setQrCodeOpen',0x2),ag([Q['action']],ai['prototype'],'setPageId',0x2),ag([Q['action']],ai['prototype'],'selectPageId',0x2),ag([Q['action']],ai['prototype'],'loadFavoritePages',0x2),ag([Q['action']],ai['prototype'],'loadSharedPages',0x2),ag([Q['action']],ai['prototype'],'loadSubPages',0x2),ag([Q['action']],ai['prototype'],'updatePage',0x2),ag([Q['action']],ai['prototype'],'removePage',0x2),ag([Q['action']],ai['prototype'],'putPageInTrash',0x2),ag([Q['action']],ai['prototype'],'addImportPage',0x2),ag([Q['action']],ai['prototype'],'addNewDatabasePage',0x2),ag([Q['action']],ai['prototype'],'addNewPage',0x2),ag([Q['action']],ai['prototype'],'updatePageTitle',0x2),ag([Q['action']],ai['prototype'],'updatePageIcon',0x2),ag([Q['action']],ai['prototype'],'execOperateAfterMoveSuccess',0x2),ag([Q['action']],ai['prototype'],'movePageToOtherWorkspace',0x2),ag([Q['action']],ai['prototype'],'movePage',0x2),ag([Q['action']],ai['prototype'],'dragPage',0x2),ag([Q['action']],ai['prototype'],'updatePageToWorkspace',0x2),ag([Q['action']],ai['prototype'],'restorePage',0x2),ag([Q['action']],ai['prototype'],'dragPageInsertColumn',0x2),ag([Q['action']],ai['prototype'],'adjustPages',0x2),ag([Q['action']],ai['prototype'],'dragPageToAddButton',0x2),ag([Q['action']],ai['prototype'],'insertPage',0x2),ag([Q['action']],ai['prototype'],'completelyDelete',0x2),q['a']=Object(a4['a'])(ai);},'5ht6':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});class d{constructor(f,g,h){this['connection']=f,this['id']=g,this['onSubscribed']=h['onSubscribed'],this['onRejected']=h['onRejected'],this['onData']=h['onData'],this['subscribe']();}['subscribe'](){this['connection']['send']({'type':'subscribe','payload':{'channel':this['id']}}),this['connection']['channels']['set'](this['id'],this);}['unsubscribe'](){this['connection']['send']({'type':'unsubscribe','payload':{'channel':this['id']}}),this['connection']['channels']['delete'](this['id']);}['emitSubscribed'](){this['onSubscribed']&&this['onSubscribed'](this);}['emitRejected'](){this['onRejected']&&this['onRejected'](this);}['emitData'](f){this['onData']&&this['onData'](this,f);}['broadcast'](f){this['connection']['send']({'type':'broadcast','payload':{'channel':this['id'],'data':f}});}}},'5mAU':function(j,k,q){'use strict';q['d'](k,'a',function(){return N;});var w=q('mwIZ'),x=q['n'](w),z=q('Wgwc'),A=q('f9x4'),B=q('odX6'),C=Object['defineProperty'],D=Object['defineProperties'],E=Object['getOwnPropertyDescriptor'],F=Object['getOwnPropertyDescriptors'],G=Object['getOwnPropertySymbols'],H=Object['prototype']['hasOwnProperty'],I=Object['prototype']['propertyIsEnumerable'],J=(O,P,Q)=>P in O?C(O,P,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Q}):O[P]=Q,K=(O,P)=>{for(var Q in P||(P={}))H['call'](P,Q)&&J(O,Q,P[Q]);if(G){for(var Q of G(P))I['call'](P,Q)&&J(O,Q,P[Q]);}return O;},L=(O,P,Q,R)=>{for(var S,T=R>0x1?void 0x0:R?E(P,Q):P,U=O['length']-0x1;U>=0x0;U--)(S=O[U])&&(T=(R?S(P,Q,T):S(T))||T);return R&&T&&C(P,Q,T),T;},M=class{static['people'](O){var P=Object(B['b'])('memberStore'),Q=Object(B['b'])('groupStore'),R=O['map'](S=>{var T=P['currentWorkspaceMembers']['get'](S);if(T)return[T['username'],[['Mention','member',S]]];var U=Q['groupMap']['get'](S);return U?[U['name'],[['Mention','group',S]]]:void 0x0;})['filter'](Boolean);if(R['length'])return R;}static['select'](O,P){var Q,R=Object(B['b'])('databaseViewStore'),S=null==(Q=null==R?void 0x0:R['dataSources'])?void 0x0:Q['get'](P);if(!S)return[[]];var T=O['map'](U=>{var V=S['propertyOptions']['get'](U);return null==V?void 0x0:V['value'];})['filter'](Boolean);return T['length']?[[T['join'](','),[['Tag',O]]]]:void 0x0;}static['date'](O,P,Q){var R,S,T=Object(B['b'])('userStore');return O['start_date']&&z(O['start_date'])['isValid']()?[['@'['concat'](O['start_date']),[['Mention','date',(R=K(K({'allUser':!0x1},O),P||{'userList':T['userId']}),S={'reminder':Q||void 0x0,'type':'date'},D(R,F(S)))]]]]:[['']];}constructor(O,P){this['data']=P||{'properties':[]},this['table']=this['databaseViewStore']['dataSources']['get'](O),this['propertyOptionIds']=new Map();}['parse'](O){var P=[];O?P['push'](O):P['push'](...Object['keys'](this['data']['properties']||{})),P['forEach'](Q=>{var R=this['table']['getProperty'](Q);this['propertyOptionIds']['has'](Q)||this['propertyOptionIds']['set'](Q,new Set());var S=this['propertyOptionIds']['get'](Q);if(R){if([A['p']['CreatedBy'],A['p']['LastEditedBy'],A['p']['CreatedTime'],A['p']['LastEditedTime']]['includes'](R['type'])){var T=this['data'][R['type']];T&&S['add'](T);}else{if([A['p']['Select'],A['p']['MultiSelect']]['includes'](R['type'])){var U=(this['data']['properties'][R['id']]||[])['filter'](a0=>'Tag'===(Array['isArray'](a0)&&a0['length']?x()(a0,['1','0','0'],''):'')),V=x()(U,['0','1','0','1'],[]);Array['isArray'](V)&&V['length']&&V['forEach'](a0=>{S['add'](a0);});}else{if(A['p']['Date']===R['type'])(this['data']['properties'][R['id']]||[])['forEach'](a0=>{var a1=x()(a0,['1','0','0'],''),a2=x()(a0,['1','0','1'],'');if('Mention'===a1&&['date']['includes'](a2)){var a3=x()(a0,['1','0','2'],'');a3&&a3['start_date']&&S['add'](a3['start_date']);}});else{if(A['p']['People']===R['type'])(this['data']['properties'][R['id']]||[])['forEach'](a0=>{var a1=x()(a0,['1','0','0'],''),a2=x()(a0,['1','0','1'],'');if('Mention'===a1&&['member','group']['includes'](a2)){var a3=x()(a0,['1','0','2'],'');a3&&S['add'](a3);}});else{if(A['p']['Checkbox']===R['type']){var W=this['data']['properties'][R['id']]||[],X=W['length']?x()(W,['0','0'],'False'):'False';S['add'](X);}else{if([A['p']['Number'],A['p']['Text'],A['p']['Primary'],A['p']['Phone'],A['p']['Email'],A['p']['Url'],A['p']['File']]['includes'](R['type'])){var Y=this['data']['properties'][R['id']]||[['']],Z=this['blockAPI']['getTitlePlainTextByTitle'](Y);Z&&S['add'](Z);}}}}}}}});}['convert'](O){var P=this['propertyOptionIds']['get'](O),Q=this['table']['getProperty'](O),R=(null==P?void 0x0:P['size'])?Array['from'](P):[];if(R['length']&&Q){if(A['p']['Select']===Q['type'])return M['select'](R['slice'](0x0,0x1),this['table']['id']);if(A['p']['MultiSelect']===Q['type'])return M['select'](R,this['table']['id']);if(A['p']['People']===Q['type'])return M['people'](R);if(A['p']['Checkbox']===Q['type'])return'True'===x()(R,['0'],'False')?[['True']]:[['False']];if([A['p']['CreatedBy'],A['p']['LastEditedBy']]['includes'](Q['type']))return M['people'](R);}return this['data']['properties']?this['data']['properties'][O]:void 0x0;}['reBuild'](O){var P=this['propertyOptionIds']['get'](O),Q=this['table']['getProperty'](O),R=(null==P?void 0x0:P['size'])?Array['from'](P):[];return R['length']&&Q?A['p']['Date']===Q['type']?M['date']({'start_date':R[0x0]}):[A['p']['Text'],A['p']['Url'],A['p']['Primary'],A['p']['Email'],A['p']['Phone'],A['p']['Number']]['includes'](Q['type'])?[[R[0x0]||'']]:this['convert'](O):[['']];}['addOptionId'](O,P){this['propertyOptionIds']['has'](P)||this['propertyOptionIds']['set'](P,new Set()),this['propertyOptionIds']['get'](P)['add'](O);}['deleteOptionId'](O,P){this['propertyOptionIds']['has'](P)&&this['propertyOptionIds']['get'](P)['delete'](O);}['getOptionIds'](O){return this['propertyOptionIds']['has'](O)||this['propertyOptionIds']['set'](O,new Set()),this['propertyOptionIds']['get'](O);}},N=M;L([B['b']],N['prototype'],'databaseViewStore',0x2),L([B['b']],N['prototype'],'blockAPI',0x2);},'6AEw':function(j,k,q){'use strict';q['d'](k,'a',function(){return H;}),q['d'](k,'b',function(){return I;}),q['d'](k,'c',function(){return J;});var v=q('q1tI'),w=q['n'](v),x=q('oJnK'),y=Object['defineProperty'],z=Object['defineProperties'],A=Object['getOwnPropertyDescriptors'],B=Object['getOwnPropertySymbols'],C=Object['prototype']['hasOwnProperty'],D=Object['prototype']['propertyIsEnumerable'],E=(K,L,M)=>L in K?y(K,L,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':M}):K[L]=M,F=(K,L)=>{for(var M in L||(L={}))C['call'](L,M)&&E(K,M,L[M]);if(B){for(var M of B(L))D['call'](L,M)&&E(K,M,L[M]);}return K;},G={'style':{},'size':void 0x0,'gap':void 0x0,'color':'var(--color-basic-400)'},H=K=>{var {size:L='100%',color:M,gap:N=0x0,style:O}=K,P=F({'width':L,'height':L,'color':M,'margin':N},O);return w['a']['createElement']('div',{'className':'spinner-border','style':P},w['a']['createElement']('span',{'className':'sr-only'},'Loading...'));};H['defaultProps']=G;var I=K=>{var L,M=K,{size:N=0x12,gap:O=0x18,style:P}=M,Q=((R,S)=>{var T={};for(var U in R)C['call'](R,U)&&S['indexOf'](U)<0x0&&(T[U]=R[U]);if(null!=R&&B){for(var U of B(R))S['indexOf'](U)<0x0&&D['call'](R,U)&&(T[U]=R[U]);}return T;})(M,['size','gap','style']);return w['a']['createElement']('div',{'style':F({'width':'100%','height':'100%','display':'flex','justifyContent':'center','alignItems':'center'},P)},w['a']['createElement'](H,(L=F({},Q),z(L,A({'size':N,'gap':O})))));};I['defaultProps']=G;var J=K=>{var {delay:L}=K,[M,N]=w['a']['useState'](!0x1);return Object(v['useEffect'])(()=>{if(L>0x0){var O=setTimeout(()=>N(!0x0),L);return()=>{clearTimeout(O);};}N(!0x0);},[]),M?w['a']['createElement']('div',{'className':x['pageLoading']},w['a']['createElement']('div',{'className':'spinner-border','style':{'color':'#eee','position':'absolute','top':0x8c}},w['a']['createElement']('span',{'className':'sr-only'},'Loading...'))):null;};J['defaultProps']={'delay':0x0},I['defaultProps']=G;},'6VSi':function(j,q,x){'use strict';var z=x('mwIZ'),F=x['n'](z),G=x('Mn35'),H=x['n'](G),J=x('Y+p1'),K=x['n'](J),M=x('BkRI'),Q=x['n'](M),R=x('UrOp'),U=x['n'](R),V=x('YteJ'),W=x['n'](V),X=x('2vnA'),Y=x('b4JY'),Z=x('bXzw'),a0=x('Tk+0'),a1=x('9rbq'),a2=x('odX6'),a3=Object['defineProperty'],a4=Object['defineProperties'],a5=Object['getOwnPropertyDescriptor'],a6=Object['getOwnPropertyDescriptors'],a7=Object['getOwnPropertySymbols'],a8=Object['prototype']['hasOwnProperty'],a9=Object['prototype']['propertyIsEnumerable'],aa=(ah,ai,aj)=>ai in ah?a3(ah,ai,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aj}):ah[ai]=aj,ab=(ah,ai)=>{for(var aj in ai||(ai={}))a8['call'](ai,aj)&&aa(ah,aj,ai[aj]);if(a7){for(var aj of a7(ai))a9['call'](ai,aj)&&aa(ah,aj,ai[aj]);}return ah;},ac=(ah,ai)=>a4(ah,a6(ai)),ad=(ah,ai,aj,ak)=>{for(var al,am=ak>0x1?void 0x0:ak?a5(ai,aj):ai,an=ah['length']-0x1;an>=0x0;an--)(al=ah[an])&&(am=(ak?al(ai,aj,am):al(am))||am);return ak&&am&&a3(ai,aj,am),am;},ae=(ah,ai,aj)=>new Promise((ak,al)=>{var am=ap=>{try{ao(aj['next'](ap));}catch(aq){al(aq);}},an=ap=>{try{ao(aj['throw'](ap));}catch(aq){al(aq);}},ao=ap=>ap['done']?ak(ap['value']):Promise['resolve'](ap['value'])['then'](am,an);ao((aj=aj['apply'](ah,ai))['next']());}),af={'add':'添加','delete':'删除','update':'修改'};class ag{constructor(){this['init']=()=>{this['allUpdates']=new Map(),this['updates']=[],this['loading']=!0x0,this['errorMsg']='';},this['getUpdatesOfPage']=(ah,ai)=>ae(this,null,function*(){if(ah)try{this['loading']=!0x0;var aj=yield Object(Y['b'])(ah,ai);return this['updates']=this['reBuildUpdates'](aj),this['addUpdates'](this['updates']),this['loading']=!0x1,aj;}catch(ak){this['loading']=!0x1,this['errorMsg']='获取数据失败，请重新尝试';}}),this['onLoadMoreUpdates']=ah=>ae(this,null,function*(){if(!this['loading']){this['loading']=!0x0,this['errorMsg']='';var ai=this['updates'][0x0]['edited_time_by_minute'];try{var aj=yield Object(Y['b'])(ah,ai);this['updates']=this['reBuildUpdates'](aj)['concat'](this['updates']),this['addUpdates'](this['reBuildUpdates'](aj)),this['loading']=!0x1;}catch(ak){this['loading']=!0x1;}}}),this['getChangelogs']=ah=>ae(this,null,function*(){if(ah){var ai=yield Object(Y['a'])(ah);return this['updates']=this['reBuildUpdates'](ai),this['addUpdates'](this['updates']),this['loading']=!0x1,ai;}}),this['init']();}['addUpdates'](ah){ah['forEach'](ai=>{this['allUpdates']['set'](ai['id'],ai);});}['reBuildUpdates'](ah){var ai=an=>{var ao;return null==(ao=an[0x1])?void 0x0:ao['some'](ap=>!![a0['a']['Note'],a0['a']['Footnote']]['includes'](ap[0x0])&&(delete ap[0x2]['edited_time'],delete ap[0x2]['render_id'],delete ap[0x2]['numero'],!0x0));},aj=(an,ao)=>{var [ap=[],aq=[]]=an;return aq['push'](ao['column']['map'](ar=>{var as=F()(ar,'attributes.title',[['']]),[at,au]=H()(as,ai);return at['length']&&ap['push'](...at),au;})),an;},ak=(an,ao)=>Array['from'](new Set(an['concat']([ao[0x1][0x0][0x2]['note_id']]))),al=an=>(ao,ap)=>{var aq=ap[0x1][0x0],ar=aq[0x2]['note_id'];if(ao['has'](ar)){ao['get'](ar)['positions']['push']({'block_id':an['blockId'],'edited_by':an['edited_by']});var as=ao['get'](ar)['edited_by'];ao['get'](ar)['edited_by']=Array['from'](new Set(as['concat'](an['edited_by'])));}else ao['set'](ar,{'status':an['type'],'note_id':ar,'note_type':aq[0x0],'block_id':an['blockId'],'positions':[{'block_id':an['blockId'],'edited_by':an['edited_by']}],'edited_by':an['edited_by'],'old_note':null,'current_note':{'note_id':ar,'note_title':aq[0x1],'note_label':aq[0x2]['label']}});return ao;},am=[];return Q()(ah)['forEach'](an=>{var ao=new Map(),{changelogs:ap,id:aq}=an,ar=ap['filter'](as=>{var {old_block:at,current_block:au,edited_by:av=an['edited_by'],block_id:aw}=as;if(!at&&au){if(au['type']===a1['y']['SIMPLE_TABLE'])this['blockAPI']['getTableCells'](au)['forEach'](aU=>{aU['column']['forEach'](aV=>{var aW=F()(aV,'attributes.title',[['']]),[aX]=H()(aW,ai);aX['reduce'](al({'changelogId':aq,'type':'add','blockId':aw,'edited_by':av}),ao);});});else{var ax=F()(au,'attributes.title',[['']]),[ay]=H()(ax,ai);ay['reduce'](al({'changelogId':aq,'type':'add','blockId':aw,'edited_by':av}),ao);}}else{if(at&&au&&at['active']&&au['active']){var az=[],aA=[],aB=[],aC=[];if(au['type']===a1['y']['SIMPLE_TABLE']){var aD=this['blockAPI']['getTableCells'](au),aE=this['blockAPI']['getTableCells'](at),aF=aD['reduce'](aj,[[],[]]);az['push'](...aF[0x0]),aB['push'](...aF[0x1]);var aG=aE['reduce'](aj,[[],[]]);aA['push'](...aG[0x0]),aC['push'](...aG[0x1]);}else{var aH=F()(au,'attributes.title',[['']]),aI=F()(at,'attributes.title',[['']]),aJ=H()(aH,ai),aK=H()(aI,ai);az['push'](...aJ[0x0]),aB['push'](...aJ[0x1]),aA['push'](...aK[0x0]),aC['push'](...aK[0x1]);}var aL=W()(aA,az,K['a']);if(aL['length']){var aM=aL['reduce'](ak,[]),aN=aA['reduce'](ak,[]),aO=az['reduce'](ak,[]),aP=U()(aM,aO,K['a']),aQ=U()(aM,aN,K['a']),aR=aM['filter'](aU=>!aP['includes'](aU)&&!aQ['includes'](aU)),aS=new Map(),aT=new Map();if(az['reduce'](al({'changelogId':aq,'type':'add','blockId':aw,'edited_by':av}),aT),aA['reduce'](al({'changelogId':aq,'type':'add','blockId':aw,'edited_by':av}),aS),aQ['forEach'](aU=>{var aV=aT['get'](aU);ao['set'](aU,ab({},aV));}),aR['forEach'](aU=>{var aV=aS['get'](aU),aW=aT['get'](aU);ao['set'](aU,ac(ab({},aW),{'status':'update','old_note':aV['current_note']}));}),K()(aB,aC)&&aM['length']&&aR['length']===aM['length'])return!0x1;}}}return!0x0;});an['changelogs']['length']?ar['length']&&am['push'](ac(ab({},an),{'changelogs':ar,'notes':[]})):am['push'](ac(ab({},an),{'notes':[]})),ao['size']&&ao['forEach'](as=>{am['push'](ac(ab({},an),{'changelogs':[],'comments':[],'non_editing_operation':'','notes':[as],'changelog_title':''['concat'](af[as['status']],'了')['concat'](as['note_type']===a0['a']['Footnote']?'脚注':'注释'),'edited_by':as['edited_by']}));});}),am;}}ad([a2['b']],ag['prototype'],'blockAPI',0x2),ad([X['observable']],ag['prototype'],'updates',0x2),ad([X['observable']],ag['prototype'],'loading',0x2),ad([X['observable']],ag['prototype'],'errorMsg',0x2),ad([X['action']],ag['prototype'],'init',0x2),ad([X['action']],ag['prototype'],'getUpdatesOfPage',0x2),ad([X['action']],ag['prototype'],'onLoadMoreUpdates',0x2),ad([X['action']],ag['prototype'],'getChangelogs',0x2),q['a']=Object(Z['a'])(ag);},'6qwk':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('odX6'),f=(j,k)=>{var q,v,w,{w:x,h:y,right:z,offset:A,followCursor:B=!0x1,xOffset:C=0x0}=k,D=window['innerHeight'],E=window['innerWidth'],F={},{xPos:G,yPos:H}=Object(d['b'])('domAPI')['getSelectionCoords']();if(B)v=H,q=G;else{if(j['getBoundingClientRect']){var I=j['getBoundingClientRect']();q=I['left'],v=I['top'];}else q=j['clientX'],v=j['clientY'];}return y+v>D-A?(w=!0x0,F['top']=v-y,F['top']<0x0&&(F['top']=(D-y)/0x2)):F['top']=v+A,x+q>E?F['right']=z:F['left']=q+C,{'style':F,'upper':w};};},'6tnN':function(b,f,g){'use strict';var h=g('q1tI'),j=g('MuQO'),k=g('9rbq'),m=g('odX6'),p=g('aD9L'),q=g('4/VU'),v=g('ASQM'),w=g('9Koi'),x=g('0W19');f['a']=z=>{var {t:A}=Object(w['a'])('editor'),B={'code':{'url':k['q']['CODE'],'label':A('editor.blockTooltip.useCodeTooltip','了解如何使用代码片段')},'simpleTable':{'url':k['q']['TABLE'],'label':A('editor.blockTooltip.useSimpleTableTooltip','了解如何使用简单表格')},'embed':{'url':k['q']['EMBED'],'label':A('editor.blockTooltip.useVideoEmbedTooltip','了解如何嵌入视频网站播放器')},'universalEmbed':{'url':k['q']['UNIVERSAL_EMBED'],'label':A('editor.blockTooltip.useUniversalEmbedTooltip','了解如何嵌入内容')},'neteaseMusic':{'url':k['q']['NETEASE_MUSIC'],'label':A('editor.blockTooltip.useNeteaseMusicTooltip','了解如何嵌入网易云音乐的歌曲')},'image':{'url':k['q']['IMAGE'],'label':A('editor.blockTooltip.useImageTooltip','了解如何使用图片')},'bookmark':{'url':k['q']['BOOKMARK'],'label':A('editor.blockTooltip.useBookmarkTooltip','了解如何使用网址书签')},'file':{'url':k['q']['FILE'],'label':A('editor.blockTooltip.useFileTooltip','了解如何上传文件')},'mathEquation':{'url':k['q']['LATEX'],'label':A('editor.blockTooltip.useMathEquationTooltip','了解如何使用数学公式')},'template':{'url':k['q']['TEMPLATE'],'label':A('editor.blockTooltip.useTemplateTooltip','了解如何使用模板按钮')},'inviteCode':{'url':k['q']['INVITE_CODE'],'label':A('editor.blockTooltip.useInviteCodeTooltip','了解什么是注册邀请码')},'point':{'url':k['q']['CREDITS'],'label':A('editor.blockTooltip.usePointTooltip','了解什么是积分')},'randomPage':{'url':k['q']['RANDOM_PAGE'],'label':A('editor.blockTooltip.useRandomPageTooltip','了解什么是手气不错')},'video':{'url':k['q']['VIDEO'],'label':A('editor.blockTooltip.useVideoTooltip','了解如何使用视频')},'audio':{'url':k['q']['AUDIO'],'label':A('editor.blockTooltip.useAudioTooltip','了解如何使用音频')},'diagram':{'url':k['q']['DIAGRAM'],'label':A('editor.blockTooltip.useDiagramTooltip','了解什么是页面关系图')},'permission':{'url':k['q']['PERMISSION'],'label':A('editor.blockTooltip.usePermissionTooltip','了解页面权限规则')},'biLink':{'url':k['q']['BILINK'],'label':A('editor.blockTooltip.useBiLinkTooltip','了解如何使用块引用与块嵌入')},'progress':{'url':k['q']['PROGRESS'],'label':A('editor.blockTooltip.useProgressTooltip','了解如何使用进度条')},'collaboration':{'url':k['q']['COLLABORATION'],'lable':A('editor.blockTooltip.useCollaborationTooltip','了解空间升级详情')},'flyMode':{'url':k['q']['FLYMODE'],'label':A('editor.blockTooltip.useFlyModeTooltip','了解什么是飞行模式')},'spaceGuestHelp':{'url':k['q']['SPACE_GUEST_HELP'],'label':A('editor.blockTooltip.useSpaceGuestTooltip','了解什么是空间访客')},'pin':{'url':k['q']['LOCK_SCREEN'],'label':A('editor.blockTooltip.usePinTooltip','了解更多锁屏详情')},'memberPermission':{'url':k['q']['MEMBER_PERMISSION'],'label':A('editor.blockTooltip.useMemberPermissionTooltip','了解页面权限')},'guestPermission':{'url':k['q']['GUEST_PERMISSION'],'label':A('editor.blockTooltip.useGuestPermissionTooltip','了解为页面添加访客')},'databaseViewProperty':{'url':k['q']['DATABASE_VIEW_PROPERTY'],'label':''},'database':{'url':k['q']['DATABASE'],'label':A('editor.blockTooltip.useDatabaseTooltip','了解数据表格')},'databaseTemplate':{'url':k['q']['DATABASE_TEMPLATE'],'label':''},'databaseFilter':{'url':k['q']['DATABASE_FILTER'],'label':''},'databaseSort':{'url':k['q']['DATABASE_SORT'],'label':''},'databaseForm':{'url':k['q']['DATABASE_FORM'],'label':A('editor.blockTooltip.useDatabaseFormTooltip','了解如何使用表单')},'spaceSetting':{'url':k['q']['SPACE_SETTING'],'label':A('editor.blockTooltip.useWorkSpaceTooltip','了解什么是工作空间')},'blockHistory':{'url':k['Ob']['BLOCK_HISTORY'],'label':A('editor.blockTooltip.useBlockHistoryTooltip','了解块历史')},'databaseFormula':{'url':k['q']['DATABASE_FORMULA'],'label':A('editor.blockTooltip.useDatabaseFormulaTooltip','了解更多数据表格公式列使用方法')},'databaseViewGroup':{'url':k['q']['DATABASE_VIEW_GROUP'],'label':''}},{userStore:C,workspaceStore:D}=Object(m['b'])('rootStore'),F=Object(m['b'])('domAPI'),{type:G,containerStyle:H,hidden:J,showClose:K,innerStyle:L,iconComponent:M,hideLabel:N,helpIcon:P,trackName:Q,fixMobile:R}=z;if(!B[G]||J||D['isPreview'])return null;var T=B[G]||{};return h['createElement']('div',{'className':'block-tooltip\x20'['concat'](j['layout'],'\x20')['concat'](R&&Object(p['h'])()?j['mobileLayout']:''),'style':H},h['createElement']('div',{'className':'align-items-center\x20'['concat'](j['tooltip']),'style':L,'onClick':U=>{F['prevent'](U),Q&&x['a']['track'](Q),D['inApp']?Object(q['a'])(T['url']):window['open'](T['url']);}},h['createElement']('span',{'className':j['tooltipSvg']},M||h['createElement'](v['a'],{'width':'14','height':'14'})),h['createElement']('span',{'className':j['content']},N?'':T['label'])),K&&h['createElement']('div',{'onClick':U=>{F['prevent'](U),'code'===G?C['setCodeTooltip'](!0x0):'simpleTable'===G?C['setSimpleTableTooltip'](!0x0):'mathEquation'===G?C['setLatexTooltip'](!0x0):'diagram'===G&&C['setDiagramTooltip'](!0x0);},'className':j['closeTooltip']},A(k['cb']['HIDE_TIPS'],'不再提示')));};},'7+vZ':function(j,k,q){'use strict';q['d'](k,'d',function(){return K;}),q['d'](k,'e',function(){return L;}),q['d'](k,'a',function(){return M;}),q['d'](k,'c',function(){return N;}),q['d'](k,'b',function(){return O;});var w=q('5D19'),x=q('Rsoz'),z=q('f9x4'),A=Object['defineProperty'],B=Object['defineProperties'],C=Object['getOwnPropertyDescriptors'],D=Object['getOwnPropertySymbols'],E=Object['prototype']['hasOwnProperty'],F=Object['prototype']['propertyIsEnumerable'],G=(P,Q,R)=>Q in P?A(P,Q,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':R}):P[Q]=R,H=(P,Q)=>{for(var R in Q||(Q={}))E['call'](Q,R)&&G(P,R,Q[R]);if(D){for(var R of D(Q))F['call'](Q,R)&&G(P,R,Q[R]);}return P;},I=(P,Q)=>B(P,C(Q)),J=(P,Q,R)=>new Promise((T,U)=>{var V=Y=>{try{X(R['next'](Y));}catch(Z){U(Z);}},W=Y=>{try{X(R['throw'](Y));}catch(Z){U(Z);}},X=Y=>Y['done']?T(Y['value']):Promise['resolve'](Y['value'])['then'](V,W);X((R=R['apply'](P,Q))['next']());}),K=P=>J(void 0x0,null,function*(){return yield Object(w['n'])(Object(w['p'])('database/tableMetas'),{'table_ids':P,'timezoneOffset':new Date()['getTimezoneOffset']()},w['h'],!0x0);});function L(P,Q){return J(this,null,function*(){var R;switch(P){case z['h']['Table']:R=yield function(T){return J(this,null,function*(){return yield Object(w['g'])(Object(w['p'])('database/tableViewRows'),I(H({},T),{'timezoneOffset':new Date()['getTimezoneOffset']()}),w['h'],!0x0);});}(Q);break;case z['h']['Board']:R=yield function(T){return J(this,null,function*(){return yield Object(w['g'])(Object(w['p'])('database/boardViewRows'),I(H({},T),{'timezoneOffset':new Date()['getTimezoneOffset']()}),w['h'],!0x0);});}(Q);break;case z['h']['Gallery']:R=yield function(T){return J(this,null,function*(){return yield Object(w['g'])(Object(w['p'])('database/galleryViewRows'),I(H({},T),{'timezoneOffset':new Date()['getTimezoneOffset']()}),w['h'],!0x0);});}(Q);break;case z['h']['List']:R=yield function(T){return J(this,null,function*(){return yield Object(w['g'])(Object(w['p'])('database/listViewRowData'),I(H({},T),{'timezoneOffset':new Date()['getTimezoneOffset']()}),w['h'],!0x0);});}(Q);break;default:throw Error(x['a']['t']('services.api.database.noSupported','暂未支持',{'ns':'editor'}));}return R;});}function M(P){return J(this,null,function*(){return yield Object(w['o'])(Object(w['p'])('database/commonData'),I(H({},P),{'timezoneOffset':new Date()['getTimezoneOffset']()}),w['h']);});}function N(P){return J(this,null,function*(){return yield Object(w['i'])(Object(w['p'])('database/commonData',I(H({},P),{'timezoneOffset':new Date()['getTimezoneOffset']()})),w['h']);});}var O=(P,Q)=>J(void 0x0,null,function*(){return Q===z['h']['Board']?yield Object(w['i'])(Object(w['p'])('database/boardViewRows',I(H({},P),{'timezoneOffset':new Date()['getTimezoneOffset']()})),w['h'],!0x0):Q===z['h']['List']?yield Object(w['i'])(Object(w['p'])('database/listViewRowData',I(H({},P),{'timezoneOffset':new Date()['getTimezoneOffset']()})),w['h'],!0x0):Q===z['h']['Gallery']?yield Object(w['i'])(Object(w['p'])('database/galleryViewRows',I(H({},P),{'timezoneOffset':new Date()['getTimezoneOffset']()})),w['h'],!0x0):void 0x0;});},'7L2d':function(f,g,j){'use strict';j['d'](g,'a',function(){return D;});var k=j('mRsi'),m=j['n'](k),q=j('PtqM'),v=j['n'](q),w=j('4qC0'),x=j['n'](w),y=j('E+oP'),z=j['n'](y),A=j('M9XF'),B=j('mkDC'),C=j('C8q+');class D extends A['a']{['logicif'](E,F,G){if(v()(E))return E;var H=F,I=G;return null==F&&(H=0x0),null==G&&(I=0x0),E?H:I;}['and'](){for(var E=arguments['length'],F=new Array(E),G=0x0;G<E;G++)F[G]=arguments[G];return!m()(F)['some'](H=>!H);}['or'](){for(var E=arguments['length'],F=new Array(E),G=0x0;G<E;G++)F[G]=arguments[G];return m()(F)['some'](H=>H);}['nor'](){for(var E=arguments['length'],F=new Array(E),G=0x0;G<E;G++)F[G]=arguments[G];return!m()(F)['some'](H=>H);}['not'](E){return v()(E)?E:x()(E)?C['b']['VALUE']:!E;}['isEmpty'](E){return v()(E)?E:void 0x0===E||('string'==typeof E?!E:'number'==typeof E?isNaN(E):z()(E));}['isError'](E){return E instanceof Error;}}D['implementedFunctions']={'IF':{'method':'logicif','valueType':B['a']['Boolean'],'definition':'根据条件判断返回结果','use':'IF(condition,\x20value_if_true,\x20value_if_false)','useParams':'condition：判断条件\x0avalue_if_true：条件为真(true)，返回的值\x0avalue_if_false：条件为假(false)，返回的值','example':()=>'IF({健康码}\x20=\x20\x27红色\x27,\x20\x22隔离\x22,\x20\x22通行\x22)','parameters':[{'argumentType':[B['a']['Boolean']]},{'argumentType':[B['a']['Boolean'],B['a']['Date'],B['a']['Number'],B['a']['String']]},{'argumentType':[B['a']['Boolean'],B['a']['Date'],B['a']['Number'],B['a']['String']]}]},'AND':{'method':'and','valueType':B['a']['Boolean'],'definition':'所有判断条件均为真(true)，则返回真(true)；否则为假(false)','use':'AND(condition1,[condition2],...)','useParams':'condition...：逻辑判断条件','example':()=>'AND(10\x20>\x202,3\x20<\x2020)\x20=\x20true\x0aAND(100-20\x20=\x2070,\x203*5\x20=\x2015)\x20=\x20false','parameters':[{'argumentType':[B['a']['Boolean']]}],'expandRanges':!0x0},'OR':{'method':'or','valueType':B['a']['Boolean'],'definition':'任一判断条件存在真(true)，则返回真(true)；否则为假(false)','use':'OR(condition1,[condition2],...)','useParams':'condition...：逻辑判断条件','example':()=>'OR(10\x20>\x202,3\x20<\x2020)\x20=\x20true\x0aOR(100-20\x20=\x2070,\x203*5\x20=\x2015)\x20=\x20true\x0aOR(100-20\x20=\x2070,\x203*5\x20=\x2016)\x20=\x20false','parameters':[{'argumentType':[B['a']['Boolean']]}],'expandRanges':!0x0},'NOR':{'method':'nor','valueType':B['a']['Boolean'],'definition':'任一判断条件存在真(true)，则返回假(false)；否则为真(true)','use':'nor(condition1,[condition2],...)','useParams':'condition...：逻辑判断条件','example':()=>'OR(10\x20>\x202,3\x20<\x2020)\x20=\x20false\x0aOR(100-20\x20=\x2070,\x203*5\x20=\x2015)\x20=\x20false\x0aOR(100-20\x20=\x2070,\x203*5\x20=\x2016)\x20=\x20true','parameters':[{'argumentType':[B['a']['Boolean']]}],'expandRanges':!0x0},'NOT':{'method':'not','valueType':B['a']['Boolean'],'definition':'逻辑条件取反','use':'NOT(condition)','useParams':'condition：判断条件','example':()=>'NOT(false)\x20=\x20true\x0aNOT({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[B['a']['Boolean']]}]},'ISEMPTY':{'method':'isEmpty','valueType':B['a']['Boolean'],'definition':'判断值是否为空','use':'isEmpty(value)','useParams':'value:\x20用于判断的值','example':()=>'isEmpty(\x22\x22)\x20=>\x20true\x20isEmpty(\x22string\x22)\x20=>\x20false','parameters':[{'argumentType':[B['a']['Boolean'],B['a']['Date'],B['a']['Number'],B['a']['String'],B['a']['WLDate']]}]},'ISERROR':{'method':'isError','valueType':B['a']['Boolean'],'definition':'判断表达式是否错误','use':'isError(expr)','useParams':'expr:\x20表达式','example':()=>'isError(10/2)\x20=\x20false\x20isError(10/0)\x20=\x20true','parameters':[{'argumentType':[B['a']['Boolean'],B['a']['Date'],B['a']['Number'],B['a']['String'],B['a']['WLDate']]}]}};},'7Scw':function(b,f,g){'use strict';g['d'](f,'a',function(){return k;}),g['d'](f,'b',function(){return l;}),g['d'](f,'d',function(){return m;}),g['d'](f,'c',function(){return p;}),g['d'](f,'e',function(){return q;});var h=g('5D19'),j=(u,v,w)=>new Promise((x,y)=>{var z=C=>{try{B(w['next'](C));}catch(D){y(D);}},A=C=>{try{B(w['throw'](C));}catch(D){y(D);}},B=C=>C['done']?x(C['value']):Promise['resolve'](C['value'])['then'](z,A);B((w=w['apply'](u,v))['next']());}),k=(u=>(u['Unread']='unread',u['Read']='read',u))(k||{}),l=(u=>(u[u['Inbox']=0x1]='Inbox',u[u['Follow']=0x2]='Follow',u[u['All']=0x0]='All',u))(l||{}),m=u=>j(void 0x0,null,function*(){return u['spaceId']?yield Object(h['i'])(Object(h['p'])('notice/getUserNotices',u),h['h']):{'notices':[],'lastSequence':0x0};}),p=u=>j(void 0x0,null,function*(){return u['spaceId']?yield Object(h['i'])(Object(h['p'])('notice/getNoticeCount',u),h['h']):{'unreadCount':0x0};}),q=u=>j(void 0x0,null,function*(){return yield Object(h['n'])(Object(h['p'])('notice/sendUserNotice'),u,h['h']);});},'7w4y':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=!0x1;},'8/AG':function(b,c,d){'use strict';d['d'](c,'c',function(){return f;}),d['d'](c,'a',function(){return g;}),d['d'](c,'b',function(){return h;});var f=['/','/first','/login','/signup','/new','/random','/day','/enter','invitationLanding','/new-form'],g=['/','/product','/login','/reset_password','/signup','/downloads','/enter','/invitation/:invitationId','/public-invitation/:invitationId','/invitationLanding','/signOutFinish','/pricing'],h=['/','/product','/downloads','/invitation','/invitation/:invitationId','/public-invitation/:invitationId','/pricing'];},'83zN':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('mwIZ'),g=d['n'](f);class h{constructor(){var j=this;this['diff']=d('Yk1I'),this['filterListByType']=(k,l)=>k['filter'](m=>{var [{type:n}]=m;return n===l;}),this['searchRegExp']=k=>new RegExp(this['solveRegExp'](k),'i'),this['spliceCharacters']=function(k){for(var l=arguments['length'],m=new Array(l>0x1?l-0x1:0x0),n=0x1;n<l;n++)m[n-0x1]=arguments[n];return m['reduce']((p,q)=>{if(k[q]){var s='string'==typeof k[q]?k[q]:k[q]['join']('​');return k['exclude']&&(s=s['replace'](new RegExp(k['exclude'],'g'),'')),''['concat'](p,'​')['concat'](s);}return p;},'');},this['solveRegExp']=k=>k['split']('')['map'](l=>['\x5c','[',']','(',')','*','.','+','-','?','$','^','{','}','|']['includes'](l)?'\x5c'['concat'](l):l)['join'](''),this['extractSearchTxt']=function(){var k=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'\x20',l=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'\x20',m=arguments['length']>0x2?arguments[0x2]:void 0x0,p=j['diff'](l,k),q=g()(p['find'](s=>0x1===s[0x0]),'1','');return m?q:q['replace'](/^(\/|\\|、|＼|／)/,'');},this['diffTxt']=(k,l)=>{for(var m=k['split'](''),n=l['split']('');n['length'];){var p=m['findIndex'](q=>q===n[0x0]);p>-0x1&&(n['splice'](0x0,0x1),m['splice'](p,0x1));}return m['join']('');},this['lcs']=(k,l)=>{for(var m=k['length'],p=l['length'],q=[Array(p+0x1)['fill'](0x0)],s=0x1;s<=m;s++){q[s]=[0x0];for(var u=0x1;u<=p;u++)k[s-0x1]===l[u-0x1]?q[s][u]=q[s-0x1][u-0x1]+0x1:q[s][u]=Math['max'](q[s][u-0x1],q[s-0x1][u]);}return((v,w,x,y,z)=>{for(var A=[];x>0x0&&y>0x0;)v[x-0x1]===w[y-0x1]?(A['unshift'](v[x-0x1]),x--,y--):z[x][y-0x1]>=z[x-0x1][y]?y--:x--;return A['join']('');})(k,l,m,p,q);};}}},'8I4+':function(a,b,c){'use strict';var d=window['requestAnimationFrame']||window['webkitRequestAnimationFrame']||function(g){window['setTimeout'](g,0x3e8/0x3c);},f=function(g,h,j,k){return(g/=k/0x2)<0x1?j/0x2*g*g+h:-j/0x2*(--g*(g-0x2)-0x1)+h;};b['a']=function(g,h){var j=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x3e8,k=arguments['length']>0x3?arguments[0x3]:void 0x0;if(g){j=Math['min'](Number(j),0xbb8);var m=g['scrollTop'],p=h-m,q=+Number(new Date()),u=!0x0,v=function w(){if(!u||!g)return k?k():void 0x0;d(w);var x=+Number(new Date()),y=Math['floor'](f(x-q,m,p,j));g['scrollTop']=y,x>q+j&&(g['scrollTop']=h,u=!0x1);};d(v);}};},'8IDf':function(j,k,q){'use strict';var w=q('2vnA'),x=q('uMVv'),z=q('OIS1'),A=q('qX4z'),B=q('sA5H'),C=q('Q8iX'),D=q('9rbq'),E=q('Usk8'),F=q('4/VU'),G=q('odX6'),H=q('KQwE'),I=q('YfBr'),J=q('bXzw'),K=Object['defineProperty'],L=Object['getOwnPropertyDescriptor'],M=(P,Q,R,T)=>{for(var U,V=T>0x1?void 0x0:T?L(Q,R):Q,W=P['length']-0x1;W>=0x0;W--)(U=P[W])&&(V=(T?U(Q,R,V):U(V))||V);return T&&V&&K(Q,R,V),V;},N=(P,Q,R)=>new Promise((T,U)=>{var V=Y=>{try{X(R['next'](Y));}catch(Z){U(Z);}},W=Y=>{try{X(R['throw'](Y));}catch(Z){U(Z);}},X=Y=>Y['done']?T(Y['value']):Promise['resolve'](Y['value'])['then'](V,W);X((R=R['apply'](P,Q))['next']());});Object(w['configure'])({'enforceActions':'never'});class O{constructor(){var P=this;this['uploadFileCount']=0x0,this['uploadFileBlockList']=[],this['themeChangeLoading']=!0x1,this['prevLoadIcon']=!0x1,this['toggleNodeExpandAll']=!0x1,this['isPublic']=!0x1,this['setPrevLoadIcon']=()=>{this['prevLoadIcon']=!0x0;},this['setIsPdf']=Q=>{this['isPdf']=Q,this['userStore']['setHeaderLevelPrompt'](!0x1),this['userStore']['setListLevelAlignment'](!0x1),this['userStore']['setBlankLinePrompt'](!0x1);},this['setIsPreview']=Q=>{this['isPreview']=Q,this['userStore']['setHeaderLevelPrompt'](!0x1),this['userStore']['setListLevelAlignment'](!0x1),this['userStore']['setBlankLinePrompt'](!0x1);},this['setEnvOs']=Q=>{this['previewOs']=Q;},this['sendCookieToApp']=Q=>{this['inApp']&&Object(F['l'])(Q);},this['changeUploadFileCount']=(Q,R,T)=>{if('add'===Q)this['uploadFileBlockList']['includes'](R)||this['uploadFileBlockList']['push'](R);else{if('remove'===Q&&this['uploadFileCount']>0x0){var U=this['uploadFileBlockList']['findIndex'](V=>V===R);U>-0x1&&this['uploadFileBlockList']['splice'](U,0x1);}else'removes'===Q&&T['length']>0x0?T['forEach'](V=>{var W=this['uploadFileBlockList']['findIndex'](X=>X===V);W>-0x1&&this['uploadFileBlockList']['splice'](W,0x1);}):'clear'===Q&&(this['uploadFileBlockList']=[]);}this['uploadFileCount']=this['uploadFileBlockList']['length'];},this['setToggleExpandAll']=Q=>{this['toggleNodeExpandAll']=Q;},this['setNewPage']=(Q,R)=>{this['newPage']=Q,this['newPageType']=R||'';},this['setTheme']=Q=>{this['theme']=Q;var {pageId:R}=this['pageStore'],T=this['dataStore']['getBlockValue'](R);if(T['id']){var U=T['setting']||{},{page_icon:V}=U;this['blockStore']['getShortCutIcon'](V,R);}E['b']['emit']('themeToggle',{'theme':Q}),Object(F['b'])(Q),this['userStore']['setWechatConfig'](),window&&window['interop']&&window['interop']['useLightTitleBarInWindows']&&('light'===Q?window['interop']['useLightTitleBarInWindows']():window['interop']['useDarkTitleBarInWindows']());},this['setInApp']=Q=>{this['inApp']=Q;},this['setAppVersion']=Q=>{this['appVersion']=Q;},this['setAppDevice']=Q=>{this['appDevice']=Q;},this['setDisableUpdate']=Q=>{this['disableUpdate']=Q;},this['setAppConvertModal']=Q=>{this['appConvertModal']=Q;},this['setNotFound']=Q=>{this['notFound']=Q;},this['setAccessDenied']=Q=>{this['accessDenied']=Q;},this['setAccessError']=Q=>{this['accessError']=Q;},this['changeToTheme']=function(){var Q=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'light';sessionStorage['setItem']('shareTheme',Q),P['setTheme'](Q),'light'===Q?document['documentElement']['hasAttribute']('theme')&&document['documentElement']['removeAttribute']('theme'):document['documentElement']['setAttribute']('theme','dark');},this['toggleTheme']=(Q,R)=>{if(!this['themeChangeLoading']){this['themeChangeLoading']=!0x0;var T=R||this['theme']||x['a'](D['sc'],!0x0)||'light',U=Q?'dark'===T?'light':'dark':T;Q&&('light'===U?document['documentElement']['classList']['add']('dark-to-light'):document['documentElement']['classList']['add']('light-to-dark')),'light'===U?document['documentElement']['hasAttribute']('theme')&&document['documentElement']['removeAttribute']('theme'):document['documentElement']['setAttribute']('theme','dark'),x['c'](D['sc'],U,!0x0),this['setTheme'](U),setTimeout(()=>{this['themeChangeLoading']=!0x1,Q&&('light'===U?document['documentElement']['classList']['remove']('dark-to-light'):document['documentElement']['classList']['remove']('light-to-dark'));},0x3e8);}},this['setAutoTheme']=Q=>{var R;(this['themeAuto']=Q,x['c'](D['tc'],Q,!0x0),Q)?(window['matchMedia']('(prefers-color-scheme:\x20dark)')['matches']?this['toggleTheme'](!0x1,'dark'):this['toggleTheme'](!0x1,'light'),Object(F['b'])('system')):Object(F['b'])(this['theme']),(null==(R=window['interop'])?void 0x0:R['switchTheme'])&&window['interop']['switchTheme'](Q?'system':this['theme']);},this['switchAutoTheme']=Q=>{var R=x['a'](D['tc'],!0x0);void 0x0!==Q?R!==Q&&this['setAutoTheme'](Q):this['setAutoTheme'](!R);},this['initWorkspace']=Q=>N(this,null,function*(){var {routerStore:R,spaceStore:T,pageStore:U}=this,{domainId:V,pageId:W}=Q,{domainOrPageId:X}=Q;if(W){if(!Object(z['c'])(W))return void R['history']['replace']('/');}else{if(V){if(!C['m']['test'](V))return void R['history']['replace']('/');}else{if(X){if(V=Object(A['a'])(),Object(z['c'])(X))W=X;else{if(!C['m']['test'](X)||V)return void R['history']['replace']('/');V=X;}}}}var Y=T['spaceId']||'',Z=W||U['pageId']||'',a0=V||'';yield this['checkLocation'](Y,a0,Z);}),this['getWorkspaceData']=Q=>N(this,null,function*(){var R,T=x['a'](D['wc'],!0x0);D['gb']?yield this['initFlyModeUserData']():Q&&(null==(R=null==T?void 0x0:T['workspaces'])?void 0x0:R['length'])?(this['initWorkspaceData'](T),this['initWorkspaceData']()):yield this['initWorkspaceData']();}),this['initWorkspaceData']=Q=>N(this,null,function*(){var R,{spaceStore:T,dataStore:U,userStore:V}=this;if(Q)R=Q;else{if(!(R=yield Object(B['W'])()))return;R['workspaces']&&x['c'](D['wc'],R,!0x0);}var {workspaces:W,spaceViews:X,secureConfig:Y}=R;this['secureConfig']=Y||[],T['workspaces']=W['map'](Z=>{var a0=T['workspaces']['find'](a1=>a1['id']===Z['id']);return a0?Object['assign'](a0,Z):Z;}),T['applySpaceViews'](X),U['syncSpaceData'](),V['initSupportBox']({'name':'空间计划','value':V['hasPremiumSpace']()?'专业版用户':'试用版用户'});}),this['syncSecureConfig']=function(){var Q=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[];P['secureConfig']?P['secureConfig']=[...P['secureConfig'],...Q]:P['secureConfig']=Q;},this['initWorkspacePages']=Q=>N(this,null,function*(){if(!D['gb']&&this['userStore']['userId']){var R=this['spaceStore']['workspaces']['map'](V=>V['id']),T=Q;T||(T=this['spaceStore']['spaceId'],R['includes'](T)&&R['splice'](R['indexOf'](T),0x1));var {blocks:U}=yield Object(B['X'])(T);this['dataStore']['syncBlockData'](U),this['pageStore']['batchCreatePages'](Object['keys'](U)['map'](V=>this['dataStore']['getBlockValue'](V))),this['spaceStore']['refresh'](),!Q&&T&&this['initOtherWorkspacePages'](R);}}),this['initOtherWorkspacePages']=Q=>N(this,null,function*(){for(var R of Q){var {blocks:T}=yield Object(B['X'])(R);this['dataStore']['syncBlockData'](T),this['pageStore']['batchCreatePages'](Object['keys'](T)['map'](U=>this['dataStore']['getBlockValue'](U)));}}),this['initFlyModeUserData']=()=>N(this,null,function*(){for(var Q=H['a']['getInstance'](),R=yield Q['recordsDB']['toArray'](),T=R['sort']((Z,a0)=>Z['index']-a0['index'])['map'](Z=>JSON['parse'](Z['data'])),U={},V={},W=[],X=0x0;X<R['length'];X++){U[R[X]['workspace_id']]=JSON['parse'](R[X]['viewData']);var Y=yield Q['dirtyWorkspaceDB']['get'](R[X]['workspace_id']);Y&&(T[X]['pages']=Y['pages']),W['push'](...T[X]['pages']);}(yield I['a']['getData'](W))['forEach'](Z=>{V[Z['id']]={'value':Z};}),this['initWorkspaceData']({'secureConfig':[],'spaceViews':U,'workspaces':T}),this['dataStore']['syncBlockData'](V);}),this['getSecureConfigByKey']=Q=>{if(this['secureConfig'])return(this['secureConfig']['find'](R=>(null==R?void 0x0:R['id'])===Q)||{})['value'];},this['checkLocation']=(Q,R,T)=>N(this,null,function*(){var {spaceStore:U,pageStore:V,userStore:W,routerStore:X,invitationStore:Y}=this,Z=this['newPage']?{'spaceId':Q}:yield Object(B['A'])(this['getPageDataParams'](R,T)),a0=Object(A['a'])();if(!Z['spaceId']||R&&Z['spaceDomain']&&Z['spaceDomain']!==R||a0&&Z['spaceDomain']!==a0){var a1=x['a'](D['Gb']);return(a1&&a1['split']('/')[0x1])===T&&T&&x['c'](''['concat'](D['Gb']),''),void(this['notFound']=!0x0);}U['spaceId']=Z['spaceId'],U['setSpaceDomain'](Z['spaceDomain']),U['setSharePageConfig'](Z);var a2=T||V['firstPageId'];if(!a2)return W['userId']?void(this['accessDenied']=!0x0):void(this['needLogin']=!0x0);if(!this['newPage']){var a3=yield Object(B['v'])([{'table':D['Db'],'id':a2}]);if('disabled'===a3[0x0]['role'])return void(this['accessDenied']=!0x0);if('read'===a3[0x0]['role']){if(!a3[0x0]['active'])return void(this['notFound']=!0x0);this['isPublic']=!0x0;}}this['accessDenied']=!0x1,yield Y['init'](),U['setSpaceId'](Z['spaceId']),this['isPublic']||this['initWorkspacePages']();var a4=U['domainId']||Z['spaceDomain'];if(a4){if(Object(A['j'])()&&Object(A['a'])()){if(X['location']['pathname']!=='/'['concat'](a2))return void X['history']['replace']('/'['concat'](a2)['concat'](X['location']['hash']));}else{if(X['location']['pathname']!=='/'['concat'](a4,'/')['concat'](a2))return void X['history']['replace']('/'['concat'](a4,'/')['concat'](a2)['concat'](X['location']['hash']));}}else{if(X['location']['pathname']!=='/'['concat'](a2))return void X['history']['replace']('/'['concat'](a2)['concat'](X['location']['hash']));}V['pageId']!==a2&&V['setPageId'](a2);}),this['getPageDataParams']=(Q,R)=>{var T={};return!this['newPage']&&R?T={'blockId':R,'type':'page'}:Q&&(T={'domainId':Q,'type':'space'}),T;},setTimeout(()=>{var {inApp:Q,os:R,pdf:T,preview:U,expandAll:V}=Object(A['c'])();this['inApp']=Q,R&&this['setEnvOs'](R),T&&this['setIsPdf'](!0x0),U&&this['setIsPreview'](!0x0),V&&this['setToggleExpandAll'](!0x0),this['toggleTheme'](!0x1,''),this['themeAuto']=Boolean(x['a'](D['tc'],!0x0));var W=window['matchMedia']('(prefers-color-scheme:\x20dark)');W['addEventListener']?W['addEventListener']('change',()=>{this['themeAuto']&&this['toggleTheme'](!0x1,W['matches']?'dark':'light');}):W['addListener'](X=>{this['themeAuto']&&this['toggleTheme'](!0x1,X['matches']?'dark':'light');});});}}M([G['b']],O['prototype'],'pageStore',0x2),M([G['b']],O['prototype'],'blockStore',0x2),M([G['b']],O['prototype'],'spaceStore',0x2),M([G['b']],O['prototype'],'routerStore',0x2),M([G['b']],O['prototype'],'userStore',0x2),M([G['b']],O['prototype'],'dataStore',0x2),M([G['b']],O['prototype'],'memberStore',0x2),M([G['b']],O['prototype'],'invitationStore',0x2),M([w['observable']],O['prototype'],'newPage',0x2),M([w['observable']],O['prototype'],'newPageType',0x2),M([w['observable']],O['prototype'],'accessDenied',0x2),M([w['observable']],O['prototype'],'accessError',0x2),M([w['observable']],O['prototype'],'notFound',0x2),M([w['observable']],O['prototype'],'needLogin',0x2),M([w['observable']],O['prototype'],'theme',0x2),M([w['observable']],O['prototype'],'themeAuto',0x2),M([w['observable']],O['prototype'],'inApp',0x2),M([w['observable']],O['prototype'],'disableUpdate',0x2),M([w['observable']],O['prototype'],'appConvertModal',0x2),M([w['observable']],O['prototype'],'appVersion',0x2),M([w['observable']],O['prototype'],'secureConfig',0x2),M([w['observable']],O['prototype'],'isPreview',0x2),M([w['observable']],O['prototype'],'previewOs',0x2),M([w['observable']],O['prototype'],'appDevice',0x2),M([w['observable']],O['prototype'],'isPdf',0x2),M([w['action']],O['prototype'],'setIsPdf',0x2),M([w['action']],O['prototype'],'setIsPreview',0x2),M([w['action']],O['prototype'],'setEnvOs',0x2),M([w['action']],O['prototype'],'setNewPage',0x2),M([w['action']],O['prototype'],'setTheme',0x2),M([w['action']],O['prototype'],'setInApp',0x2),M([w['action']],O['prototype'],'setAppVersion',0x2),M([w['action']],O['prototype'],'setAppDevice',0x2),M([w['action']],O['prototype'],'setDisableUpdate',0x2),M([w['action']],O['prototype'],'setAppConvertModal',0x2),M([w['action']],O['prototype'],'setNotFound',0x2),M([w['action']],O['prototype'],'setAccessDenied',0x2),M([w['action']],O['prototype'],'setAccessError',0x2),M([w['action']],O['prototype'],'setAutoTheme',0x2),M([w['action']],O['prototype'],'switchAutoTheme',0x2),M([w['action']],O['prototype'],'initWorkspace',0x2),M([w['action']],O['prototype'],'getWorkspaceData',0x2),k['a']=Object(J['a'])(O);},'8JmA':function(b,f,g){'use strict';g['d'](f,'a',function(){return w;});var h=g('sEfC'),j=g['n'](h),k=g('2vnA'),m=g('bXzw'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],v=(y,z,A,B)=>{for(var C,D=B>0x1?void 0x0:B?q(z,A):z,E=y['length']-0x1;E>=0x0;E--)(C=y[E])&&(D=(B?C(z,A,D):C(D))||D);return B&&D&&p(z,A,D),D;},w=Object['freeze']({'XS':'00-xs','SM':'01-sm','MD':'02-md','LG':'03-lg','XL':'04-xl','XXL':'05-xxl'});class x{constructor(){this['breakpoint']=w['XL'],this['updateBreakpoint']=j()(y=>{this['breakpoint']=this['calculateBreakpoint'](y);},0x12c),this['setSize']({'innerWidth':window['innerWidth'],'innerHeight':window['innerHeight']});}get['isXXL'](){return this['breakpoint']===w['XXL'];}get['isXL'](){return this['breakpoint']===w['XL'];}get['isLG'](){return this['breakpoint']===w['LG'];}get['isMD'](){return this['breakpoint']===w['MD'];}get['isSM'](){return this['breakpoint']===w['SM'];}get['isXS'](){return this['breakpoint']===w['XS'];}['setSize'](y){var {innerWidth:z,innerHeight:A}=y;this['innerWidth']=z,this['innerHeight']=A,this['updateBreakpoint'](z);}['calculateBreakpoint'](y){return y>=0x578?w['XXL']:y>=0x4b0?w['XL']:y>=0x3e0?w['LG']:y>=0x300?w['MD']:y>=0x240?w['SM']:w['XS'];}}v([k['observable']],x['prototype'],'innerWidth',0x2),v([k['observable']],x['prototype'],'innerHeight',0x2),v([k['observable']],x['prototype'],'breakpoint',0x2),v([k['computed']],x['prototype'],'isXXL',0x1),v([k['computed']],x['prototype'],'isXL',0x1),v([k['computed']],x['prototype'],'isLG',0x1),v([k['computed']],x['prototype'],'isMD',0x1),v([k['computed']],x['prototype'],'isSM',0x1),v([k['computed']],x['prototype'],'isXS',0x1),v([k['action']],x['prototype'],'setSize',0x1),v([k['action']],x['prototype'],'updateBreakpoint',0x2),f['b']=Object(m['a'])(x);},'8T8U':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('Rsoz'),g=d('9rbq'),h=()=>[[{'type':g['I']['LAST_USED'],'name':f['a']['t']('editor.menu.color.lastUsed','上次使用',{'ns':'editor'}),'action':'','keyword':['yanse','ys','颜色','color']},[]],[{'type':g['I']['COLOR'],'name':f['a']['t']('editor.menu.color.fontColor','文字颜色',{'ns':'editor'}),'action':'','keyword':['yanse','ys','颜色','wenziyanse','wzys']},[{'optionId':'color1','description':f['a']['t']('editor.menu.color.defaultColorTip','调整文字颜色为默认色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.defaultColor','默认',{'ns':'editor'}),'value':'Default','style':{'color':g['E']['Default']},'setting':{'color':'Default'},'keyword':['heise','black','黑色']},{'optionId':'color2','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.grayColorTip','调整文字颜色为灰色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.grayColor','灰色',{'ns':'editor'}),'value':'Gray','style':{'color':g['E']['Gray']},'setting':{'color':'Gray'},'keyword':['huise','gray','灰色']},{'optionId':'color3','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.darkGrayColorTip','调整文字颜色为深灰色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.darkGrayColor','深灰',{'ns':'editor'}),'value':'DarkGray','style':{'color':g['E']['DarkGray']},'setting':{'color':'DarkGray'},'keyword':['shenhui','darkgray','darkgrey','深灰色','深灰']},{'optionId':'color4','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.brownColorTip','调整文字颜色为棕色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.brownColor','棕色',{'ns':'editor'}),'value':'Brown','style':{'color':g['E']['Brown']},'setting':{'color':'Brown'},'keyword':['zongse','brown','棕色']},{'optionId':'color5','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.orangeColorTip','调整文字颜色为橙色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.orangeColor','橙色',{'ns':'editor'}),'value':'Orange','style':{'color':g['E']['Orange']},'setting':{'color':'Orange'},'keyword':['chengse','orange','橙色']},{'optionId':'color6','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.yellowColorTip','调整文字颜色为黄色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.yellowColor','黄色',{'ns':'editor'}),'value':'Yellow','style':{'color':g['E']['Yellow']},'setting':{'color':'Yellow'},'keyword':['huangse','yellow','黄色']},{'optionId':'color7','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.greenColorTip','调整文字颜色为绿色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.greenColor','绿色',{'ns':'editor'}),'value':'Green','style':{'color':g['E']['Green']},'setting':{'color':'Green'},'keyword':['lvse','green','绿色']},{'optionId':'color8','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.blueColorTip','调整文字颜色为蓝色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.blueColor','蓝色',{'ns':'editor'}),'value':'Blue','style':{'color':g['E']['Blue']},'setting':{'color':'Blue'},'keyword':['lanse','blue','蓝色']},{'optionId':'color9','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.indigoColorTip','调整文字颜色为靛蓝色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.indigoColor','靛蓝',{'ns':'editor'}),'value':'Indigo','style':{'color':g['E']['Indigo']},'setting':{'color':'Indigo'},'keyword':['dianlan','indigo','靛蓝']},{'optionId':'color10','content':f['a']['t']('editor.menu.color.purpleColor','紫色',{'ns':'editor'}),'img':d('VbyP'),'description':f['a']['t']('editor.menu.color.purpleColorTip','调整文字颜色为紫色',{'ns':'editor'}),'value':'Purple','style':{'color':g['E']['Purple']},'setting':{'color':'Purple'},'keyword':['zise','purple','紫色']},{'optionId':'color11','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.pinkColorTip','调整文字颜色为粉色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.pinkColor','粉色',{'ns':'editor'}),'value':'Pink','style':{'color':g['E']['Pink']},'setting':{'color':'Pink'},'keyword':['fense','pink','粉色']},{'optionId':'color12','img':d('VbyP'),'description':f['a']['t']('editor.menu.color.redColorTip','调整文字颜色为红色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.color.redColor','红色',{'ns':'editor'}),'value':'Red','style':{'color':g['E']['Red']},'setting':{'color':'Red'},'keyword':['hongse','red','红色']}]],[{'type':g['I']['BACKGROUND'],'action':'','name':f['a']['t']('editor.menu.background.Color','背景色',{'ns':'editor'}),'keyword':['ys','yanse','颜色','background','bgcolor','背景色','背景颜色','beijing','beijingse','beijingyanse']},[{'optionId':'color13','description':f['a']['t']('editor.menu.background.defaultColorTip','调整背景颜色为默认色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.defaultColor','默认',{'ns':'editor'}),'value':'Default\x20background','style':{'background':Object(g['e'])('Default\x20background')},'setting':{'background':'Default\x20background'},'keyword':['mrbj','morenbeijing']},{'optionId':'color14','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.grayColorTip','调整背景颜色为白灰',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.grayColor','白灰',{'ns':'editor'}),'value':'Cultured\x20background','style':{'background':Object(g['e'])('Cultured\x20background')},'setting':{'background':'Cultured\x20background'},'keyword':['baihuibeijing','huise','gray','白灰色','冷色','lengse']},{'optionId':'color15','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.darkGrayColorTip','调整背景颜色为暗银',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.darkGrayColor','暗银',{'ns':'editor'}),'value':'Light\x20Gray\x20background','style':{'background':Object(g['e'])('Light\x20Gray\x20background')},'setting':{'background':'Light\x20Gray\x20background'},'keyword':['anyinbeijing','shenhuise','huise','dark\x20gray','暗银色','深灰色','冷色','lengse']},{'optionId':'color16','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.brownColorTip','调整背景颜色为浅棕色',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.brownColor','浅棕',{'ns':'editor'}),'value':'Apricot\x20background','style':{'background':Object(g['e'])('Apricot\x20background')},'setting':{'background':'Apricot\x20background'},'keyword':['qianzongbeijing','qianzongse','danzongse','qianzong','浅棕色','淡棕色']},{'optionId':'color17','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.orangeColorTip','调整背景颜色为鲜橘',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.orangeColor','鲜橘',{'ns':'editor'}),'value':'Vivid\x20Tangerine\x20background','style':{'background':Object(g['e'])('Vivid\x20Tangerine\x20background')},'setting':{'background':'Vivid\x20Tangerine\x20background'},'keyword':['xianjubeijing','xianjuse','chengse','juse','orange','橙色','橘色','暖色','nuanse']},{'optionId':'color18','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.yellowColorTip','调整背景颜色为淡黄',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.yellowColor','淡黄',{'ns':'editor'}),'value':'Blond\x20background','style':{'background':Object(g['e'])('Blond\x20background')},'setting':{'background':'Blond\x20background'},'keyword':['danhuangbeijing','danhuangse','light\x20yellow','淡黄色']},{'optionId':'color19','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.greenColorTip','调整背景颜色为浅绿',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.greenColor','浅绿',{'ns':'editor'}),'value':'Aero\x20Blue\x20background','style':{'background':Object(g['e'])('Aero\x20Blue\x20background')},'setting':{'background':'Aero\x20Blue\x20background'},'keyword':['qianlvbeijing','qianlvse','light\x20green','浅绿色','淡绿色']},{'optionId':'color20','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.blueColorTip','调整背景颜色为天蓝',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.blueColor','天蓝',{'ns':'editor'}),'value':'Uranian\x20Blue\x20background','style':{'background':Object(g['e'])('Uranian\x20Blue\x20background')},'setting':{'background':'Uranian\x20Blue\x20background'},'keyword':['tianlanbeijing','tianlanse','blue','天蓝色','冷色','lengse']},{'optionId':'color21','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.indigoColorTip','调整背景颜色为雾蓝',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.indigoColor','雾蓝',{'ns':'editor'}),'value':'Lavender\x20Blue\x20background','style':{'background':Object(g['e'])('Lavender\x20Blue\x20background')},'setting':{'background':'Lavender\x20Blue\x20background'},'keyword':['wulanbeijing','wulanse','purple\x20blue','雾蓝色','紫蓝色','蓝色','紫色','冷色','lengse']},{'optionId':'color22','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.purpleColorTip','调整背景颜色为轻紫',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.purpleColor','轻紫',{'ns':'editor'}),'value':'Pale\x20Purple\x20background','style':{'background':Object(g['e'])('Pale\x20Purple\x20background')},'setting':{'background':'Pale\x20Purple\x20background'},'keyword':['qingzibeijing','qingzise','light\x20purple','轻紫色','淡紫色']},{'optionId':'color23','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.pinkColorTip','调整背景颜色为熏粉',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.pinkColor','熏粉',{'ns':'editor'}),'value':'Pink\x20Lavender\x20background','style':{'background':Object(g['e'])('Pink\x20Lavender\x20background')},'setting':{'background':'Pink\x20Lavender\x20background'},'keyword':['xunfenbeijing','xunfense','zise','purple','薰粉色','紫色','薰紫色']},{'optionId':'color24','img':d('VbyP'),'description':f['a']['t']('editor.menu.background.redColorTip','调整背景颜色为将红',{'ns':'editor'}),'content':f['a']['t']('editor.menu.background.redColor','将红',{'ns':'editor'}),'value':'Light\x20Pink\x20background','style':{'background':Object(g['e'])('Light\x20Pink\x20background')},'setting':{'background':'Light\x20Pink\x20background'},'keyword':['jianghongbeijing','jianghong','pink\x20red','粉红色','淡红色','暖色','nuanse']}]]];},'8ZWo':function(b,f,g){'use strict';g['d'](f,'a',function(){return m;}),g['d'](f,'c',function(){return q;}),g['d'](f,'e',function(){return v;}),g['d'](f,'h',function(){return w;}),g['d'](f,'g',function(){return x;}),g['d'](f,'d',function(){return y;}),g['d'](f,'b',function(){return z;}),g['d'](f,'f',function(){return A;}),g['d'](f,'i',function(){return B;});var j=g('5D19'),k=(C,D,E)=>new Promise((F,G)=>{var H=K=>{try{J(E['next'](K));}catch(L){G(L);}},I=K=>{try{J(E['throw'](K));}catch(L){G(L);}},J=K=>K['done']?F(K['value']):Promise['resolve'](K['value'])['then'](H,I);J((E=E['apply'](C,D))['next']());}),m=(C=>(C[C['Deleted']=-0x1]='Deleted',C[C['Resolved']=0x0]='Resolved',C[C['Opening']=0x1]='Opening',C))(m||{}),q=C=>k(void 0x0,null,function*(){return(yield Object(j['b'])(Object(j['p'])('blockDiscuss',C),j['h']))['data'];}),v=C=>k(void 0x0,null,function*(){return(yield Object(j['a'])(Object(j['p'])('blockDiscuss',C),j['h']))['data'];}),w=C=>k(void 0x0,null,function*(){return yield Object(j['n'])(Object(j['p'])('blockDiscuss'),C,j['h']);}),x=C=>k(void 0x0,null,function*(){return yield Object(j['o'])(Object(j['p'])('blockDiscuss'),C,j['h']);}),y=C=>k(void 0x0,null,function*(){return(yield Object(j['b'])(Object(j['p'])('discussComment',C),j['h']))['data'];}),z=C=>k(void 0x0,null,function*(){return yield Object(j['n'])(Object(j['p'])('discussComment'),C,j['h']);}),A=C=>k(void 0x0,null,function*(){return(yield Object(j['a'])(Object(j['p'])('discussComment',C),j['h']))['data'];}),B=C=>k(void 0x0,null,function*(){return yield Object(j['o'])(Object(j['p'])('discussComment'),C,j['h']);});},'8eFb':function(f,j,k){'use strict';var q=k('Y+p1'),v=k['n'](q),w=k('vN+2'),x=k['n'](w),y=k('Xdxp'),z=k['n'](y),A=k('gb7j'),B=k['n'](A),C=k('ijCd'),D=k['n'](C),E=k('f9x4'),F=k('llz1'),G=class{static['validate'](I,J,K){var L=G['actuators'][J];return L?L(I,K):(console['error']('未实现文本类型'['concat'](J,'操作符')),!0x1);}static['convert'](I,J,K){if(!G['actuators'][J])return console['error']('未实现文本类型'['concat'](J,'操作符')),!0x1;if(!G['validate'](I,J,K)){var L=G['convertors'][J];return L?L(I,K):(console['error']('未实现文本类型\x20'['concat'](J,'\x20转换')),!0x1);}}},H=G;H['operators']=[E['k']['Equal'],E['k']['NotEqual'],E['k']['StartWith'],E['k']['EndWith'],E['k']['Contain'],E['k']['NotContain'],E['k']['Empty'],E['k']['NotEmpty']],H['actuators']={[E['k']['Equal']]:(I,J)=>{var {value:K}=I['values']()['next']();return!J||v()(K,J);},[E['k']['NotEqual']]:(I,J)=>{var {value:K}=I['values']()['next']();return!J||!v()(K,J);},[E['k']['StartWith']]:(I,J)=>{var {value:K}=I['values']()['next']();return!J||z()(K,J);},[E['k']['EndWith']]:(I,J)=>{var {value:K}=I['values']()['next']();return!J||B()(K,J);},[E['k']['Contain']]:(I,J)=>{var {value:K=''}=I['values']()['next']();return!J||D()(K,J);},[E['k']['NotContain']]:(I,J)=>{var {value:K=''}=I['values']()['next']();return!J||!D()(K,J);},[E['k']['Empty']]:I=>{if(0x0!==I['size']){var {value:J=''}=I['values']()['next']();return!J;}return!0x0;},[E['k']['NotEmpty']]:I=>{if(0x0!==I['size']){var {value:J=''}=I['values']()['next']();return Boolean(J);}return!0x1;}},H['convertors']={[E['k']['Equal']]:(I,J)=>{var {value:K}=I['values']()['next']();K||I['add'](J);},[E['k']['NotEqual']]:x['a'],[E['k']['StartWith']]:(I,J)=>{var {value:K}=I['values']()['next']();J&&(I['clear'](),I['add'](''['concat'](J)['concat'](K||'')));},[E['k']['EndWith']]:(I,J)=>{var {value:K}=I['values']()['next']();J&&(I['clear'](),I['add'](''['concat'](J)['concat'](K||'')));},[E['k']['Contain']]:(I,J)=>{var {value:K}=I['values']()['next']();J&&(I['clear'](),I['add'](''['concat'](J||'')['concat'](K||'')));},[E['k']['NotContain']]:x['a'],[E['k']['Empty']]:x['a'],[E['k']['NotEmpty']]:x['a']},F['a']['registerValidator'](E['p']['Text'],H),F['a']['registerValidator'](E['p']['Url'],H),F['a']['registerValidator'](E['p']['Primary'],H),F['a']['registerValidator'](E['p']['Email'],H),F['a']['registerValidator'](E['p']['Phone'],H);},'8ebD':function(j,k,q){'use strict';var w=q('2vnA'),x=q('odX6'),z=q('9fl2'),A=q('9rbq'),B=q('sA5H'),C=q('bXzw'),D=Object['defineProperty'],E=Object['defineProperties'],F=Object['getOwnPropertyDescriptor'],G=Object['getOwnPropertyDescriptors'],H=Object['getOwnPropertySymbols'],I=Object['prototype']['hasOwnProperty'],J=Object['prototype']['propertyIsEnumerable'],K=(O,P,Q)=>P in O?D(O,P,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Q}):O[P]=Q,L=(O,P)=>{for(var Q in P||(P={}))I['call'](P,Q)&&K(O,Q,P[Q]);if(H){for(var Q of H(P))J['call'](P,Q)&&K(O,Q,P[Q]);}return O;},M=(O,P,Q,R)=>{for(var S,T=R>0x1?void 0x0:R?F(P,Q):P,U=O['length']-0x1;U>=0x0;U--)(S=O[U])&&(T=(R?S(P,Q,T):S(T))||T);return R&&T&&D(P,Q,T),T;};Object(w['configure'])({'enforceActions':'never'});class N{constructor(){this['copyMenuPopperState']={'anchorEl':null,'callback':null},this['urlConvertState']={'id':'','cellId':'','anchorEl':null,'url':'','type':'','offset':0x0},this['textActionBarState']={'id':'','cellId':'','anchorEl':null,'type':'','fromModal':!0x1,'extend':{}},this['blockHistoryState']={'id':'','anchorEl':null,'type':''},this['tableOperateState']={'anchorEl':null,'id':'','databaseId':'','type':'','pageLocked':!0x1,'showBasic':!0x1,'viewId':'','propertyId':'','tagValue':'','pageMode':!0x1,'screenId':'','rowBlockId':'','history':[]},this['tableEditorState']={'id':'','anchorEl':null,'propertyId':'','propertyType':'','databaseId':'','width':0x0,'height':0x0,'pageId':'','databaseBlockId':'','pageMode':!0x1,'pageLocked':!0x1},this['meetingState']={'nodeId':'','pageId':'','anchorEl':null,'pageLocked':!0x1,'initType':''},this['tableFormMemberSelectState']={'id':'','anchorEl':null,'viewId':'','formValue':[['']],'handleSubmit':null},this['modalStatus']={},this['modalData']={},this['setTableOperateState']=(O,P)=>{!P&&this['tableOperateState']['anchorEl']&&O['anchorEl']?this['tableOperateState']['history']['push'](L({},this['tableOperateState'])):this['tableOperateState']['history']=[],this['tableOperateState']=L(L(L({},this['tableOperateState']),O['anchorEl']?{'pageMode':!0x1,'pageLocked':!0x1,'screenId':'','width':null,'showBasic':!0x1,'rowBlockId':''}:{}),O);},this['setMeetingState']=O=>{this['meetingState']=L(L(L({},this['meetingState']),{'pageLocked':!0x1,'initType':''}),O);},this['setTableEditorState']=O=>{O['anchorEl']&&this['domAPI']['removeAllRangesAndBlur'](),this['tableEditorState']=L(L(L({},this['tableEditorState']),O['anchorEl']?{'pageMode':!0x1,'pageLocked':!0x1}:{}),O);},this['setTableFormMemberSelectState']=O=>{this['tableFormMemberSelectState']=L(L({},this['tableFormMemberSelectState']),O);},this['setBlockHistoryState']=O=>{this['blockHistoryState']=L(L({},this['blockHistoryState']),O);},this['setTextActionBarState']=O=>{var P,Q;this['textActionBarState']=(P=L(L({},this['textActionBarState']),O),Q={'menus':O['menus']||void 0x0},E(P,G(Q)));},this['setCopyMenuPopperState']=O=>{this['domAPI']['removeAllRangesAndBlur'](),this['copyMenuPopperState']=L({},O);},this['setUrlConvertState']=O=>{return P=this,Q=null,R=function*(){var S=this['domAPI']['$']('#editorRoot');if(O['id']&&S){if(O['url']){var T=new URL(Object(z['b'])(O['url']));if(T){var U=T['hostname'],{hostname:V}=window['location'];if(V['includes'](U)){var W=O['url']['split']('?')[0x0]['split']('/'),X=W[W['length']-0x1]['split']('#');if(!this['dataStore']['getBlock'](X[0x0])){var Y=yield Object(B['v'])([{'table':A['Db'],'id':X[0x0]}]);this['dataStore']['blocks'][X[0x0]]=Y[0x0];}}}}S['scrollHeight']>S['clientHeight']&&(S['style']['margin-right']=''['concat'](S['offsetWidth']-S['clientWidth'],'px')),S['style']['overflow-y']='hidden',this['editorStore']['preventEditorKeydownAction'](!0x0);}else S['style']['overflow-y']='auto',S['style']['margin-right']='0px',this['editorStore']['preventEditorKeydownAction'](!0x1);this['urlConvertState']=L(L({},this['urlConvertState']),O);},new Promise((S,T)=>{var U=X=>{try{W(R['next'](X));}catch(Y){T(Y);}},V=X=>{try{W(R['throw'](X));}catch(Y){T(Y);}},W=X=>X['done']?S(X['value']):Promise['resolve'](X['value'])['then'](U,V);W((R=R['apply'](P,Q))['next']());});var P,Q,R;},this['urlConvertMenu']=O=>setTimeout(()=>{if(document['getSelection']()['rangeCount']){var P=document['getSelection']()['getRangeAt'](0x0),Q=()=>P['getBoundingClientRect']();this['setUrlConvertState']({'id':O['nodeId'],'cellId':O['cellId'],'url':O['url'],'type':O['type'],'offset':O['offset'],'anchorEl':{'clientWidth':Q()['width'],'clientHeight':Q()['height'],'getBoundingClientRect':Q}});}},0x64);}['closeTextActionBar'](){this['textActionBarState']={'id':'','type':'','fromModal':!0x1,'extend':{}};}['handleOpenBlockDiscussPopover'](){var {cellId:O}=this['domAPI']['getCellDataProps']();this['closeTextActionBar']();var P=document['getSelection'](),Q=this['domAPI']['getSelection'](),R=P['getRangeAt'](0x0),S=this['domAPI']['getNodeIdByElement'](R['startContainer']),T=P['toString']();this['discussPopperStore']['openDiscussPopover'](R,{'blockId':S,'selectText':T,'selection':Q,'discussIds':[],'wholeBlockDiscuss':!0x1,'tableCellId':O})['catch'](console['error']);}['handleOpenNotePopover'](O,P){var {cellId:Q}=this['domAPI']['getCellDataProps'](),R=Boolean(this['textActionBarState']['id']);this['closeTextActionBar']();var S=document['getSelection'](),T=S['getRangeAt'](S['rangeCount']-0x1),U=S['anchorNode']instanceof Element?S['anchorNode']:S['getRangeAt'](S['rangeCount']-0x1),V=this['domAPI']['getNodeIdByElement'](T['startContainer']),W=this['domAPI']['getScreenByElement'](T['startContainer']);this['notePopperStore']['openNotePopper'](U,{'noteType':O,'blockId':V,'cellId':Q,'pageId':W['id'],'screenId':W['screenId'],'selection':P,'noteId':'','refId':''},R);}}M([x['b']],N['prototype'],'domAPI',0x2),M([x['b']],N['prototype'],'blockAPI',0x2),M([x['b']],N['prototype'],'dataStore',0x2),M([x['b']],N['prototype'],'editorUI',0x2),M([x['b']],N['prototype'],'editorStore',0x2),M([x['b']],N['prototype'],'discussPopperStore',0x2),M([x['b']],N['prototype'],'notePopperStore',0x2),M([w['observable']],N['prototype'],'copyMenuPopperState',0x2),M([w['observable']],N['prototype'],'urlConvertState',0x2),M([w['observable']],N['prototype'],'textActionBarState',0x2),M([w['observable']],N['prototype'],'blockHistoryState',0x2),M([w['observable']],N['prototype'],'tableOperateState',0x2),M([w['observable']],N['prototype'],'tableEditorState',0x2),M([w['observable']],N['prototype'],'meetingState',0x2),M([w['observable']],N['prototype'],'tableFormMemberSelectState',0x2),M([w['action']],N['prototype'],'setTableOperateState',0x2),M([w['action']],N['prototype'],'setMeetingState',0x2),M([w['action']],N['prototype'],'setTableEditorState',0x2),M([w['action']],N['prototype'],'setTableFormMemberSelectState',0x2),M([w['action']],N['prototype'],'setBlockHistoryState',0x2),M([w['action']],N['prototype'],'setTextActionBarState',0x2),M([w['action']],N['prototype'],'setCopyMenuPopperState',0x2),M([w['action']['bound']],N['prototype'],'closeTextActionBar',0x1),M([w['action']],N['prototype'],'setUrlConvertState',0x2),M([w['action']['bound']],N['prototype'],'handleOpenBlockDiscussPopover',0x1),k['a']=Object(C['a'])(N);},'95X5':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('sEfC'),g=d['n'](f),h=function(j){var k=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{};return function(l,m,n){n['value']=g()(n['value'],j,k);};};},'9CMz':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('5D19'),f=g=>{return h=void 0x0,j=null,k=function*(){return yield Object(d['n'])(Object(d['p'])('file/getUploadCredential'),g,d['h']);},new Promise((l,m)=>{var p=v=>{try{u(k['next'](v));}catch(w){m(w);}},q=v=>{try{u(k['throw'](v));}catch(w){m(w);}},u=v=>v['done']?l(v['value']):Promise['resolve'](v['value'])['then'](p,q);u((k=k['apply'](h,j))['next']());});var h,j,k;};},'9fl2':function(j,k,q){'use strict';q['d'](k,'b',function(){return D;}),q['d'](k,'c',function(){return G;}),q['d'](k,'e',function(){return H;}),q['d'](k,'a',function(){return I;}),q['d'](k,'d',function(){return J;});var v=q('mwIZ'),w=q['n'](v),x=q('oDFA'),y=q['n'](x),z=(q('vc3F'),q('xQld')),A=q('mley'),B=q('9rbq'),C=q('4Dn8'),D=K=>(/^(?:f|ht)tps?:\/\//['test'](K)||(K='http://'['concat'](K)),K),E=K=>(/^(?:f|ht)tps?:\/\//['test'](K)||(K='https://'['concat'](K)),K),F=K=>{try{if(!z['unreachableIframeListException']['some'](L=>K['hostname']['includes'](L))&&z['unreachableIframeList']['some'](L=>K['hostname']['includes'](L)))throw new Error('该网站不支持第三方嵌入');return!0x0;}catch(L){throw console['error']('error\x20in\x20iframe\x20availability\x20check',L),L;}},G=K=>{return L=void 0x0,M=null,N=function*(){var O=new URL(D(K));try{var P;K['includes']('wolai.com')&&(P=yield Object(A['b'])(K));var Q=yield Object(A['a'])(K);if(Q){var R=w()(P,'previewInfo.desc')||w()(Q,'meta.description');return{'title':w()(P,'previewInfo.title')||w()(Q,'meta.title'),'description':R?R['substring'](0x0,0xc8):'','icons':w()(Q,'links.icon')||w()(Q,'links'),'thumbnail':w()(P,'previewInfo.imageUrl')?[{'href':w()(P,'previewInfo.imageUrl')}]:w()(Q,'links.thumbnail'),'hostname':O['hostname']};}return{'hostname':O['hostname']};}catch(S){return{'hostname':O['hostname']};}},new Promise((O,P)=>{var Q=T=>{try{S(N['next'](T));}catch(U){P(U);}},R=T=>{try{S(N['throw'](T));}catch(U){P(U);}},S=T=>T['done']?O(T['value']):Promise['resolve'](T['value'])['then'](Q,R);S((N=N['apply'](L,M))['next']());});var L,M,N;},H=K=>{var L,M,N=K;if(N['endsWith']('/)')&&(N=N['replace']('/)',')')),N=encodeURI(N),y()({'strict':!0x1,'exact':!0x1})['test'](N)){var O=N['match'](y()({'strict':!0x1,'exact':!0x1}));if(!O)throw new Error('输入链接格式不正确');if(L=decodeURI(O[0x0]),M=decodeURI(O[0x0]),!Object(C['e'])(L,{'strict':!0x1})&&(M=encodeURI(L),!Object(C['e'])(M,{'strict':!0x1})))throw new Error('输入链接格式不正确');return D(M);}throw new Error('输入链接格式不正确');},I=[{'hostname':'replit.com','getIframeLinkHandler':K=>(K['searchParams']['set']('lite','true'),K['toString']()),'blockType':B['y']['EMBED']},{'hostname':'bilibili.com','getIframeLinkHandler':K=>{var L='&page=1&high_quality=1&as_wide=1&allowfullscreen=true',M=K['searchParams']['get']('p');M&&(L=''['concat'](L,'&p=')['concat'](M));var N=K['pathname']['split']('video/')[0x1];if(N){var O=N['split']('/')[0x0];if(/^BV.*/['test'](O))return'//player.bilibili.com/player.html?bvid='['concat'](O)['concat'](L);if(/^av.*/['test'](N)){var P=N['split']('av')[0x1];return'//player.bilibili.com/player.html?aid='['concat'](P)['concat'](L);}}},'blockType':B['y']['BILIBILI_VIDEO']},{'hostname':'v.qq.com','getIframeLinkHandler':K=>{var L=K['searchParams']['get']('vid');return L||(L=K['pathname']['split']('.html')[0x0]['split']('/')['pop']()),'https://v.qq.com/txp/iframe/player.html?vid='['concat'](L);},'blockType':B['y']['TENCENT_VIDEO']},{'hostname':'v.youku.com','getIframeLinkHandler':K=>{var L=K['pathname']['split']('.html')[0x0]['split']('/')[0x2];if(L){var M=L['split']('id_')[0x1];if(!M)return;return'https://player.youku.com/embed/'['concat'](M);}},'blockType':B['y']['YOUKU_VIDEO']},{'hostname':'youtube.com','getIframeLinkHandler':K=>{var L=K['searchParams']['get']('v');if(L)return'//www.youtube.com/embed/'['concat'](L);},'blockType':B['y']['YOUTUBE_VIDEO']},{'hostname':'youtu.be','getIframeLinkHandler':K=>{var L=K['pathname']['replace'](/^\//,'')['split']('/')[0x0];if(L)return'//www.youtube.com/embed/'['concat'](L);},'blockType':B['y']['YOUTUBE_VIDEO']},{'hostname':'music.163.com','getIframeLinkHandler':K=>{var L=K['hash'],M=K['searchParams']['get']('id');if(M)return'https://music.163.com/outchain/player?type=2&id='['concat'](M,'&auto=0&height=66');try{if(L['includes']('song')){var N='?'['concat'](L['split']('?')[0x1]);return M=new URLSearchParams(N)['get']('id'),'https://music.163.com/outchain/player?type=2&id='['concat'](M,'&auto=0&height=66');}if(L['includes']('outchain'))return M=L['split']('outchain')[0x1]['split']('/2/')[0x1]['split']('/')[0x0],'https://music.163.com/outchain/player?type=2&id='['concat'](M,'&auto=0&height=66');if('music.163.com'===K['hostname']&&K['search']['includes']('id'))return K['href'];}catch(O){throw new Error('输入链接格式不正确');}},'blockType':B['y']['NETEASE_MUSIC']},{'hostname':'ixigua.com','getIframeLinkHandler':K=>{try{if(K['pathname']['includes']('iframe'))return K['href'];var L=K['searchParams']['get']('id');return L||(L=K['pathname']['split']('/')[0x1]),'https://www.ixigua.com/iframe/'['concat'](L,'?autoplay=0&startTime=0');}catch(M){throw new Error('输入链接格式不正确');}},'blockType':B['y']['XIGUA_VIDEO']},{'hostname':'xiaohuazhuo.com','getIframeLinkHandler':K=>K['href'],'blockType':B['y']['XIAO_HUA_ZHUO']},{'hostname':'modao.cc','getIframeLinkHandler':K=>{try{if(K['href']['includes']('/app/')){var L=K['pathname']['replace']('/app/','')['split']('/')[0x0];return L['indexOf']('?')>-0x1&&(L=L['split']('?')[0x0]),'https://modao.cc/app/'['concat'](L,'/embed/v2');}return K['href'];}catch(M){throw new Error('链接格式不正确');}},'blockType':B['y']['MO_DAO']},{'hostname':'tv.sohu.com','getIframeLinkHandler':K=>{var L=K['searchParams']['get']('bid'),M=K['searchParams']['get']('vid');if(L||M)return K['href'];throw new Error('请使用搜狐视频“分享”功能中的通用代码');},'blockType':B['y']['SOHU_VIDEO']},{'hostname':'cloud.seatable.cn','getIframeLinkHandler':K=>{var L;if(K['href']['includes']('embed'))return L=K['pathname']['split']('embed')[0x1]['split']('/')[0x1],'https://cloud.seatable.cn/dtable/external-links/'['concat'](L,'/');if(K['pathname']['indexOf']('/dtable/external-links/')<0x0)throw new Error('请输入SeaTable外部分享链接');return K['href'];},'blockType':B['y']['SEA_TABLE']},{'hostname':'figma.com','getIframeLinkHandler':K=>{var L=K['searchParams']['get']('node-id');return L?''['concat'](K['href']['split']('?')[0x0],'?node-id=')['concat'](L,'&embed_host=wolai&viewer=1'):K['search']?''['concat'](K['href'],'&embed_host=wolai&viewer=1'):''['concat'](K['href'],'?embed_host=wolai&viewer=1');},'blockType':B['y']['FIGMA']},{'hostname':'lanhuapp.com','getIframeLinkHandler':K=>K['href'],'blockType':B['y']['LANHU']},{'hostname':'mastergo.com','getIframeLinkHandler':K=>K['href'],'blockType':B['y']['MASTERGO']},{'hostname':'processon.com','getIframeLinkHandler':K=>{var L=K['pathname']['split']('/diagraming/')[0x1];if(L){var M=L['split']('/')[0x0];return'https://www.processon.com/embed/'['concat'](M);}var N=K['pathname']['split']('/mindmap/')[0x1];if(N){var O=N['split']('/')[0x0];return'https://www.processon.com/embed/'['concat'](O);}var P=K['pathname']['split']('/outline/')[0x1];if(P){var Q=P['split']('/')[0x0];return'https://www.processon.com/embed/'['concat'](Q);}var R=K['pathname']['split']('/apps/')[0x1];if(R){var S=R['split']('/')[0x0];return'https://www.processon.com/embed/'['concat'](S);}return K['href'];},'blockType':B['y']['PROCESSON']},{'hostname':'jinshuju.net','getIframeLinkHandler':K=>K['search']?''['concat'](K['href'],'&embedded=true'):''['concat'](K['href'],'?embedded=true'),'blockType':B['y']['JINSHUJU']},{'hostname':'shimo.im','getIframeLinkHandler':K=>K['href'],'blockType':B['y']['SHIMO']},{'hostname':'codepen.io','getIframeLinkHandler':K=>{var L=K['href']['split']('/pen/');return L['length']>0x1?L['join']('/embed/'):K['href'];},'blockType':B['y']['CODEPEN']},{'hostname':'wj.qq.com','getIframeLinkHandler':K=>K['href'],'blockType':B['y']['TENCENT_WJ']},{'hostname':'airtable.com','getIframeLinkHandler':K=>K['href']['includes']('/embed/')?K['href']:'https://'['concat'](K['hostname'],'/embed')['concat'](K['pathname']),'blockType':B['y']['AIRTABLE']}],J=function(K){var L=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{};try{var M=new URL(D(K));if(!M)return;var N=M['hostname'],O=I['find'](Q=>N['includes'](Q['hostname'])),{isEmbedCode:P}=L;return O?{'link':O['getIframeLinkHandler'](M),'type':O['blockType']}:P?{'link':K,'type':B['y']['EMBED']}:F(M)?{'link':E(K),'type':B['y']['EMBED']}:{'link':D(K),'type':B['y']['BOOKMARK']};}catch(Q){throw Q;}};},'9r/k':function(j,q,w){'use strict';w['d'](q,'a',function(){return V;});var x=w('7tbW'),z=w['n'](x),A=w('OIS1'),B=w('9rbq'),C=w('sA5H'),D=w('odX6'),E=w('02XR'),F=w('Usk8'),G=Object['defineProperty'],H=Object['defineProperties'],J=Object['getOwnPropertyDescriptor'],K=Object['getOwnPropertyDescriptors'],L=Object['getOwnPropertySymbols'],M=Object['prototype']['hasOwnProperty'],N=Object['prototype']['propertyIsEnumerable'],P=(W,X,Y)=>X in W?G(W,X,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Y}):W[X]=Y,Q=(W,X)=>{for(var Y in X||(X={}))M['call'](X,Y)&&P(W,Y,X[Y]);if(L){for(var Y of L(X))N['call'](X,Y)&&P(W,Y,X[Y]);}return W;},R=(W,X)=>H(W,K(X)),T=(W,X,Y,Z)=>{for(var a0,a1=Z>0x1?void 0x0:Z?J(X,Y):X,a2=W['length']-0x1;a2>=0x0;a2--)(a0=W[a2])&&(a1=(Z?a0(X,Y,a1):a0(a1))||a1);return Z&&a1&&G(X,Y,a1),a1;},U=(W,X,Y)=>new Promise((Z,a0)=>{var a1=a4=>{try{a3(Y['next'](a4));}catch(a5){a0(a5);}},a2=a4=>{try{a3(Y['throw'](a4));}catch(a5){a0(a5);}},a3=a4=>a4['done']?Z(a4['value']):Promise['resolve'](a4['value'])['then'](a1,a2);a3((Y=Y['apply'](W,X))['next']());});class V{constructor(W){this['renderPageData']=()=>U(this,null,function*(){yield this['render']['request']();}),this['getPageData']=()=>this['screen']['pageData'][this['screen']['pageDataRenderId']]||{},this['render']=new E['a']({'maxLimit':0x1,'requestApi':()=>new Promise(X=>{this['notePopperStore']['clearFootnoteNumero'](this['screen']['id']);var Y=this['dataStore']['getBlocksByPage'](this['screen']['id']),Z=this['transformTreeData']({'blockIdsList':Object['keys'](Y),'firstStack':!0x0});this['processNote']();var a0=Object(A['b'])();this['screen']['pageData']={},this['screen']['pageData'][a0]=Z,this['screen']['pageDataRenderId']=a0,this['editorStore']['addMissionExecuteAfterRender'](()=>U(this,null,function*(){X(),(yield this['renderReference']())&&this['processNote'](),this['renderFootnote']();}));})}),this['renderFootnote']=()=>{var X;if(this['dataStore']['loadedPages']['includes'](this['screen']['id'])){var Y=null==(X=this['notePopperStore']['footnotes'])?void 0x0:X['get'](this['screen']['id']);Y&&(this['notePopperStore']['notePopovers']['forEach'](Z=>{Z['pageId']===this['screen']['id']&&(Y['has'](Z['noteId'])||this['notePopperStore']['notePopovers']['delete'](Z['refId']));}),Y['forEach'](Z=>{var {positons:a0}=Z;[...a0['keys']()]['forEach'](a1=>{F['b']['emit']('renderSynchronize',{'id':a1,'cellList':Array['from'](a0['get'](a1)),'forceRender':!0x0});});}));}},this['renderReference']=()=>U(this,null,function*(){Object['keys'](this['biLinkStore']['biLinkRelation'])['forEach'](a0=>{this['dataStore']['getBlock'](a0)||(this['requestIds'][a0]=this['requestIds'][a0]||{'renderIds':[],'requesting':!0x1},this['requestIds'][a0]['renderIds']['push'](...this['biLinkStore']['getRelation'](a0)));});var X=Object['keys'](this['requestIds'])['filter'](a0=>!this['requestIds'][a0]['requesting']);if(X['length']){X['forEach'](a0=>this['requestIds'][a0]['requesting']=!0x0);var Y=yield Object(C['v'])(X['map'](a0=>({'table':B['Db'],'id':a0})));if((Y=Y['filter'](a0=>a0['id']))['length']){this['dataStore']['syncBlockData'](Y);var Z=[];Y['map'](a0=>a0['id'])['forEach'](a0=>{Z['push'](...this['requestIds'][a0]['renderIds']),delete this['requestIds'][a0];}),Array['from'](new Set(Z))['forEach'](a0=>{var a1=this['dataStore']['getBlockValue'](a0);if(this['blockStore']['setBlockDirty'](a1),a1['type']===B['y']['SIMPLE_TABLE']&&this['biLinkStore']['tableBilinkCell'][a1['id']]){var a2=[];Object['keys'](this['biLinkStore']['tableBilinkCell'][a1['id']])['forEach'](a3=>{a2['push'](...this['biLinkStore']['getRelationCellList'](a1['id'],a3));}),F['b']['emit']('renderSynchronize',{'id':this['dataStore']['getSourceId'](a1['id']),'cellList':z()(a2),'forceRender':!0x0});}}),this['editorStore']['invokeObserver']();}return!0x0;}return!0x1;}),this['getAllHeader']=()=>this['screen']['allTypeNodeIdList']['filter'](X=>{var Y=this['dataStore']['getBlockProperty'](X,'type'),Z=this['dataStore']['getBlockProperty'](X,'parent_id');return B['M']['includes'](Y)&&!this['notAllowParentType'](Z);})['map'](X=>this['dataStore']['getBlockValue'](X)),this['notAllowParentType']=X=>{if(X===this['screen']['id'])return!0x1;var Y=this['dataStore']['getBlockValue'](X);return!!Y['id']&&(!![B['y']['TEMPLATE_BUTTON'],B['y']['DATABASE']]['includes'](Y['type'])||this['notAllowParentType'](Y['parent_id']));},this['initBlockDiscuss']=X=>{this['discussPopperStore']['updateBlockDiscussCount'](X);},this['processNote']=()=>{var X=a0=>{for(var a1=0x0;a1<a0['length'];a1++){var a2=a0[a1];a2['id']&&!Z['includes'](a2['id'])&&(Z['push'](a2['id']),this['notePopperStore']['match'](this['screen']['id'],a2),[B['y']['PAGE'],B['y']['DATABASE']]['includes'](a2['type'])||X(a2['sub_nodes']['map'](a3=>this['dataStore']['getBlockValue'](a3))));}};if(this['dataStore']['loadedPages']['includes'](this['screen']['id'])){var Y=this['dataStore']['getBlockValue'](this['screen']['id']),Z=[];X(Y['sub_nodes']['map'](a0=>this['dataStore']['getBlockValue'](a0)));}},this['transformTreeData']=X=>{var {blockIdsList:Y,type:Z,parent:a0,firstStack:a1}=X;if(!Y||!Y['length'])return[];var a2=Y['filter'](a7=>this['dataStore']['getBlock'](a7));if(a1&&(this['screen']['nodeIdList']=[],this['screen']['tableIdList']=[],this['screen']['allTypeNodeIdList']=[],this['dataStore']['getEmbedBlocks'](a2['filter'](a7=>!a7['startsWith']('ref-'))['filter'](a7=>this['dataStore']['getBlockProperty'](a7,'source_id'))['map'](a7=>this['dataStore']['getBlockValue'](a7)))),a1)return this['dataStore']['getBlockProperty'](this['screen']['id'],'type')===B['y']['DATABASE']&&this['databaseViewStore']['getDatabase'](this['screen']['id']),[B['y']['PAGE'],B['y']['DATABASE']]['includes'](this['dataStore']['getBlockProperty'](this['screen']['id'],'type'))?R(Q({},this['dataStore']['getBlockValue'](this['screen']['id'])),{'screenId':this['screen']['screenId'],'type':this['dataStore']['getBlockProperty'](this['screen']['id'],'type'),'key':this['screen']['id'],'dirty':this['dataStore']['getBlock'](this['screen']['id'])['dirty'],'children':this['dataStore']['getBlockProperty'](this['screen']['id'],'type')===B['y']['DATABASE']?[]:this['transformTreeData']({'blockIdsList':this['dataStore']['getBlockProperty'](this['screen']['id'],'sub_nodes')['filter'](a7=>this['dataStore']['getBlockProperty'](a7,'page_id')===this['screen']['id']&&this['dataStore']['getBlockProperty'](a7,'parent_id')===this['screen']['id']&&!(this['screen']['hiddenSubpage']&&this['dataStore']['getBlockProperty'](a7,'type')===B['y']['PAGE'])),'type':'row','parent':this['screen']['id']})}):{};if('row'===Z){var a3=0x1,a4=0x1;return a2['map'](a7=>{var a8=this['dataStore']['getBlockValue'](a7),a9=a8['type'],aa=a9===Z?'row':a9,ab=a9===Z?'column':'any';if(aa===B['y']['DATABASE']&&this['databaseViewStore']['getDatabase'](a8['id']),aa===B['y']['TEMPLATE_BUTTON']&&this['screen']['isNotInWorkspace']&&!this['screen']['showTemplateButton']&&!this['screen']['isAllowCopy']&&!this['screen']['editable'])return null;var ac={},ad=!0x0;return aa===B['y']['ENUM_LIST']?ac['enum']=a3++:a3=0x1,ac['nodeIndex']=a4++,'row'!==aa&&(this['screen']['allTypeNodeIdList']['push'](a8['id']),this['initBlockDiscuss'](a8),B['O']['includes'](aa)?([...B['Q'],B['y']['IMAGE'],B['y']['VIDEO'],B['y']['AUDIO']]['includes'](aa)&&!this['blockAPI']['getTitleCursorOffsetById'](a8['id'])||(this['screen']['nodeIdList']['push'](a8['id']),aa===B['y']['SIMPLE_TABLE']&&this['screen']['tableIdList']['push'](a8['id'])),[B['y']['TODO_LIST'],B['y']['TODO_LIST_PRO'],B['y']['TOGGLE_TODO_LIST'],B['y']['TOGGLE_TODO_LIST_PRO']]['includes'](aa)&&(ac['checked']=this['blockAPI']['getNodeProperty'](a8['id'],'checked')),B['Bb']['includes'](aa)&&('yes'!==this['blockAPI']['getNodeProperty'](a8['id'],'toggled')&&(ad=!0x1),ac['toggled']=!ad)):ad=!0x1),R(Q(Q({},a8),ac),{'screenId':this['screen']['screenId'],'type':aa,'key':a8['id'],'dirty':this['dataStore']['getBlock'](a8['id'])['dirty'],'parent':a0,'keyIndex':''['concat'](a8['id'],'-')['concat'](new Date()['getTime']()),'children':ad?this['transformTreeData']({'blockIdsList':a8['sub_nodes']['filter'](ae=>this['dataStore']['getBlockProperty'](ae,'page_id')===this['screen']['id']&&this['dataStore']['getBlockProperty'](ae,'parent_id')===a8['id']&&!(this['screen']['hiddenSubpage']&&this['dataStore']['getBlockProperty'](ae,'type')===B['y']['PAGE'])),'type':ab,'parent':a8['id']}):[]});})['filter'](a7=>Boolean(a7));}if('column'===Z)return a2['map'](a7=>R(Q({},this['dataStore']['getBlockValue'](a7)),{'type':'column','screenId':this['screen']['screenId'],'dirty':this['dataStore']['getBlock'](a7)['dirty'],'key':a7,'parent':a0,'keyIndex':''['concat'](a7,'-')['concat'](new Date()['getTime']()),'children':this['transformTreeData']({'blockIdsList':this['dataStore']['getBlockProperty'](a7,'sub_nodes')['filter'](a8=>this['dataStore']['getBlockProperty'](a8,'page_id')===this['screen']['id']&&this['dataStore']['getBlockProperty'](a8,'parent_id')===a7&&!(this['screen']['hiddenSubpage']&&this['dataStore']['getBlockProperty'](a8,'type')===B['y']['PAGE'])),'parent':a7})}));var a5=0x1,a6=0x1;return a2['filter'](a7=>{var a8=this['dataStore']['getBlockValue'](a7);return!(this['screen']['allTypeNodeIdList']['includes'](a7)||a8['type']===B['y']['TEMPLATE_BUTTON']&&this['screen']['isNotInWorkspace']&&!this['screen']['showTemplateButton']&&!this['screen']['isAllowCopy']&&!this['screen']['editable']);})['map'](a7=>{for(var a8=!0x1,a9=this['dataStore']['getBlockValue'](a7),aa=this['dataStore']['getBlockValue'](a9['parent_id']),ab=[];!ab['includes'](aa['id'])&&aa['type']!==B['y']['PAGE'];){if(ab['push'](aa['id']),this['dataStore']['getSourceId'](aa['id'])===this['dataStore']['getSourceId'](a9['id'])){a8=!0x0;break;}aa=this['dataStore']['getBlockValue'](aa['parent_id']);}var ac=a9['id'],ad={};a9['type']===B['y']['ENUM_LIST']?ad['enum']=a5++:a5=0x1,a9['type']===B['y']['DATABASE']&&this['databaseViewStore']['getDatabase'](ac),ad['nodeIndex']=a6++;var ae=!0x0;return this['screen']['allTypeNodeIdList']['push'](ac),this['initBlockDiscuss'](a9),B['O']['includes'](a9['type'])?([...B['Q'],B['y']['IMAGE'],B['y']['VIDEO'],B['y']['AUDIO']]['includes'](a9['type'])&&!this['blockAPI']['getTitleCursorOffsetById'](ac)||(this['screen']['nodeIdList']['push'](ac),a9['type']===B['y']['SIMPLE_TABLE']&&this['screen']['tableIdList']['push'](ac)),B['Bb']['includes'](a9['type'])&&'yes'!==this['blockAPI']['getNodeProperty'](ac,'toggled')&&(ae=!0x1,ad['toggled']=!ae)):ae=!0x1,ae=ae&&!a8,R(Q(Q({},a9),ad),{'screenId':this['screen']['screenId'],'key':ac,'dirty':this['dataStore']['getBlock'](ac)['dirty'],'parent':a0,'keyIndex':''['concat'](ac,'-')['concat'](new Date()['getTime']()),'biLinkDeadLoop':a8,'children':ae?this['transformTreeData']({'blockIdsList':a9['sub_nodes']['filter'](af=>this['dataStore']['getBlockProperty'](af,'page_id')===this['screen']['id']&&this['dataStore']['getBlockProperty'](af,'parent_id')===ac&&!(this['screen']['hiddenSubpage']&&this['dataStore']['getBlockProperty'](af,'type')===B['y']['PAGE'])),'type':'any','parent':ac}):[]});});},this['screen']=W,this['requestIds']={};}}T([D['b']],V['prototype'],'dataStore',0x2),T([D['b']],V['prototype'],'biLinkStore',0x2),T([D['b']],V['prototype'],'blockStore',0x2),T([D['b']],V['prototype'],'editorStore',0x2),T([D['b']],V['prototype'],'blockAPI',0x2),T([D['b']],V['prototype'],'cursorAPI',0x2),T([D['b']],V['prototype'],'discussPopperStore',0x2),T([D['b']],V['prototype'],'databaseViewStore',0x2),T([D['b']],V['prototype'],'userStore',0x2),T([D['b']],V['prototype'],'notePopperStore',0x2);},'9rbq':function(j,k,q){'use strict';var v=q('wxQR');q['d'](k,'Db',function(){return v['j'];}),q['d'](k,'Jb',function(){return v['l'];}),q['d'](k,'Kb',function(){return v['m'];}),q['d'](k,'Lb',function(){return v['n'];}),q['d'](k,'gc',function(){return v['p'];}),q['d'](k,'xc',function(){return v['s'];}),q['d'](k,'yc',function(){return v['t'];});var w=q('sTNU');q['d'](k,'W',function(){return w['a'];}),q['d'](k,'Y',function(){return w['b'];}),q['d'](k,'ub',function(){return w['c'];});var x=q('38Rj');q['d'](k,'gb',function(){return x['IS_FLY_MODE'];}),q['d'](k,'Eb',function(){return x['WOLAI_COLUMN_TOGGLE'];}),q['d'](k,'Fb',function(){return x['WOLAI_COPY_WITH_TITLE'];}),q['d'](k,'Gb',function(){return x['WOLAI_CURRENT_PAGE'];}),q['d'](k,'Hb',function(){return x['WOLAI_CURRENT_WORKSPACE'];}),q['d'](k,'Ib',function(){return x['WOLAI_DAG_MODE'];}),q['d'](k,'Mb',function(){return x['WOLAI_DEBUG_MODE'];}),q['d'](k,'Nb',function(){return x['WOLAI_DINGTALK_TRYOUT_BANNER_DISMISSED_AT'];}),q['d'](k,'Pb',function(){return x['WOLAI_DYNAMIC_ICON_COLOR'];}),q['d'](k,'Qb',function(){return x['WOLAI_EDITOR_LAST_USED_TEXT_STYLE'];}),q['d'](k,'Rb',function(){return x['WOLAI_FIRST_OPEN_BLOCK_HISTORY'];}),q['d'](k,'Sb',function(){return x['WOLAI_FLY_MODE'];}),q['d'](k,'Tb',function(){return x['WOLAI_FONT_COLOR'];}),q['d'](k,'Ub',function(){return x['WOLAI_HIDE_EDU_ADVERTISE'];}),q['d'](k,'Vb',function(){return x['WOLAI_ICON_TAB'];}),q['d'](k,'Wb',function(){return x['WOLAI_IMAGE_BORDER'];}),q['d'](k,'Xb',function(){return x['WOLAI_LAST_CALLOUT_COLOR_SETTING'];}),q['d'](k,'Yb',function(){return x['WOLAI_LAST_CALLOUT_ICON'];}),q['d'](k,'Zb',function(){return x['WOLAI_LAST_DATE'];}),q['d'](k,'ac',function(){return x['WOLAI_LAST_EDU_EMAIL_VERIFIED_TIME'];}),q['d'](k,'bc',function(){return x['WOLAI_LAST_USED_ICON'];}),q['d'](k,'cc',function(){return x['WOLAI_LAST_VIEWED_PAGE'];}),q['d'](k,'dc',function(){return x['WOLAI_POLICY'];}),q['d'](k,'ec',function(){return x['WOLAI_PROGRESS_BAR_COLOR_SETTING'];}),q['d'](k,'fc',function(){return x['WOLAI_PRO_PLAN_REMINDER_DISMISSED_AT'];}),q['d'](k,'hc',function(){return x['WOLAI_SECOND_CONTAINER_FLEX'];}),q['d'](k,'ic',function(){return x['WOLAI_SHARE_SIDEBAR_VISIBLE'];}),q['d'](k,'jc',function(){return x['WOLAI_SIDEBAR_FAVORITE_VISIBLE'];}),q['d'](k,'kc',function(){return x['WOLAI_SIDEBAR_PRIVATE_VISIBLE'];}),q['d'](k,'lc',function(){return x['WOLAI_SIDEBAR_SHARED_VISIBLE'];}),q['d'](k,'mc',function(){return x['WOLAI_SIDEBAR_VISIBLE'];}),q['d'](k,'nc',function(){return x['WOLAI_SIDEBAR_WIDTH'];}),q['d'](k,'oc',function(){return x['WOLAI_SIDEBAR_WORKSPACE_VISIBLE'];}),q['d'](k,'pc',function(){return x['WOLAI_SIMPLE_TABLE_HEADER'];}),q['d'](k,'rc',function(){return x['WOLAI_TEMPLATE_BUTTON_COLOR_SETTING'];}),q['d'](k,'sc',function(){return x['WOLAI_THEME'];}),q['d'](k,'tc',function(){return x['WOLAI_THEME_AUTO'];}),q['d'](k,'uc',function(){return x['WOLAI_TOGGLE_LIST'];}),q['d'](k,'vc',function(){return x['WOLAI_UPGRADE_DISMISSED_AT'];}),q['d'](k,'wc',function(){return x['WOLAI_USER_DATA'];});var z=q('Q8iX');q['d'](k,'i',function(){return z['a'];}),q['d'](k,'k',function(){return z['b'];}),q['d'](k,'m',function(){return z['c'];}),q['d'](k,'n',function(){return z['d'];}),q['d'](k,'o',function(){return z['e'];}),q['d'](k,'p',function(){return z['f'];}),q['d'](k,'t',function(){return z['g'];}),q['d'](k,'u',function(){return z['h'];}),q['d'](k,'v',function(){return z['i'];}),q['d'](k,'x',function(){return z['j'];}),q['d'](k,'B',function(){return z['k'];}),q['d'](k,'C',function(){return z['l'];}),q['d'](k,'R',function(){return z['n'];}),q['d'](k,'V',function(){return z['p'];}),q['d'](k,'ab',function(){return z['q'];}),q['d'](k,'eb',function(){return z['r'];}),q['d'](k,'lb',function(){return z['s'];}),q['d'](k,'mb',function(){return z['t'];}),q['d'](k,'yb',function(){return z['u'];}),q('8/AG');var A=q('iHkl');q['d'](k,'b',function(){return A['a'];}),q['d'](k,'f',function(){return A['c'];}),q['d'](k,'g',function(){return A['d'];}),q['d'](k,'h',function(){return A['e'];}),q['d'](k,'j',function(){return A['f'];}),q['d'](k,'l',function(){return A['g'];}),q['d'](k,'r',function(){return A['h'];}),q['d'](k,'s',function(){return A['i'];}),q['d'](k,'w',function(){return A['j'];}),q['d'](k,'y',function(){return A['k'];}),q['d'](k,'z',function(){return A['l'];}),q['d'](k,'I',function(){return A['m'];}),q['d'](k,'K',function(){return A['n'];}),q['d'](k,'M',function(){return A['p'];}),q['d'](k,'N',function(){return A['q'];}),q['d'](k,'O',function(){return A['r'];}),q['d'](k,'Q',function(){return A['s'];}),q['d'](k,'U',function(){return A['t'];}),q['d'](k,'Z',function(){return A['u'];}),q['d'](k,'db',function(){return A['v'];}),q['d'](k,'fb',function(){return A['w'];}),q['d'](k,'jb',function(){return A['y'];}),q['d'](k,'nb',function(){return A['z'];}),q['d'](k,'ob',function(){return A['A'];}),q['d'](k,'pb',function(){return A['B'];}),q['d'](k,'qb',function(){return A['C'];}),q['d'](k,'sb',function(){return A['D'];}),q['d'](k,'vb',function(){return A['E'];}),q['d'](k,'zb',function(){return A['G'];}),q['d'](k,'Ab',function(){return A['H'];}),q['d'](k,'Bb',function(){return A['I'];});var B=q('Y4qe');q['d'](k,'e',function(){return B['a'];}),q['d'](k,'A',function(){return B['b'];}),q['d'](k,'E',function(){return B['c'];}),q['d'](k,'F',function(){return B['d'];}),q['d'](k,'G',function(){return B['e'];}),q['d'](k,'H',function(){return B['f'];});var C=q('+XjY');q['d'](k,'a',function(){return C['a'];}),q['d'](k,'J',function(){return C['b'];}),q['d'](k,'ib',function(){return C['c'];}),q['d'](k,'Cb',function(){return C['d'];});var D=q('zG5R');q['d'](k,'c',function(){return D['a'];}),q['d'](k,'d',function(){return D['b'];}),q['d'](k,'S',function(){return D['e'];}),q['d'](k,'T',function(){return D['f'];}),q['d'](k,'kb',function(){return D['g'];});var E=q('zxdN');q['d'](k,'zc',function(){return E['a'];});var F=q('Sq2Y');q['d'](k,'L',function(){return F['a'];});var G=q('Mucf');q['d'](k,'D',function(){return G['a'];}),q['d'](k,'X',function(){return G['c'];}),q['d'](k,'bb',function(){return G['d'];}),q['d'](k,'rb',function(){return G['f'];}),q['d'](k,'wb',function(){return G['h'];}),q['d'](k,'xb',function(){return G['i'];}),q['d'](k,'qc',function(){return G['j'];}),q['d'](k,'Ac',function(){return G['o'];});var H=q('uidj');q['d'](k,'tb',function(){return H['d'];});var I=q('3vgY');q['d'](k,'P',function(){return I['a'];});var J=q('IKCg');q['d'](k,'cb',function(){return J['a'];});var K=q('7w4y');q['d'](k,'hb',function(){return K['a'];});var L=q('gpxL');q['d'](k,'q',function(){return L['a'];}),q['d'](k,'Ob',function(){return L['b'];});},'Airr':function(j,k,q){'use strict';var v=q('2vnA'),w=q('Rsoz'),x=q('hbLi'),y=q('odX6'),z=q('wAMK'),A=q('mNfa'),B=q('gqFJ'),C=q('mFjg'),D=q('bXzw'),E=q('9rbq'),F=Object['defineProperty'],G=Object['getOwnPropertyDescriptor'],H=(K,L,M,N)=>{for(var O,P=N>0x1?void 0x0:N?G(L,M):L,Q=K['length']-0x1;Q>=0x0;Q--)(O=K[Q])&&(P=(N?O(L,M,P):O(P))||P);return N&&P&&F(L,M,P),P;},I=(K,L,M)=>new Promise((N,O)=>{var P=S=>{try{R(M['next'](S));}catch(T){O(T);}},Q=S=>{try{R(M['throw'](S));}catch(T){O(T);}},R=S=>S['done']?N(S['value']):Promise['resolve'](S['value'])['then'](P,Q);R((M=M['apply'](K,L))['next']());});class J{constructor(){var K=this;this['init']=()=>{this['currentWorkspaceMembers']=new Map(),this['currentWorkspaceMembersChange']=!0x1,this['phones']=[],this['invitationList']=new Map(),this['inputPhone']='',this['countryCode']='+86',this['showInviteMemberModal']=!0x1,this['isLoading']=!0x1,this['shouldShowLoading']=null,this['validateAccountMessage']='',this['memberLoading']=!0x0,this['isPublicInvitationLinkCopied']=!0x1,this['isPublicInvitationLinkBeingReset']=!0x1,this['isInvitationListLoaded']=!0x1;},this['markAsLoading']=L=>{this['isLoading']=!0x0,this['shouldShowLoading']=!0x0,this['loadingText']=L;},this['markAsLoaded']=()=>{this['isLoading']=!0x1,this['loadingText']='',!0x0!==this['shouldShowLoading']?this['shouldShowLoading']=!0x1:this['shouldShowLoading']=null;},this['handleRefreshInvitationList']=()=>I(this,null,function*(){try{this['markAsLoading']();var {spaceId:L}=this['spaceStore'],M=yield Object(z['j'])(L,z['a']['Member']),[N]=yield Object(z['k'])(L);this['publicInvitation']=N,this['invitationList']=new Map(M['map'](O=>[O['id'],O])),this['isInvitationListLoaded']=!0x0;}catch(O){console['error'](O),this['markAsLoaded']();}finally{this['markAsLoaded']();}}),this['handleRemovePhone']=L=>{var M=this['phones']['slice'](),N=M['indexOf'](L);N>-0x1&&(M['splice'](N,0x1),this['phones']=M);},this['handleAddPhone']=()=>{var L=this['phones']['slice']();this['inputPhone']&&L['indexOf'](this['inputPhone'])<0x0&&(L['push']([this['countryCode'],this['inputPhone']]),this['inputPhone']='',this['phones']=L);},this['handleCancelInvitation']=L=>I(this,null,function*(){this['markAsLoading']();try{yield Object(z['d'])(L);}catch(M){throw yield this['handleRefreshInvitationList'](),this['markAsLoaded'](),M;}yield this['handleRefreshInvitationList'](),this['markAsLoaded']();}),this['handleRemoveMember']=L=>I(this,null,function*(){this['markAsLoading']();try{yield Object(x['j'])(L,this['spaceStore']['spaceId']),yield new Promise(M=>setTimeout(M,0xbb8)),yield this['fetchMembersFromWorkspace'](),yield this['groupStore']['refreshGroupList']();}catch(M){throw yield this['fetchMembersFromWorkspace'](),this['markAsLoaded'](),M;}this['markAsLoaded']();}),this['handleUpdateMemberRole']=(L,M,N)=>I(this,null,function*(){this['markAsLoading'](w['a']['t']('stores.memberStore.updatingPermissions','正在更新权限',{'ns':'editor'}));try{'guest'===M?yield this['guestMemberStore']['translateGuestToMember'](L):yield Object(x['m'])(L,N,this['spaceStore']['spaceId']),yield new Promise(O=>setTimeout(O,0x7d0));}catch(O){console['error'](O);}finally{yield this['fetchMembersFromWorkspace'](),this['markAsLoaded']();}}),this['handleOpenInviteMemberModal']=()=>{this['showInviteMemberModal']=!0x0;},this['handleCloseInviteMemberModal']=()=>{this['showInviteMemberModal']=!0x1;},this['handleCountryCodeChange']=L=>{this['countryCode']=L;},this['handlePhoneChange']=L=>{this['inputPhone']=L;},this['verifyInputEmail']=()=>{var {message:L}=Object(A['a'])(this['inputPhone'],!0x0);if(!this['phones']['find'](M=>M[0x1]===this['inputPhone']))return!L||(this['validateAccountMessage']=L,!0x1);this['validateAccountMessage']=w['a']['t']('stores.memberStore.notAddDuplicateEmail','请勿添加重复的手机号',{'ns':'editor'});},this['verifyInputPhone']=()=>{var {message:L}=Object(A['b'])(this['inputPhone'],!0x0,this['countryCode']);if(!this['phones']['find'](M=>M[0x0]===this['countryCode']&&M[0x1]===this['inputPhone']))return!L||(this['validateAccountMessage']=L,!0x1);this['validateAccountMessage']=w['a']['t']('stores.memberStore.notAddDuplicatePhoneNumbers','请勿添加重复的手机号',{'ns':'editor'});},this['clearValidateMessage']=()=>{this['validateAccountMessage']='';},this['handleGoToNext']=()=>{(E['hb']?this['verifyInputEmail']():this['verifyInputPhone']())&&this['handleAddPhone']();},this['handleSubmit']=()=>I(this,null,function*(){var {spaceId:L,currentWorkspace:M}=this['spaceStore'],{userId:N,userName:O,email:P,mobile:Q,countryCode:R,avatar:S}=this['userStore'];if(this['inputPhone']){if(!(E['hb']?this['verifyInputEmail']():this['verifyInputPhone']()))return;this['handleAddPhone']();}try{var T=[...this['phones']['length']?this['phones']:[]];this['inputPhone']='',this['phones']=[],this['handleCloseInviteMemberModal'](),this['markAsLoading']();var U=T['map'](V=>Object(z['e'])({'workspaceId':L,'workspace':M,'inviter':{'avatar':S,'userId':N,'userName':O,'email':P,'mobile':Q,'countryCode':R},'mobile':V[0x1],'countryCode':V[0x0]}));yield Promise['all'](U),yield new Promise(V=>setTimeout(V,0x3e8)),yield this['handleRefreshInvitationList'](),this['questStore']['track']('workspace-action-add-member');}catch(V){this['markAsLoaded'](),console['error'](V);}finally{this['markAsLoaded']();}}),this['changeMemberAvatar']=function(L){var M=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},N=K['currentWorkspaceMembers']['get'](L);if(N){for(var O in M)'userName'===O?N['username']=M[O]:'avatar'===O&&(N[O]=M[O]);}},this['changeMemberNickname']=function(L){var M=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'';return I(K,null,function*(){var N=this['currentWorkspaceMembers']['get'](L);if(N&&M!==N['username']){var O=yield Object(x['f'])(M);N['keyword']=O['keyword'],N['username']=M,this['currentWorkspaceMembers']['set'](L,N),this['currentWorkspaceMembersChange']=!this['currentWorkspaceMembersChange'];}});},this['fetchMembersFromWorkspace']=L=>I(this,null,function*(){if(yield this['init'](),this['userStore']['userId']&&(L||this['spaceStore']['spaceId'])){var M=yield Object(x['k'])({'workspaceId':L||this['spaceStore']['spaceId'],'keyword':''});if(!M)return;if(!M['members'])return;var N=new Map();M['members']['forEach'](O=>{N['set'](O['id'],O),this['publicUserStore']['addUser']({'id':O['id'],'avatar':O['avatar'],'username':O['username']});}),this['currentWorkspaceMembers']=N,this['currentWorkspaceMembersChange']=!this['currentWorkspaceMembersChange'],this['memberLoading']=!0x1,yield this['guestMemberStore']['init']();}}),this['copyPublicInvitationLink']=()=>{if(!this['isPublicInvitationLinkCopied'])try{Object(B['a'])(this['publicInvitationLinkInput']),this['isPublicInvitationLinkCopied']=!0x0;var L=setTimeout(()=>{clearTimeout(L),this['isPublicInvitationLinkCopied']=!0x1;},0xbb8);}catch(M){}},this['resetPublicInvitationLink']=()=>I(this,null,function*(){if(this['spaceStore']['isPersonalPlan']()&&Object(C['e'])(()=>''),!this['isPublicInvitationLinkBeingReset'])try{this['isPublicInvitationLinkBeingReset']=!0x0;var {spaceId:L}=this['spaceStore'];this['publicInvitation']=yield Object(z['f'])({'workspaceId':L}),this['isPublicInvitationLinkBeingReset']=!0x1;}catch(M){this['isPublicInvitationLinkBeingReset']=!0x1;}}),this['init'](),this['handleRefreshInvitationList']=this['handleRefreshInvitationList']['bind'](this),this['handleAddPhone']=this['handleAddPhone']['bind'](this),this['handleRemovePhone']=this['handleRemovePhone']['bind'](this),this['handleSubmit']=this['handleSubmit']['bind'](this),this['handleOpenInviteMemberModal']=this['handleOpenInviteMemberModal']['bind'](this),this['handleCloseInviteMemberModal']=this['handleCloseInviteMemberModal']['bind'](this);}get['activeInvitationCount'](){return Array['from'](this['invitationList'])['map'](K=>K[0x1]||{})['filter'](K=>K['is_active']&&-0x1===K['responded_time'])['length'];}get['canInviteExtraMember'](){return this['usedMemberCount']+0x1<=this['memberLimit'];}get['usedMemberCount'](){return this['activeInvitationCount']+this['spaceStore']['currentWorkspace']['members']['length'];}get['memberLimit'](){var K;return this['spaceStore']['plan']&&null!=(K=this['spaceStore']['plan']['member_count'])?K:0x1;}get['publicInvitationLinkInput'](){return this['publicInvitation']&&this['publicInvitation']['id']?''['concat']('https://www.wolai.com','/public-invitation/')['concat'](this['publicInvitation']['id']):this['isInvitationListLoaded']?w['a']['t']('stores.memberStore.noInviteLink','暂无邀请链接',{'ns':'editor'}):w['a']['t']('stores.memberStore.loadInviteLink','正在加载公开邀请链接...',{'ns':'editor'});}get['hasNoPublicInvitationLink'](){return this['publicInvitationLinkInput']===w['a']['t']('stores.memberStore.noInviteLink','暂无邀请链接',{'ns':'editor'});}get['publicInvitationLinkButtonText'](){return this['hasNoPublicInvitationLink']?this['isPublicInvitationLinkBeingReset']?w['a']['t']('stores.memberStore.building','正在生成',{'ns':'editor'}):w['a']['t']('stores.memberStore.generatingPublicInvitationLink','生成链接',{'ns':'editor'}):this['isPublicInvitationLinkCopied']?w['a']['t'](E['cb']['COPIED'],'已复制',{'ns':'editor'}):w['a']['t'](E['cb']['COPY_LINK'],'复制链接',{'ns':'editor'});}['handleClickPublicInvitationButton'](){this['isPublicInvitationLinkBeingReset']||this['isPublicInvitationLinkCopied']||(this['hasNoPublicInvitationLink']?this['resetPublicInvitationLink']():this['copyPublicInvitationLink']());}}H([y['b']],J['prototype'],'spaceStore',0x2),H([y['b']],J['prototype'],'userStore',0x2),H([y['b']],J['prototype'],'workspaceStore',0x2),H([y['b']],J['prototype'],'notificationStore',0x2),H([y['b']],J['prototype'],'editorStore',0x2),H([y['b']],J['prototype'],'guestMemberStore',0x2),H([y['b']],J['prototype'],'groupStore',0x2),H([y['b']],J['prototype'],'publicUserStore',0x2),H([y['b']],J['prototype'],'questStore',0x2),H([v['observable']],J['prototype'],'currentWorkspaceMembers',0x2),H([v['observable']],J['prototype'],'currentWorkspaceMembersChange',0x2),H([v['observable']],J['prototype'],'phones',0x2),H([v['observable']],J['prototype'],'inputPhone',0x2),H([v['observable']],J['prototype'],'countryCode',0x2),H([v['observable']],J['prototype'],'invitationList',0x2),H([v['observable']],J['prototype'],'showInviteMemberModal',0x2),H([v['observable']],J['prototype'],'isLoading',0x2),H([v['observable']],J['prototype'],'shouldShowLoading',0x2),H([v['observable']],J['prototype'],'loadingText',0x2),H([v['observable']],J['prototype'],'validateAccountMessage',0x2),H([v['observable']],J['prototype'],'memberLoading',0x2),H([v['observable']],J['prototype'],'isPublicInvitationLinkCopied',0x2),H([v['observable']],J['prototype'],'isPublicInvitationLinkBeingReset',0x2),H([v['observable']],J['prototype'],'isInvitationListLoaded',0x2),H([v['observable']],J['prototype'],'publicInvitation',0x2),H([v['action']],J['prototype'],'init',0x2),H([v['action']],J['prototype'],'markAsLoading',0x2),H([v['action']],J['prototype'],'markAsLoaded',0x2),H([v['computed']],J['prototype'],'activeInvitationCount',0x1),H([v['computed']],J['prototype'],'canInviteExtraMember',0x1),H([v['computed']],J['prototype'],'usedMemberCount',0x1),H([v['computed']],J['prototype'],'memberLimit',0x1),H([v['action']],J['prototype'],'handleRefreshInvitationList',0x2),H([v['computed']],J['prototype'],'publicInvitationLinkInput',0x1),H([v['computed']],J['prototype'],'hasNoPublicInvitationLink',0x1),H([v['computed']],J['prototype'],'publicInvitationLinkButtonText',0x1),H([v['action']['bound']],J['prototype'],'handleClickPublicInvitationButton',0x1),H([v['action']],J['prototype'],'handleRemovePhone',0x2),H([v['action']],J['prototype'],'handleAddPhone',0x2),H([v['action']],J['prototype'],'handleCancelInvitation',0x2),H([v['action']],J['prototype'],'handleRemoveMember',0x2),H([v['action']],J['prototype'],'handleUpdateMemberRole',0x2),H([v['action']],J['prototype'],'handleOpenInviteMemberModal',0x2),H([v['action']],J['prototype'],'handleCloseInviteMemberModal',0x2),H([v['action']],J['prototype'],'handleCountryCodeChange',0x2),H([v['action']],J['prototype'],'handlePhoneChange',0x2),H([v['action']],J['prototype'],'verifyInputEmail',0x2),H([v['action']],J['prototype'],'verifyInputPhone',0x2),H([v['action']],J['prototype'],'clearValidateMessage',0x2),H([v['action']],J['prototype'],'handleGoToNext',0x2),H([v['action']],J['prototype'],'handleSubmit',0x2),H([v['action']],J['prototype'],'changeMemberAvatar',0x2),H([v['action']],J['prototype'],'changeMemberNickname',0x2),H([v['action']],J['prototype'],'fetchMembersFromWorkspace',0x2),H([v['action']],J['prototype'],'copyPublicInvitationLink',0x2),H([v['action']],J['prototype'],'resetPublicInvitationLink',0x2),k['a']=Object(D['a'])(J);},'B5Rq':function(j,q,x){'use strict';var z=x('q1tI'),A=x['n'](z),B=x('TyAF'),C=x('TSYQ'),D=x['n'](C),F=x('PDfz'),G=x('odX6'),H=x('x9Bn'),J=x('z7Vv'),K=x('lDk4'),L=x('KAa4'),M=x('mwIZ'),N=x['n'](M),Q=x('L8ty'),R=x('wAgm'),U=x('lW0W'),V=x('ypnR'),W=x('9rbq'),X=Object['defineProperty'],Y=Object['defineProperties'],Z=Object['getOwnPropertyDescriptors'],a0=Object['getOwnPropertySymbols'],a1=Object['prototype']['hasOwnProperty'],a2=Object['prototype']['propertyIsEnumerable'],a3=(a5,a6,a7)=>a6 in a5?X(a5,a6,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a7}):a5[a6]=a7,a4=Object(B['b'])(a5=>{var {userStore:a6,workspaceStore:a7,screenStore:a8,pageStore:a9}=Object(G['b'])('rootStore'),[aa,ab]=A['a']['useState'](''),[ac,ad]=A['a']['useState'](''),[ae,af]=A['a']['useState'](!0x1),[ag,ah]=A['a']['useState'](a6['screenLocked']['pageCover']);A['a']['useEffect'](()=>{Object(K['c'])(),null===N()(a8,['mainScreen','readOnly'])&&a7['initWorkspace'](a5['match']['params']);},[]);var ai=()=>{return aq=void 0x0,ar=null,as=function*(){if(!ae){if(af(!0x0),ac)try{var at={'loginType':'unlock','userHash':a6['screenLocked']['userHash'],'pin':Object(J['a'])(ac)};yield Object(H['p'])(at),yield a7['initWorkspace'](a5['match']['params']),yield a6['setScreenLocked'](!0x1),af(!0x1);}catch(au){ab(au['message']),af(!0x1);}else ab('PIN码不能为空'),af(!0x1);}},new Promise((at,au)=>{var av=ay=>{try{ax(as['next'](ay));}catch(az){au(az);}},aw=ay=>{try{ax(as['throw'](ay));}catch(az){au(az);}},ax=ay=>ay['done']?at(ay['value']):Promise['resolve'](ay['value'])['then'](av,aw);ax((as=as['apply'](aq,ar))['next']());});var aq,ar,as;},{avatar:aj,userName:ak,userId:al}=a6['screenLocked']['userInfo']||{};if(!0x0!==a7['accessDenied']){var am=N()(a8,['mainScreen','readOnly']);if(null===am)return null;if(!0x0===am){var an=a5,{component:ao}=an,ap=((aq,ar)=>{var as={};for(var at in aq)a1['call'](aq,at)&&ar['indexOf'](at)<0x0&&(as[at]=aq[at]);if(null!=aq&&a0){for(var at of a0(aq))ar['indexOf'](at)<0x0&&a2['call'](aq,at)&&(as[at]=aq[at]);}return as;})(an,['component']);return A['a']['createElement'](ao,((aq,ar)=>Y(aq,Z(ar)))(((aq,ar)=>{for(var as in ar||(ar={}))a1['call'](ar,as)&&a3(aq,as,ar[as]);if(a0){for(var as of a0(ar))a2['call'](ar,as)&&a3(aq,as,ar[as]);}return aq;})({},ap),{'key':'lock-children'}));}}return window['WolaiLoading']['finish'](),A['a']['createElement']('div',{'className':Q['page']},A['a']['createElement']('img',{'className':Q['pageCover'],'src':ag,'alt':'锁屏','onError':()=>{var aq=''['concat']('https://cdn.wostatic.cn','/wolai/lock_screen.jpeg');ag!==aq&&ah(aq);}}),A['a']['createElement']('div',{'className':'d-flex\x20align-items-center\x20justify-content-center\x20'['concat'](Q['lockPage'])},A['a']['createElement'](F['a'],{'avatar':aj,'username':ak,'userId':al,'size':0x64}),A['a']['createElement']('span',{'className':Q['um']},ak),A['a']['createElement']('div',{'className':Q['inputBox']},A['a']['createElement']('input',{'type':'text','className':D()(Q['lockInput'],'form-control',{'is-invalid':Boolean(aa),[Q['disabled']]:ae}),'disabled':ae,'autoFocus':!0x0,'autoComplete':'off','id':'password','value':ac,'onChange':aq=>{aa&&ab(''),ad(aq['currentTarget']['value']);},'onKeyDown':aq=>{'Enter'===aq['key']&&ai();},'placeholder':'请输入六位数字码'}),A['a']['createElement'](L['a'],{'className':D()(Q['unlock'],{'d-block':!aa&&ac['length']}),'width':'18','height':'18','onClick':ai}),A['a']['createElement']('div',{'className':'invalid-feedback\x20text-left\x20d-flex\x20align-items-center\x20justify-content-between'},A['a']['createElement']('span',null,aa),A['a']['createElement']('span',{'className':Q['forgetPwd'],'onClick':()=>{a9['setConfirmOpen']({'contents':'如果您忘记了锁屏PIN码，可以通过重新登录解锁。','successText':'重新登录','success':()=>{a6['setScreenLocked'](!0x1),a5['history']['replace']({'pathname':'/login'});}});}},'忘记锁屏PIN码？')))),A['a']['createElement']('div',{'className':Q['wolaiLogo']},W['hb']?A['a']['createElement'](U['a'],{'height':'20'}):A['a']['createElement'](R['a'],{'height':'20'})),A['a']['createElement']('div',{'className':Q['draggable']}),A['a']['createElement'](V['a'],null));});q['a']=a4;},'BNZL':function(b,f,g){'use strict';var h=g('23mu'),j=g('wxQR'),k=g('z7Vv'),m=Object['defineProperty'],p=Object['getOwnPropertySymbols'],q=Object['prototype']['hasOwnProperty'],v=Object['prototype']['propertyIsEnumerable'],w=(y,z,A)=>z in y?m(y,z,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':A}):y[z]=A;class x extends h['a']{['updateWorkspace'](y,z){return this['update'](y,j['t'],[],((A,B)=>{for(var C in B||(B={}))q['call'](B,C)&&w(A,C,B[C]);if(p){for(var C of p(B))v['call'](B,C)&&w(A,C,B[C]);}return A;})({},Object(k['f'])(z)));}}f['a']=x;},'Barg':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});class d{constructor(f){this['onConnectedCbs']=[],this['conn']=f;}['clear'](){this['onConnectedCbs']=[];}['registerOnConnected'](f){this['conn']['connected']?f['call'](this['conn']):this['onConnectedCbs']['push'](f);}['consumeOnConnected'](){this['onConnectedCbs']['forEach'](f=>f['call'](this['conn'])),this['onConnectedCbs']=[];}}},'BcyR':function(j,q,w){'use strict';var x=w('2vnA'),z=w('bXzw'),A=w('twDv'),B=Object['defineProperty'],C=Object['getOwnPropertyDescriptor'],D=(U,V,W,X)=>{for(var Y,Z=X>0x1?void 0x0:X?C(V,W):V,a0=U['length']-0x1;a0>=0x0;a0--)(Y=U[a0])&&(Z=(X?Y(V,W,Z):Y(Z))||Z);return X&&Z&&B(V,W,Z),Z;};class E{static['fromJSON'](U){return console['error']('BaseConfig.fromJSON\x20not\x20implemented\x20'['concat'](U)),null;}}var F=class{constructor(U,V,W,X){this['name']=U,this['label']=V,this['enable']=null==W||W,this['items']=X;}['enableAllItems'](){this['items']['forEach'](U=>U['enable']=!0x0);}['disableAllItems'](){this['items']['forEach'](U=>U['enable']=!0x1);}static['fromJSON'](U){return new F(U['name'],U['label'],U['label'],U['items']);}['toJSON'](){return{'name':this['name'],'label':this['label'],'enable':this['enable'],'items':this['items']};}},G=F;D([x['observable']],G['prototype'],'name',0x2),D([x['observable']],G['prototype'],'label',0x2),D([x['observable']],G['prototype'],'enable',0x2),D([x['observable']],G['prototype'],'items',0x2),D([x['action']],G['prototype'],'enableAllItems',0x1),D([x['action']],G['prototype'],'disableAllItems',0x1);var H=class{constructor(U){var V=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],W=!(arguments['length']>0x2&&void 0x0!==arguments[0x2])||arguments[0x2],X=!(arguments['length']>0x3&&void 0x0!==arguments[0x3])||arguments[0x3],Y=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:'';this['name']=U,this['label']=Y,this['active']=V,this['visible']=W,this['enable']=X;}static['fromJSON'](U){return new H(U['name'],U['active'],U['visible'],U['enable'],U['label']);}['toJSON'](){return{'name':this['name'],'active':this['active'],'visible':this['visible'],'enable':this['enable'],'label':this['label']};}},J=H;D([x['observable']],J['prototype'],'name',0x2),D([x['observable']],J['prototype'],'label',0x2),D([x['observable']],J['prototype'],'active',0x2),D([x['observable']],J['prototype'],'visible',0x2),D([x['observable']],J['prototype'],'enable',0x2);var K=class extends G{constructor(U,V,W,X){super(U,V,W,X['map'](J['fromJSON']));}['activateItem'](U){var V=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];this['items']['find'](W=>W['name']===U)['active']=V;}['activateItems'](U){this['items']['forEach'](V=>{V['active']=U['includes'](V['name']);});}['deactivateItems'](U){this['items']['forEach'](V=>{V['active']=!U['includes'](V['name']);});}['enableItem'](U){var V=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];this['items']['find'](W=>W['name']===U)['enable']=V;}['enableItems'](U){this['items']['forEach'](V=>{V['enable']=U['includes'](V['name']);});}['showItems'](U){0x0!==U['length']&&this['items']['forEach'](V=>{V['visible']=U['includes'](V['name']);});}['hideItems'](U){0x0!==U['length']&&this['items']['forEach'](V=>{V['visible']=!U['includes'](V['name']);});}static['fromJSON'](U){return new K(U['name'],U['label'],U['enable'],U['items']);}['toJSON'](){return{'name':this['name'],'enable':this['enable'],'label':this['label'],'items':this['items']['map'](U=>({'name':U['name'],'active':Boolean(U['active']),'visible':Boolean(U['visible']),'enable':Boolean(U['enable'])}))['filter'](U=>U['visible'])};}},L=K;D([x['observable']],L['prototype'],'name',0x2),D([x['observable']],L['prototype'],'label',0x2),D([x['observable']],L['prototype'],'items',0x2),D([x['action']],L['prototype'],'activateItem',0x1),D([x['action']],L['prototype'],'activateItems',0x1),D([x['action']],L['prototype'],'deactivateItems',0x1),D([x['action']],L['prototype'],'enableItem',0x1),D([x['action']],L['prototype'],'enableItems',0x1),D([x['action']],L['prototype'],'showItems',0x1),D([x['action']],L['prototype'],'hideItems',0x1);var M=class extends E{constructor(U,V,W){super(),this['visible']=U,this['index']=V,this['groups']=W;}get['activatedGroup'](){return this['groups'][this['index']];}['setActiveGroup'](U){this['index']=U;}['show'](){this['visible']=!0x0;}['hide'](){this['visible']=!0x1;}['enable'](){var U=this['groups'][this['index']];U&&U['enableAllItems']();}['disable'](){var U=this['groups'][this['index']];U&&U['disableAllItems']();}get['blockGroup'](){return this['groups'][A['e']['Block']];}get['textStyleGroup'](){return this['groups'][A['e']['TextStyle']];}static['fromJSON'](U){return new M(U['visible'],U['index'],U['groups']['map'](V=>L['fromJSON'](V)));}['toJSON'](){return{'visible':this['visible'],'index':this['index'],'groups':this['groups']['map'](U=>U['toJSON']())};}},N=M;D([x['observable']],N['prototype'],'visible',0x2),D([x['observable']],N['prototype'],'index',0x2),D([x['observable']],N['prototype'],'groups',0x2),D([x['computed']],N['prototype'],'activatedGroup',0x1),D([x['action']],N['prototype'],'setActiveGroup',0x1),D([x['action']],N['prototype'],'show',0x1),D([x['action']],N['prototype'],'hide',0x1),D([x['action']],N['prototype'],'enable',0x1),D([x['action']],N['prototype'],'disable',0x1),D([x['computed']],N['prototype'],'blockGroup',0x1),D([x['computed']],N['prototype'],'textStyleGroup',0x1);var O=class extends G{constructor(U,V,W,X){super(U,V,W,X),this['name']=U,this['label']=V,this['items']=X['map'](Y=>{var Z,a0;return{'name':Y['name'],'label':Y['label']||'','active':null!=(Z=Y['active'])&&Z,'enable':null==(a0=Y['enable'])||a0};});}static['fromJSON'](U){return new O(U['name'],U['label'],U['enable'],U['items']);}['toJSON'](){return{'name':this['name'],'enable':this['enable'],'label':this['label'],'items':this['items']['map'](U=>({'name':U['name'],'label':U['label'],'active':U['active'],'enable':U['enable']}))};}},P=O;D([x['observable']],P['prototype'],'name',0x2),D([x['observable']],P['prototype'],'label',0x2),D([x['observable']],P['prototype'],'items',0x2);var Q=class extends E{constructor(U,V,W){super(),this['name']=U,this['visible']=V,this['groups']=W['map'](X=>P['fromJSON'](X));}['show'](U){this['name']=U,this['visible']=!0x0;}['hide'](){this['visible']=!0x1;}static['fromJSON'](U){return new Q(U['name'],U['visible'],U['groups']);}['toJSON'](){return{'name':this['name'],'visible':this['visible'],'groups':this['groups']['map'](U=>U['toJSON']())};}},R=Q;D([x['observable']],R['prototype'],'name',0x2),D([x['observable']],R['prototype'],'visible',0x2),D([x['observable']],R['prototype'],'groups',0x2),D([x['action']],R['prototype'],'show',0x1),D([x['action']],R['prototype'],'hide',0x1);class T{constructor(){this['toolbarConfig']=N['fromJSON'](A['d']),this['actionPanelConfig']=R['fromJSON'](A['b']);}get['toolbar'](){return this['toolbarConfig'];}get['actionPanel'](){return this['actionPanelConfig'];}set['actionPanel'](U){this['actionPanelConfig']=U;}['hideAll'](){this['toolbar']['visible']=!0x1,this['actionPanel']['visible']=!0x1;}['setToolbarVisibility'](U){this['toolbar']['visible']=U;}['setActionPanelVisibility'](U){this['actionPanel']['visible']=U;}['hideActionPanel'](){this['actionPanel']['hide']();}['showActionPanel'](U){if(this['actionPanel']['name']!==U)switch(U){case'add':this['actionPanelConfig']=R['fromJSON'](A['a']);break;case'transform':this['actionPanelConfig']=R['fromJSON'](A['c']);break;default:console['error']('不支持的操作面板类型',U);}this['setActionPanelVisibility'](!0x0),this['toolbar']['index']===A['e']['Block']?this['toolbar']['activatedGroup']['activateItems']([U]):this['toolbar']['activatedGroup']['activateItems']([]);}['toJSON'](){return{'toolbar':this['toolbar']['toJSON'](),'actionPanel':this['actionPanel']['toJSON']()};}}D([x['observable']],T['prototype'],'toolbarConfig',0x2),D([x['observable']],T['prototype'],'actionPanelConfig',0x2),D([x['computed']],T['prototype'],'toolbar',0x1),D([x['computed']],T['prototype'],'actionPanel',0x1),D([x['action']['bound']],T['prototype'],'hideAll',0x1),D([x['action']['bound']],T['prototype'],'setToolbarVisibility',0x1),D([x['action']['bound']],T['prototype'],'setActionPanelVisibility',0x1),D([x['action']['bound']],T['prototype'],'hideActionPanel',0x1),D([x['action']['bound']],T['prototype'],'showActionPanel',0x1),q['a']=Object(z['a'])(T);},'Bf4v':function(f,j,k){'use strict';var m=k('W9XQ'),q=k('odX6'),v=k('YfBr'),w=k('KQwE'),x=k('9rbq'),y=k('O2B1'),z=Object['defineProperty'],A=Object['getOwnPropertyDescriptor'],B=(G,H,I,J)=>{for(var K,L=J>0x1?void 0x0:J?A(H,I):H,M=G['length']-0x1;M>=0x0;M--)(K=G[M])&&(L=(J?K(H,I,L):K(L))||L);return J&&L&&z(H,I,L),L;},C=(G,H,I)=>new Promise((J,K)=>{var L=O=>{try{N(I['next'](O));}catch(P){K(P);}},M=O=>{try{N(I['throw'](O));}catch(P){K(P);}},N=O=>O['done']?J(O['value']):Promise['resolve'](O['value'])['then'](L,M);N((I=I['apply'](G,H))['next']());}),D=G=>{var H=G['split'](/([\u4e00-\u9fa5]{1})/gi);H=H['filter'](J=>Boolean(J));var I=[];return H['forEach'](J=>{if(J['match'](/[\u4e00-\u9fa5]/))I['push'](J);else{var K=J['split'](/\W/);I['push'](...K);}}),I['filter'](J=>Boolean(J))['map'](J=>J['toLowerCase']());};class E{constructor(){this['indexes']={};}['initIndex'](G){return C(this,null,function*(){if(G!==this['spaceId']){if(this['spaceId']=G,this['indexes'][this['spaceId']])this['index']=this['indexes'][this['spaceId']];else{this['index']=new m['Index']({'encode':D,'tokenize':'forward','optimize':!0x0}),this['indexes'][this['spaceId']]=this['index'];var H=w['a']['getInstance'](),I=yield H['blockDB']['where']({'workspace_id':G})['toArray'](),J=yield H['dirtyBlockDB']['where']({'workspace_id':G})['toArray'](),K=yield v['a']['getLatestBlocks'](I,J,{'noParse':!0x0}),L=[],M=new y['a']();L['push'](new Promise(Q=>{M['onmessage']=R=>{Q(R['data']);},M['postMessage'](K);})),this['spaceStore']['setOfflineIndexing'](!0x0);for(var N=(yield Promise['all'](L))[0x0],O=N['length'],P=0x0;P<=O;)yield this['addIndex'](N['slice'](P,P+0x2710)),P+=0x2710;this['spaceStore']['setOfflineIndexing'](!0x1);}}});}['addIndex'](G){return new Promise(H=>{setTimeout(()=>{G['forEach'](I=>{if(I){if(I['type']===x['y']['IMAGE'])this['index']['add'](I['id'],I['text_content']);else{var J=this['blockAPI']['getTitlePlainTextByTitle'](I['attributes']['title']);this['index']['add'](I['id'],J['substr'](0x0,0x2710));}}}),H();},0xa);});}['search'](G,H){return new Promise(I=>{this['index']['searchAsync'](G,{'limit':0x3e8},J=>C(this,null,function*(){var K=yield v['a']['getData'](J),L=K=K['filter'](P=>H?P['type']===x['y']['PAGE']:Boolean(P))['slice'](0x0,0x64),M=Array['from'](new Set(L['map'](P=>P['page_id'])['filter'](P=>Boolean(P)))),N=yield v['a']['getData'](M);L=L['concat'](N);var O=D(G);I({'error':[],'status':'OK','result':{'items':K['map'](P=>{var Q,R,S,T=L['find'](Y=>Y['id']===P['id']),U=L['find'](Y=>Y['id']===T['page_id']),V=T['type']===x['y']['IMAGE']?T['text_content']:this['blockAPI']['getTitlePlainTextByTitle'](null==(Q=null==T?void 0x0:T['attributes'])?void 0x0:Q['title']);O['forEach'](Y=>{V=V['replace'](new RegExp(Y,'ig'),'<em>'['concat'](Y,'</em>'));});var W='',X=V['split'](/<em>|<\/em>/);return X['forEach']((Y,Z)=>{0x0===Z?W+=Y['length']>0xa?'...'['concat'](Y['substr'](-0x1,0xa)):Y:Z===X['length']-0x1?W+=Y['length']>0xa?''['concat'](Y['substr'](0x0,0xa),'...'):Y:W+=Z%0x2==0x0?Y['length']>0x14?''['concat'](Y['substr'](0x0,0xa),'...')['concat'](Y['substr'](-0x1,0xa)):Y:'<em>'['concat'](Y,'</em>');}),{'active':T['active'],'created_time':T['created_time'],'edited_time':T['edited_time'],'icon':'','id':T['id'],'page_id':T['type']===x['y']['PAGE']?T['id']:T['page_id'],'search_type':T['type']===x['y']['PAGE']?'page':'block','status':T['status'],'text_content':W,'title':T['type']===x['y']['PAGE']?this['blockAPI']['getTitlePlainTextByTitle'](null==(R=null==T?void 0x0:T['attributes'])?void 0x0:R['title']):this['blockAPI']['getTitlePlainTextByTitle'](null==(S=null==U?void 0x0:U['attributes'])?void 0x0:S['title']),'type':T['type']};})}});}));});}}B([q['b']],E['prototype'],'userStore',0x2),B([q['b']],E['prototype'],'spaceStore',0x2),B([q['b']],E['prototype'],'blockAPI',0x2);var F=new E();j['a']=F;},'Bi12':function(j,q,x){'use strict';var z=x('DzJC'),F=x['n'](z),G=x('mwIZ'),H=x['n'](G),J=x('2vnA'),K=x('Rsoz'),M=x('9rbq'),Q=x('paMO'),R=x('odX6'),U=x('sAZg'),V=x('OIS1'),W=x('aD9L'),X=x('hcfp'),Y=x('mFjg'),Z=x('f9x4'),a0=x('sA5H'),a1=x('WRmh'),a2=x('KiBK'),a3=x('bXzw'),a4=Object['defineProperty'],a5=Object['defineProperties'],a6=Object['getOwnPropertyDescriptor'],a7=Object['getOwnPropertyDescriptors'],a8=Object['getOwnPropertySymbols'],a9=Object['prototype']['hasOwnProperty'],aa=Object['prototype']['propertyIsEnumerable'],ab=(ah,ai,aj)=>ai in ah?a4(ah,ai,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aj}):ah[ai]=aj,ac=(ah,ai)=>{for(var aj in ai||(ai={}))a9['call'](ai,aj)&&ab(ah,aj,ai[aj]);if(a8){for(var aj of a8(ai))aa['call'](ai,aj)&&ab(ah,aj,ai[aj]);}return ah;},ad=(ah,ai)=>a5(ah,a7(ai)),ae=(ah,ai,aj,ak)=>{for(var al,am=ak>0x1?void 0x0:ak?a6(ai,aj):ai,an=ah['length']-0x1;an>=0x0;an--)(al=ah[an])&&(am=(ak?al(ai,aj,am):al(am))||am);return ak&&am&&a4(ai,aj,am),am;},af=(ah,ai,aj)=>new Promise((ak,al)=>{var am=ap=>{try{ao(aj['next'](ap));}catch(aq){al(aq);}},an=ap=>{try{ao(aj['throw'](ap));}catch(aq){al(aq);}},ao=ap=>ap['done']?ak(ap['value']):Promise['resolve'](ap['value'])['then'](am,an);ao((aj=aj['apply'](ah,ai))['next']());});Object(J['configure'])({'enforceActions':'never'});class ag{constructor(){var ah=this;this['ifNormalDragMode']=!0x0,this['hoverBlockId']='',this['hoverTimer']=null,this['hoverAnchorEl']=null,this['dragNodeCrt']=null,this['dragInitPosX']=0x0,this['dragInitPosY']=0x0,this['dragRef']=null,this['selectedRowNode']=[],this['sortedSelectedRootNode']=[],this['backupDbSelectedInfo']={'databaseCellList':[],'databaseBlockId':'','cellX':0x0,'cellY':0x0,'offsetX':0x0,'offsetY':0x0,'timeStamp':0x0},this['auxiliaryId']='',this['columnAuxiliaryId']='',this['dragFileTimer']=null,this['boardDom']=null,this['mousedownSet']=ai=>{this['mousedown']=ai;},this['isDraggingSet']=ai=>{ai?(this['domAPI']['styleSettings']('#editorRoot',{'cursor':'grabbing'}),this['domAPI']['styleSettings']('#wolai-page-layout',{'cursor':'grabbing'}),this['domAPI']['styleSettings']('.column-extend',{'display':'none'})):(this['domAPI']['styleSettings']('#editorRoot',{'cursor':'text'}),this['domAPI']['styleSettings']('#wolai-page-layout',{'cursor':'text'}),this['domAPI']['styleSettings']('.column-extend',{'display':'block'})),this['isDragging']=ai;},this['mousemoveSet']=ai=>{this['mousemove']=ai;},this['getCascadingId']=function(ai){var aj=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[],ak=arguments['length']>0x2?arguments[0x2]:void 0x0,{parent_id:al,page_id:am}=ah['dataStore']['getBlockValue'](ai),{type:an,sub_nodes:ao=[]}=ah['dataStore']['getBlockValue'](ak?am:al),ap=['templateButton','page','row','column',M['y']['DATABASE']]['includes'](an),aq=ai===ao['slice'](-0x1)[0x0];return ap||!aq?aj:ah['getCascadingId'](al,[...aj,al],ak);},this['createAuxiliaryHead']=()=>{var ai=document['createElement']('img');return ai['src']='dark'===this['workspaceStore']['theme']?x('QPl9'):x('xMlr'),this['domAPI']['styleSettings'](ai,{'position':'absolute','top':0x0,'left':0x0,'height':'4px','width':'3px'}),ai;},this['createAuxiliaryEnd']=()=>{var ai=document['createElement']('img');return ai['src']='dark'===this['workspaceStore']['theme']?x('6y5z'):x('KaN0'),this['domAPI']['styleSettings'](ai,{'position':'absolute','top':0x0,'left':'-3px','height':'4px','width':'3px'}),ai;},this['createAuxiliary']=function(ai){var {auxiliaryPrev:aj=!0x1,sub:ak=!0x1,single:al=!0x1,isVertical:am=!0x1}=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},an=[],ao=document['createElement']('span');ao['id']='auxiliary-'['concat'](ai),ao['className']='auxiliary-span';var ap=am?aj?'left':'right':aj?'top':'bottom',aq=am?{'top':'0px',[ap]:'-10px','pointerEvents':'none','width':'4px','position':'absolute','background':'rgba(255,\x2071,\x2071,\x200.4)','height':'100%','borderRadius':'4px','zIndex':0x2}:{[ap]:'-4px','pointerEvents':'none','height':'4px','position':'absolute','right':0x0,'background':'rgba(255,\x2071,\x2071,\x200.4)','width':'100%','borderRadius':'4px','zIndex':0x2};if(ah['domAPI']['styleSettings'](ao,aq),al||(ao['appendChild'](ah['createAuxiliaryHead']()),ao['appendChild'](ah['createAuxiliaryEnd']())),an['push'](ao),ak){var ar=document['createElement']('span');ar['className']='auxiliary-span',ah['domAPI']['styleSettings'](ar,ad(ac({},aq),{'width':'calc(100%\x20-\x2030px)'})),ar['appendChild'](ah['createAuxiliaryHead']()),ar['appendChild'](ah['createAuxiliaryEnd']()),an['push'](ar);}return an;},this['createColumnAuxiliary']=function(ai){var {auxiliaryPrev:aj=!0x0}=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},ak=[],al=document['createElement']('span');al['id']='auxiliary-'['concat'](ai),al['className']='auxiliary-span';var am=aj?'left':'right',an={[am]:'-14px','top':'0px','pointerEvents':'none','height':'100%','position':'absolute','background':'rgba(255,\x2071,\x2071,\x200.4)','width':'4px','borderRadius':'4px'};return ah['domAPI']['styleSettings'](al,an),ak['push'](al),ak;},this['allAuxiliaryIdSet']=(ai,aj)=>{this['allAuxiliaryId']&&this['allAuxiliaryId']['forEach'](ak=>{var al=this['createAuxiliary'](ak),am=this['isSideBarNode'](ai)?document['querySelector']('#tree-item-'['concat'](ak)):this['isSideBarFavoriteNode'](ai)?this['isSideBarFavoriteRootNode'](ai)?document['querySelector']('#favorite-tree-item-'['concat'](ak,'[data-favorite=true]')):document['querySelector']('#favorite-tree-item-'['concat'](ak,'[data-favorite=false]')):aj?this['domAPI']['$']('#id-column-'['concat'](aj,'\x20#id-')['concat'](ak)):this['domAPI']['$']('#id-'['concat'](ak));am&&al['forEach'](an=>am['parentElement']&&am['parentElement']['appendChild'](an));});},this['allAuxiliaryIdClear']=function(){var ai=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:document,aj=Array['from'](ai['querySelectorAll']('.auxiliary-span'));ah['allAuxiliaryId']&&(ah['allAuxiliaryId']=[]),aj['length']&&aj['forEach'](ak=>ak['remove']()),ah['auxiliaryParent']&&(document['querySelectorAll']('[data-type=\x22highlight\x22].position-relative')['forEach'](ak=>{var al=ak['querySelector']('.node-selected-shadow');al&&'none'!==al['style']['display']||ak['classList']['remove']('position-relative');}),ah['domAPI']['styleSettings'](ah['auxiliaryParent'],{'background':'transparent'}),ah['auxiliaryParent']=null);},this['auxiliarySet']=(ai,aj,ak)=>{var al,am,{sub:an=!0x1,isColumn:ao=!0x1,columnId:ap=''}=aj,aq=this['domAPI']['getScreenByElement'](ak['target']),ar=this['isSideBarNode'](ak)?document['querySelector']('#tree-item-'['concat'](ai)):this['isSideBarFavoriteNode'](ak)?this['isSideBarFavoriteRootNode'](ak)?document['querySelector']('#favorite-tree-item-'['concat'](ai,'[data-favorite=true]')):document['querySelector']('#favorite-tree-item-'['concat'](ai,'[data-favorite=false]')):ap?this['domAPI']['$']('#screen-'['concat'](aq['screenId'],'\x20#id-column-')['concat'](ap,'\x20#id-')['concat'](ai)):this['domAPI']['$']('#screen-'['concat'](aq['screenId'],'\x20#id-')['concat'](ai)),{viewType:as}=ar['dataset'];if(this['auxiliarySpans']=ao?this['createColumnAuxiliary'](ai,{'auxiliaryPrev':this['auxiliaryPrev']}):this['createAuxiliary'](ai,{'auxiliaryPrev':this['auxiliaryPrev'],'sub':an,'single':!(this['allAuxiliaryId']&&this['allAuxiliaryId']['length']),'isVertical':as===Z['h']['Gallery']}),ar&&ar['parentElement']){this['dataStore']['getBlockProperty'](ai,'type')!==M['y']['DATABASE']||this['isSideBarNode'](ak)?this['auxiliaryParent']=ar['parentElement']:this['auxiliaryParent']=null==(am=null==(al=ar['parentElement']['parentElement'])?void 0x0:al['parentElement'])?void 0x0:am['parentElement'];for(var at=this['auxiliaryParent'];at;)at['classList']['add']('position-relative'),at=at['parentElement']['closest']('[data-type=\x22highlight\x22]');if(this['auxiliarySpans']['forEach'](au=>this['auxiliaryParent']['appendChild'](au)),ao)this['domAPI']['styleSettings'](this['auxiliaryParent'],{'background':'rgba(207,\x2086,\x2089,\x200.1)'});else{if(!this['isSideBarFavoriteRootNode'](ak)&&!this['isDatabaseArea'](ak)){if(this['dataStore']['getBlockProperty'](ai,'parent_type')===M['y']['DATABASE'])return;this['editorStore']['setParentHighlight']({'id':ai,'screenId':aq&&aq['screenId'],'activeCurrent':an,'isSideBar':this['isSideBarNode'](ak),'isFavorite':this['isSideBarFavoriteNode'](ak),'isRootFavorite':this['isSideBarFavoriteRootNode'](ak)});}}}},this['auxiliaryClear']=(ai,aj)=>{this['auxiliarySpans']&&this['auxiliarySpans']['length']&&(this['auxiliarySpans']['forEach'](ak=>ak['remove']()),this['auxiliarySpans']=null),this['auxiliaryParent']&&(document['querySelectorAll']('[data-type=\x22highlight\x22].position-relative')['forEach'](ak=>{var al=ak['querySelector']('.node-selected-shadow');al&&'none'!==al['style']['display']||ak['classList']['remove']('position-relative');}),this['domAPI']['styleSettings'](this['auxiliaryParent'],{'background':'transparent'}),this['auxiliaryParent']=null),this['auxiliaryId']&&(this['editorStore']['setParentHighlight']({'id':this['auxiliaryId'],'activeCurrent':!0x0,'isSideBar':this['isSideBarNode'](ai),'isFavorite':this['isSideBarFavoriteNode'](ai),'isRootFavorite':this['isSideBarFavoriteRootNode'](ai)},!0x1),this['editorStore']['setParentHighlight']({'id':this['auxiliaryId'],'isSideBar':this['isSideBarNode'](ai),'isFavorite':this['isSideBarFavoriteNode'](ai),'isRootFavorite':this['isSideBarFavoriteRootNode'](ai)},!0x1),this['auxiliaryId']=''),this['columnAuxiliaryId']&&(this['columnAuxiliaryId']=''),aj&&(this['editorStore']['setParentHighlight']({'id':aj,'activeCurrent':!0x0,'isSideBar':this['isSideBarNode'](ai),'isFavorite':this['isSideBarFavoriteNode'](ai),'isRootFavorite':this['isSideBarFavoriteRootNode'](ai)},!0x1),this['editorStore']['setParentHighlight']({'id':aj,'isSideBar':this['isSideBarNode'](ai),'isFavorite':this['isSideBarFavoriteNode'](ai),'isRootFavorite':this['isSideBarFavoriteRootNode'](ai)},!0x1));},this['dropToCreateEmbedBlock']=(ai,aj,ak)=>af(this,[ai,aj,ak],function*(al,am,an){var {id:ao,parentId:ap,siblingId:aq='',type:ar='after'}=an,as=this['dataStore']['getBlockValue'](ao),at=Object(V['b'])();this['blockStore']['createCommonBlock'](al,at,ap,aq,ar)(),al['block']['updateBlock'](at,{'source_id':this['dataStore']['getSourceId'](as['id'])}),yield Object(a0['g'])({'workspaceId':am['workspace_id'],'pageId':am['page_id'],'blockId':at,'referencedBlockId':this['dataStore']['getSourceId'](ao)}),this['biLinkStore']['changeReferredCount'](as['id'],0x1);}),this['dropToColumn']=ai=>{var aj,ak,{e:al,id:am,ids:an,dropId:ao,type:ap,isPrev:aq,transaction:ar,dropFile:as,dropType:at='move'}=ai,{blockStore:au,editorUI:av,editorStore:aw}=this,ax=ar||new Q['a'](),ay=this['dataStore']['getBlockValue'](ao),az=this['domAPI']['getScreenByElement'](al['target']);az&&this['screenStore']['setCurrentScreen'](az);var aA=av['selectedRootNode'],aB=aA['length']?aA:an||[am],aC=au['checkAllRowColumnBlocks'](aB);if('row'!==ap&&'column'!==ap){var aD=Object(V['b'])(),aE=this['blockAPI']['findNearestSiblingKey'](ao);aj=Object(V['b'])(),ak=aC?0x1/(Object['keys'](aC)['length']+0x1):0.5,au['createRowBlock'](ax,aj,ay['parent_id'],aE,aE?'after':'before'),au['createColumnBlock'](ax,aD,aj,'','after'),au['deleteBlock'](ax,ao),au['insertBlock'](ax,aD,ao,'after'),au['updateColumnFlex'](ax,aD,ak);}else{if('column'===ap){aj=ay['parent_id'];var {sub_nodes:aF}=this['dataStore']['getBlockValue'](aj),aG=as?0x0:0x1;ak=aC?0x1/(aF['length']+Object['keys'](aC)['length']):0x1/(aF['length']+aG),aF['forEach'](aP=>{var {flex:aQ}=this['dataStore']['getBlockProperty'](aP,'setting');au['updateColumnFlex'](ax,aP,aQ*(0x1-ak*(aC?Object['keys'](aC)['length']:0x1)));});}}var aH=()=>{var aP=Object(V['b'])(),aQ=aq?'before':'after';return au['createColumnBlock'](ax,aP,aj,'column'===ap?ao:'',aQ),au['updateColumnFlex'](ax,aP,ak),aP;},aI=aB,aJ=[];if(this['fromSideBar']){var aK=aH();aB['forEach'](aP=>{this['pageStore']['dragPageInsertColumn'](ax,aP,aK);});}else{if('move'===at){if(aC)Object['keys'](aC)['forEach'](aP=>{var aQ=aH();aC[aP]['forEach'](aR=>{au['deleteBlock'](ax,aR),au['insertBlock'](ax,aQ,aR,'after');});});else{var aL=aH();aB['forEach'](aP=>{au['deleteBlock'](ax,aP),au['insertBlock'](ax,aL,aP,'after');});}}else{if('embed'===at){var aM=aH();aB['forEach'](aP=>{this['dropToCreateEmbedBlock'](ax,ay,{'id':aP,'parentId':aM});});}else{if('copy'===at){if(aI=[],aC)Object['keys'](aC)['forEach'](aP=>{var aQ=aH(),aR=null;aC[aP]['forEach'](aS=>{var aT,aU={'nodeId':aS,'parentId':aQ,'prevId':aR,'extraTrans':ax,'autoHighlight':!0x1,'create':!0x0,'position':'after'},{newId:aV,childNeedCloneList:aW}=this['editorStore']['duplicateBlock'](aU),aX=this['dataStore']['getBlockValue'](aV);if((null==aX?void 0x0:aX['type'])===M['y']['PAGE']||(null==aX?void 0x0:aX['type'])===M['y']['DATABASE']){var aY=this['blockAPI']['getTitlePlainTextById'](aV),aZ=null==(aT=null==aX?void 0x0:aX['setting'])?void 0x0:aT['page_icon'],b0=!0x1;if(aX['page_id']){var b1=this['dataStore']['getBlockValue'](aX['page_id']);b1['status']&&b1['status']!==M['w']['ACTIVE']||(b0=!0x0);}var b2=this['dataStore']['getSourceId'](aS),b3=this['dataStore']['getSourceId'](aX['parent_id']);aJ['push'](ac(ac({'newParentId':b3,'newBlockId':aV,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':b2,'newBlockTitle':aY,'newVersion':Number((null==aX?void 0x0:aX['version'])||0x0)+0x1},b0?{'enableDeleted':b0}:{}),aZ?{'newBlockIcon':{'icon':aZ[0x1]||'','type':aZ[0x0]||'emoji'}}:{}));}aJ=aJ['concat'](aW),aI['push'](aV),aR=aV;});});else{var aN=null,aO=aH();aB['forEach'](aP=>{var aQ,aR={'nodeId':aP,'parentId':aO,'prevId':aN,'extraTrans':ax,'autoHighlight':!0x1,'create':!0x0,'position':'after'},{newId:aS,childNeedCloneList:aT}=this['editorStore']['duplicateBlock'](aR),aU=this['dataStore']['getBlockValue'](aS);if((null==aU?void 0x0:aU['type'])===M['y']['PAGE']||(null==aU?void 0x0:aU['type'])===M['y']['DATABASE']){var aV=this['blockAPI']['getTitlePlainTextById'](aS),aW=null==(aQ=null==aU?void 0x0:aU['setting'])?void 0x0:aQ['page_icon'],aX=!0x1;if(aU['page_id']){var aY=this['dataStore']['getBlockValue'](aU['page_id']);aY['status']&&aY['status']!==M['w']['ACTIVE']||(aX=!0x0);}var aZ=this['dataStore']['getSourceId'](aP),b0=this['dataStore']['getSourceId'](aU['parent_id']);aJ['push'](ac(ac({'newParentId':b0,'newBlockId':aS,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':aZ,'newBlockTitle':aV,'newVersion':Number((null==aU?void 0x0:aU['version'])||0x0)+0x1},aX?{'enableDeleted':aX}:{}),aW?{'newBlockIcon':{'icon':aW[0x1]||'','type':aW[0x0]||'emoji'}}:{}));}aJ=aJ['concat'](aT),aI['push'](aS),aN=aS;});}}}}}this['deleteNullColumn']([...this['selectedRowNode']]),aw['invokeObserver'](ax,{'callback':()=>{aJ['length']>0x0&&aJ['forEach'](aP=>{var aQ=this['dataStore']['getBlockValue'](aP['newBlockId']);Object(X['a'])(aP)['then'](aR=>{var aS,aT,aU;aQ['type']===M['y']['PAGE']&&this['dataStore']['setPageLoaded'](aP['newBlockId'],!0x1),this['dataStore']['syncBlockData']([null==(aS=null==aR?void 0x0:aR['data'])?void 0x0:aS['newBlock']]),this['dataStore']['syncDataTables'](null==(aT=null==aR?void 0x0:aR['data'])?void 0x0:aT['tableMeta']),this['dataStore']['syncDataViews'](null==(aU=null==aR?void 0x0:aR['data'])?void 0x0:aU['tableViews']),this['blockStore']['setBlockDirty'](aQ),this['editorStore']['invokeObserver']();});});}}),av['setSelectedNode'](aI),this['editorStore']['noticeProgressUpdate'](aI),this['questStore']['track']('block-action-drag-to-column');},this['dropToNode']=ai=>{var {item:aj={},isPrev:ak,dropType:al='move'}=ai;return am=>{var {area:an}=am['target']['dataset'],ao=this['domAPI']['getScreenByElement'](am['target']),ap=aj['id'];if('column'!==an&&ap){var {domAPI:aq,blockAPI:ar,editorUI:as,blockStore:at,editorStore:au,dataStore:av,pageStore:aw}=this,ax=this['from']['id'],ay=av['getBlockValue'](ax)||{},az=av['getBlockValue'](ap)||{},{type:aA,parent_id:aB}=az,aC=this['dataStore']['getBlockProperty'](ap,'type')===M['y']['PAGE']&&this['withinPage'],aD=this['dataStore']['getBlockProperty'](ap,'type')===M['y']['DATABASE']&&this['withinPage'],aE=this['beSubNode']||aC||this['withinToggle']||aD,aF=ay['page_id']?ay['page_id']:ay['id'],aG=az['page_id']?az['page_id']:az['id'];if(ay['type']===M['y']['PAGE']&&(aF=aC?ay['id']:ay['page_id']),az['type']===M['y']['PAGE']&&(aG=aC?az['id']:az['page_id']),ay['type']===M['y']['DATABASE']&&(aF=aD?ay['id']:ay['page_id']),az['type']===M['y']['DATABASE']&&(aG=aD?az['id']:az['page_id']),aF||(aF=ay['id']),aG||(aG=az['id']),!this['pageActionCheckStore']['hasPageActionLimit'](aF,a1['g']['EditPage']))return aw['setConfirmOpen']({'title':K['a']['t'](M['cb']['NO_PERMISSION_TO_PERFORM_OPERATION'],'你没有权限执行该操作!',{'ns':'editor'}),'contents':K['a']['t'](M['cb']['CONTACT_ADMIN_TO_ADD_PERMISSION'],'请联系管理员为你增加相应操作权限',{'ns':'editor'}),'singleButton':!0x0,'adjustMobile':!0x0});if(aG&&aE){if(!this['pageActionCheckStore']['hasPageActionLimit'](aG,a1['g']['EditPage']))return aw['setConfirmOpen']({'title':K['a']['t'](M['cb']['NO_PERMISSION_TO_PERFORM_OPERATION'],'你没有权限执行该操作!',{'ns':'editor'}),'contents':K['a']['t'](M['cb']['CONTACT_ADMIN_TO_ADD_PERMISSION'],'请联系管理员为你增加相应操作权限',{'ns':'editor'}),'singleButton':!0x0,'adjustMobile':!0x0});}var aH=aF===aG;if(av['isTopPage'](ay)&&av['isTopPage'](az)&&(aH=!0x0),!aH&&ay['type']===M['y']['PAGE']){if(!this['pageActionCheckStore']['hasPageActionLimit'](ay['id'],a1['g']['MovePage']))return aw['setConfirmOpen']({'title':K['a']['t']('store.drag.noPermissionToMovePage','你无权移动该页面!',{'ns':'editor'}),'contents':K['a']['t']('store.drag.noPermissionToMovePageTips','你没有移动该页面权限，<br/>请联系管理员为你增加相应操作权限',{'ns':'editor','interpolation':{'escapeValue':!0x1}}),'singleButton':!0x0,'adjustMobile':!0x0});}aq['prevent'](am),'column'===aA&&(ap=aB);var aI=this['getParentBoardColumnNode'](am);if([M['pb']['includes'](aj['type'])&&this['beSubNode'],ar['findSubKey'](ay['id'],ap)&&!(this['fromFavorite']&&this['isSideBarFavoriteRootNode'](am))&&(!aI||(null==aI?void 0x0:aI['dataset']['columnId'])===this['from']['columnId']),as['selectedNode']['includes'](ap)&&(!aI||(null==aI?void 0x0:aI['dataset']['columnId'])===this['from']['columnId'])]['some'](Boolean))return this['from']={},void as['selectedRootNode']['forEach'](bc=>{this['editorUI']['selectedShadowSet'](bc,this['editorUI']['columnSelected']);});var aJ=av['getBlockValue'](ap)||{},aK=av['isTopPage'](aJ)?av['getSpace'](aJ['parent_id']):av['getBlockValue'](aJ['parent_id']),aL={'ignoreLock':!0x1};(this['isSideBarNode'](am)||this['isSideBarFavoriteNode'](am)||aC||aD)&&(aL['ignoreLock']=!0x0);var aM=new Q['a'](aL),aN=as['selectedRootNode'],aO=aN['length']?aN:[ay['id']],aP=aO;if(aK||this['fromFavorite']&&this['isSideBarFavoriteRootNode'](am)){ao&&this['screenStore']['setCurrentScreen'](ao);var aQ='',aR=[],aS=[],aT=this['fromDatabaseNode']===this['isDatabaseArea'](am);if(aE){if(this['disableChangePage'])return aw['setConfirmOpen']({'contents':K['a']['t'](M['cb']['DISABLE_CHANGE_TOP_PAGES_TIPS'],'<div>管理员已开启禁止更改顶层公共页面选项,<br/>无法进行此操作</div>',{'ns':'editor','interpolation':{'escapeValue':!0x1}}),'singleButton':!0x0,'adjustMobile':!0x0});if(this['fromFavorite'])return;if(this['fromSideBar'])this['isSideBarNode'](am)||this['isSideBarFavoriteNode'](am)?aO['forEach'](bc=>{var bd=av['getBlockValue'](bc);if(bd['active']){if(bd['type']===M['y']['DATABASE']&&aJ['type']===M['y']['DATABASE'])return;aJ['type']===M['y']['DATABASE']?(aw['removePage'](aM,bd),a2['a']['insertRow'](aJ['id'],bd['id'],{},aM,!0x0),aT||aR['push'](bd['id']),aQ=aJ['id']):aw['dragPage'](bc,aJ['id'],aM);}}):aO['forEach'](bc=>{aw['dragPage'](bc,aJ['id'],aM);});else{if(this['isSideBarNode'](am)||this['isSideBarFavoriteNode'](am))aO['forEach'](bc=>{var bd=av['getBlockValue'](bc);if(bd['active']){if(bd['type']===M['y']['DATABASE']&&aJ['type']===M['y']['DATABASE'])return;if(aJ['type']===M['y']['DATABASE']){if(at['deleteBlock'](aM,bd['id']),a2['a']['insertRow'](aJ['id'],bd['id'],{},aM,!0x0),!aT){var be=this['dataStore']['getBlockValue'](bd['id']);(null==be?void 0x0:be['type'])===M['y']['PAGE']&&aR['push'](bd['id']);}aQ=aJ['id'];}else{if([M['y']['DATABASE'],M['y']['PAGE']]['includes'](bd['type']))aw['dragPage'](bc,aJ['id'],aM);else{if(bc===aJ['id'])return;at['moveBlock'](aM,aJ['id'],bc,'after');}}}});else{if('move'===al){var aU;if(aC&&(aU=at['checkAllRowColumnBlocks'](aO)),aU){var aV=Object(V['b'])();at['createRowBlock'](aM,aV,aJ['id'],'','after'),Object['keys'](aU)['forEach'](bc=>{var bd=Object(V['b'])();at['createColumnBlock'](aM,bd,aV,'','after'),at['updateColumnFlex'](aM,bd,0x1/Object['keys'](aU)['length']),aU[bc]['forEach'](be=>{at['deleteBlock'](aM,be),at['insertBlock'](aM,bd,be,'after');});});}else aO['forEach'](bc=>{at['deleteBlock'](aM,bc),at['insertBlock'](aM,aJ['id'],bc,'after');});aO['forEach'](bc=>{var bd=av['getBlockValue'](bc);bd['active']&&[M['y']['PAGE'],M['y']['DATABASE']]['includes'](bd['type'])&&aJ['type']===M['y']['PAGE']&&aw['adjustPages'](aJ['id'],bd['id'],'add');});}else{if('embed'===al)aO['forEach'](bc=>{this['dropToCreateEmbedBlock'](aM,aJ,{'id':bc,'parentId':aJ['id']});});else{if('copy'===al){aP=[];var aW,aX=H()(aJ,'sub_nodes',[])['slice'](-0x1)[0x0],aY=aO;if(aC&&(aW=at['checkAllRowColumnBlocks'](aY)),aW){var aZ=Object(V['b'])();at['createRowBlock'](aM,aZ,aJ['id'],aX,'after'),Object['keys'](aW)['forEach'](bc=>{var bd,be=Object(V['b'])();at['createColumnBlock'](aM,be,aZ,'','before'),at['updateColumnFlex'](aM,be,0x1/Object['keys'](aW)['length']),aW[bc]['forEach'](bf=>{var bg,bh={'extraOptions':aC?{'page_id':aJ['id'],'parent_type':'page'}:null,'nodeId':bf,'parentId':be,'prevId':bd,'extraTrans':aM,'autoHighlight':!0x1,'create':!0x0,'position':'before'},{newId:bi,childNeedCloneList:bj}=this['editorStore']['duplicateBlock'](bh),bk=this['dataStore']['getBlockValue'](bi);if((null==bk?void 0x0:bk['type'])===M['y']['PAGE']||(null==bk?void 0x0:bk['type'])===M['y']['DATABASE']){var bl=this['blockAPI']['getTitlePlainTextById'](bi),bm=null==(bg=null==bk?void 0x0:bk['setting'])?void 0x0:bg['page_icon'],bn=!0x1;if(bk['page_id']){var bo=this['dataStore']['getBlockValue'](bk['page_id']);bo['status']&&bo['status']!==M['w']['ACTIVE']||(bn=!0x0);}var bp=this['dataStore']['getSourceId'](bf),bq=this['dataStore']['getSourceId'](bk['parent_id']);aS['push'](ac(ac({'newParentId':bq,'newBlockId':bi,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bp,'newBlockTitle':bl,'newVersion':Number((null==bk?void 0x0:bk['version'])||0x0)+0x1},bn?{'enableDeleted':bn}:{}),bm?{'newBlockIcon':{'icon':bm[0x1]||'','type':bm[0x0]||'emoji'}}:{}));}aS=aS['concat'](bj),aP['push'](bi),bd=bi;});});}else{var b0=aX;aY['forEach'](bc=>{var bd,be={'extraOptions':aC?{'page_id':aJ['id'],'parent_type':'page'}:null,'nodeId':bc,'parentId':aJ['id'],'prevId':b0,'extraTrans':aM,'autoHighlight':!0x1,'create':!0x0,'position':'after'},{newId:bf,childNeedCloneList:bg}=this['editorStore']['duplicateBlock'](be),bh=this['dataStore']['getBlockValue'](bf);if((null==bh?void 0x0:bh['type'])===M['y']['PAGE']||(null==bh?void 0x0:bh['type'])===M['y']['DATABASE']){var bi=this['blockAPI']['getTitlePlainTextById'](bf),bj=null==(bd=null==bh?void 0x0:bh['setting'])?void 0x0:bd['page_icon'],bk=!0x1;if(bh['page_id']){var bl=this['dataStore']['getBlockValue'](bh['page_id']);bl['status']&&bl['status']!==M['w']['ACTIVE']||(bk=!0x0);}var bm=this['dataStore']['getSourceId'](bc),bn=this['dataStore']['getSourceId'](bh['parent_id']);aS['push'](ac(ac({'newParentId':bn,'newBlockId':bf,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bm,'newBlockTitle':bi,'newVersion':Number((null==bh?void 0x0:bh['version'])||0x0)+0x1},bk?{'enableDeleted':bk}:{}),bj?{'newBlockIcon':{'icon':bj[0x1]||'','type':bj[0x0]||'emoji'}}:{}));}aS=aS['concat'](bg),aP['push'](bf),b0=bf;});}}}}}}}else{if((this['disableChangePage']||this['dataStore']['handleDisableChangeConfig'](ap))&&(!this['isSideBarFavoriteRootNode'](am)||!this['fromFavorite']))return this['fromFavorite']?void 0x0:aw['setConfirmOpen']({'contents':K['a']['t'](M['cb']['DISABLE_CHANGE_TOP_PAGES_TIPS'],'<div>管理员已开启禁止更改顶层公共页面选项,<br/>无法进行此操作</div>',{'ns':'editor','interpolation':{'escapeValue':!0x1}}),'singleButton':!0x0,'adjustMobile':!0x0});var b1=ak?aO:[...aO]['reverse'](),b2=ak?'before':'after',b3=this['isDatabaseArea'](am);if(this['fromSideBar'])b3&&aJ['parent_type']===M['y']['DATABASE']||aK['type']===M['y']['DATABASE']?b1['forEach'](bc=>{var bd=this['dataStore']['getBlockValue'](bc);if(bd['source_id']&&(bd=this['dataStore']['getBlockValue'](bd['source_id'])),[M['y']['PAGE'],M['y']['DATABASE']]['includes'](bd['type'])&&this['pageStore']['removePage'](aM,bd),a2['a']['insertRow'](aJ['parent_id'],bc,{'blockId':aJ['id'],'position':b2,'target_column':null==aI?void 0x0:aI['dataset']['columnId']},aM,!0x0),!aT){var be=this['dataStore']['getBlockValue'](bc);(null==be?void 0x0:be['type'])===M['y']['PAGE']&&aR['push'](bc);}aQ=aJ['parent_id'];}):b1['forEach'](bc=>{aw['insertPage'](aM,bc,aJ['id'],ak);});else{if(this['fromFavorite']){if(this['isSideBarFavoriteRootNode'](am)){var b4=[...this['pageStore']['favoritePages']];b4['splice'](b4['indexOf'](ay['id']),0x1),ak?b4['splice'](b4['indexOf'](aJ['id']),0x0,ay['id']):b4['splice'](b4['indexOf'](aJ['id'])+0x1,0x0,ay['id']),this['spaceStore']['updateFavoritePage'](aM,b4);}}else{var b5;if(this['isSideBarNode'](am))b1['forEach'](bc=>{var bd=av['getBlockValue'](bc);bd['active']&&[M['y']['PAGE'],M['y']['DATABASE']]['includes'](bd['type'])&&!bd['source_id']&&aw['insertPage'](aM,bc,aJ['id'],ak);});else{if('move'===al){if(aJ['parent_type']===M['y']['PAGE']&&(b5=at['checkAllRowColumnBlocks'](aO)),b5){var b6=Object(V['b'])();at['createRowBlock'](aM,b6,aJ['page_id'],aJ['id'],b2),Object['keys'](b5)['forEach'](bc=>{var bd=Object(V['b'])();at['createColumnBlock'](aM,bd,b6,'','after'),at['updateColumnFlex'](aM,bd,0x1/Object['keys'](b5)['length']),b5[bc]['forEach'](be=>{at['deleteBlock'](aM,be),at['insertBlock'](aM,bd,be,'after');});});}else b3&&aJ['parent_type']===M['y']['DATABASE']||aK['type']===M['y']['DATABASE']?b1['forEach'](bc=>{var bd=av['getBlockValue'](bc);if(bd['active']){if(bd['type']===M['y']['DATABASE']&&aJ['type']===M['y']['DATABASE'])return;var be=this['from']['id']===bc?[this['from']['columnId']]:[];if(this['editorUI']['columnSelected']['has'](bc)&&aT){var bf=this['editorUI']['columnSelected']['get'](bc);be['push'](...bf['values']());}if(at['deleteBlock'](aM,bd['id']),a2['a']['insertRow'](aJ['parent_id'],bc,{'blockId':aJ['id'],'position':b2,'target_column':null==aI?void 0x0:aI['dataset']['columnId'],'origin_columns':be},aM,!0x0),!aT){var bg=this['dataStore']['getBlockValue'](bc);(null==bg?void 0x0:bg['type'])===M['y']['PAGE']&&aR['push'](bc);}aQ=aJ['parent_id'];}}):b1['forEach'](bc=>{at['deleteBlock'](aM,bc),at['insertBlock'](aM,aJ['parent_id'],bc,b2,aK['sub_nodes']['indexOf'](aJ['id']));});}else{if('embed'===al)b1['forEach'](bc=>{this['dropToCreateEmbedBlock'](aM,aJ,{'parentId':aJ['parent_id'],'id':bc,'siblingId':aJ['id'],'type':b2});});else{if('copy'===al){if(aP=[],aJ['parent_type']===M['y']['PAGE']&&(b5=at['checkAllRowColumnBlocks']([...aO]['reverse']())),b5){var b7=Object(V['b'])();at['createRowBlock'](aM,b7,aJ['page_id'],aJ['id'],b2),Object['keys'](b5)['forEach'](bc=>{var bd,be=Object(V['b'])();at['createColumnBlock'](aM,be,b7,'','before'),at['updateColumnFlex'](aM,be,0x1/Object['keys'](b5)['length']),b5[bc]['forEach'](bf=>{var bg,bh={'nodeId':bf,'parentId':be,'prevId':bd,'extraTrans':aM,'autoHighlight':!0x1,'create':!0x0,'position':'before'},{newId:bi,childNeedCloneList:bj}=this['editorStore']['duplicateBlock'](bh),bk=this['dataStore']['getBlockValue'](bi);if((null==bk?void 0x0:bk['type'])===M['y']['PAGE']||(null==bk?void 0x0:bk['type'])===M['y']['DATABASE']){var bl=this['blockAPI']['getTitlePlainTextById'](bi),bm=null==(bg=null==bk?void 0x0:bk['setting'])?void 0x0:bg['page_icon'],bn=!0x1;if(bk['page_id']){var bo=this['dataStore']['getBlockValue'](bk['page_id']);bo['status']&&bo['status']!==M['w']['ACTIVE']||(bn=!0x0);}var bp=this['dataStore']['getSourceId'](bf),bq=this['dataStore']['getSourceId'](bk['parent_id']);aS['push'](ac(ac({'newParentId':bq,'newBlockId':bi,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bp,'newBlockTitle':bl,'newVersion':Number((null==bk?void 0x0:bk['version'])||0x0)+0x1},bn?{'enableDeleted':bn}:{}),bm?{'newBlockIcon':{'icon':bm[0x1]||'','type':bm[0x0]||'emoji'}}:{}));}aS=aS['concat'](bj),aP['push'](bi),bd=bi;});});}else{var b8=ak?[...aO]['reverse']():aO,b9=aj['id'],ba=[],bb=new Map();b8['forEach'](bc=>{var bd,be={'nodeId':bc,'parentId':aJ['parent_id'],'prevId':b9,'extraTrans':aM,'autoHighlight':!0x1,'create':!0x0,'position':b2},{newId:bf,childNeedCloneList:bg}=this['editorStore']['duplicateBlock'](be),bh=this['dataStore']['getBlockValue'](bf);if((null==bh?void 0x0:bh['type'])===M['y']['PAGE']||(null==bh?void 0x0:bh['type'])===M['y']['DATABASE']){var bi=this['blockAPI']['getTitlePlainTextById'](bf),bj=null==(bd=null==bh?void 0x0:bh['setting'])?void 0x0:bd['page_icon'],bk=!0x1;if(bh['page_id']){var bl=this['dataStore']['getBlockValue'](bh['page_id']);bl['status']&&bl['status']!==M['w']['ACTIVE']||(bk=!0x0);}var bm=this['dataStore']['getSourceId'](bc),bn=this['dataStore']['getSourceId'](bh['parent_id']);aS['push'](ac(ac({'newParentId':bn,'newBlockId':bf,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bm,'newBlockTitle':bi,'newVersion':Number((null==bh?void 0x0:bh['version'])||0x0)+0x1},bk?{'enableDeleted':bk}:{}),bj?{'newBlockIcon':{'icon':bj[0x1]||'','type':bj[0x0]||'emoji'}}:{}));}aS=aS['concat'](bg),(b3&&aJ['parent_type']===M['y']['DATABASE']||aK['type']===M['y']['DATABASE'])&&ba['push']({'oldId':bc,'prevId':b9,'nextId':bf}),aP['push'](bf),this['editorUI']['columnSelected']['has'](bc)&&(bb['set'](bc,new Set(this['editorUI']['columnSelected']['get'](bc))),bb['set'](bf,new Set(this['editorUI']['columnSelected']['get'](bc)))),b9=bf;}),ba['forEach'](bc=>{var {oldId:bd,prevId:be,nextId:bf}=bc,bg=this['dataStore']['getBlockValue'](bd);if(bg['parent_type']===M['y']['DATABASE'])bg['type']===M['y']['PAGE']&&this['dataStore']['setPageLoaded'](bf,!0x0),a2['a']['duplicateRow'](bg['parent_id'],bd,{'prevId':be,'newBlockId':bf},aM);else{var bh=[];if(this['editorUI']['columnSelected']['has'](aJ['id'])&&aT){var bi=this['editorUI']['columnSelected']['get'](aJ['id']);bh['push'](...bi['values']());}a2['a']['insertRow'](aJ['parent_id'],bf,{'blockId':be,'position':b2,'target_column':null==aI?void 0x0:aI['dataset']['columnId'],'origin_columns':bh},aM,!0x0);}});}}}}}}}}au['invokeObserver'](aM,{'callback':()=>{if(aR['length']&&aQ){var bc=this['dataStore']['getBlockProperty'](aQ,'database_id');if(!bc)return;aR['forEach'](bd=>{var be=this['dataStore']['getDataRow'](bc,bd);be&&(be['isLoading']=!0x1);}),a2['a']['reGetRowData'](bc,aR);}aS['length']>0x0&&aS['forEach'](bd=>{var be=this['dataStore']['getBlockValue'](bd['newBlockId']);Object(X['a'])(bd)['then'](bf=>{var bg,bh,bi;be['type']===M['y']['PAGE']&&this['dataStore']['setPageLoaded'](bd['newBlockId'],!0x1),this['dataStore']['syncBlockData']([null==(bg=null==bf?void 0x0:bf['data'])?void 0x0:bg['newBlock']]),this['dataStore']['syncDataTables'](null==(bh=null==bf?void 0x0:bf['data'])?void 0x0:bh['tableMeta']),this['dataStore']['syncDataViews'](null==(bi=null==bf?void 0x0:bf['data'])?void 0x0:bi['tableViews']),this['blockStore']['setBlockDirty'](be),this['editorStore']['invokeObserver']();});});}}),as['setSelectedNode'](aP),this['editorStore']['noticeProgressUpdate'](aP),this['screenStore']['isSecondScreen'](am['target'])&&this['questStore']['track']('block-action-drag-to-secondScreen'),this['blockStore']['isTemplateArea'](ad(ac({},az),{'blockId':az['id']}))&&this['questStore']['track']('block-action-drag-to-template');}}};},this['computedAuxiliaryId']=(ai,aj)=>{if(aj){var ak=this['isSideBarNode'](ai)||this['isSideBarFavoriteNode'](ai),al=this['domAPI']['getScreenByElement'](ai['target'])||{},am=null;if(ak)am=H()(this['getTargetDom'](ai),'dataset.id');else{var an=this['getParentBoardColumnNode'](ai),ao=this['domAPI']['findNearestBlockByMousePos'](al['screenId'],ai['clientX'],ai['clientY'],0xa);if(an){if(ao){am=ao;var ap=this['auxiliaryLineAtTop'](ai,am);return this['auxiliaryPrev']=ap,this['auxiliaryClear'](ai,am),{'id':am,'blockId':am,'upper':ap};}if(an){var {viewId:aq,columnId:ar}=an['dataset'],as=this['dataStore']['getDataView'](aq);if(as){var at=this['databaseViewStore']['getBoardView'](as['block_id']),au=at['getColumnIds'](ar);if(au['length']){var av=an['getBoundingClientRect'](),{clientY:aw}=ai,ax=av['top']+0x32>aw;return am=ax?au[0x0]:au[au['length']-0x1],this['auxiliaryPrev']=ax,this['auxiliaryClear'](ai,am),{'id':''['concat'](am,'-')['concat'](ar),'blockId':''['concat'](am,'-')['concat'](ar),'upper':ax};}return void(this['boardViewColumn']=J['observable']['object']({'blockId':at['block_id'],'viewId':at['view_id'],'columnId':''['concat'](ar)}));}}else am=ao||(Object(W['i'])()?null:this['domAPI']['getNodeIdByElement'](ai['target']));}else am=ao||(Object(W['i'])()?null:this['domAPI']['getNodeIdByElement'](ai['target']));}if(!am){if(!(am=this['domAPI']['findNearestBlockByMousePos'](al['screenId'],ai['clientX'],ai['clientY'],0x0,!0x0)))return;var ay=am['startsWith']('ref-')?[am]:null==am?void 0x0:am['split']('-');am=ay[0x0];var az=ay[0x1]?this['domAPI']['$']('#screen-'['concat'](al['screenId'],'\x20#id-column-')['concat'](ay[0x1],'\x20#id-')['concat'](am)):this['domAPI']['$']('#screen-'['concat'](al['screenId'],'\x20#id-')['concat'](am)),{databaseId:aA}=null==az?void 0x0:az['dataset'];if(!aA){if(!az['closest']('.column-node')&&aj['id']!==am&&!aA){if(az['closest']('.sub-node-container')){var aB=this['blockAPI']['findTopParentNode'](this['dataStore']['getBlockValue'](am));if(!aB)return;var aC=this['domAPI']['$']('#screen-'['concat'](al['screenId'],'\x20#id-')['concat'](aB['id']));if(!(ai['clientX']<aC['getBoundingClientRect']()['left']||ai['clientX']>aC['getBoundingClientRect']()['right']))return;am=aB['id'];}return this['auxiliaryPrev']=ai['clientX']<az['getBoundingClientRect']()['left'],{'blockId':am,'isColumn':!0x0};}return;}var aD=this['dataStore']['getBlockValue'](am);aD['type']!==M['y']['DATABASE']&&(am=aD['parent_id']);}if(am!==al['id']){var aE=this['blockAPI']['findNearestAuxiliaryLineId'](am,!0x0,ak,this['isSideBarFavoriteRootNode'](ai)),aF=this['blockAPI']['findNearestAuxiliaryLineId'](am,!0x1,ak,this['isSideBarFavoriteRootNode'](ai)),aG=this['auxiliaryLineAtTop'](ai,am),{type:aH}=this['dataStore']['getBlockValue'](aE),{type:aI}=this['dataStore']['getBlockValue'](aj['id']),aJ=this['domAPI']['$']('#screen-'['concat'](al['screenId'],'\x20#id-')['concat'](am)),{viewType:aK}=(null==aJ?void 0x0:aJ['dataset'])||{},aL=aK===Z['h']['Gallery']?am:aG&&aE?aE:am;if(this['allAuxiliaryIdClear'](),am===aj['id']||this['editorUI']['selectedNode']['includes'](am))return this['auxiliaryClear'](ai,this['auxiliaryId']),void this['auxiliaryClear'](ai,am);if(this['auxiliaryClear'](ai,aL),this['editorStore']['setParentHighlight']({'id':this['auxiliaryId'],'screenId':al&&al['screenId'],'isSideBar':this['isSideBarNode'](ai),'isFavorite':this['isSideBarFavoriteNode'](ai),'isRootFavorite':this['isSideBarFavoriteRootNode'](ai)},!0x1),aK===Z['h']['Gallery'])this['auxiliaryPrev']=Boolean(aG);else{this['auxiliaryPrev']=Boolean(aG&&!aE);var {area:aM}=H()(ai['target'],'dataset',{});if('column'===aM||'col-resize'===aM)return;aG||aj['id']===aF&&[...M['pb'],M['y']['TEXT']]['includes'](aI)&&this['domAPI']['dropToBecomeSubNodeJudgement'](ai,{'id':aj['id']})&&(aL=this['blockAPI']['findNearestAuxiliaryLineId'](am,!0x0,ak,this['isSideBarFavoriteRootNode'](ai))||aL),aG&&aj['id']===aE&&[...M['pb'],M['y']['TEXT']]['includes'](aH)&&(aL=this['blockAPI']['findNearestAuxiliaryLineId'](aE,!0x1,ak,this['isSideBarFavoriteRootNode'](ai))||aL);}return{'id':aL,'blockId':am,'upper':aG};}}},this['ifDragdropDisabled']=ai=>{var aj=this['domAPI']['getScreenByElement'](ai['target']);return!!aj&&aj['locked'];},this['clearAuxiliaryData']=ai=>{this['auxiliaryClear'](ai),this['auxiliaryId']='',this['columnAuxiliaryId']='';},this['handleDrag']=ai=>{var aj,ak,al,am,an,ao,ap,aq,{e:ar,item:as}=ai;this['withInDatabase']=!0x1,this['boardViewColumn']=void 0x0;var at=this['domAPI']['getScreenByElement'](ar['target']);!at&&this['hoverTimer']&&(clearTimeout(this['hoverTimer']),this['hoverTimer']=null);var {ignoreDrag:au}=(null==(aj=null==ar?void 0x0:ar['target'])?void 0x0:aj['dataset'])||{},av=this['getTargetDom'](ar),{area:aw}=H()(av,'dataset',{});if(!au||!this['fromDatabaseNode']){if(this['isInitPageBlock'](ar,aw))return this['withinPage']=!0x0,void(this['auxiliaryId']=at['id']);if(this['isNewPrivateButton'](ar,aw)&&as&&as['type']===M['y']['PAGE']&&!as['source_id'])return this['clearAuxiliaryData'](ar),void(this['privateId']=as['id']);if(this['privateId']='',this['isNewPublicButton'](ar,aw)&&as&&as['type']===M['y']['PAGE']&&!as['source_id'])return this['clearAuxiliaryData'](ar),void(this['publicId']=as['id']);if(this['publicId']='',this['isTrash'](ar,aw)&&as&&[M['y']['PAGE'],M['y']['DATABASE']]['includes'](as['type'])&&!as['source_id'])return this['clearAuxiliaryData'](ar),void(this['deletePageId']=as['id']);if(this['deletePageId']='',this['isTemplateBlankArea'](ar,aw)){this['auxiliaryClear'](ar),this['withinPage']=!0x0,this['beSubNode']=!0x0;var ax=this['getTargetDom'](ar),ay=H()(ax,'dataset.id');this['auxiliaryId']=ay;}else{if(!this['fromFavorite']||this['isSideBarFavoriteRootNode'](ar)){if(this['fromDatabaseNode']&&this['isSideBarNode'](ar,aw)&&this['fromDatabaseNode']===this['isDatabaseRowNode'](ar))return this['clearAuxiliaryData'](ar),void(this['withinPage']=!0x1);this['allAuxiliaryIdClear']();var az=this['computedAuxiliaryId'](ar,as);if(!az)return this['auxiliaryId']='',this['columnAuxiliaryId']='',this['hoverAnchorEl']&&this['hoverAnchorEl']['classList']['remove']('border-highlight'),this['ifNormalDragMode']=!0x0,void(this['dragFileTimer']&&(clearTimeout(this['dragFileTimer']),this['dragFileTimer']=null));if(this['isDatabaseArea'](ar)&&!this['isBoardColumnArea'](ar))return this['withInDatabase']=!0x0,this['clearAuxiliaryData'](ar),void(this['privateId']='');var {blockId:aA,upper:aB,isColumn:aC}=az,[aD,aE]=aA['startsWith']('ref-')?[aA]:aA['split']('-'),[aF]=(null==(ak=null==az?void 0x0:az['id'])?void 0x0:ak['startsWith']('ref-'))?[null==az?void 0x0:az['id']]:(null==(al=null==az?void 0x0:az['id'])?void 0x0:al['split']('-'))||[];(null==(am=this['item'])?void 0x0:am['type'])===M['y']['DATABASE']&&this['dataStore']['getBlockProperty'](aD,'parent_type')===M['y']['DATABASE']&&this['fromDatabaseNode']===this['dataStore']['getBlockProperty'](aD,'parent_id')&&(this['clearAuxiliaryData'](ar),this['withinPage']=!0x1);var aG=as['id']['startsWith']('ref-')&&(aF&&this['dataStore']['getEmbedId'](aF)!==this['dataStore']['getEmbedId'](as['id'])||aC);if(this['ifDragdropDisabled'](ar)||aG)return this['clearAuxiliaryData'](ar),this['allAuxiliaryIdClear'](),void(this['withinPage']=!0x1);if(aC)return this['auxiliarySet'](aD,{'isColumn':!0x0},ar),void(this['columnAuxiliaryId']=aD);if(this['hoverBlockId']!==aD&&(this['hoverAnchorEl']&&this['hoverAnchorEl']['classList']['remove']('border-highlight'),at&&(this['hoverBlockId']=aD,this['hoverAnchorEl']=this['domAPI']['$']('#screen-'['concat'](at['screenId'],'\x20#id-')['concat'](this['hoverBlockId']))),this['hoverTimer']&&(clearTimeout(this['hoverTimer']),this['hoverTimer']=null),this['ifNormalDragMode']=!0x0),this['ifNormalDragMode']&&aF){if((this['editorUI']['selectedNode']['length']>0x1?this['editorUI']['selectedNode']:[as['id']])['some'](aW=>this['blockAPI']['currentNodeIsChildOfTargetNode'](aD,aW))&&(!this['fromFavorite']||!this['isSideBarFavoriteRootNode'](ar)))return;var aH=this['isSideBarNode'](ar,aw)?document['querySelector']('.tree-bean-'['concat'](aD)):this['isSideBarFavoriteNode'](ar,aw)?this['isSideBarFavoriteRootNode'](ar)?document['querySelector']('.favorite-tree-bean-'['concat'](aD,'[data-favorite=true]')):document['querySelector']('.favorite-tree-bean-'['concat'](aD,'[data-favorite=false]')):aE?this['domAPI']['$']('#screen-'['concat'](at['screenId'],'\x20#id-column-')['concat'](aE,'\x20#id-')['concat'](aD)):this['domAPI']['$']('#screen-'['concat'](at['screenId'],'\x20#id-')['concat'](aD)),{viewType:aI}=aH['dataset'],aJ=this['isSideBarNode'](ar,aw)?[M['y']['PAGE'],M['y']['DATABASE']]['includes'](this['dataStore']['getBlockProperty'](aD,'type')):this['dataStore']['getBlockProperty'](aD,'type')===M['y']['PAGE'],{sub_nodes:aK=[],type:aL}=this['dataStore']['getBlockValue'](aD),aM='no';M['Bb']['includes'](aL)&&(aM=this['blockAPI']['getNodeProperty'](aD,'toggled'));var aN=M['Bb']['includes'](aL)&&('yes'!==aM||'yes'===aM&&0x0===aK['length']);if(this['withinToggle']=aN&&this['domAPI']['withinContainer'](ar,aH,0xe),this['withinPage']=!(this['fromDatabaseNode']&&this['fromDatabaseNode']===this['isDatabaseRowNode'](ar))&&aJ&&this['domAPI']['withinContainer'](ar,aH,aI===Z['h']['Gallery']?0x0:0xe),!this['isSideBarFavoriteRootNode'](ar)||this['fromFavorite']||this['withinPage']||(this['withinPage']=!0x0),this['fromFavorite']&&this['isSideBarFavoriteRootNode'](ar)&&(this['withinPage']=!0x1),!this['withinPage']&&aJ&&(![M['y']['PAGE'],M['y']['DATABASE']]['includes'](as['type'])||as['type']===M['y']['PAGE']&&as['source_id'])&&this['isSideBarNode'](ar,aw)&&(this['withinPage']=!0x0),this['withinPage']&&(this['dataStore']['getSourceId'](aD)===this['dataStore']['getSourceId'](as['id'])||(null==(an=this['item'])?void 0x0:an['type'])===M['y']['DATABASE']&&this['isSideBarNode'](ar,aw)&&this['isDatabaseRowNode'](ar)))return void(this['withinPage']=!0x1);if(at&&at['screenId']&&(null==(ao=this['from'])?void 0x0:ao['screenId'])&&at['screenId']!==(null==(ap=this['from'])?void 0x0:ap['screenId'])&&!this['altKey']&&!this['hoverTimer']&&this['hoverBlockId']&&this['editorUI']['selectedRootNode']['length']<=0x1&&M['f']['includes'](this['dataStore']['getBlockProperty'](this['hoverBlockId'],'type'))&&(this['hoverTimer']=setTimeout(()=>{this['hoverTimer']=null,this['ifNormalDragMode']=!0x1,this['hoverAnchorEl']&&this['hoverAnchorEl']['classList']['add']('border-highlight'),this['auxiliaryClear'](ar),this['allAuxiliaryIdClear']();},0x708)),this['withinPage']||this['withinToggle'])return this['auxiliaryId']=aD;var {type:aO,parent_type:aP}=this['dataStore']['getBlockValue'](aF);if((null==(aq=this['item'])?void 0x0:aq['type'])===M['y']['DATABASE']&&aP===M['y']['DATABASE'])return;var aQ=!aB&&!['column','row']['includes'](aO)&&this['domAPI']['dropToBecomeSubNodeJudgement'](ar,{'id':aD});if(this['auxiliaryId']===aF&&aQ===this['beSubNode'])return;var {type:aR,parent_id:aS}=this['dataStore']['getBlockValue'](aF),{sub_nodes:aT=[]}=this['dataStore']['getBlockValue'](aS),aU=this['blockAPI']['previousBlockId'](aS),{type:aV}=this['dataStore']['getBlockValue'](aU);'column'===aR&&this['auxiliaryPrev']&&0x0===aT['indexOf'](aF)&&'row'===aV&&(aF=aU,this['auxiliaryPrev']=!0x1),this['auxiliaryId']=aF,this['beSubNode']=aQ,this['allAuxiliaryId']=!aB&&this['getCascadingId'](aF,[],this['isSideBarNode'](ar,aw)||this['isSideBarFavoriteNode'](ar,aw)),this['auxiliarySet'](aF,{'sub':this['beSubNode'],'columnId':aE},ar),this['allAuxiliaryIdSet'](ar,aE);}}else this['allAuxiliaryIdClear']();}}},this['isTemplateBlankArea']=(ai,aj)=>{if(aj)return'template-block'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'template-block'===al;},this['isInitPageBlock']=(ai,aj)=>{if(aj)return'init-page-block'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'init-page-block'===al;},this['isNewPrivateButton']=(ai,aj)=>{if(aj)return'new-button-private'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'new-button-private'===al;},this['isNewPublicButton']=(ai,aj)=>{if(aj)return'new-button-public'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'new-button-public'===al;},this['isTrash']=(ai,aj)=>{if(aj)return'page-trash'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'page-trash'===al;},this['isSideBarNode']=(ai,aj)=>{if(aj)return'tree-menu'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'tree-menu'===al;},this['isPageNode']=ai=>{var aj=this['getTargetDom'](ai),{area:ak}=H()(aj,'dataset',{});return'page-block'===ak;},this['getParentDatabaseNode']=ai=>{if(this['isDatabaseRowNode'](ai))return!0x0;for(var aj=this['getTargetDom'](ai);aj&&'wolai-main-editor'!==aj['id']&&'database'!==aj['dataset']['area'];)aj=H()(aj,'parentElement',{});var {area:ak}=H()(aj,'dataset',{});return'database'===ak?aj:null;},this['getBoardDatabaseNode']=ai=>{for(var aj,ak=ai['target'],al=H()(ak,'nodeName');ak&&(!['BODY','svg']['includes'](al)&&('string'==typeof ak['className']&&-0x1===(null==(aj=ak['className'])?void 0x0:aj['indexOf']('database-board-area'))||'string'!=typeof ak['className'])||'svg'===al);)ak=H()(ak,'parentElement'),al=H()(ak,'nodeName');return'BODY'===al?null:ak;},this['isDatabaseArea']=ai=>{var aj=this['isDatabaseRowNode'](ai);if(aj)return aj;for(var ak=this['getTargetDom'](ai);ak&&'wolai-main-editor'!==ak['id']&&'database'!==ak['dataset']['area'];)ak=H()(ak,'parentElement',{});var {area:al,databaseId:am}=H()(ak,'dataset',{});return'database'===al&&am;},this['isDatabaseRowNode']=ai=>{var aj=this['getTargetDom'](ai),{databaseId:ak}=H()(aj,'dataset',{});return ak;},this['getDatabaseRowNode']=ai=>{var aj=this['getTargetDom'](ai),{area:ak,databaseId:al}=H()(aj,'dataset',{});if('page-block'===ak&&Boolean(al))return aj;},this['getParentBoardColumnNode']=ai=>{for(var aj=this['getTargetDom'](ai);aj&&'wolai-main-editor'!==aj['id']&&'board-column'!==aj['dataset']['area'];)aj=H()(aj,'parentElement',{});var {area:ak}=H()(aj,'dataset',{});return'board-column'===ak?aj:null;},this['isBoardColumnArea']=ai=>{if(this['isDatabaseRowNode'](ai))return!0x0;for(var aj=this['getTargetDom'](ai);aj&&'wolai-main-editor'!==aj['id']&&'board-column'!==aj['dataset']['area'];)aj=H()(aj,'parentElement',{});var {area:ak}=H()(aj,'dataset',{});return'board-column'===ak;},this['isBoardCardNode']=ai=>{var aj=this['getTargetDom'](ai),{databaseId:ak,columnId:al,viewType:am}=H()(aj,'dataset',{});return Boolean(ak)&&Boolean(al)&&Boolean(am===Z['h']['Board']);},this['isImageNode']=ai=>{var aj=this['getTargetDom'](ai),{area:ak}=H()(aj,'dataset',{});return'image-block'===ak;},this['isSideBarFavoriteNode']=(ai,aj)=>{if(aj)return'favorite-tree-menu'===aj;var ak=this['getTargetDom'](ai),{area:al}=H()(ak,'dataset',{});return'favorite-tree-menu'===al;},this['isSideBarFavoriteRootNode']=ai=>{var aj=this['getTargetDom'](ai),{area:ak,favorite:al}=H()(aj,'dataset',{});return Boolean('favorite-tree-menu'===ak&&'true'===al);},this['auxiliaryLineAtTop']=(ai,aj)=>{var ak=this['domAPI']['getScreenByElement'](ai['target']);if(this['isSideBarNode'](ai)||this['isSideBarFavoriteNode'](ai)||this['isSideBarFavoriteRootNode'](ai)||ak){var [al,am]=aj['startsWith']('ref-')?[aj]:aj['split']('-'),an=this['isSideBarNode'](ai)?document['querySelector']('.tree-bean-'['concat'](aj)):this['isSideBarFavoriteNode'](ai)?this['isSideBarFavoriteRootNode'](ai)?document['querySelector']('.favorite-tree-bean-'['concat'](aj,'[data-favorite=true]')):document['querySelector']('.favorite-tree-bean-'['concat'](aj,'[data-favorite=false]')):am?this['domAPI']['$']('#screen-'['concat'](ak['screenId'],'\x20#id-column-')['concat'](am,'\x20#id-')['concat'](al)):this['domAPI']['$']('#screen-'['concat'](ak['screenId'],'\x20#id-')['concat'](aj)),{dragType:ao}=an['dataset'];if(an&&an['parentElement']){var ap=an['parentElement'],{height:aq,top:ar,left:as,width:at}=ap['getBoundingClientRect'](),{pageY:au,pageX:av}=ai;if('horizontal'===ao?av<as+at/0x2:au<ar+aq/0x2)return!0x0;}}},this['handleDragEnd']=(ai,aj)=>{var ak,al,am;if(this['auxiliaryId']){var an=this['auxiliaryId'],{type:ao,parent_id:ap}=this['dataStore']['getBlockValue'](this['auxiliaryId']),aq=ap;if('column'===ao&&this['auxiliaryPrev']?an=ap:this['beSubNode']&&(aq=an),aj){var ar={};return ar=an===this['blockStore']['pageId']?{'parentId':an}:{'id':an,'parentId':aq,'position':this['auxiliaryPrev']?'before':'after'},this['dropFile']({'e':ai,'options':ar}),this['auxiliaryClear'](ai,this['auxiliaryId']),void this['allAuxiliaryIdClear']();}var as={'id':an},at=this['domAPI']['getScreenByElement'](ai['target']),au=this['auxiliaryId'],av=(aF,aG)=>{if(aF){if(this['spaceStore']['blockCountLimit']()&&'copy'===aF)return void Object(Y['c'])('block');this['dropToNode']({'item':as,'isPrev':aG,'dropType':aF})(ai);}this['from']={},setTimeout(()=>{this['auxiliaryClear'](ai,au),this['allAuxiliaryIdClear']();});};if(at&&at['screenId']&&(null==(ak=this['from'])?void 0x0:ak['screenId'])&&at['screenId']!==(null==(al=this['from'])?void 0x0:al['screenId'])&&!this['altKey']&&(null==(am=this['from'])?void 0x0:am['type'])!==M['y']['DATABASE']&&!this['isDatabaseArea'](ai)&&(!this['withinPage']||this['isInitPageBlock'](ai))&&!this['withinToggle']&&(this['auxiliaryId']||this['columnAuxiliaryId'])){var aw=this['auxiliaryPrev'];return void this['popperStore']['setCopyMenuPopperState']({'anchorEl':this['isInitPageBlock'](ai)?this['domAPI']['$']('#screen-'['concat'](at['screenId'],'\x20.wolai-blank-page-placeholder-text')):this['domAPI']['$']('#screen-'['concat'](at['screenId'],'\x20#auxiliary-')['concat'](an)),'callback':aF=>av(aF,aw)});}av(this['altKey']?'copy':'move',this['auxiliaryPrev']);}else{if(this['deletePageId']){var {putPageInTrash:ax}=this['pageStore'],ay=this['deletePageId'];if(!this['pageActionCheckStore']['hasPageActionLimit'](ay,a1['g']['RemovePage']))return this['pageStore']['setConfirmOpen']({'title':K['a']['t'](M['cb']['NO_PERMISSION_TO_PERFORM_OPERATION'],'你没有权限执行该操作!',{'ns':'editor'}),'contents':K['a']['t'](M['cb']['CONTACT_ADMIN_TO_ADD_PERMISSION'],'请联系管理员为你增加相应操作权限',{'ns':'editor'}),'singleButton':!0x0,'adjustMobile':!0x0});this['pageStore']['setConfirmOpen']({'title':'','contents':K['a']['t']('stores.drag.deleteSelectBlocksConfirm','确定要删除该选中内容么？',{'ns':'editor'}),'success':()=>af(this,null,function*(){if(this['editorUI']['selectedNode']['length']){var aF=[];this['editorUI']['selectedNode']['forEach'](aG=>{var aH=this['dataStore']['getBlockValue'](aG);[M['y']['PAGE'],M['y']['DATABASE']]['includes'](aH['type'])&&!aH['source_id']&&aF['push'](ax(aG));}),aF['length']&&(yield Promise['all'](aF)),this['editorUI']['clearSelectedNode']();}else yield ax(ay);this['editorStore']['invokeObserver']();})});}else{if(this['privateId']||this['publicId'])this['pageStore']['dragPageToAddButton'](this['privateId']||this['publicId'],Boolean(this['privateId']));else{if(this['boardViewColumn']){var az=new Q['a'](),aA='',aB=[],aC=this['fromDatabaseNode']===this['isDatabaseArea'](ai);(this['editorUI']['selectedNode']['length']>0x0?this['editorUI']['selectedNode']:[this['from']['id']])['forEach'](aF=>{var aG=this['databaseViewStore']['getBoardView'](this['boardViewColumn']['blockId']),aH=this['from']['id']===aF?[this['from']['columnId']]:[];if(this['editorUI']['columnSelected']['has'](aF)&&aC){var aI=this['editorUI']['columnSelected']['get'](aF);aH['push'](...aI['values']());}(aA=aG['table_id'],aC)||this['dataStore']['getBlockValue'](aF)['type']===M['y']['PAGE']&&aB['push'](aF),(this['blockStore']['deleteBlock'](az,aF),a2['a']['insertRow'](aG['block_id'],aF,{'target_column':this['boardViewColumn']['columnId'],'origin_columns':aH},az,!0x0));}),az['commit'](()=>{aA&&aB['length']&&a2['a']['reGetRowData'](aA,aB);}),this['boardViewColumn']=void 0x0;}else{if(this['item']&&this['item']['type']===M['y']['PAGE']&&!this['item']['source_id']&&document['querySelector']('#empty-container-drag-area')&&document['querySelector']('#empty-container-drag-area')['contains'](ai['target']))this['screenStore']['setSecondScreen'](this['item']['id']);else{if(!this['ifNormalDragMode']){var aD=this['blockAPI']['getNodeTitle'](this['hoverBlockId']),aE=aD[aD['length']-0x1]||[''];this['biLinkStore']['buildPageBiLink'](this['hoverBlockId'],this['from']['id'],{'index':aD['length']-0x1,'offset':aE[0x0]['length'],'isCopy':!0x0}),this['ifNormalDragMode']=!0x0,this['hoverAnchorEl']&&this['hoverAnchorEl']['classList']['remove']('border-highlight');}}}}}}},this['handleColumnDrop']=(ai,aj,ak,al)=>{var am,an,ao,{editorStore:ap,blockStore:aq,dataStore:ar}=this;if(!this['fromFavorite']&&!this['ifDragdropDisabled'](ai)){var as=this['domAPI']['getScreenByElement'](ai['target']),at=au=>{if(Object(U['a'])((aB,aC)=>aB!==aC,ap['showContentDropAreaSettings'],!0x1,ap['showContentDropArea']),aj){var av='#screen-'['concat'](as['screenId'],'\x20#id-')['concat'](al?'prev':'next','-')['concat'](aj,'\x20span'),aw=this['domAPI']['$'](av);aw&&(aw['style']['background']='transparent');}var {parent_id:ax,id:ay}=this['from'];if(ax===aq['pageId']&&ay===ak)return this['editorUI']['selectedRootNode']['forEach'](aB=>{this['editorUI']['selectedShadowSet'](aB,this['editorUI']['columnSelected']);});var az=this['from']['id'],aA=ar['getBlockValue'](ak);if((this['editorUI']['selectedNode']['length']>0x1?this['editorUI']['selectedNode']:[az])['some'](aB=>this['blockAPI']['currentNodeIsChildOfTargetNode'](aA['id'],aB)))return this['auxiliaryClear'](ai,this['auxiliaryId']),this['allAuxiliaryIdClear'](),void this['pageStore']['setConfirmOpen']({'title':'','singleButton':!0x0,'contents':K['a']['t'](M['cb']['CANNOT_MOVE_INSIDE_ITSELF'],'块不能移动到自己内部',{'ns':'editor'})});if(au){if(this['spaceStore']['blockCountLimit']()&&'copy'===au)return void Object(Y['c'])('block');this['dropToColumn']({'e':ai,'id':az,'dropId':ak,'type':aA['type'],'isPrev':al,'dropType':au});}this['from']={};};as&&as['screenId']&&(null==(am=this['from'])?void 0x0:am['type'])!==M['y']['DATABASE']&&!this['isDatabaseArea'](ai)&&(null==(an=this['from'])?void 0x0:an['screenId'])&&as['screenId']!==(null==(ao=this['from'])?void 0x0:ao['screenId'])&&!this['altKey']?this['popperStore']['setCopyMenuPopperState']({'anchorEl':this['domAPI']['$']('#screen-'['concat'](as['screenId'],'\x20#id-')['concat'](ak)),'callback':au=>at(au)}):at(this['altKey']?'copy':'move');}},this['globalFileDrop']=ai=>{if(this['fromFavorite']=!0x1,this['spaceStore']['blockCountLimit']())Object(Y['c'])('block');else{if(this['columnAuxiliaryId'])this['columnAuxiliaryId']='';else{var aj=H()(ai,'target.dataset',{}),{area:ak,blockId:al}=aj,am={'parentId':this['blockStore']['pageId']},an=this['domAPI']['getNodeIdByElement'](ai['target']);'bottom'===ak?(am['positionId']=al,this['beSubNode']&&(am['parentId']=al)):!this['auxiliaryId']||Object['keys'](aj)['length']||an||'true'===H()(ai,'target.contentEditable')||(am['position']='before'),(am['position']||am['positionId'])&&this['dropFile']({'e':ai,'options':am}),this['auxiliaryClear'](ai,this['auxiliaryId']),this['allAuxiliaryIdClear']();}}},this['handleFileDragover']=ai=>{ai['preventDefault']();},this['handleFileDragleave']=ai=>{ai['preventDefault']();},this['handleFileDragenter']=ai=>{ai['preventDefault']();var aj=this['getTargetDom'](ai),{area:ak,inRow:al}=H()(aj,'dataset',{});'database'!==ak&&'true'!==al&&(this['fromFavorite']=!0x1,this['handleDrag']({'e':ai,'item':{'id':''}}),this['dragFileTimer']?(clearTimeout(this['dragFileTimer']),this['dragFileTimer']=setTimeout(()=>{this['auxiliaryId']&&this['auxiliaryClear'](ai,this['auxiliaryId']);},0xbb8)):this['dragFileTimer']=setTimeout(()=>{this['auxiliaryId']&&this['auxiliaryClear'](ai,this['auxiliaryId']);},0xbb8),this['onEventDrop']||(this['onEventDrop']=!0x0));},this['handleFileDrop']=ai=>{if(ai['preventDefault'](),this['allAuxiliaryIdClear'](),this['editorUI']['clearSelectedNode'](),this['spaceStore']['blockCountLimit']())Object(Y['c'])('block');else{var {area:aj,column:ak,prev:al}=H()(ai,'target.dataset',{});if('column'===aj||'col-resize'===aj){var am='true'===al;return this['dropFileToColumn']({'e':ai,'dropId':ak,'isPrev':am});}if(this['columnAuxiliaryId'])return this['dropFileToColumn']({'e':ai,'dropId':this['columnAuxiliaryId'],'isPrev':this['auxiliaryPrev']});this['handleDragEnd'](ai,!0x0),this['auxiliaryClear'](ai,this['auxiliaryId']),this['allAuxiliaryIdClear'](),this['dragFileTimer']&&(clearTimeout(this['dragFileTimer']),this['dragFileTimer']=null);}},this['dropFileToColumn']=ai=>{var {e:aj,dropId:ak,isPrev:al}=ai,{type:am,parent_id:an}=this['dataStore']['getBlockValue'](ak),{transaction:ao,data:ap,dropUrl:aq}=this['dropFile']({'e':aj,'preventRenderer':!0x0,'options':{'parentId':an}});ap['length']&&(this['dropToColumn']({'e':aj,'ids':ap,'dropId':ak,'type':am,'isPrev':al,'transaction':ao,'dropFile':!0x0}),aq&&(this['editorUI']['clearSelectedNode'](),this['editorStore']['moveCursorAfterRender']({'id':ap[0x0],'position':{'offset':aq['length']}}),this['editorStore']['addMissionExecuteAfterRender'](()=>{this['popperStore']['urlConvertMenu']({'nodeId':ap[0x0],'url':aq,'type':M['y']['TEXT'],'offset':aq['length']});})));},this['dropFile']=ai=>{var {e:aj,options:ak,preventRenderer:al}=ai,am=[...H()(aj,'dataTransfer.files',[])],an=[],ao='',ap=new Q['a'](),aq=!0x1,ar='';if(am['length']){if(M['gb'])return void this['pageStore']['setConfirmOpen']({'contents':K['a']['t'](M['cb']['FLY_MODE_NO_SUPPORT_UPLOAD_FILE'],'很抱歉,飞行模式无法上传文件',{'ns':'editor'}),'singleButton':!0x0});am['forEach'](aw=>{if(aw){var ax=ak['blockId']||Object(V['b'])(),{parentId:ay,positionId:az}=ak,aA=H()(aw,'type','')['startsWith']('image')&&!aw['name']['toLowerCase']()['endsWith']('.psd'),aB=H()(aw,'type','')['startsWith']('video'),aC=H()(aw,'type','')['startsWith']('audio'),aD=aA?M['y']['IMAGE']:aB?M['y']['VIDEO']:aC?M['y']['AUDIO']:M['y']['FILE'];if(ar||(ar=az||this['auxiliaryId']),0x1===am['length']){if(aA){if(!0x1===Object(Y['w'])(aw))return;}else{if(!0x1===Object(Y['v'])(aw))return;}}else aq||Object(Y['a'])(aw)||(aq=!0x0);aA?this['clipboardStore']['dropImageFile']['push']({'file':aw,'id':ax}):aB?this['clipboardStore']['dropVideoFile']['push']({'file':aw,'id':ax}):aC?this['clipboardStore']['dropAudioFile']['push']({'file':aw,'id':ax}):this['clipboardStore']['dropFile']['push']({'file':aw,'id':ax}),this['blockStore']['createCommonBlock'](ap,ax,ay,ar,ak['position']||'after')(aD),'before'!==ak['position']&&(ar=ax),an['push'](ax);}});}else{if(aj['dataTransfer']['getData']('url')||aj['dataTransfer']['getData']('text')){var as=ak['blockId']||Object(V['b'])(),{parentId:at,positionId:au}=ak;if(ar||(ar=au||this['auxiliaryId']),this['blockStore']['createCommonBlock'](ap,as,at,ar,ak['position']||'after')(M['y']['TEXT']),aj['dataTransfer']['getData']('url')){var av=aj['dataTransfer']['getData']('url');if(this['blockStore']['setBlockText'](ap,as,[[av,[['Link',av]]]]),!al)return this['editorStore']['invokeObserver'](ap),this['editorStore']['moveCursorAfterRender']({'id':as,'position':{'offset':av['length']}}),void this['editorStore']['addMissionExecuteAfterRender'](()=>{this['popperStore']['urlConvertMenu']({'nodeId':as,'url':av,'type':M['y']['TEXT'],'offset':av['length']});});ao=av;}else aj['dataTransfer']['getData']('text')&&this['blockStore']['setBlockText'](ap,as,[[aj['dataTransfer']['getData']('text')]]);an['push'](as);}}return al?{'transaction':ap,'data':an,'dropUrl':ao}:this['editorStore']['invokeObserver'](ap);},this['virtualDragMousemove']=F()(ai=>{if(this['mousedown']){this['mousedown']&&!this['isDragging']&&this['isDraggingSet'](!0x0),ai['preventDefault'](),ai['stopPropagation']();var {selectedRootNode:aj}=this['editorUI'],{pageX:ak,pageY:al}=ai;(this['xMove']||this['yMove']||(this['xMove']=Math['abs'](this['pageX']-ak)>0x5,this['yMove']=Math['abs'](this['pageY']-al)>0x5,this['xMove']||this['yMove']))&&(Object(U['a'])(am=>this['mousemove']!==am,this['mousemoveSet'],!0x0),this['handleDrag']({'e':ai,'item':this['item']}),this['scrollAPI']['beginEditorScroll'](ai),this['boardDom']&&(ai['preventDefault'](),this['scrollAPI']['beginListenScroll'](ai,this['boardDom'],'databaseBoard')),this['isSideBarNode'](ai)?this['dragSingleNode'](ai):aj['length']&&aj['length']>0x1?this['dragMultiNode'](ai):this['dragSingleNode'](ai));}},0x1e),this['findRootNode']=ai=>{var {parent_type:aj,parent_id:ak}=this['dataStore']['getBlockValue'](ai);return[M['y']['PAGE'],M['y']['DATABASE']]['includes'](aj)||!aj&&!ak?ai:this['findRootNode'](ak);},this['findDatabaseRow']=ai=>{var {parent_type:aj,parent_id:ak}=this['dataStore']['getBlockValue'](ai);return[M['y']['PAGE'],M['y']['DATABASE']]['includes'](aj)||!aj&&!ak?ai:this['findRootNode'](ak);},this['sortSelectedRowNode']=ai=>{var {blockStore:aj,dataStore:ak}=this;return ak['getBlockProperty'](aj['pageId'],'sub_nodes')['reduce']((al,am)=>ai['includes'](am)?[...al,am]:al,[]);},this['dragMultiNode']=ai=>{if(!this['dragNodeCrt']){this['editorUI']['selectedShadowClear']();var {selectedRootNode:aj,selectedNode:ak,columnSelected:al}=this['editorUI'],am=aj['map'](av=>this['findRootNode'](av)),an=aj['find'](av=>{var {parent_type:aw}=this['dataStore']['getBlockValue'](av);return aw===M['y']['DATABASE'];}),ao=an?[...new Set(am)]:this['sortSelectedRowNode']([...new Set(am)]),ap=[];this['selectedRowNode']=ao,this['dragNodeCrt']=document['createElement']('div'),this['screenStore']['smallTextMode']&&this['dragNodeCrt']['classList']['add']('smallText'),this['initX']=ai['pageX'],this['initY']=ai['pageY'],ao['forEach'](av=>{ap['push'](...this['blockAPI']['findAllChildrenNodes']([av]));var aw=al['get'](av);(null==aw?void 0x0:aw['size'])?aw['forEach'](ax=>{this['dragNodeCrt']['appendChild'](this['domAPI']['$']('#id-column-'['concat'](ax,'\x20[data-root=id-')['concat'](av,']'))['cloneNode'](!0x0));}):this['dragNodeCrt']['appendChild'](this['domAPI']['$']('[data-root=id-'['concat'](av,']'))['cloneNode'](!0x0));}),ap['forEach'](av=>{var {type:aw}=this['dataStore']['getBlockValue'](av),ax=ak['some'](aA=>this['blockAPI']['currentNodeIsChildOfTargetNode'](aA,av));if(!ak['includes'](av)&&!['row','column']['includes'](aw)&&!ax)try{for(var ay=this['dragNodeCrt']['querySelector']('#id-'['concat'](av));ay&&'BODY'!==ay['nodeName']&&!ay['classList']['contains']('node-container');)ay=H()(ay,'parentElement');ay&&(ay['style']['visibility']='hidden');}catch(aA){}if(ax&&!ak['includes'](av))try{var az=this['dragNodeCrt']['querySelector']('#id-'['concat'](av));az['style']['visibility']='hidden',az['parentElement']['parentElement']['style']['background']='transparent';}catch(aB){}}),this['dragNodeCrt']['querySelectorAll']('.hover-icon-container,\x20.auxiliary-menu-container,\x20.auxiliary-line,\x20.column-listener-area')['forEach'](av=>av['remove']()),this['dragNodeCrt']['querySelectorAll']('[data-type=highlight]')['forEach'](av=>av['style']['background']='transparent'),this['domAPI']['styleSettings'](this['dragNodeCrt'],{'width':''['concat'](an?this['dragRef']['getBoundingClientRect']()['width']:this['domAPI']['$']('#wolai-main-editor')['getBoundingClientRect']()['width'],'px'),'opacity':'0.7','color':'var(--wolai-header-lock-color)','position':'fixed','boxSizing':'border-box','cursor':'grabbing','pointerEvents':'none','zIndex':0x270f}),'database'===this['from']['parent_type']&&this['isBoardCardNode'](ai)&&this['domAPI']['styleSettings'](this['dragNodeCrt'],{'opacity':'0.9','transform':'rotate(4deg)'});try{this['dragNodeCrt']['querySelector']('[data-type=highlight]')['firstElementChild']['style']['marginTop']=0x0;}catch(av){}document['body']['appendChild'](this['dragNodeCrt']),this['allAuxiliaryIdClear'](this['dragNodeCrt']);var aq=this['selectedRowNode'][0x0],{left:ar,top:as}=this['domAPI']['$']('#editorRoot\x20[data-root=id-'['concat'](aq,']'))['getBoundingClientRect']();this['initRectX']=ar,this['initRectY']=as;}var at=ai['pageX']-this['initX']+this['initRectX'],au=ai['pageY']-this['initY']+this['initRectY'];this['dragNodeCrt']['style']['top']=''['concat'](au,'px'),this['dragNodeCrt']['style']['left']=''['concat'](at,'px');},this['dragSingleNode']=ai=>{if(!this['dragNodeCrt']){this['editorUI']['selectedShadowClear'](),this['dragNodeCrt']=this['dragRef']['cloneNode'](!0x0);if(this['dragNodeCrt']['querySelectorAll'](['.hover-icon-container','.auxiliary-menu-container','.auxiliary-line','.column-listener-area','[data-type=\x22ondrop\x22]','.tree-arrow-icon','.no-page-bean','.menu-for-mobile','.resizer-handle-wrapper','.block-toolbar','iframe']['join'](','))['forEach'](ak=>ak['remove']()),this['fromSideBar']||this['fromFavorite']){var aj=this['dragNodeCrt']['querySelector']('.MuiButtonBase-root');aj&&(aj['classList']['remove']('treeBeanSelected'),this['domAPI']['styleSettings'](aj,{'backgroundColor':'transparent'})),this['domAPI']['styleSettings'](this['dragNodeCrt'],{'width':'260px','position':'fixed','cursor':'grabbing','boxSizing':'border-box','opacity':'0.7','pointerEvents':'none','zIndex':0x270f,'justifyContent':'center','alignItems':'center','borderRadius':'4px'});}else Object(W['h'])()||Object(W['i'])()?this['domAPI']['styleSettings'](this['dragNodeCrt'],{'width':''['concat'](this['dragRef']['getBoundingClientRect']()['width'],'px'),'position':'fixed','boxSizing':'border-box','boxShadow':'0\x200\x2010px\x20var(--color-basic-300)','opacity':'0.7','pointerEvents':'none','borderRadius':'4px','color':'var(--color-basic-500)','zIndex':0x270f}):this['domAPI']['styleSettings'](this['dragNodeCrt'],{'width':''['concat'](this['dragRef']['getBoundingClientRect']()['width'],'px'),'color':'var(--wolai-header-lock-color)','position':'fixed','cursor':'grabbing','boxSizing':'border-box','opacity':'0.7','pointerEvents':'none','zIndex':0x270f});'database'===this['from']['parent_type']&&this['isBoardCardNode'](ai)&&this['domAPI']['styleSettings'](this['dragNodeCrt'],{'opacity':'0.9','transform':'rotate(4deg)'}),this['screenStore']['smallTextMode']&&this['dragNodeCrt']['classList']['add']('smallText');try{this['dragNodeCrt']['firstElementChild']['style']['marginTop']=0x0;}catch(ak){}document['body']['appendChild'](this['dragNodeCrt']),this['allAuxiliaryIdClear'](this['dragNodeCrt']);}this['dragNodeCrt']['style']['top']=''['concat'](ai['pageY']-this['dragInitPosY'],'px'),this['dragNodeCrt']['style']['left']=''['concat'](ai['pageX']-this['dragInitPosX'],'px');},this['deleteNullColumn']=function(){var ai=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[];setTimeout(()=>{if(ai['length']){var aj=new Q['a'](),{blockStore:ak,editorStore:al}=ah;ai['forEach'](am=>{var {parent_type:an,type:ao,sub_nodes:ap}=ah['dataStore']['getBlockValue'](am);an===M['y']['PAGE']&&'row'===ao&&ap['forEach'](aq=>{var {sub_nodes:ar}=ah['dataStore']['getBlockValue'](aq);ar&&ar['length']||ak['deleteBlock'](aj,aq);});}),al['invokeObserver'](aj);}});},this['getTargetDom']=ai=>{var aj=ai['target'],ak=H()(aj,'nodeName');if('path'===ak)return H()(aj,'parentElement.parentElement');if('g'===ak)return H()(aj,'parentElement');for(;aj&&'BODY'!==ak&&!aj['dataset']['area'];)aj=H()(aj,'parentElement'),ak=H()(aj,'nodeName');return aj;},this['handleDragMousedown']=ai=>{var aj;if(!this['mousedown']&&!this['isDragging']){this['domAPI']['blur'](),this['domAPI']['removeAllRanges']();var ak=this['getTargetDom'](ai),al=H()(ak,'dataset.id'),am=H()(ak,'dataset.columnId'),{pageX:an,pageY:ao}=ai,ap=this['editorUI']['selectedNode']['some'](ar=>this['blockAPI']['currentNodeIsChildOfTargetNode'](al,ar));if(this['editorUI']['selectedNode']['includes'](al)&&!ap||this['editorUI']['clearSelectedShadow'](ai),this['clearAttributes'](!0x0),this['from']={},this['pureMousedown']=!0x0,this['pageX']=an,this['pageY']=ao,this['altKey']=ai['altKey'],this['fromSideBar']=this['isSideBarNode'](ai)||this['isSideBarFavoriteNode'](ai)&&!this['isSideBarFavoriteRootNode'](ai),this['fromFavorite']=this['isSideBarFavoriteRootNode'](ai),this['fromPageNode']=this['isPageNode'](ai),this['fromImageNode']=this['isImageNode'](ai),this['disableChangePage']=this['dataStore']['handleDisableChangeConfig'](al),this['boardDom']=this['getBoardDatabaseNode'](ai),al&&(this['domAPI']['$']('#hover-icon-'['concat'](al))['contains'](ak)||document['querySelector']('#wolai-sidebar')&&document['querySelector']('#wolai-sidebar')['contains'](ak)||(am?this['domAPI']['$']('#id-column-'['concat'](am,'\x20.node-')['concat'](al))['contains'](ak):this['domAPI']['$']('#id-'['concat'](al))['contains'](ak))||ak['classList']['contains']('node-container'))){if(this['mousedownSet'](!0x0),this['dragRef']=this['isSideBarNode'](ai)?document['querySelector']('#tree-item-'['concat'](al))&&document['querySelector']('#tree-item-'['concat'](al))['parentElement']:this['isSideBarFavoriteNode'](ai)?this['isSideBarFavoriteRootNode'](ai)?document['querySelector']('#favorite-tree-item-'['concat'](al,'[data-favorite=true]')):document['querySelector']('#favorite-tree-item-'['concat'](al,'[data-favorite=false]')):am?this['domAPI']['$']('#id-column-'['concat'](am,'\x20.node-')['concat'](al)):this['domAPI']['$']('.node-'['concat'](al)),this['item']=this['dataStore']['getBlockValue'](al),this['item']['parent_type']===M['y']['DATABASE']?this['fromDatabaseNode']=this['dataStore']['getBlockProperty'](this['item']['parent_id'],'database_id'):(null==(aj=this['item'])?void 0x0:aj['type'])===M['y']['DATABASE']&&(this['fromDatabaseNode']=this['item']['database_id']),this['from']=ad(ac({},this['dataStore']['getBlockValue'](al)),{'columnId':am,'screenId':H()(this['domAPI']['getScreenByElement'](ak),'screenId')}),this['fromSideBar']||this['fromFavorite'])this['dragInitPosX']=an||0x0;else{var aq=this['dragRef']['getBoundingClientRect']();this['dragInitPosX']=an-aq['x']||0x0,this['dragInitPosY']=ao-aq['y']||0x0;}}}},this['virtualDragMouseup']=ai=>{if(!this['mousedown']||!this['isDragging'])return this['mousedown']&&this['mousedownSet'](!0x1),void this['clearAttributes']();var aj=ai['target'],{selectedRootNode:ak,selectedShadowSet:al}=this['editorUI'];if(!this['mousedown']||!this['mousemove']||aj&&'ondrop'===aj['dataset']['type']||ak['forEach'](ap=>{al(ap,this['editorUI']['columnSelected']);}),this['dragNodeCrt']&&this['dragNodeCrt']['remove'](),this['hoverTimer']&&clearTimeout(this['hoverTimer']),'column'===aj['dataset']['area']){var {prev:am,column:an,item:ao}=aj['dataset'];this['handleColumnDrop'](ai,an,ao,'false'!==am);}else this['columnAuxiliaryId']?this['handleColumnDrop'](ai,'',this['columnAuxiliaryId'],this['auxiliaryPrev']):this['handleDragEnd'](ai);this['scrollAPI']['endEditorScroll'](),this['ifNormalDragMode']=!0x0,this['clearAttributes'](),this['mousedown']&&this['mousedownSet'](!0x1),setTimeout(()=>{this['isDragging']&&this['isDraggingSet'](!0x1),this['mousemove']&&this['mousemoveSet'](!0x1);});},this['clearAttributes']=ai=>{var aj=['pureMousedown','dragNodeCrt','dragRef','item','initX','initY','xMove','yMove','auxiliaryPrev','allAuxiliaryId','auxiliarySpans','beSubNode','withinToggle','initRectX','initRectY','altKey','fromSideBar','fromFavorite','fromPageNode','dragInitPosX','dragInitPosY','deletePageId','fromImageNode','hoverTimer','hoverAnchorEl','hoverBlockId','privateId','publicId','disableChangePage','fromDatabaseNode'];this['onEventDrop']&&!ai||(this['auxiliaryId']='',this['columnAuxiliaryId']=''),this['popperStore']['copyMenuPopperState']['anchorEl']&&!ai||aj['push']('auxiliaryParent'),aj['forEach'](ak=>this[ak]=null);},this['backupSelectedNode']=(ai,aj)=>{var ak=new Date()['getTime']();aj&&this['sortedSelectedRootNode']['timeStamp']?ak=this['sortedSelectedRootNode']['timeStamp']:(this['sortedSelectedRootNode']=this['editorUI']['getSortedIdList'](ai),this['sortedSelectedRootNode']['pageId']=this['blockStore']['pageId']),this['sortedSelectedRootNode']['timeStamp']=ak;},this['clearBackupSelectedNode']=()=>{this['sortedSelectedRootNode']=[],this['selectedRowNode']=[];},this['backupSelectedDatabaseCell']=ai=>{this['backupDbSelectedInfo']=ai,this['backupDbSelectedInfo']['timeStamp']=new Date()['getTime']();},this['clearBackupDbSelectedInfo']=()=>{this['backupDbSelectedInfo']={'databaseCellList':[],'databaseBlockId':'','cellX':0x0,'cellY':0x0,'offsetX':0x0,'offsetY':0x0,'timeStamp':0x0};};}}ae([J['observable']],ag['prototype'],'ifNormalDragMode',0x2),ae([J['observable']],ag['prototype'],'boardViewColumn',0x2),ae([R['b']],ag['prototype'],'domAPI',0x2),ae([R['b']],ag['prototype'],'kitAPI',0x2),ae([R['b']],ag['prototype'],'blockAPI',0x2),ae([R['b']],ag['prototype'],'scrollAPI',0x2),ae([R['b']],ag['prototype'],'editorStore',0x2),ae([R['b']],ag['prototype'],'editorUI',0x2),ae([R['b']],ag['prototype'],'blockStore',0x2),ae([R['b']],ag['prototype'],'screenStore',0x2),ae([R['b']],ag['prototype'],'dataStore',0x2),ae([R['b']],ag['prototype'],'databaseViewStore',0x2),ae([R['b']],ag['prototype'],'pageStore',0x2),ae([R['b']],ag['prototype'],'clipboardStore',0x2),ae([R['b']],ag['prototype'],'spaceStore',0x2),ae([R['b']],ag['prototype'],'workspaceStore',0x2),ae([R['b']],ag['prototype'],'popperStore',0x2),ae([R['b']],ag['prototype'],'biLinkStore',0x2),ae([R['b']],ag['prototype'],'pageActionCheckStore',0x2),ae([R['b']],ag['prototype'],'questStore',0x2),ae([J['action']],ag['prototype'],'mousedownSet',0x2),ae([J['action']],ag['prototype'],'mousemoveSet',0x2),q['a']=Object(a3['a'])(ag);},'C2Y3':function(b,c,d){'use strict';var f=d('2vnA'),g=d('bXzw'),h=Object['defineProperty'],j=Object['getOwnPropertyDescriptor'];class k{constructor(){var l=JSON['parse'](localStorage['getItem']('wolai_feature_flag')||'{}'),{dingtalk:m}=l;this['dingtalk']={'enableScanToLogin':Boolean(null==m?void 0x0:m['enableScanToLogin'])};}}((l,m,p,q)=>{for(var u,v=q>0x1?void 0x0:q?j(m,p):m,w=l['length']-0x1;w>=0x0;w--)(u=l[w])&&(v=(q?u(m,p,v):u(v))||v);q&&v&&h(m,p,v);})([f['observable']],k['prototype'],'dingtalk',0x2),c['a']=Object(g['a'])(k);},'C8q+':function(b,c,d){'use strict';d['d'](c,'d',function(){return g;}),d['d'](c,'b',function(){return h;}),d['d'](c,'c',function(){return j;}),d['d'](c,'a',function(){return k;});var f=d('Rsoz'),g=(l=>(l['DIV_BY_ZERO']='DIV_BY_ZERO',l['NAME']='NAME',l['VALUE']='VALUE',l['NUM']='NUM',l['NA']='NA',l['CYCLE']='CYCLE',l['REF']='REF',l['ERROR']='ERROR',l))(g||{});class h{}h['NIL']=new Error('#NULL!'),h['DIV0']=new Error('#DIV/0!'),h['VALUE']=new Error('#VALUE!'),h['REF']=new Error('#REF!'),h['NAME']=new Error('#NAME?'),h['NUM']=new Error('#NUM!'),h['NA']=new Error('#N/A'),h['ERROR']=new Error('#ERROR!'),h['DATA']=new Error('#GETTING_DATA');class j{static['Function'](l){return new Error('#Funtion\x20'['concat'](l,'\x20missing'));}static['WrongArgNumber'](l){return new Error(f['a']['t']('database.formula.error.wrongArgNumber','{{funcName}}函数参数个数有误',{'ns':'editor','funcName':l}));}static['WrongArgValue'](l){return new Error(f['a']['t']('database.formula.error.wrongArgValue','{{funcName}}函数参数类型有误',{'ns':'editor','funcName':l}));}}class k{constructor(l,m,p){this['type']=l,this['message']=m,'error['['concat'](l,']:\x20')['concat'](m),this['index']=null==p?void 0x0:p['index'],this['range']=null==p?void 0x0:p['range'],this['valueType']=null==p?void 0x0:p['valueType'],this['returnType']=null==p?void 0x0:p['returnType'];}}},'CB1N':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('fwMJ');class f{constructor(g){if(this['permissions']=new Map(),!Array['isArray'](g))throw new Error('permissions\x20is\x20not\x20array\x20type');g['forEach'](h=>{var j=d['a']['fromBlockPermission'](h);j&&this['permissions']['set'](j['target'],j);});}['hasActionLimit'](g,h){var j=this['permissions']['get'](g['id']);if(j)return j['role']['hasLimit'](h);if(g['guest']){var k=this['permissions']['get']('');return!(!k||k['type']!==d['b']['Public'])&&k['role']['hasLimit'](h);}var m=[];for(var p of g['groups']){var q=this['permissions']['get'](p);q&&m['push'](q);}if(m['length']>0x0){for(var u of m){if(u['role']['hasLimit'](h))return!0x0;}return!0x1;}var v=this['permissions']['get'](g['space']);if(v&&v['role']['hasLimit'](h))return!0x0;var w=this['permissions']['get']('');return!(!w||w['type']!==d['b']['Public'])&&w['role']['hasLimit'](h);}['hasPublicActionLimit'](g){for(var [,h]of this['permissions'])if(h['type']===d['b']['Public']&&h['role']['hasLimit'](g))return!0x0;return!0x1;}}},'D5nX':function(a,b,c){a['exports']={'btn':'_2OmeE','labelContainer':'_2zz8V','iconContainer':'_15Ljn','withTheme':'_1fhTH','smallBtn':'_3hJYu','largerBtn':'_223nt','default':'_22eZI','text':'_3sBaH','disabled':'l6Vk2','primary':'_3sMqb','secondary':'_399aj','icon':'_2v--2','danger':'_2eTBd'};},'Drme':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=(f=>(f[f['EditPermission']=0x1]='EditPermission',f[f['ViewPage']=0x20]='ViewPage',f[f['EditPage']=0x40]='EditPage',f[f['MovePage']=0x80]='MovePage',f[f['SharePage']=0x100]='SharePage',f[f['RemovePage']=0x200]='RemovePage',f[f['ReadComment']=0x400]='ReadComment',f[f['EditComment']=0x800]='EditComment',f[f['CreateComment']=0x1000]='CreateComment',f[f['RemoveComment']=0x2000]='RemoveComment',f[f['EditDatabaseMeta']=0x4000]='EditDatabaseMeta',f))(d||{});},'Elg5':function(b,d,f){'use strict';f['d'](d,'a',function(){return m;});var g=f('odX6'),h=f('WRmh'),j=Object['defineProperty'],k=Object['getOwnPropertyDescriptor'],l=(p,q,u,v)=>{for(var w,x=v>0x1?void 0x0:v?k(q,u):q,y=p['length']-0x1;y>=0x0;y--)(w=p[y])&&(x=(v?w(q,u,x):w(x))||x);return v&&x&&j(q,u,x),x;};class m{constructor(p){this['pageId']=p;}['isExistFullAccess'](p){var q=new Map(),u=new Map(),v=new Map();for(var [w,x]of(p['forEach'](C=>{switch(C['type']){case h['e']['Space']:this['memberStore']['currentWorkspaceMembers']['forEach'](D=>{q['set'](D['id'],{'role':C['role'],'type':h['e']['User'],'target':D['id'],'blockId':this['pageId'],'override':'','index':0x0});});break;case h['e']['Group']:this['groupStore']['groupMemberMap']['get'](C['target'])['forEach'](D=>{u['set'](D,{'role':C['role'],'type':h['e']['User'],'target':D,'blockId':this['pageId'],'override':'','index':0x0});});break;case h['e']['User']:v['set'](C['target'],C);}}),u))v['has'](w)||v['set'](w,x);for(var [y,z]of q)v['has'](y)||v['set'](y,z);var A=0x0;for(var [,B]of v)if(B['role']===h['d']['All']&&A++,A>0x0)return!0x0;return A>0x0;}}l([g['b']],m['prototype'],'memberStore',0x2),l([g['b']],m['prototype'],'groupStore',0x2);},'EofD':function(a,b,c){'use strict';c('wUqq'),c('r0k9'),c('oX3D'),c('bue9'),c('orCK'),c('vqfu'),c('ei3D'),c('8eFb');var d=c('llz1');c['d'](b,'a',function(){return d['a'];});},'F21Z':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('q1tI'),g=d('LKX9');class h extends f['Component']{constructor(j){super(j),this['state']={'error':null};}['componentDidCatch'](j,k){window['__bl']&&window['__bl']['error'](j),this['setState']({'error':j});}['render'](){return this['state']['error']?f['createElement'](g['a'],null):this['props']['children'];}}},'F4U0':function(f,j,k){'use strict';k['d'](j,'b',function(){return A;}),k['d'](j,'e',function(){return B;}),k['d'](j,'a',function(){return D;}),k['d'](j,'d',function(){return E;}),k['d'](j,'c',function(){return F;});var q=k('b6Qr'),v=k('tpcZ'),w=k['n'](v),x=k('aD9L'),y=k('odX6'),z=k('4/VU'),A=(null==window?void 0x0:window['interop'])&&window['interop']['getElectronVersion']?window['interop']['getElectronVersion']():'',B=function(I,J){var K=Object(y['b'])('workspaceStore');if(I['startsWith']('http')||(I=new URL(I,window['location']['origin'])['toString']()),Object(x['e'])())window['interop']['openInBrowser'](I);else{if(K['inApp'])J?Object(z['o'])(I):Object(z['a'])(I);else{for(var L=arguments['length'],M=new Array(L>0x2?L-0x2:0x0),N=0x2;N<L;N++)M[N-0x2]=arguments[N];window['open'](I,...M);}}};function C(){return!(!Object(x['e'])()||!q['isWindows']);}function D(){var I=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'1.1.2',J=A;return w()(J,I);}function E(){if(!C())return!0x1;var I,J=H();return A&&(I=A,-0x1===w()(I,'1.1.2'))?!J:J;}function F(){if(!C())return!0x1;var I,J=H();return(!A||(I=A,-0x1!==w()(I,'1.1.2')))&&!J;}var G=window['interop']&&window['interop']['getTitleBarStyle']?window['interop']['getTitleBarStyle']():'',H=()=>!(!G||'windows'!==G);},'FVQS':function(b,d,f){'use strict';var g=f('q1tI'),h=f('D5nX'),j=f('yXLF'),k=f('TSYQ'),l=f['n'](k),m=f('vH+6');d['a']=q=>{var x=g['useRef'](),{leftIcon:z,leftIconStyle:A,rightIcon:B,rightIconStyle:C,loading:D,handleSubmit:F,label:G,className:H,disabled:J,style:K,buttonStyle:L,type:M,loadingStyle:N,labelStyle:Q,id:R,size:U='m',withoutTheme:V=!0x1,tooltip:W}=q,X=(a1,a2)=>a1?g['createElement']('span',{'style':a2?C:A,'className':l()(h['iconContainer'],{[h['rightIcon']]:a2,[h['withTheme']]:!V})},a1):null,Y=()=>g['createElement']('button',{'ref':x,'className':l()(h['btn'],h[M],H,{[h['disabled']]:J,[h['smallBtn']]:'s'===U,[h['largerBtn']]:'l'===U}),'id':R,'style':L||K,'type':'button','onClick':a1=>{J||D||F&&F(a1,x['current']);}},D?g['createElement'](j['a'],{'color':'inherit','style':N,'size':0xc}):X(z),(()=>{if(G)return g['createElement']('span',{'className':h['labelContainer'],'style':Q},G);})(),X(B,!0x0));if(W&&W['title']){var {placement:Z,title:a0}=W;return g['createElement'](m['a'],{'disableInteractive':!0x0,'placement':Z,'title':a0},Y());}return Y();};},'FX2t':function(b,c,d){'use strict';var f=d('q1tI'),g=d['n'](f),h=d('TyAF'),j=d('odX6'),k=d('aD9L');c['a']=Object(h['b'])(()=>{var l=Object(j['b'])('workspaceStore'),m=g['a']['useCallback']((p,q)=>{'system'===q?l['setAutoTheme'](!0x0):(l['toggleTheme'](!0x1,q),l['setAutoTheme'](!0x1));},[]);return g['a']['useEffect'](()=>(window['interop']&&window['interop']['addListener']&&Object(k['e'])()&&window['interop']['addListener']('wl::theme-changed',m),()=>{window['interop']&&window['interop']['addListener']&&Object(k['e'])()&&window['interop']['removeListener']('wl::theme-changed',m);}),[m]),null;});},'GT8W':function(b,f,g){'use strict';g['d'](f,'b',function(){return j;}),g['d'](f,'a',function(){return k;});var h=g('9rbq');function j(u){h['R']['lastIndex']=0x0;var v=h['R']['exec'](u);if(v&&v['length']>0x0){var w=v[0x0];return q(p(w))['join']('-');}return'';}function k(u,v){var w=v&&v['assetType']?v['assetType']:'svg',x=(C,D)=>'png'===D?''['concat'](h['c'])['concat'](C,'.png'):''['concat'](h['d'])['concat'](C,'.svg'),y=[];for(h['R']['lastIndex']=0x0;;){var z=h['R']['exec'](u);if(!z)break;var A=z[0x0],B=q(p(A))['join']('-');y['push']({'url':B?x(B,w):'','indices':[z['index'],h['R']['lastIndex']],'text':A,'type':'emoji'});}return y;}var l=/\uFE0F/g,m=String['fromCharCode'](0x200d),p=u=>u['indexOf'](m)<0x0?u['replace'](l,''):u;function q(u){for(var v=[],w=0x0,x=0x0,y=0x0;y<u['length'];)w=u['charCodeAt'](y++),x?(v['push']((0x10000+(x-0xd800<<0xa)+(w-0xdc00))['toString'](0x10)),x=0x0):w>0xd800&&w<=0xdbff?x=w:v['push'](w['toString'](0x10));return v;}},'Gc0+':function(j,k,q){'use strict';var w=q('qX4z'),x=q('2vnA'),z=q('odX6'),A=q('hpLR'),B=q('bXzw'),C=q('OIS1'),D=q('Iy5H'),E=q('mBFf'),F=Object['defineProperty'],G=Object['getOwnPropertyDescriptor'],H=(O,P,Q,R)=>{for(var S,T=R>0x1?void 0x0:R?G(P,Q):P,U=O['length']-0x1;U>=0x0;U--)(S=O[U])&&(T=(R?S(P,Q,T):S(T))||T);return R&&T&&F(P,Q,T),T;},I=(O,P,Q)=>new Promise((R,S)=>{var T=W=>{try{V(Q['next'](W));}catch(X){S(X);}},U=W=>{try{V(Q['throw'](W));}catch(X){S(X);}},V=W=>W['done']?R(W['value']):Promise['resolve'](W['value'])['then'](T,U);V((Q=Q['apply'](O,P))['next']());}),J=-0x1,K=0x1,L=0x2,M=0x4;class N{constructor(){var O=this;this['position']=J,this['startRequestAuth']=function(){var P=!(arguments['length']>0x0&&void 0x0!==arguments[0x0])||arguments[0x0];return I(O,null,function*(){return Object(w['g'])()?yield this['startAuthInWeMeet'](P):yield this['startAuthOutOfWeMeet'](P);});},this['requestAuthHandler']={'close':()=>{}},this['startAuthOutOfWeMeet']=function(){var P=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];return I(O,null,function*(){this['requestAuthHandler']['close']();var Q=Object(C['b'])(),R=!0x0,{close:S,onClose:T}=yield Object(D['o'])(Q);T(()=>{this['requestAuthHandler']['close']();}),this['requestAuthHandler']['close']=()=>{S(),R=!0x1,this['requestAuthHandler']['close']=()=>{};};var U=yield Object(A['a'])(()=>Object(D['g'])(Q),{'timeout':0x493e0,'interval':0x3e8,'validator':V=>Boolean(V)||!R});if(U){if(P){if(!(yield Object(D['b'])(Q)))return void console['error']('绑定腾讯会议失败',Q);}return E['a']['getInstance']()['wemeetOpenId']=U['openId'],U;}this['requestAuthHandler']['close']();});},this['stopAuthOutOfWeMeet']=()=>{this['requestAuthHandler']['close']();},this['startAuthInWeMeet']=function(){var P=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];return I(O,null,function*(){var Q=yield this['initInWeMeet']({'withLogin':!0x1});if(Q){var {uuid:R,openId:S}=Q;if(P){if(!(yield Object(D['b'])(R)))return void console['error']('绑定腾讯会议失败',R);}return E['a']['getInstance']()['wemeetOpenId']=S,Q;}console['error']('获取腾讯会议授权信息失败');});};}['stopRequestAuth'](){Object(w['g'])()||this['stopAuthOutOfWeMeet']();}['initInWeMeet'](){return I(this,arguments,function*(){var {withLogin:O=!0x0}=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},P=Object(C['b'])(),Q=yield Object(D['s'])();if(Q){var R=yield Object(D['e'])();if(R){var {openId:S}=yield Object(D['p'])(R,P),T=yield Object(D['h'])(S,window['location']['href']);if(T){var U=yield Object(D['a'])(T);if(U){var V,W,X=yield Object(D['i'])();return(null==X?void 0x0:X['meetingId'])&&(V=yield Object(D['j'])(X['meetingId'])),O&&(W=yield Object(D['n'])(P)),{'uuid':P,'openId':S,'loginResult':W,'meetingMeta':V};}console['error']('js\x20sdk\x20授权失败');}else console['error']('获取\x20js\x20授权信息失败');}else console['error']('无法获取\x20auth\x20code');}else console['error']('腾讯会议\x20js\x20sdk\x20初始化失败');});}['setPosition'](O){switch(O){case K:this['position']=K;break;case L:this['position']=L;break;case M:this['position']=M;break;default:console['error']('未知的位置类型',O);}}}H([z['b']],N['prototype'],'pageStore',0x2),H([x['observable']],N['prototype'],'position',0x2),H([x['action']],N['prototype'],'startRequestAuth',0x2),H([x['action']],N['prototype'],'stopRequestAuth',0x1),H([x['action']],N['prototype'],'setPosition',0x1),k['a']=Object(B['a'])(N);},'GmfF':function(f,j,k){'use strict';var q,v=k('2vnA'),w=k('P8+q'),x=k('bXzw'),y=k('qX4z'),z=k('sA5H'),A=k('odX6'),B=k('9rbq'),C=k('Rsoz'),D=Object['defineProperty'],E=Object['getOwnPropertyDescriptor'],F=(I,J,K,L)=>{for(var M,N=L>0x1?void 0x0:L?E(J,K):J,O=I['length']-0x1;O>=0x0;O--)(M=I[O])&&(N=(L?M(J,K,N):M(N))||N);return L&&N&&D(J,K,N),N;},G=(I,J,K)=>new Promise((L,M)=>{var N=Q=>{try{P(K['next'](Q));}catch(R){M(R);}},O=Q=>{try{P(K['throw'](Q));}catch(R){M(R);}},P=Q=>Q['done']?L(Q['value']):Promise['resolve'](Q['value'])['then'](N,O);P((K=K['apply'](I,J))['next']());});class H{constructor(){this['userTemplates']=[],this['userTemplateGroups']=[],this['favoriteTemplates']=[],this['favoriteTemplateGroups']=[],this['builtInTemplates']=[],this['builtInTemplateGroups']=[],this['defaultState']={'selectedId':'','expandIds':[],'scrollTop':0x0};}get['searchTemplates'](){return[...this['userTemplates'],...this['builtInTemplates']];}get['templateGroups'](){return[...this['userTemplateGroups'],...this['favoriteTemplateGroups'],...this['builtInTemplateGroups']];}['getTestTemplateGroups'](I){return G(this,null,function*(){var J=this['spaceStore']['favoritePageTemplates'],K=[{'id':'s92Sjnz7UpzPoEzKMEwJn2','title':'小测模板样式','icon':['emoji','🏄🏻‍'],'favStatus':J['indexOf']('s92Sjnz7UpzPoEzKMEwJn2')>-0x1},{'id':'qg7mBsq8m6wbfy4WnpxbFd','title':'个人模板','icon':['emoji','🏄🏻‍'],'favStatus':J['indexOf']('qg7mBsq8m6wbfy4WnpxbFd')>-0x1}],L=new Promise(M=>{K['forEach'](N=>{I({'id':N['id'],'title':N['title'],'icon':N['icon'],'group':'模板中心','groupId':'personal_manager','favStatus':N['favStatus']});}),M([{'id':'personal_manager','title':'模板中心','templates':K}]);});return yield L;});}['getProdTemplateGroups'](I){return G(this,null,function*(){var J=this['spaceStore']['favoritePageTemplates'],K=B['Ob']['TEMPLATE_DOCUMENT']['split']('/')['pop']();if(!q){var L=yield Object(z['eb'])({'pageId':K,'limit':-0x1,'position':{'stack':[]},'chunkNumber':0x0});q=L['block'];}var M=new Map();for(var N in q)q['hasOwnProperty'](N)&&M['set'](N,q[N]['value']);var O=new Map();M['forEach'](S=>{if('page'===S['type']){var T=M['get'](S['parent_id']);if(T&&'toggleList'===T['type']){var U=O['get'](T['id']);if(U)U['find'](V=>V['id']===S['id'])||(U['push'](S),O['set'](T['id'],U));else O['set'](T['id'],[S]);}}});var P,Q={},R=[];return O['forEach']((S,T)=>{var U=M['get'](T),V='';U['attributes']&&U['attributes']['title']&&(V=U['attributes']['title'][0x0][0x0]);var W={'id':U['id'],'title':V,'templates':[]};S['forEach'](X=>{var Y={'id':X['id'],'title':X['attributes']['title']['toString'](),'icon':X['setting']['page_icon'],'group':W['title'],'groupId':W['id'],'favStatus':J['indexOf'](X['id'])>-0x1};W['templates']['push'](Y),I(Y);}),Q[V['split']('-')[0x0]]?Q[V['split']('-')[0x0]]['push'](W):Q[V['split']('-')[0x0]]=[W];}),P=B['hb']?this['spaceStore']['isPersonalUsePlan']()?['Basic','Personal','Edu','Team']:['Basic','Team','Personal','Edu']:this['spaceStore']['isPersonalUsePlan']()?['基础','个人','教育','团队']:['基础','团队','个人','教育'],R=P['reduce']((S,T)=>{var U=S['concat'](Q[T]);return delete Q[T],U;},[]),Object['values'](Q)['forEach'](S=>R=R['concat'](S)),R;});}['getUserTemplateGroups'](I){return G(this,null,function*(){var J=this['spaceStore']['getCurrentSpaceViewProps']('custom_page_templates'),K=[];try{K=J&&JSON['parse'](J)||[];}catch(O){console['error'](O);}var L={'id':'my_template','title':C['a']['t']('stores.templateStore.myTemplates','我的模板',{'ns':'editor'}),'templates':[]},M=[];if(K['forEach'](P=>{P&&(this['dataStore']['getBlockValue'](P)['id']||M['push']({'table':B['Db'],'id':P}));}),M['length']>0x0){var N=yield Object(z['v'])(M);this['dataStore']['syncBlockData'](N);}return K['forEach'](P=>{if(P){var Q=this['dataStore']['getBlockValue'](P);if(Q['id']&&0x1===Q['status']){var R={'id':Q['id'],'title':this['blockAPI']['getTitlePlainTextById'](Q['id'])||C['a']['t'](B['cb']['UNTITLED_PAGE'],'新页面',{'ns':'editor'}),'icon':Q['setting']['page_icon'],'group':L['title'],'groupId':L['id']};L['templates']['push'](R),I(R);}}}),[L];});}['getFavoriteTemplateGroups'](I){return G(this,null,function*(){var J=this['spaceStore']['favoritePageTemplates'],K={'id':'favorite_template','title':C['a']['t']('stores.templateStore.commonTemplates','常用模板',{'ns':'editor'}),'templates':[]},L=[];if(J['forEach'](N=>{N&&(this['dataStore']['getBlockValue'](N)['id']||L['push']({'table':B['Db'],'id':N}));}),L['length']>0x0){var M=yield Object(z['v'])(L);this['dataStore']['syncBlockData'](M);}return J['forEach'](N=>{if(N){var O=this['dataStore']['getBlockValue'](N);if(O['id']&&0x1===O['status']){var P={'id':O['id'],'title':this['blockAPI']['getTitlePlainTextById'](O['id']),'icon':O['setting']['page_icon'],'group':K['title'],'groupId':K['id'],'favStatus':!0x0};K['templates']['push'](P),I(P);}}}),[K];});}['initUserTemplateGroups'](){return G(this,null,function*(){var I=[];return this['userTemplateGroups']=yield this['getUserTemplateGroups'](J=>{I['push'](J);}),this['userTemplates']=I,this['userTemplateGroups'];});}['initFavoriteTemplateGroups'](){return G(this,null,function*(){var I=[];return this['favoriteTemplateGroups']=yield this['getFavoriteTemplateGroups'](J=>{I['push'](J);}),this['favoriteTemplates']=I,this['favoriteTemplateGroups'];});}['initBuiltInTemplateGroups'](){return G(this,null,function*(){var I=Object(y['d'])(),J=[];return['prod','uat','pre']['includes'](I)?this['builtInTemplateGroups']=yield this['getProdTemplateGroups'](K=>{J['push'](K);}):this['builtInTemplateGroups']=yield this['getTestTemplateGroups'](K=>{J['push'](K);}),this['builtInTemplates']=J,this['builtInTemplateGroups'];});}['initialize'](){return G(this,null,function*(){yield Promise['all']([this['initUserTemplateGroups'](),this['initFavoriteTemplateGroups'](),this['initBuiltInTemplateGroups']()]);});}['getDefaultState'](){if(!this['defaultState']['selectedId']||!this['searchTemplates']['find'](J=>J['id']===this['defaultState']['selectedId'])){var I=this['builtInTemplateGroups']['length']>0x0?this['builtInTemplateGroups'][0x0]:null;I&&I['templates']['length']&&(this['defaultState']['selectedId']||(this['defaultState']['expandIds']=[I['id']]),this['defaultState']['selectedId']=I['templates'][0x0]['id']);}return this['defaultState'];}['setDefaultState'](I){var {selectedId:J,expandIds:K,scrollTop:L}=I;J&&(this['defaultState']['selectedId']=J),K&&(this['defaultState']['expandIds']=K),L&&(this['defaultState']['scrollTop']=L);}['searchTitle'](I){return w['filter'](I,this['searchTemplates'],{'pre':'<em>','post':'</em>','extract':function(J){return J['title'];}})['map'](J=>({'id':J['original']['id'],'icon':J['original']['icon'],'title':J['string'],'group':J['original']['group'],'groupId':J['original']['groupId'],'favStatus':J['original']['favStatus'],'tooltip':J['original']['title'],'score':J['score']/J['original']['title']['length']}));}['searchGroup'](I){return w['filter'](I,this['searchTemplates'],{'pre':'<em>','post':'</em>','extract':function(J){var K;return null!=(K=J['group'])?K:'';}})['map'](J=>({'id':J['original']['id'],'icon':J['original']['icon'],'title':J['original']['title'],'tooltip':J['original']['title'],'group':J['string'],'groupId':J['original']['groupId'],'favStatus':J['original']['favStatus'],'score':J['score']/J['original']['title']['length']}));}['search'](I){var J=new Map(),K=this['searchTitle'](I),L=this['searchGroup'](I);return K['forEach'](M=>{J['set'](M['id'],M);}),L['forEach'](M=>{var N=J['get'](M['id']);N?N['group']=M['group']:K['push'](M);}),K;}}F([A['b']],H['prototype'],'spaceStore',0x2),F([A['b']],H['prototype'],'dataStore',0x2),F([A['b']],H['prototype'],'blockAPI',0x2),F([v['observable']],H['prototype'],'userTemplates',0x2),F([v['observable']],H['prototype'],'userTemplateGroups',0x2),F([v['observable']],H['prototype'],'favoriteTemplates',0x2),F([v['observable']],H['prototype'],'favoriteTemplateGroups',0x2),F([v['observable']],H['prototype'],'builtInTemplates',0x2),F([v['observable']],H['prototype'],'builtInTemplateGroups',0x2),F([v['computed']],H['prototype'],'searchTemplates',0x1),F([v['computed']],H['prototype'],'templateGroups',0x1),F([v['action']],H['prototype'],'setDefaultState',0x1),j['a']=Object(x['a'])(H);},'Go1b':function(j,q,x){'use strict';x['d'](q,'b',function(){return a2;}),x['d'](q,'a',function(){return a3;}),x['d'](q,'c',function(){return a4;});var z=x('q1tI'),A=x('Rsoz'),B=x('f9x4'),C=x('7O/X'),D=x('Uwms'),F=x('pDqD'),G=x('wjHj'),H=x('bVWY'),J=x('3zS3'),K=x('wn1F'),L=x('oJNA'),M=x('1kCn'),N=x('jBud'),Q=x('tbAA'),R=x('Il6Q'),U=x('kmBZ'),V=x('zzYz'),W=x('m8Kj'),X=x('CWQZ'),Y=x('a85d'),Z=x('3Uxv'),a0=x('9rbq'),a1=a5=>({[B['p']['SN']]:{'label':'','type':B['p']['SN'],'icon':z['createElement'](Z['a'],null)},[B['p']['Primary']]:{'label':A['a']['t'](a0['cb']['TITLE'],'标题',{'ns':'editor'}),'type':B['p']['Primary'],'icon':z['createElement'](C['a'],null)},[B['p']['Text']]:{'label':A['a']['t'](a0['cb']['TEXT'],'文本',{'ns':'editor'}),'type':B['p']['Text'],'icon':z['createElement'](D['a'],null),'preview':{'img':x('f49D'),'description':A['a']['t']('editor.core.database.addTextContent','添加文本内容',{'ns':'editor'}),'hotKey':''}},[B['p']['Number']]:{'label':A['a']['t'](a0['cb']['NUMBER'],'数字',{'ns':'editor'}),'type':B['p']['Number'],'icon':z['createElement'](F['a'],null),'preview':{'img':x('+ycT'),'description':A['a']['t']('editor.core.database.numberFormatSelect','输入数字可选多种格式',{'ns':'editor'}),'hotKey':''}},[B['p']['Select']]:{'label':A['a']['t'](a0['cb']['SELECT'],'单选',{'ns':'editor'}),'type':B['p']['Select'],'icon':z['createElement'](G['a'],null),'preview':{'img':x('R+UO'),'description':A['a']['t']('editor.core.database.addSelectTag','添加单选标签',{'ns':'editor'}),'hotKey':''}},[B['p']['MultiSelect']]:{'label':A['a']['t'](a0['cb']['MULTI_SELECT'],'多选',{'ns':'editor'}),'type':B['p']['MultiSelect'],'icon':z['createElement'](H['a'],null),'preview':{'img':x('Z8Kq'),'description':A['a']['t']('editor.core.database.addMultiSelectTag','添加多选标签',{'ns':'editor'}),'hotKey':''}},[B['p']['Checkbox']]:{'label':A['a']['t'](a0['cb']['CHECK_BOX'],'勾选框',{'ns':'editor'}),'type':B['p']['Checkbox'],'icon':z['createElement'](J['a'],null),'preview':{'img':x('4vRd'),'description':A['a']['t']('editor.core.database.checkCompletion','勾选完成情况',{'ns':'editor'}),'hotKey':''}},[B['p']['Date']]:{'label':A['a']['t'](a0['cb']['DATE'],'日期',{'ns':'editor'}),'type':B['p']['Date'],'icon':z['createElement'](K['a'],null),'preview':{'img':x('xF07'),'description':A['a']['t']('editor.core.database.addDateAndSetReminder','添加日期并设置提醒',{'ns':'editor'}),'hotKey':''}},[B['p']['People']]:{'label':A['a']['t'](a0['cb']['MEMBER'],'成员',{'ns':'editor'}),'type':B['p']['People'],'icon':z['createElement'](L['a'],null),'preview':{'img':x('Mv/3'),'description':A['a']['t']('editor.core.database.addOrReminderMember','添加/提及空间内成员',{'ns':'editor'}),'hotKey':''}},[B['p']['File']]:{'label':A['a']['t'](a0['cb']['MEDIA_OR_FILE'],'媒体或文件',{'ns':'editor'}),'type':B['p']['File'],'icon':z['createElement'](U['a'],null),'preview':{'img':x('69iR'),'description':A['a']['t']('editor.core.database.uploadFileOrImage','上传文件或图像',{'ns':'editor'}),'hotKey':''}},[B['p']['Url']]:{'label':A['a']['t'](a0['cb']['URL'],'网址链接',{'ns':'editor'}),'type':B['p']['Url'],'icon':z['createElement'](W['a'],null),'preview':{'img':x('Fovq'),'description':A['a']['t']('editor.core.database.addUrl','添加网址链接',{'ns':'editor'}),'hotKey':''}},[B['p']['Email']]:{'label':A['a']['t'](a0['cb']['EMAIL'],'邮箱',{'ns':'editor'}),'type':B['p']['Email'],'icon':z['createElement'](X['a'],null),'preview':{'img':x('NTC6'),'description':A['a']['t']('editor.core.database.addEmail','添加邮箱地址',{'ns':'editor'}),'hotKey':''}},[B['p']['Phone']]:{'label':A['a']['t'](a0['cb']['PHONE'],'电话',{'ns':'editor'}),'type':B['p']['Phone'],'icon':z['createElement'](Y['a'],null),'preview':{'img':x('BauZ'),'description':A['a']['t']('editor.core.database.addPhoneNumber','添加电话号码',{'ns':'editor'}),'hotKey':''}},[B['p']['Formula']]:{'label':A['a']['t'](a0['cb']['FORMULA'],'公式',{'ns':'editor'}),'type':B['p']['Formula'],'icon':z['createElement'](V['a'],null)},[B['p']['Relation']]:{'label':A['a']['t'](a0['cb']['RELATION'],'关系',{'ns':'editor'}),'type':B['p']['Relation'],'icon':z['createElement'](M['a'],null)},[B['p']['Rollup']]:{'label':A['a']['t'](a0['cb']['ROLLUP'],'汇总',{'ns':'editor'}),'type':B['p']['Rollup'],'icon':z['createElement'](N['a'],null)},[B['p']['CreatedTime']]:{'label':A['a']['t'](a0['cb']['CREATED_TIME'],'创建时间',{'ns':'editor'}),'type':B['p']['CreatedTime'],'icon':z['createElement'](Q['a'],null)},[B['p']['CreatedBy']]:{'label':A['a']['t'](a0['cb']['CREATED_BY'],'创建者',{'ns':'editor'}),'type':B['p']['CreatedBy'],'icon':z['createElement'](R['a'],null)},[B['p']['LastEditedTime']]:{'label':A['a']['t'](a0['cb']['LAST_EDITED_TIME'],'最后编辑时间',{'ns':'editor'}),'type':B['p']['LastEditedTime'],'icon':z['createElement'](Q['a'],null)},[B['p']['LastEditedBy']]:{'label':A['a']['t'](a0['cb']['LAST_EDITED_BY'],'最后编辑者',{'ns':'editor'}),'type':B['p']['LastEditedBy'],'icon':z['createElement'](R['a'],null)}}[a5]),a2=()=>[a1(B['p']['Text']),a1(B['p']['Number']),a1(B['p']['Select']),a1(B['p']['MultiSelect']),a1(B['p']['Checkbox']),a1(B['p']['Date']),a1(B['p']['People']),a1(B['p']['File']),a1(B['p']['Url']),a1(B['p']['Email']),a1(B['p']['Phone'])],a3=()=>[a1(B['p']['Formula']),a1(B['p']['CreatedTime']),a1(B['p']['CreatedBy']),a1(B['p']['LastEditedTime']),a1(B['p']['LastEditedBy'])],a4=a5=>a1(a5)||{'label':'','icon':null};},'Hip5':function(j,q,x){'use strict';x['d'](q,'a',function(){return a6;});var z=x('q1tI'),B=x('wSuE'),C=x('Ty5D'),D=x('F21Z'),F=x('Ouee'),G=x('reI2'),H=x('q0oU'),J=x('FX2t'),K=x('8/AG'),L=x('4/VU'),M=x('qX4z'),N=x('6AEw'),Q=x('SCxo'),R=x('oSi7'),U=x('UEm+');R['a']['getInstance']();var V=z['lazy'](()=>x['e'](0x3a)['then'](x['bind'](null,'bEn7'))),W=z['lazy'](()=>x['e'](0x42)['then'](x['bind'](null,'9xP+'))),X=z['lazy'](()=>Promise['all']([x['e'](0x0),x['e'](0x3),x['e'](0x8),x['e'](0x7),x['e'](0xe),x['e'](0x1),x['e'](0x5),x['e'](0x29),x['e'](0x4b)])['then'](x['bind'](null,'Z4Q1'))),Y=z['lazy'](()=>Promise['all']([x['e'](0x0),x['e'](0x3),x['e'](0x6),x['e'](0x9),x['e'](0x8),x['e'](0x7),x['e'](0xf),x['e'](0xe),x['e'](0xd),x['e'](0x14),x['e'](0x12),x['e'](0x13),x['e'](0x1a),x['e'](0x1b),x['e'](0x19),x['e'](0x20),x['e'](0x5b),x['e'](0x46),x['e'](0x1),x['e'](0x2),x['e'](0x4),x['e'](0x5),x['e'](0xb),x['e'](0xa),x['e'](0x11),x['e'](0x10),x['e'](0x16),x['e'](0x17),x['e'](0x1e),x['e'](0x1d),x['e'](0x31),x['e'](0x2b),x['e'](0x37)])['then'](x['bind'](null,'bvOA'))),Z=z['lazy'](()=>Promise['all']([x['e'](0x0),x['e'](0x6),x['e'](0x9),x['e'](0xf),x['e'](0x1b),x['e'](0x4),x['e'](0x17),x['e'](0x50)])['then'](x['bind'](null,'VOBv'))),a0=z['lazy'](()=>Promise['all']([x['e'](0x0),x['e'](0x6),x['e'](0x9),x['e'](0xf),x['e'](0x1d),x['e'](0x47)])['then'](x['bind'](null,'QKky'))),a1=z['lazy'](()=>Promise['all']([x['e'](0x0),x['e'](0x3),x['e'](0x6),x['e'](0x9),x['e'](0x8),x['e'](0xe),x['e'](0x14),x['e'](0x12),x['e'](0x1a),x['e'](0x4),x['e'](0x10),x['e'](0x16),x['e'](0x30),x['e'](0x2a),x['e'](0x4f)])['then'](x['bind'](null,'o+Mu'))),a2=z['lazy'](()=>Promise['all']([x['e'](0x2),x['e'](0x34)])['then'](x['bind'](null,'9m7/'))),a3=z['lazy'](()=>Promise['all']([x['e'](0x1f),x['e'](0x2),x['e'](0x33)])['then'](x['bind'](null,'0iQ3'))),a4=z['lazy'](()=>x['e'](0x5e)['then'](x['bind'](null,'ChQf'))),a5=z['lazy'](()=>x['e'](0x5d)['then'](x['bind'](null,'PuOu'))),a6=Object(B['hot'])(a7=>{var {history:a8}=a7;return z['useEffect'](()=>{var a9,aa,ab;a9=void 0x0,aa=null,ab=function*(){if(Object(M['g'])()&&Object(U['a'])('wemeet-sdk','https://cdn.meeting.tencent.com/jssdk/wemeet-js-sdk-1.0.19.js'),Object(M['e'])()){var {bindFuncToWindow:ac}=yield x['e'](0x43)['then'](x['bind'](null,'+Kp/'));ac(window);}Object(L['g'])();},new Promise((ac,ad)=>{var ae=ah=>{try{ag(ab['next'](ah));}catch(ai){ad(ai);}},af=ah=>{try{ag(ab['throw'](ah));}catch(ai){ad(ai);}},ag=ah=>ah['done']?ac(ah['value']):Promise['resolve'](ah['value'])['then'](ae,af);ag((ab=ab['apply'](a9,aa))['next']());});},[]),Object(Q['a'])(),z['createElement'](D['a'],null,z['createElement'](F['a'],null),z['createElement'](J['a'],null),z['createElement'](C['c'],{'history':a8},z['createElement'](z['Suspense'],{'fallback':z['createElement'](N['c'],{'delay':0xc8})},z['createElement'](C['d'],null,z['createElement'](C['b'],{'path':'/logout','component':W}),z['createElement'](C['b'],{'exact':!0x0,'path':'/wolai_share/:pageId','component':Z}),z['createElement'](C['b'],{'exact':!0x0,'path':'/wolai_poster/:userId','component':a0}),z['createElement'](C['b'],{'exact':!0x0,'path':'/f/:visitId','component':a1}),z['createElement'](C['b'],{'path':'/first','component':Object(H['a'])(X)}),z['createElement'](C['b'],{'exact':!0x0,'path':'/bu/dingtalk/tryout','component':a2}),z['createElement'](C['b'],{'exact':!0x0,'path':'/bu/dingtalk/login','component':a3}),z['createElement'](C['b'],{'exact':!0x0,'path':'/bu/wemeet/auth','component':a4}),z['createElement'](C['b'],{'exact':!0x0,'path':'/bu/wechat/auth','component':a5}),z['createElement'](C['b'],{'exact':!0x0,'path':K['a'],'component':Object(H['a'])(V)}),z['createElement'](G['a'],{'exact':!0x0,'path':['/:domainId/:pageId','/:domainOrPageId'],'component':Object(H['a'])(Y)})))));});},'IJWY':function(j,q,w){'use strict';w['d'](q,'c',function(){return T;}),w['d'](q,'b',function(){return U;}),w['d'](q,'f',function(){return V;}),w['d'](q,'d',function(){return W;}),w['d'](q,'a',function(){return X;}),w['d'](q,'e',function(){return Y;});var x=w('u6S6'),z=w['n'](x),A=w('RHI1'),B=w['n'](A),C=w('3WF5'),D=w['n'](C),F=w('5D19'),G=Object['defineProperty'],H=Object['defineProperties'],J=Object['getOwnPropertyDescriptors'],K=Object['getOwnPropertySymbols'],L=Object['prototype']['hasOwnProperty'],M=Object['prototype']['propertyIsEnumerable'],N=(Z,a0,a1)=>a0 in Z?G(Z,a0,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a1}):Z[a0]=a1,P=(Z,a0)=>{for(var a1 in a0||(a0={}))L['call'](a0,a1)&&N(Z,a1,a0[a1]);if(K){for(var a1 of K(a0))M['call'](a0,a1)&&N(Z,a1,a0[a1]);}return Z;},Q=(Z,a0,a1)=>new Promise((a2,a3)=>{var a4=a7=>{try{a6(a1['next'](a7));}catch(a8){a3(a8);}},a5=a7=>{try{a6(a1['throw'](a7));}catch(a8){a3(a8);}},a6=a7=>a7['done']?a2(a7['value']):Promise['resolve'](a7['value'])['then'](a4,a5);a6((a1=a1['apply'](Z,a0))['next']());});function R(Z){if(Array['isArray'](Z))return D()(Z,R);if(Z&&Z['constructor']===Object){var a0={};return B()(Z,(a1,a2)=>{var a3=z()(a2),a4=a1;(a1 instanceof Array||null!==a1&&a1['constructor']===Object)&&(a4=R(a1)),a0[a3]=a4;}),a0;}return Z;}function T(Z){return Q(this,null,function*(){return R(yield Object(F['i'])(Object(F['p'])('workspace/group',{'workspaceId':Z},'wolai-workspace-service'),F['h']));});}function U(Z){return Q(this,null,function*(){return R(yield Object(F['n'])(Object(F['p'])('workspace/group',{'workspaceId':Z},'wolai-workspace-service'),{'workspaceId':Z},F['h']));});}function V(Z,a0){return Q(this,null,function*(){return R(yield Object(F['o'])(Object(F['p'])('workspace/group',{},'wolai-workspace-service'),P({'workspaceId':Z},a0),F['h']));});}function W(Z,a0){return Q(this,null,function*(){var a1,a2;return R(yield Object(F['a'])(Object(F['p'])('workspace/group',{'workspaceId':Z,'groupId':a0},'wolai-workspace-service'),(a1=P({},F['h']),a2={'data':{'workspaceId':Z,'groupId':a0}},H(a1,J(a2))))['then'](F['f']));});}function X(Z){return Q(this,null,function*(){return R(yield Object(F['n'])(Object(F['p'])('workspace/group/member',{},'wolai-workspace-service'),Z,F['h']));});}function Y(Z){return Q(this,null,function*(){return R(yield Object(F['a'])(Object(F['p'])('workspace/group/member',Z,'wolai-workspace-service'),F['h'])['then'](F['f']));});}},'IKCg':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=Object['freeze']({'UNTITLED_PAGE':'untitledPage','DATE_YYYYMMDDHHMMSS':'date_yyyymmddhhmmss','BACK_TO_WORKSPACE':'backToWorkspace','BACK_TO_HOME':'backToHome','LOGIN':'signIn','RELOAD':'reload','CANCEL':'cancel','CREATE_POSTER':'createPoster','SCAN_QR_CODE':'scanQrCode','HIDE_TIPS':'hideTips','INFO_ALERT_TITLE':'infoAlertTitle','ERROR_ALERT_TITLE':'errorAlertTitle','PAY_UPGRADE':'payUpgrade','OK':'ok','CLOSE':'close','CLEAR':'clear','END':'end','START':'start','UNTITLED_GROUP':'untitledGroup','ALL_MEMBERS':'allMembers','NONE':'none','UNTITLED_DATABASE':'untitledDatabase','TURN_TO':'turnTo','COMMA':'comma','COLON':'colon','RECOMMEND_CODE':'recommendCode','TABLE':'table','BOARD':'board','FORM':'form','EDIT':'edit','DELETE':'delete','COPY':'copy','OPTION':'option','YES':'yes','NO':'no','COPY_ACCESS_LINK':'copyAccessLink','COPIED':'copied','PREVIEW':'preview','DOWNLOAD':'download','OR':'or','AND':'and','PROCESSING_WAIT':'processingWait','PASTE_TOO_MUCH_DATA':'pasteTooMuchData','PAGE':'page','WEBSITE':'website','ADD_COVER':'addCover','ADD_ICON':'addIcon','ENTERPRISE':'enterprise','CLICK_RE_LOCK':'clickReLock','NEW_OPTIONS':'newOptions','NOT_SUPPORT_FILE_PREVIEW':'notSupportFilePreview','RENAME':'rename','VIEW_ORIGINAL':'viewOriginal','RE_UPLOAD':'reUpload','ENTER_FILE_NAME':'enterFileName','UPGRADE':'upgrade','TODAY':'today','ALL':'all','YESTERDAY':'yesterday','WORKSPACE':'workspace','MESSAGE':'message','REMOVING':'removing','UPLOADING':'uploading','REMOVE_AVATAR':'removeAvatar','USER_INFO':'userInfo','INVITE_AND_CREDIT':'inviteAndCredit','MORE':'more','SPACE_SETTING':'spaceSetting','SPACE_PREFERENCE':'spacePreference','UPGRADE_PLAN':'upgradePlan','SPACE_MEMBER':'spaceMember','NICKNAME':'nickname','SAVE':'save','INTEGRAL_TASK_LIST':'integralTaskList','SET_OCCUPATION':'setOccupation','SET_CHANNELS':'setChannels','SET_INDUSTRY':'setIndustry','SET_TEAM_SIZE':'setTeamSize','COPY_INVITE_LINK':'copyInviteLink','CREATE_INVITE_POSTER':'createInvitePoster','HISTORY_ORDER':'historyOrder','PRIVACY_POLICY':'privacyPolicy','PARTIAL_REFUNDED':'partialRefunded','FULL_REFUNDED':'fullyRefunded','ORDER_NUMBER':'orderNumber','ORDER_AMOUNT':'orderAmount','LOGOUT':'logout','MAN_MACHINE_VERIFICATION_FAILED':'manMachineVerificationFailed','HOLD_SLIDER_TO_RIGHT':'holdSliderToRight','VERIFY_PASS':'verifyPass','MAN_MACHINE_ERROR_300':'manMachineError300','MAN_MACHINE_ERROR_NETWORK':'manMachineErrorNetwork','GET_CAPTCHA':'getCaptcha','PHONE_NUMBER':'phoneNumber','CAPTCHA_IS_REQUIRED':'captchaIsRequired','ENTER_NEW_PHONE_NUMBER':'enterNewPhoneNumber','NEXT_STEP':'nextStep','LAST_STEP':'lastStep','EMAIL':'email','BIND_EMAIL':'bindEmail','INPUT_CAPTCHA':'inputCaptcha','IN_SETTING':'inSetting','CONFIRM_SETTING':'confirmSetting','IN_DELETING':'inDeleting','CONFIRM_DELETE':'confirmDelete','PASSWORD_IS_REQUIRED':'passwordIsRequired','KEEP_CONSISTENT_WITH_NEW_PASSWORD':'keepConsistentWithNewPassword','MEMBER':'member','GROUP':'group','EMOJI':'emoji','FONT_AWESOME':'fontAwesome','DYNAMIC_ICON':'dynamicIcon','IMAGE_LINK':'imageLink','UPLOAD_IMAGE':'uploadImage','RECENT_UPLOAD_IMAGE':'recentUploadImage','SEARCH_RESULT':'searchResult','RECENT':'recent','SMILEYS':'smileys','PEOPLE':'people','NATURE':'nature','FOODS':'foods','ACTIVITY':'activity','PLACES':'places','OBJECTS':'objects','SYMBOLS':'symbols','FLAGS':'flags','CUSTOM':'custom','SEARCH':'search','NOT_FOUND_EMOJI':'notFoundEmoji','TO_UPGRADE':'toUpgrade','RECENT_UPLOAD_COVER':'recentUploadCover','NO_PERMISSION':'noPermission','NEED_ADD_PERMISSION':'needAddPermission','CONFIRM_DELETE_PAGE':'confirmDeletePage','CONFIRM':'confirm','NO_RECORD':'noRecord','NO_MORE_RECORD':'noMoreRecord','CREDIT_DETAIL':'creditDetail','HELP_CENTER':'helpCenter','CUSTOMER_SERVICE_FEEDBACK':'customerServiceFeedback','CANCEL_ACCOUNT':'cancelAccount','ALL_RIGHT':'allRight','AGREE':'agree','UNDERSTOOD':'understood','EDIT_PROTECT':'editProtect','REVOKE':'revoke','SETTING':'setting','CUT':'cut','PLAN_UPGRADE_TIPS':'planUpgradeTips','CONFIRM_UPGRADE':'confirmUpgrade','ONLY_SUPPORT_PNG_OR_JPG':'onlySupportPngOrJpg','REPLACE_IMAGE':'replaceImage','WORKSPACE_NAME':'workspaceName','INPUT_WORKSPACE_NAME_PLACEHOLDER':'inputWorkspaceNamePlaceholder','DIRECTORY_SUSPENDED':'directorySuspended','FULL_WIDTH':'fullWidth','SMALL_TEXT':'smallText','FLY_MODE':'flyMode','PAGE_HISTORY':'pageHistory','BLOCK_HISTORY':'blockHistory','TEXT_TRANSLATION':'textTranslation','IMAGE_OCR':'imageOcr','FORMULA_PICTURE_AND_HANDWRITING_RECOGNITION':'formulaPictureAndHandwritingRecognition','AUDIO_TO_TEXT':'audioToText','REAL_TIME_VOICE_TO_TEXT':'realTimeVoiceToText','CUSTOM_TEMPLATE':'customTemplate','PRIORITY_CUSTOMER_SERVICE_SUPPORT':'priorityCustomerServiceSupport','WORKSPACE_SECURITY_SETTINGS':'workspaceSecuritySettings','COMMENT':'comment','PUBLIC_SHARING_PAGE':'publicSharingPage','PAGE_DIAGRAM':'pageDiagram','PERSONAL_USE':'personalUse','TEAM_USE':'teamUse','INFINITE':'infinite','RENEW_NOW':'renewNow','LEARN_MORE':'learnMore','BIND_NOW':'bindNow','RENEW':'renew','DEGRADE':'degrade','CONVERT':'convert','FREE':'free','DAY':'day','REFRESH':'refresh','NO_MATCH_RESULT':'noMatchResult','SEARCH_FOR_MEMBER_NICKNAME':'searchForMemberNickname','REMOVE':'remove','ADD':'add','API_ERROR':'apiError','TIPS':'tips','ADD_TO_INVITATION_LIST':'addToInvitationList','SEARCH_API_ERROR':'searchApiError','RESTORE':'restore','COMPLETELY_DELETE':'completelyDelete','COMPLETELY_DELETE_TIPS':'completelyDeleteTips','RESTORE_THIS_VERSION':'restoreThisVersion','CANNOT_MOVE_INSIDE_ITSELF':'cannotMoveInsideItself','EMBED_INTO':'embedInto','MOVE_TO':'moveTo','COLOR':'color','COPY_LINK':'copyLink','COPY_SUFFIX':'copySuffix','RETRY':'retry','LEARN_SYNTAX':'learnSyntax','DRAG_TO_ADJUST_IMAGE_POSITION':'dragToAdjustImagePosition','IMAGE_LOAD_FAILED':'imageLoadFailed','REPLACE':'replace','ADJUST':'adjust','NO_PERMISSION_TO_PERFORM_OPERATION':'noPermissionToPerformOperation','CONTACT_ADMIN_TO_ADD_PERMISSION':'contactAdminToAddPermission','DISABLE_CHANGE_TOP_PAGES_TIPS':'disableChangeTopPagesTips','FLY_MODE_NO_SUPPORT_UPLOAD_FILE':'flyModeNoSupportUploadFile','DELETE_PAGE_CONFIRM':'deletePageConfirm','EMBED':'embed','INLINE':'inline','OPEN_IN_RIGHT_SIDEBAR':'openInRightSidebar','INLINE_PAGE_REFERENCE':'inlinePageReference','EMBED_PAGE_REFERENCE':'embedPageReference','INLINE_BLOCK_REFERENCE':'inlineBlockReference','EMBED_BLOCK_REFERENCE':'embedBlockReference','COPY_PAGE_ID':'copyPageId','COPY_COPY':'copyCopy','REPLACE_ICON':'replaceIcon','SELECT_ICON':'selectIcon','TABLE_VIEW':'tableView','BOARD_VIEW':'boardView','LIST_VIEW':'listView','FORM_VIEW':'formView','UPLOAD_AUDIO':'uploadAudio','ADD_AUDIO':'addAudio','INPUT_LINK_FORMAT_INCORRECT':'inputLinkFormatIncorrect','UPLOAD_FAILED':'uploadFailed','ERROR_CODE':'errorCode','RESOURCE_PLAY_ERROR_TIPS':'resourcePlayErrorTips','FORMULA_ERROR':'formulaError','MATH_FORMULA':'mathFormula','FILE_LOADING_FAILED':'fileLoadingFailed','ADD_URL_BOOKMARK':'addUrlBookmark','BLOCK':'block','UPGRADE_NOW':'upgradeNow','VIDEO_LINK':'videoLink','UPLOAD_VIDEO':'uploadVideo','LOADING_VIDEO':'loadingVideo','MO_DAO':'moDao','XIAO_HUA_ZHUO':'xiaoHuaZhuo','LAN_HU':'lanHu','JIN_SHU_JU':'jinShuJu','SHI_MO':'shiMo','TENCENT_WJ':'tencentWj','NETEASE_MUSIC':'neteaseMusic','EMBED_CONTENT':'embedContent','USE_LOCAL_IMAGE':'useLocalImage','ADD_IMAGE':'addImage','INLINE_FORMULA':'inlineFormula','INVALID_REFERENCE':'invalidReference','ENTER_VIDEO_CAPTION':'enterVideoCaption','ADD_FILE':'addFile','QUOTE':'quote','INSERT_ROW_DOWN':'insertRowDown','INSERT_ROW_UP':'insertRowUP','INSERT_COLUMN_RIGHT':'insertColumnRight','INSERT_COLUMN_LEFT':'insertColumnLeft','MORE_OPERATIONS':'moreOperations','DEFAULT':'defaultConfig','RED':'red','BLUE':'blue','NO_CONTENT':'noContent','CLICK_CREATE_CONTENT':'clickCreateContent','ADD_VIDEO':'addVideo','TITLE':'title','TEXT':'text','NUMBER':'number','SELECT':'select','MULTI_SELECT':'multiSelect','CHECK_BOX':'checkBox','DATE':'date','MEDIA_OR_FILE':'mediaOrFile','URL':'url','PHONE':'phone','FORMULA':'formula','RELATION':'relation','ROLLUP':'rollup','CREATED_TIME':'createdTime','CREATED_BY':'createdBy','LAST_EDITED_TIME':'lastEditedTime','LAST_EDITED_BY':'lastEditedBy','NEWLY_INCREASED':'newlyIncreased','LOAD_MORE_DATA':'loadMoreData','ALL_USER_INPUT':'allUserInput','WORKSPACE_USER_INPUT':'workspaceUserInput','WOLAI_USER_INPUT':'wolaiUserInput','SHARE_FORM':'shareForm','FORM_IS_EXPIRED':'formIsExpired','FORM_EXPIRED_TIME':'formExpiredTime','NULL':'null','ALLOW_UPLOAD_MULTIPLE_FILES':'allowUploadingMultipleFiles','OPEN_IN_PAGE_MODE':'openInPageMode','PERSONAL_PRO_PLAN':'personalProPlan','PERSONAL_FAMILY_PLAN':'personalFamilyPlan','FREE_PLAN':'freePlan','TEMA_FREE_PLAN':'teamFreePlan','TEAM_PRO_PLAN':'teamProPlan','TEAM_STANDARD_PLAN':'teamStandardPlan','TEAM_ENTERPRISE_PLAN':'teamEnterprisePlan','TEAM_TRYOUT_PLAN':'teamTryoutPlan','NO_SEARCH_RESULTS':'noSearchResults','GALLERY':'gallery','GALLERY_VIEW':'galleryView','LIST':'list','COPY_SUCCESS':'copySuccess','OPEN':'open','GO_BACK':'goBack','CONTINUE':'continue','SKIP':'skip','CREDITS':'credits','ME':'me'});},'ILMx':function(j,q,w){'use strict';var x=w('2vnA'),z=w('23mu'),A=w('f9x4'),B=w('9rbq'),C=w('odX6'),D=w('BkRI'),E=w['n'](D),F=w('z7Vv'),G=Object['defineProperty'],H=Object['defineProperties'],J=Object['getOwnPropertyDescriptor'],K=Object['getOwnPropertyDescriptors'],L=Object['getOwnPropertySymbols'],M=Object['prototype']['hasOwnProperty'],N=Object['prototype']['propertyIsEnumerable'],P=(W,X,Y)=>X in W?G(W,X,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Y}):W[X]=Y,Q=(W,X)=>{for(var Y in X||(X={}))M['call'](X,Y)&&P(W,Y,X[Y]);if(L){for(var Y of L(X))N['call'](X,Y)&&P(W,Y,X[Y]);}return W;},R=(W,X)=>H(W,K(X)),T=(W,X)=>{var Y={};for(var Z in W)M['call'](W,Z)&&X['indexOf'](Z)<0x0&&(Y[Z]=W[Z]);if(null!=W&&L){for(var Z of L(W))X['indexOf'](Z)<0x0&&N['call'](W,Z)&&(Y[Z]=W[Z]);}return Y;},U=(W,X,Y,Z)=>{for(var a0,a1=Z>0x1?void 0x0:Z?J(X,Y):X,a2=W['length']-0x1;a2>=0x0;a2--)(a0=W[a2])&&(a1=(Z?a0(X,Y,a1):a0(a1))||a1);return Z&&a1&&G(X,Y,a1),a1;};class V extends z['a']{constructor(W,X){super(W),this['trans']=X;}['createDataTable'](W,X){this['set'](W,B['Jb'],[],X),this['trans']['history']['delete'](W,B['Jb'],[],E()(R(Q({},X),{'status':0x0}))),this['blockStore']['reconcileBlocks'](this['trans']);}['insertProperty'](W,X){var Y=Object(x['toJS'])(this['dataStore']['getDataTable'](W)),Z=Y['properties']['slice']();Z['push'](X),this['update'](W,B['Jb'],['properties'],Z,{'table_id':W,'insert':[X],'update':[],'delete':[],'templates':[]}),this['trans']['history']['update'](W,B['Jb'],['properties'],Y['properties'],{'table_id':W,'insert':[],'update':[],'delete':[X['id']],'templates':[]}),this['blockStore']['reconcileBlocks'](this['trans']);}['deleteProperty'](W,X){var Y=Object(x['toJS'])(this['dataStore']['getDataTable'](W)),Z=Y['properties']['slice'](),a0=Z['findIndex'](a1=>a1['id']===X['id']);a0>-0x1&&Z['splice'](a0,0x1),this['update'](W,B['Jb'],['properties'],Z,{'table_id':W,'insert':[],'update':[],'delete':[X['id']],'templates':[]}),this['trans']['history']['update'](W,B['Jb'],['properties'],Y['properties'],{'table_id':W,'insert':[X],'update':[],'delete':[],'templates':[]}),this['blockStore']['reconcileBlocks'](this['trans']);}['updateProperty'](W,X){var Y=Object(x['toJS'])(this['dataStore']['getDataTable'](W)),Z=Y['properties']['findIndex'](a4=>a4['id']===X['id']),a0=Y['properties']['slice'](),a1=a0['splice'](Z,0x1)[0x0],a2=Object['assign']({},a1,E()(X)),a3=E()(Y['properties']);a0['splice'](Z,0x0,a2),this['update'](W,B['Jb'],['properties'],a0,{'table_id':W,'insert':[],'update':a0,'delete':[],'templates':[]}),this['trans']['history']['update'](W,B['Jb'],['properties'],a3,{'table_id':W,'insert':[],'update':a3,'delete':[],'templates':[]}),this['blockStore']['reconcileBlocks'](this['trans']);}['updateDataTable'](W,X){this['update'](W,B['Jb'],[],X,{'table_id':W,'insert':[],'update':X['properties']||[],'delete':[]});var Y=this['dataStore']['getDataTable'](W);this['trans']['history']['update'](W,B['Jb'],[],E()(Y),{'table_id':W,'insert':[],'update':Y['properties']||[],'delete':[]}),this['blockStore']['reconcileBlocks'](this['trans']);}['createDataView'](W,X){var Y=E()(X['view']);new Set(this['dataStore']['getBlockProperty'](X['block_id'],'tableviews')||[])['add'](W),this['set'](W,B['Lb'],[],R(Q({},Y),{'status':0x1}),{'view_type':Y['type'],'table_id':Y['table_id']}),this['trans']['history']['delete'](W,B['Lb'],[],R(Q({},Y),{'status':0x0}),{'view_type':Y['type'],'table_id':Y['table_id']}),this['blockStore']['reconcileBlocks'](this['trans']);}['updateDataView'](W,X,Y){var Z=Object(x['toJS'])(this['dataStore']['getDataView'](W));this['update'](W,B['Lb'],[],{[X]:E()(Y)},{'view_type':Z['type'],'view_id':W,'table_id':Z['table_id']});var a0=Z[X];this['trans']['history']['update'](W,B['Lb'],[],{[X]:E()(a0)},{'view_id':W,'view_type':Z['type'],'table_id':Z['table_id']}),this['blockStore']['reconcileBlocks'](this['trans']);}['changeDataViewOrder'](W,X){this['update'](W,B['Db'],[],Object(F['f'])({'tableviews':X}));var Y=this['dataStore']['getBlockProperty'](W,'tableviews')||[];this['trans']['history']['update'](W,B['Db'],[],Object(F['f'])({'tableviews':Y})),this['blockStore']['reconcileBlocks'](this['trans']);}['deleteDataView'](W,X){var Y=Object(x['toJS'])(this['dataStore']['getDataView'](W)),Z=new Set(this['dataStore']['getBlockProperty'](X['block_id'],'tableviews')||[]),a0=Array['from'](Z);Z['delete'](W);var a1=Array['from'](Z);this['update'](X['block_id'],B['Db'],[],Object(F['f'])({'tableviews':a1}))['delete'](W,B['Lb'],[],R(Q({},Y),{'status':0x0}),{'view_type':Y['type'],'table_id':Y['table_id']}),this['trans']['history']['set'](W,B['Lb'],[],R(Q({},E()(Y)),{'status':0x1}),{'view_type':Y['type'],'table_id':Y['table_id']})['update'](X['block_id'],B['Db'],[],Object(F['f'])({'tableviews':a0})),this['blockStore']['reconcileBlocks'](this['trans']);}['createDataRow'](W,X){var Y=X,{row:Z,table_id:a0,view_id:a1,isTemplate:a2,view_type:a3}=Y,a4=T(Y,['row','table_id','view_id','isTemplate','view_type']),a5=E()(this['dataStore']['getDataRow'](X['table_id'],W)||{}),a6=Boolean(a2);this['update'](W,B['Kb'],[],R(Q({},E()(Z)),{'status':0x1,'template':a2}),R(Q({'table_id':a0,'view_id':a1,'view_type':a3},a4),{'block_id':W,'isTemplate':a2,'action':a6?A['v']['InsertTemplateRow']:A['v']['InsertRow']})),this['trans']['history']['update'](W,B['Kb'],[],R(Q({},a5),{'status':0x0}),R(Q({'table_id':a0,'view_id':a1,'view_type':a3},a4),{'block_id':W,'isTemplate':a2,'action':a6?A['v']['DeleteTemplateRow']:A['v']['DeleteRow']})),this['blockStore']['reconcileBlocks'](this['trans']);}['updateDataRowCell'](W,X){var Y=X,{property_id:Z,value:a0}=Y,a1=T(Y,['property_id','value']),a2=this['dataStore']['getDataRow'](X['table_id'],W),a3=a0?E()(a0):a0;this['update'](W,B['Kb'],['properties',Z],a3,R(Q({},a1),{'value':a3||[[]],'property_id':Z,'block_id':W,'action':A['v']['UpdateCell']}));var a4=E()(a2['properties'][X['property_id']]);this['trans']['history']['update'](W,B['Kb'],['properties',Z],a4,R(Q({},a1),{'value':a4||[[]],'property_id':Z,'block_id':W,'action':A['v']['UpdateCell']})),this['blockStore']['reconcileBlocks'](this['trans']);}['deleteDataRow'](W,X){this['update'](W,B['Kb'],[],{'status':0x0},R(Q({},X),{'block_id':W,'action':A['v']['DeleteRow']}));var Y=this['dataStore']['getDataView'](X['view_id']),Z=this['databaseViewStore']['getDataView'](Y['block_id'])['page_sort']||[],a0=Z['findIndex'](a3=>a3===W),a1=Z[a0-0x1]||'',a2=Z[a0+0x1]||'';this['trans']['history']['update'](W,B['Kb'],[],{'status':0x1},R(Q({},X),{'prev_block_id':a1,'next_block_id':a2,'block_id':W,'action':A['v']['UpdateRow']})),this['blockStore']['reconcileBlocks'](this['trans']);}}U([C['b']],V['prototype'],'blockStore',0x2),U([C['b']],V['prototype'],'dataStore',0x2),U([C['b']],V['prototype'],'databaseViewStore',0x2),q['a']=V;},'IhYf':function(j,k,q){'use strict';q['d'](k,'g',function(){return C;}),q['d'](k,'a',function(){return D;}),q['d'](k,'h',function(){return E;}),q['d'](k,'f',function(){return F;}),q['d'](k,'d',function(){return G;}),q['d'](k,'e',function(){return H;}),q['d'](k,'c',function(){return I;}),q['d'](k,'b',function(){return J;});var v=q('odX6'),w=q('Rqgu'),x=Object['defineProperty'],y=Object['getOwnPropertySymbols'],z=Object['prototype']['hasOwnProperty'],A=Object['prototype']['propertyIsEnumerable'],B=(K,L,M)=>L in K?x(K,L,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':M}):K[L]=M,C=(K,L)=>!L&&K&&!['webp','gif','svg']['includes'](K['split']('.')['pop']()['toLowerCase']()),D=(K,L,M,N,O,P)=>{return Q=void 0x0,R=null,S=function*(){var T=new FormData();if(T['append']('filename',K),L&&T['append']('bucket',L),M&&(T['append']('width',''['concat'](M*Math['max'](Math['round'](window['devicePixelRatio']),0x2))),N&&T['append']('originalWidth',N)),O){var U=Object(v['b'])('dataStore');T['append']('blockId',U['getSourceId'](O));}return yield w['a']['getSignedDisplayUrl'](T,P);},new Promise((T,U)=>{var V=Y=>{try{X(S['next'](Y));}catch(Z){U(Z);}},W=Y=>{try{X(S['throw'](Y));}catch(Z){U(Z);}},X=Y=>Y['done']?T(Y['value']):Promise['resolve'](Y['value'])['then'](V,W);X((S=S['apply'](Q,R))['next']());});var Q,R,S;},E=function(K){var L=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0;return{'scaledW':K/window['devicePixelRatio'],'scaledH':L/window['devicePixelRatio']};},F=(K,L)=>K&&L?(K/L)['toFixed'](0x4):'1',G=K=>new Promise((L,M)=>{var N=new Image();N['onload']=O=>{var P=O['target']['naturalWidth']||O['target']['width'],Q=O['target']['naturalHeight']||O['target']['height'];L({'width':P,'height':Q});},N['onerror']=M,N['src']=K;})['then'](null,L=>new Promise((M,N)=>{var O=new Image();O['onload']=P=>{var Q=P['target']['naturalWidth']||P['target']['width'],R=P['target']['naturalHeight']||P['target']['height'];M({'width':Q,'height':R});},O['onerror']=N,O['src']=decodeURI(K);})),H=K=>new Promise((L,M)=>{var N=document['createElement']('video');N['onloadedmetadata']=O=>{var P=O['target']['videoWidth']||O['target']['width'],Q=O['target']['videoHeight']||O['target']['height'];document['body']['removeChild'](N),L({'width':P,'height':Q});},N['onerror']=O=>{document['body']['removeChild'](N),M(O);},N['src']=K,document['body']['appendChild'](N);}),I=K=>new Promise((L,M)=>{var N=document['createElement']('audio');N['onloadedmetadata']=O=>{document['body']['removeChild'](N),L(0x1);},N['onerror']=O=>{document['body']['removeChild'](N),M(O);},N['src']=K,document['body']['appendChild'](N);}),J=(K,L,M)=>{for(var N,O=[L],P=L+0x14;P<K;)O['push'](P),P+=0x14;return O['push'](Math['min'](P,K)),M&&(N=O['map'](Q=>Q/M)),((Q,R)=>{for(var S in R||(R={}))z['call'](R,S)&&B(Q,S,R[S]);if(y){for(var S of y(R))A['call'](R,S)&&B(Q,S,R[S]);}return Q;})({'x':O},N?{'y':N}:{});};},'IwaB':function(j,q,x){'use strict';var z=x('Y+p1'),A=x['n'](z),B=x('zqxM'),C=x['n'](B),D=x('mwIZ'),F=x['n'](D),G=x('23mu'),H=x('9rbq'),J=x('Mucf'),K=x('odX6'),L=x('z7Vv'),M=x('uMVv'),N=x('YfBr'),P=x('KOQ7'),Q=x('WRmh'),R=Object['defineProperty'],T=Object['getOwnPropertyDescriptor'],U=Object['getOwnPropertySymbols'],V=Object['prototype']['hasOwnProperty'],W=Object['prototype']['propertyIsEnumerable'],X=(a1,a2,a3)=>a2 in a1?R(a1,a2,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a3}):a1[a2]=a3,Y=(a1,a2)=>{for(var a3 in a2||(a2={}))V['call'](a2,a3)&&X(a1,a3,a2[a3]);if(U){for(var a3 of U(a2))W['call'](a2,a3)&&X(a1,a3,a2[a3]);}return a1;},Z=(a1,a2,a3,a4)=>{for(var a5,a6=a4>0x1?void 0x0:a4?T(a2,a3):a2,a7=a1['length']-0x1;a7>=0x0;a7--)(a5=a1[a7])&&(a6=(a4?a5(a2,a3,a6):a5(a6))||a6);return a4&&a6&&R(a2,a3,a6),a6;};class a0 extends G['a']{constructor(a1,a2){var a3;super(a1),a3=this,this['isAllLocked']=a4=>{if(this['trans']['options']['ignoreLock'])return!0x1;var a5=this['dataStore']['getBlock'](a4);if(a5){if([H['y']['PAGE'],H['y']['DATABASE']]['includes'](F()(a5,'value.type'))){if(F()(a5,'value.setting.block_locked')||'read'===a5['role']||'disabled'===a5['role'])return!0x0;}else{if(F()(a5,'value.page_id'))return this['isBlockLocked'](a4);}}},this['isBlockLocked']=a4=>{if(this['trans']['options']['ignoreLock'])return!0x1;var a5=this['dataStore']['getBlock'](a4);if(a5&&F()(a5,'value.type')!==H['y']['PAGE']&&F()(a5,'value.page_id')===this['blockStore']['pageId']){var a6=this['dataStore']['getBlock'](a5['value']['page_id']);if(a6&&(F()(a6,'value.setting.block_locked')||[Q['d']['Readable'],Q['d']['Disabled'],Q['d']['Commentable'],Q['d']['Public']]['includes'](a6['role'])))return!0x0;}},this['createCommonBlock']=function(){var a4=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:H['y']['TEXT'],a5=arguments['length']>0x1?arguments[0x1]:void 0x0,a6=arguments['length']>0x2?arguments[0x2]:void 0x0,a7=arguments['length']>0x3?arguments[0x3]:void 0x0,a8=arguments['length']>0x4?arguments[0x4]:void 0x0,a9=arguments['length']>0x5?arguments[0x5]:void 0x0;a3['createBlock']({'blockId':a6,'parentId':a7,'prevBlockId':a8,'type':a9,'blockType':a4,'parentType':a5});},this['trans']=a2;}['removeBlockEmbed'](a1,a2,a3){return this['update'](a1,H['Db'],['attributes'],a3),this['update'](a1,H['Db'],[],{'sub_nodes':'[]','type':H['y']['TEXT']}),this['update'](a1,H['Db'],[],{'source_id':''}),this['update'](a2,H['gc'],[],{'active':!0x1}),this['blockStore']['reconcileBlocks'](this['trans']),this;}['setBlockFormat'](a1,a2){return this['isBlockLocked'](a1)||(a1=this['dataStore']['getSourceId'](a1),this['update'](a1,H['Db'],['setting'],a2),this['trans']['history']['update'](a1,H['Db'],['setting'],this['getBlockUndoData'](a1,'setting',Object['keys'](a2))),this['blockStore']['reconcileBlocks'](this['trans'])),this;}['setBlockContent'](a1,a2){if(this['isAllLocked'](a1))return this;var a3=this['dataStore']['getSourceId'](a1),a4=this['blockAPI']['getContentAttributes'](a2);return a4['title']&&(a4['title']=this['blockAPI']['filterTitle'](a4['title']),this['updatePageReference'](a3,a4['title']),this['updateBlockDiscussIds'](a3,a4['title']),this['updateBlockMentionDate'](a3,a4['title']),this['updateBlockNote'](a1,a4['title'])),this['update'](a3,H['Db'],['attributes'],a4),this['trans']['history']['update'](a3,H['Db'],['attributes'],this['getBlockUndoData'](a3,'attributes',Object['keys'](a4))),this['blockStore']['reconcileBlocks'](this['trans']),this;}['setBlockComment'](a1,a2){if(this['isAllLocked'](a1))return this;a1=this['dataStore']['getSourceId'](a1);var a3=this['blockAPI']['getContentAttributes'](a2);return a3['title']&&(a3['title']=this['blockAPI']['filterTitle'](a3['title']),this['updateBlockDiscussIds'](a1,a3['title'])),this['updateComment'](a1,H['Db'],['attributes'],a3),this['blockStore']['reconcileBlocks'](this['trans']),this;}['setBlockType'](a1,a2){var a3;if(this['isBlockLocked'](a1))return this;if(a1=this['dataStore']['getSourceId'](a1),a2===H['y']['DATABASE']){var a4=this['dataStore']['getBlockValue'](a1);if(a4['id']&&(null==(a3=a4['sub_nodes'])?void 0x0:a3['length'])>0x0)return;}[H['y']['TODO_LIST'],H['y']['TODO_LIST_PRO'],H['y']['TOGGLE_TODO_LIST'],H['y']['TOGGLE_TODO_LIST_PRO']]['includes'](a2)&&('yes'!==this['blockAPI']['getNodeProperty'](a1,'checked')&&(this['update'](a1,H['Db'],['attributes'],{'checked':'no'}),this['trans']['history']['update'](a1,H['Db'],['attributes'],this['getBlockUndoData'](a1,'attributes',['checked']))));if(a2===H['y']['PROGRESS_BAR']){var a5=M['a'](H['ec'])||{},{color:a6,background:a7}=a5,a8={};a6&&(a8['color']=a6),a7&&(a8['background']=a7),this['update'](a1,H['Db'],['setting'],a8),this['trans']['history']['update'](a1,H['Db'],['setting'],this['getBlockUndoData'](a1,'setting',Object['keys'](a8)));}else{if(a2===H['y']['TEMPLATE_BUTTON']){var a9=M['a'](H['rc']);if(a9){var aa={};a9&&(aa['template_button_color']=a9),this['update'](a1,H['Db'],['setting'],aa),this['trans']['history']['update'](a1,H['Db'],['setting'],this['getBlockUndoData'](a1,'setting',Object['keys'](aa)));}}}if(a2===H['y']['CALLOUT']){var ab=M['a'](H['Yb']),ac=M['a'](H['Xb'])||{},ad={'color':'inherit','background':'Cultured\x20background'},ae={'color':ac['color']||ad['color'],'background':ac['background']||ad['background'],'page_icon':ab||['emoji','📌']};this['update'](a1,H['Db'],['setting'],ae),this['trans']['history']['update'](a1,H['Db'],['setting'],this['getBlockUndoData'](a1,'setting',Object['keys'](ae)));}var af={'type':a2};return[H['y']['PAGE'],H['y']['DATABASE']]['includes'](a2)&&(af['status']=H['w']['ACTIVE']),this['update'](a1,H['Db'],[],af),this['trans']['history']['update'](a1,H['Db'],[],this['getBlockUndoData'](a1,'',['type'])),this['blockStore']['reconcileBlocks'](this['trans']),this;}['setBlockText'](a1,a2){return this['isAllLocked'](a1)?this:this['setBlockContent'](a1,{'title':a2});}['createBlock'](a1){var {blockId:a2,parentId:a3,prevBlockId:a4,type:a5,blockType:a6,parentType:a7}=a1,a8=a3['split']('-')['length']>0x1?this['dataStore']['getBlockProperty'](a3['split']('-')[0x1],'page_id'):[H['y']['PAGE'],H['y']['DATABASE']]['includes'](this['dataStore']['getBlockProperty'](a3,'type'))?a3:this['dataStore']['getBlockProperty'](a3,'page_id');a2=this['dataStore']['getSourceId'](a2),a3=this['dataStore']['getSourceId'](a3),a4=this['dataStore']['getSourceId'](a4,!0x1);var a9=this['dataStore']['getBlockValue'](a8);if(a6!==H['y']['PAGE']&&!0x0===F()(a9,'setting.block_locked')&&!this['trans']['options']['ignoreLock'])return this;var aa={};if(a4){var ab=this['dataStore']['getBlockValue'](a4);if([H['y']['ENUM_LIST'],H['y']['BULLET_LIST'],H['y']['TODO_LIST'],H['y']['TODO_LIST_PRO'],H['y']['TOGGLE_TODO_LIST'],H['y']['TOGGLE_TODO_LIST_PRO'],H['y']['TOGGLE_LIST']]['includes'](ab['type'])){var {color:ac,background:ad}=ab['setting'];ac&&(aa['color']=ac),ad&&(aa['background']=ad);}}var ae=[H['y']['PAGE'],H['y']['DATABASE']]['includes'](this['dataStore']['getBlockProperty'](a3,'type'))?a3:this['dataStore']['getBlockProperty'](a3,'page_id'),af={'type':a6,'id':a2,'workspace_id':this['dataStore']['getBlockProperty'](a3,'workspace_id'),'parent_id':a3,'parent_type':a7,'active':!0x0,'created_by':this['userStore']['userId'],'created_time':new Date()['getTime']()};if([H['y']['PAGE'],H['y']['DATABASE']]['includes'](a6)&&(af['status']=H['w']['ACTIVE']),this['set'](a2,H['Db'],[],af)['update'](a2,H['Db'],[],Object(L['f'])({'sub_nodes':[],'setting':aa,'page_id':ae})),this['dataStore']['getBlockProperty'](a3,'type')!==H['y']['DATABASE']){if('after'===a5){var ag=a4?{'after':a4,'id':a2}:{'id':a2};this['listAfter'](a3,H['Db'],['sub_nodes'],ag),this['trans']['history']['listRemove'](a3,H['Db'],['sub_nodes'],{'id':a2});}else{if('before'===a5){var ah=a4?{'before':a4,'id':a2}:{'id':a2};this['listBefore'](a3,H['Db'],['sub_nodes'],ah),this['trans']['history']['listRemove'](a3,H['Db'],['sub_nodes'],{'id':a2});}}}return this['trans']['history']['update'](a2,H['Db'],[],{'active':!0x1}),this['blockStore']['reconcileBlocks'](this['trans']),this;}['deleteDatabaseRowBlock'](a1){return this['isBlockLocked'](a1)||(a1=this['dataStore']['getSourceId'](a1,!0x1),this['update'](a1,H['Db'],[],{'active':!0x1}),this['trans']['history']['update'](a1,H['Db'],[],{'active':!0x0}),this['blockAPI']['getNodeTitle'](a1)['forEach'](a2=>{var a3=a2[0x1]&&a2[0x1]['find'](a4=>'BiLink'===a4[0x0]);a3&&this['biLinkStore']['changeReferredCount'](a3[0x2],-0x1);}),this['blockStore']['reconcileBlocks'](this['trans'])),this;}['deleteBlock'](a1,a2){if(this['isBlockLocked'](a1))return this;a1=this['dataStore']['getSourceId'](a1,!0x1),a2=this['dataStore']['getSourceId'](a2),this['update'](a1,H['Db'],[],{'active':!0x1})['listRemove'](a2,H['Db'],['sub_nodes'],{'id':a1});var a3=this['dataStore']['getBlockValue'](a2),a4=a3&&a3['sub_nodes']['indexOf'](a1);return a4>=0x0&&(0x0===a4?this['trans']['history']['listBefore'](a2,H['Db'],['sub_nodes'],{'id':a1}):this['trans']['history']['listAfter'](a2,H['Db'],['sub_nodes'],{'after':a3['sub_nodes'][a4-0x1],'id':a1}),this['trans']['history']['update'](a1,H['Db'],[],{'active':!0x0})),this['blockAPI']['getNodeTitle'](a1)['forEach'](a5=>{var a6=a5[0x1]&&a5[0x1]['find'](a7=>'BiLink'===a7[0x0]);a6&&this['biLinkStore']['changeReferredCount'](a6[0x2],-0x1);}),this['blockStore']['reconcileBlocks'](this['trans']),this;}['updateTableBlock'](a1,a2,a3){if(this['isBlockLocked'](a1))return this;a1=this['dataStore']['getSourceId'](a1),a3['cellIds']&&a3['cellIds']['length']&&a2['forEach'](a7=>{var a8=a7['column']['find'](a9=>a3['cellIds']['includes'](a9['id']));a8&&this['updatePageReference'](a1,a8['attributes']['title'],a8['id']);}),this['updateTable'](a1,H['Db'],['attributes'],{'cells':JSON['stringify'](a2)},a3);var a4={},{type:a5}=a3;[J['i']['UPDATE'],J['i']['UPDATE_FLEX'],J['i']['UPDATE_SETTING']]['includes'](a5)?a4=a3:[J['i']['INSERT_COLUMN'],J['i']['INSERT_ROW']]['includes'](a5)?a4={'type':J['i']['DELETE'],'cellIds':a3['cellIds']}:[J['i']['SWAP_ROW'],J['i']['SWAP_COLUMN']]['includes'](a5)&&(a4={'type':a5,'pos':a3['startPos'],'cellIds':a3['cellIds']});var a6=this['getBlockUndoData'](a1,'attributes',['cells']);return this['trans']['history']['updateTable'](a1,H['Db'],['attributes'],{'cells':'string'==typeof a6['cells']?a6['cells']:JSON['stringify'](a6['cells'])},a4),this['blockStore']['reconcileBlocks'](this['trans']),this;}['updateBlock'](a1,a2){var a3=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:[],a4=arguments['length']>0x3?arguments[0x3]:void 0x0;if(this['isBlockLocked'](a1))return this;if(this['dataStore']['getSourceId'](a1)!==a1&&void 0x0!==a2['page_id']){if(this['dataStore']['getBlockValue'](a1)['source_id']&&!a1['startsWith']('ref-')){var a5=a2['page_id'];this['updateOriginBlock'](a1,{'page_id':a5},a3,a4);}delete a2['page_id'];}Object['keys'](a2)['length']&&(a1=this['dataStore']['getSourceId'](a1),this['updateOriginBlock'](a1,a2,a3,a4));}['updateOriginBlock'](a1,a2){var a3=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:[],a4=(arguments['length']>0x3?arguments[0x3]:void 0x0)||'update';return a2['attributes']&&this['updatePageReference'](a1,a2['attributes']['title']||[['']]),this[a4](a1,H['Db'],a3,a3['length']?Y({},a2):Y({},Object(L['f'])(a2))),'update'===a4&&this['trans']['history']['update'](a1,H['Db'],a3,this['getBlockUndoData'](a1,a3['join']('.'),Object['keys'](a2))),this['blockStore']['reconcileBlocks'](this['trans']),this;}['updateBlockDiscussIds'](a1,a2){this['discussPopperStore']['changeDiscussCount'](a1,a2);}['updateBlockMentionDate'](a1,a2){var a3=this['blockAPI']['getNodeTitle'](a1),a4=[],a5=[],a6=!0x1;if(a3['forEach'](a8=>{var a9=a8[0x1]&&a8[0x1]['find'](aa=>'Mention'===aa[0x0]&&'date'===aa[0x1]);a9&&a4['push'](a9[0x2]);}),a2['forEach'](a8=>{var a9=a8[0x1]&&a8[0x1]['find'](aa=>'Mention'===aa[0x0]&&'date'===aa[0x1]);a9&&a5['push'](a9[0x2]);}),a4['length']!==a5['length'])a6=!0x0;else{var a7=!0x1;a4['forEach']((a8,a9)=>{if(!a7){var aa=a5[a9];A()(a8,aa)||(a7=!0x0);}}),a7&&(a6=!0x0);}a6&&setTimeout(()=>{Object(P['a'])({'blockId':a1,'blockTitle':a2});},0xbb8);}['updateBlockNote'](a1,a2){this['notePopperStore']['compareHasChange'](a2,a1)&&this['editorStore']['addMissionExecuteAfterRender'](()=>{this['editorStore']['invokeObserver'](),this['editorStore']['moveCursorAfterRender']({'id':a1,'cellId':this['editorUI']['cursorPos']['cellId'],'isCodeCaption':this['editorUI']['cursorPos']['isCodeCaption'],'position':this['editorUI']['cursorPos']['pos']});});}['updatePageReference'](a1,a2,a3){return a4=this,a5=null,a6=function*(){var a7,a8=this;a7=a3?this['blockAPI']['getCellNodeTitle'](a1,a3):this['blockAPI']['getNodeTitle'](a1);var a9=[],aa=[],ab=[];a7['forEach'](ag=>{var ah=ag[0x1]&&ag[0x1]['find'](ai=>'BiLink'===ai[0x0]);ah&&(a9['push'](ah),aa['includes'](ah[0x2])||aa['push'](ah[0x2]));});for(var ac=function*(ag){var ah=a2[ag],ai=ah[0x1]&&ah[0x1]['find'](ak=>'BiLink'===ak[0x0]);if(ai){var aj=a9['findIndex'](ak=>ak[0x1]===ai[0x1]);aj>=0x0?a9['splice'](aj,0x1):(a8['update'](ai[0x1],H['gc'],[],{'active':!0x0}),a8['trans']['history']['update'](ai[0x1],H['gc'],[],{'active':!0x1}),H['gb']&&(yield N['a']['updateReference'](ai[0x1],{'workspace_id':a8['dataStore']['getBlockProperty'](a1,'workspace_id'),'active':!0x0}))),ab['includes'](ai[0x2])||ab['push'](ai[0x2]);}},ad=0x0;ad<a2['length'];ad++)yield*ac(ad);for(var ae=0x0;ae<a9['length'];ae++){var af=a9[ae];this['update'](af[0x1],H['gc'],[],{'active':!0x1}),this['trans']['history']['update'](af[0x1],H['gc'],[],{'active':!0x0}),H['gb']&&(yield N['a']['updateReference'](af[0x1],{'workspace_id':this['dataStore']['getBlockProperty'](a1,'workspace_id'),'active':!0x1}));}C()(aa,ab)['forEach'](ag=>{this['biLinkStore']['changeReferredCount'](ag,-0x1);}),C()(ab,aa)['forEach'](ag=>{this['biLinkStore']['changeReferredCount'](ag,0x1);});},new Promise((a7,a8)=>{var a9=ac=>{try{ab(a6['next'](ac));}catch(ad){a8(ad);}},aa=ac=>{try{ab(a6['throw'](ac));}catch(ad){a8(ad);}},ab=ac=>ac['done']?a7(ac['value']):Promise['resolve'](ac['value'])['then'](a9,aa);ab((a6=a6['apply'](a4,a5))['next']());});var a4,a5,a6;}['insertBlock'](a1,a2,a3){if(this['isBlockLocked'](a1))return this;var {type:a4,newParentType:a5}=a3,{siblingId:a6,newParentId:a7}=a3;a1=this['dataStore']['getSourceId'](a1,!0x1),a7=this['dataStore']['getSourceId'](a7),a6=this['dataStore']['getSourceId'](a6,!0x1);var a8={'parent_id':a7,'parent_type':a5,'active':!0x0},a9=this['dataStore']['getBlockProperty'](a1,'page_id'),aa=this['dataStore']['getBlockValue'](a7),ab=[H['y']['PAGE'],H['y']['DATABASE']]['includes'](aa['type'])?aa['id']:aa['page_id'];if(a9!==ab&&(a8['page_id']=ab),this['update'](a1,H['Db'],[],a8),'after'===a4){var ac=a6?{'after':a6,'id':a1}:{'id':a1};this['listAfter'](a7,H['Db'],['sub_nodes'],ac),this['trans']['history']['listRemove'](a7,H['Db'],['sub_nodes'],{'id':a1});}else{if('before'===a4){var ad=a6?{'before':a6,'id':a1}:{'id':a1};this['listBefore'](a7,H['Db'],['sub_nodes'],ad),this['trans']['history']['listRemove'](a7,H['Db'],['sub_nodes'],{'id':a1});}}return this['trans']['history']['update'](a1,H['Db'],[],this['getBlockUndoData'](a1,'',Object['keys'](a8))),this['blockStore']['reconcileBlocks'](this['trans']),this;}}Z([K['b']],a0['prototype'],'blockStore',0x2),Z([K['b']],a0['prototype'],'dataStore',0x2),Z([K['b']],a0['prototype'],'blockAPI',0x2),Z([K['b']],a0['prototype'],'biLinkStore',0x2),Z([K['b']],a0['prototype'],'discussPopperStore',0x2),Z([K['b']],a0['prototype'],'userStore',0x2),Z([K['b']],a0['prototype'],'editorStore',0x2),Z([K['b']],a0['prototype'],'editorUI',0x2),Z([K['b']],a0['prototype'],'notePopperStore',0x2),q['a']=a0;},'Iy5H':function(j,q,w){'use strict';w['d'](q,'f',function(){return B;}),w['d'](q,'o',function(){return C;}),w['d'](q,'p',function(){return D;}),w['d'](q,'g',function(){return E;}),w['d'](q,'h',function(){return F;}),w['d'](q,'b',function(){return G;}),w['d'](q,'q',function(){return H;}),w['d'](q,'d',function(){return J;}),w['d'](q,'r',function(){return K;}),w['d'](q,'c',function(){return L;}),w['d'](q,'n',function(){return M;}),w['d'](q,'s',function(){return N;}),w['d'](q,'e',function(){return P;}),w['d'](q,'j',function(){return Q;}),w['d'](q,'a',function(){return R;}),w['d'](q,'i',function(){return T;}),w['d'](q,'k',function(){return U;}),w['d'](q,'l',function(){return V;}),w['d'](q,'m',function(){return W;});var x=w('hpLR'),z=w('5D19'),A=(X,Y,Z)=>new Promise((a0,a1)=>{var a2=a5=>{try{a4(Z['next'](a5));}catch(a6){a1(a6);}},a3=a5=>{try{a4(Z['throw'](a5));}catch(a6){a1(a6);}},a4=a5=>a5['done']?a0(a5['value']):Promise['resolve'](a5['value'])['then'](a2,a3);a4((Z=Z['apply'](X,Y))['next']());}),B=(X,Y)=>{var Z=encodeURIComponent(JSON['stringify'](Y));return'https://meeting.tencent.com/marketplace/authorize.html?corp_id='['concat'](0xcc09b5a,'&sdk_id=')['concat'](0x4786b390e,'&redirect_uri=')['concat'](X,'&state=')['concat'](Z);},C=X=>{var Y=((a1,a2,a3,a4)=>{var a5=window['outerHeight']/0x2+window['screenY']-a4/0x2,a6=window['outerWidth']/0x2+window['screenX']-a3/0x2;return window['open'](a1,a2,'toolbar=no,\x20location=no,\x20directories=no,\x20status=no,\x20menubar=no,\x20scrollbars=no,\x20resizable=no,\x20copyhistory=no,\x20width='['concat'](a3,',\x20height=')['concat'](a4,',\x20top=')['concat'](a5,',\x20left=')['concat'](a6));})(B(''['concat']('https://api.wolai.com','/v1/wemeet/auth'),{'uuid':X}),'targetWindow',0x35c,0x2d0),Z=()=>{},a0=setInterval(()=>{(null==Y?void 0x0:Y['closed'])&&(clearInterval(a0),Z());},0x3e8);return{'close':()=>null==Y?void 0x0:Y['close'](),'onClose':a1=>Z=a1};},D=(X,Y)=>A(void 0x0,null,function*(){var Z=Object(z['p'])('wemeet/auth',{'returnType':'json','code':X,'state':encodeURIComponent(JSON['stringify']({'uuid':Y}))});return yield Object(z['i'])(Z);}),E=X=>A(void 0x0,null,function*(){try{return yield Object(z['i'])(Object(z['p'])('wemeet/qrconnect',{'uuid':X}),z['h']);}catch(Y){return void console['error']('getAuthResult\x20error:\x20',Y);}}),F=function(X){for(var Y=arguments['length'],Z=new Array(Y>0x1?Y-0x1:0x0),a0=0x1;a0<Y;a0++)Z[a0-0x1]=arguments[a0];return A(void 0x0,[X,...Z],function*(a1){var a2=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:window['location']['href'];try{var a3=yield Object(z['i'])(Object(z['p'])('wemeet/js-config',{'openId':a1,'url':a2}),z['h']);return a3;}catch(a4){return void console['error']('getJSConfig:\x20',a4);}});},G=X=>A(void 0x0,null,function*(){try{return yield Object(z['o'])(Object(z['p'])('wemeet/bind'),{'uuid':X},z['h']);}catch(Y){return void console['error']('bindWeMeetAccount\x20error:\x20',Y);}}),H=()=>A(void 0x0,null,function*(){try{return yield Object(z['j'])(Object(z['p'])('wemeet/bind'),z['h']);}catch(X){return void console['error']('unbindWeMeetAccount\x20error:\x20',X);}}),J=X=>A(void 0x0,null,function*(){var Y,Z,a0,a1,a2,a3,a4,a5,a6;try{return(yield Object(z['d'])(Object(z['p'])('wemeet/meetings'),{'subject':X['subject'],'hosts':X['hosts'],'invitees':X['invitees'],'start_time':X['startTime'],'end_time':X['endTime'],'password':X['password'],'settings':{'allow_in_before_host':null==(Y=X['allowInBeforeHost'])||Y,'auto_in_waiting_room':null!=(Z=X['autoInWaitingRoom'])&&Z,'allow_screen_shared_watermark':null!=(a0=X['allowScreenSharedWatermark'])&&a0,'water_mark_type':0x1},'block_id':X['blockId'],'meeting_page':X['meetingPage']},z['h']))['data'];}catch(ab){var a7=null==(a2=null==(a1=ab['response'])?void 0x0:a1['data'])?void 0x0:a2['ErrorMessage'];if(a7){var a8,a9;try{var aa=JSON['parse'](a7);a8=aa['error_info']['error_code'],a9=aa['error_info']['message'];}catch(ac){a8=null==(a4=null==(a3=ab['response'])?void 0x0:a3['data'])?void 0x0:a4['ErrorCode'],a9=null==(a6=null==(a5=ab['response'])?void 0x0:a5['data'])?void 0x0:a6['ErrorMessage'];}return{'code':a8,'message':a9,'data':null};}return;}}),K=X=>A(void 0x0,null,function*(){var Y,Z,a0,a1,a2,a3,a4,a5,a6;try{return(yield Object(z['c'])(Object(z['p'])('wemeet/meetings'),{'meeting_id':X['meetingId'],'subject':X['subject'],'hosts':X['hosts'],'invitees':X['invitees'],'start_time':X['startTime'],'end_time':X['endTime'],'password':X['password'],'settings':{'allow_in_before_host':null==(Y=X['allowInBeforeHost'])||Y,'auto_in_waiting_room':null!=(Z=X['autoInWaitingRoom'])&&Z,'allow_screen_shared_watermark':null!=(a0=X['allowScreenSharedWatermark'])&&a0,'water_mark_type':0x1},'block_id':X['blockId'],'meeting_page':X['meetingPage']},z['h']))['data'];}catch(ab){var a7=null==(a2=null==(a1=ab['response'])?void 0x0:a1['data'])?void 0x0:a2['ErrorMessage'];if(a7){var a8,a9;try{var aa=JSON['parse'](a7);a8=aa['error_info']['error_code'],a9=aa['error_info']['message'];}catch(ac){a8=null==(a4=null==(a3=ab['response'])?void 0x0:a3['data'])?void 0x0:a4['ErrorCode'],a9=null==(a6=null==(a5=ab['response'])?void 0x0:a5['data'])?void 0x0:a6['ErrorMessage'];}return{'code':a8,'message':a9,'data':null};}return;}}),L=X=>A(void 0x0,null,function*(){var Y,Z,a0,a1,a2,a3;try{return(yield Object(z['a'])(Object(z['p'])('wemeet/meetings',{'meeting_id':X}),z['h']))['data'];}catch(a8){var a4=null==(Z=null==(Y=a8['response'])?void 0x0:Y['data'])?void 0x0:Z['ErrorMessage'];if(a4){var a5,a6;try{var a7=JSON['parse'](a4);a5=a7['error_info']['error_code'],a6=a7['error_info']['message'];}catch(a9){a5=null==(a1=null==(a0=a8['response'])?void 0x0:a0['data'])?void 0x0:a1['ErrorCode'],a6=null==(a3=null==(a2=a8['response'])?void 0x0:a2['data'])?void 0x0:a3['ErrorMessage'];}return{'code':a5,'message':a6,'data':null};}return;}}),M=function(X,Y){var Z=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2];return A(void 0x0,null,function*(){try{return yield Object(z['n'])(Object(z['p'])('wemeet/login'),{'uuid':X,'nickname':Y,'forceCreate':Z},z['h']);}catch(a0){return void console['error']('loginByWeMeet\x20error:\x20',a0);}});},N=()=>Object(x['a'])(()=>window['wemeet'],{'timeout':0x1388,'interval':0x64}),P=()=>A(void 0x0,null,function*(){try{var {authCode:X}=yield window['wemeet']['permission']['requestAgentAuthCode']({'sdkId':String(0x4786b390e)});if(!X)throw new Error('authCode\x20is\x20empty');return X;}catch(Y){return console['error']('wemeet.permission.requestAgentAuthCode\x20failed:\x20',Y),!0x1;}}),Q=X=>A(void 0x0,null,function*(){try{return yield Object(z['i'])(Object(z['p'])('wemeet/meeting-meta',{'meetingId':X}),z['h']);}catch(Y){return void console['error']('getMeetingMeta\x20error:\x20',Y);}}),R=X=>A(void 0x0,null,function*(){try{yield window['wemeet']['permission']['agentConfig'](X);var Y=yield window['wemeet']['permission']['checkJsApiConfig']();return Boolean(Y);}catch(Z){return console['error']('applyJSConfig\x20error:\x20',Z),!0x1;}}),T=()=>{try{return window['wemeet']['meeting']['getCurrMeetingInfo']();}catch(X){return void console['error']('getMeetingInfoInWeMeetApp\x20error:\x20',X);}},U=()=>window['wemeet']['meeting']['getUserInfo'](),V=X=>A(void 0x0,null,function*(){try{return yield Object(z['o'])(Object(z['p'])('wemeet/invitee',{'meetingId':X}),{},z['h']);}catch(Y){return void console['error']('joinMeeting\x20error:\x20',Y);}}),W=X=>A(void 0x0,null,function*(){try{return yield Object(z['j'])(Object(z['p'])('wemeet/invitee',{'meetingId':X}),z['h']);}catch(Y){return void console['error']('leaveMeeting\x20error:\x20',Y);}});},'J+jj':function(b,f,g){'use strict';g['d'](f,'a',function(){return q;});var h=g('odX6'),j=g('2vnA'),k=Object['defineProperty'],l=Object['getOwnPropertyDescriptor'],m=(u,v,w,x)=>{for(var y,z=x>0x1?void 0x0:x?l(v,w):v,A=u['length']-0x1;A>=0x0;A--)(y=u[A])&&(z=(x?y(v,w,z):y(z))||z);return x&&z&&k(v,w,z),z;},p=(u,v,w)=>new Promise((x,y)=>{var z=C=>{try{B(w['next'](C));}catch(D){y(D);}},A=C=>{try{B(w['throw'](C));}catch(D){y(D);}},B=C=>C['done']?x(C['value']):Promise['resolve'](C['value'])['then'](z,A);B((w=w['apply'](u,v))['next']());});class q{get['canEditComment'](){return this['createBy']===this['userStore']['userId'];}get['canCreateComment'](){return this['blockDiscussStore']['canCreateComment'];}get['canRemoveComment'](){return this['createBy']===this['userStore']['userId']||this['blockDiscussStore']['canRemoveComment'];}constructor(u,v){var w,x,y;this['blockDiscussStore']=u;var z=this['memberStore']['currentWorkspaceMembers']['get'](v['createBy']);this['blockId']=v['blockId'],this['discussId']=v['discussId'],this['commentId']=v['commentId'],this['createBy']=v['createBy'],this['createUserAvatar']=z?z['avatar']:'',this['createUsername']=z?z['username']:'',this['createTime']=null!=(w=v['createTime'])?w:Date['now'](),this['commentTitles']=null!=(x=v['commentTitles'])?x:[],this['commentMentions']=null!=(y=v['commentMentions'])?y:[],this['editing']=!0x1,this['updating']=!0x1;}['openEditCommentPopover'](){this['editing']=!0x0;}['closeEditCommentPopover'](){this['editing']=!0x1;}['saveNewCommentContent'](u,v){return p(this,null,function*(){this['updating']=!0x0;try{yield this['blockDiscussStore']['updateComment'](this['commentId'],u,v),this['commentTitles']=u,this['commentMentions']=v,this['updating']=!0x1;}catch(w){console['error'](w),this['updating']=!0x1;}this['closeEditCommentPopover']();});}['removeCurrentComment'](){return p(this,null,function*(){yield this['blockDiscussStore']['removeComment'](this['commentId']);});}['navToDiscussBlock'](){this['blockDiscussStore']['navToDiscussBlock']();}}m([h['b']],q['prototype'],'userStore',0x2),m([h['b']],q['prototype'],'memberStore',0x2),m([j['observable']],q['prototype'],'editing',0x2),m([j['observable']],q['prototype'],'updating',0x2),m([j['action']['bound']],q['prototype'],'openEditCommentPopover',0x1),m([j['action']['bound']],q['prototype'],'closeEditCommentPopover',0x1),m([j['action']['bound']],q['prototype'],'saveNewCommentContent',0x1),m([j['action']['bound']],q['prototype'],'removeCurrentComment',0x1),m([j['action']['bound']],q['prototype'],'navToDiscussBlock',0x1);},'Jzsv':function(b,c,d){'use strict';d['d'](c,'a',function(){return k;});var f=d('D1y2'),g=d['n'](f),h=d('mwIZ'),j=d['n'](h);class k{static['setItem'](l,m){window['wolai']||(window['wolai']={}),g()(window['wolai'],l,m);}static['getItem'](l){return window['wolai']||(window['wolai']={}),j()(window['wolai'],l);}}},'K8K1':function(j,k,q){'use strict';var v=q('mwIZ'),w=q['n'](v),x=q('odX6'),z=q('8I4+'),A=q('aD9L'),B=q('F4U0'),C=q('9rbq'),D=Object['defineProperty'],E=Object['getOwnPropertyDescriptor'],F=Object['getOwnPropertySymbols'],G=Object['prototype']['hasOwnProperty'],H=Object['prototype']['propertyIsEnumerable'],I=(M,N,O)=>N in M?D(M,N,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':O}):M[N]=O,J=(M,N,O,P)=>{for(var Q,R=P>0x1?void 0x0:P?E(N,O):N,S=M['length']-0x1;S>=0x0;S--)(Q=M[S])&&(R=(P?Q(N,O,R):Q(R))||R);return P&&R&&D(N,O,R),R;},{clientHeight:K}=document['documentElement'];class L{constructor(){var M=this;this['edgeSize']=0x64,this['maxStep']=0x32,this['scrollTimer']=null,this['tableScrollTimer']=null,this['checkEditorScroll']=(N,O)=>{var {pageY:P}=N,{scrollHeight:Q,scrollTop:R}=O,{clientHeight:S}=document['body'],T=P<0x64&&R,U=N['pageY']>S-0x64&&Q>R;return{'up':T,'down':U,'needScroll':T||U};},this['beginListenScroll']=(N,O,P)=>{var Q=N['clientX'],R=null;if('database'===P?R=this['domAPI']['$']('#database-block-'['concat'](O)):'simpletable'===P?R=this['domAPI']['$']('.table-area-'['concat'](O)):'databaseBoard'===P&&(R=O),R){var S,T,{width:U,left:V}=R['getBoundingClientRect'](),W=Q-V,X=R['scrollWidth']-U;W<this['edgeSize']&&R['scrollLeft']?(T=!0x0,S='left'):W>U-this['edgeSize']&&U+R['scrollLeft']<R['scrollWidth']&&(T=!0x0,S='right');var Y=()=>{clearTimeout(this['scrollTimer']),Z()&&(this['scrollTimer']=setTimeout(Y,0x1e));},Z=()=>{var a0=R['scrollLeft'],a1='left'===S?-(this['edgeSize']-W)/this['edgeSize']:'right'===S?(W-U+this['edgeSize'])/this['edgeSize']:0x1,a2=Math['max'](0x0,Math['min'](X,a0+this['maxStep']*a1));if(a2!==a0)return R['scrollTo'](a2,0x0),!0x0;};if(!T)return clearTimeout(this['scrollTimer']);Y();}},this['beginEditorScroll']=N=>{var O=N['target'],{area:P}=w()(O,'dataset',{}),Q=document['querySelector']('#wolai-sidebar');if(!(Q&&Q['contains']&&Q['contains'](O))){var R,S=N['clientY'];if('tree-menu'===P)R=document['querySelector']('#sidebar-tree-root');else{var T=this['domAPI']['getScreenByElement'](O);T&&(R=this['domAPI']['$']('#screen-'['concat'](T['screenId'],'\x20#editorRoot')));}if(R){var {up:U,down:V,needScroll:W}=this['checkEditorScroll'](N,R),X=document['documentElement']['clientHeight'],Y=this['edgeSize'],Z=X-this['edgeSize'],a0=R['scrollHeight']-X,a1=()=>{clearTimeout(this['scrollTimer']),a2()&&(this['scrollTimer']=setTimeout(a1,0x1e));},a2=()=>{var a3=R['scrollTop'],a4=U?-(Y-S)/this['edgeSize']:V?(S-Z)/this['edgeSize']:0x1,a5=Math['max'](0x0,Math['min'](a0,a3+this['maxStep']*a4));if(a5!==a3)return R['scrollTo'](0x0,a5),!0x0;};if(!W)return clearTimeout(this['scrollTimer']);a1();}}},this['endEditorScroll']=()=>{clearInterval(this['scrollTimer']),clearInterval(this['tableScrollTimer']);},this['scrollIntoView']=function(N,O){var P=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},{duration:Q=0x1f4,callBack:R=function(){}}=P,S=M['dataStore']['getBlock'](O),T=M['screenStore']['getScreen'](N);T['utils']['traversalAnchorNodeParent'](S),M['editorStore']['invokeObserver'](),setTimeout(()=>{var U=M['domAPI']['$']('#screen-'['concat'](N,'\x20#editorRoot\x20#id-')['concat'](O)),V=M['domAPI']['$']('#screen-'['concat'](N,'\x20#editorRoot'));if(U&&V){var {top:W}=U['getBoundingClientRect'](),{top:X,height:Y}=V['getBoundingClientRect'](),{scrollTop:Z,scrollHeight:a0}=V,a1=Math['min'](Math['max'](Z+W-0x50-X,0x0),a0-Y),a2='up'===(Z>a1?'up':'down')?a1+Y:a1-Y;a2>a0+Y||a2<0x0||Math['abs'](Z-a1)<Y||(V['scrollTop']=a2),Object(z['a'])(V,a1,Q,R);}},0x64);};}['checkIfScrollY'](M){var N=()=>{var a4,a5=this['dataStore']['getBlockProperty'](M,'type');if(C['K']['includes'](a5)||!this['domAPI']['existCursorInEditor']()){var a6=this['blockAPI']['getNodeContentDom'](M);a6&&(a4=a6['getBoundingClientRect']()['top']);}else a4=this['domAPI']['getSelectionCoords']()['yPos'];return a4;};if(Object(A['h'])())setTimeout(()=>{var a4=N(),a5=this['domAPI']['$']('#editorRoot'),a6=Object(A['f'])()?document['documentElement']['clientHeight']:K,a7=Math['max'](a6/0x3,0xc8);a5&&a4&&(a4>=a7?a5['scrollTo'](0x0,a5['scrollTop']-a7+a4):a4<=0x6f&&a5['scrollTo'](0x0,a5['scrollTop']-0x6f+a4));},0x64);else{var P=N();if(P){var Q=this['domAPI']['$']('#editorRoot'),{clientHeight:R}=document['documentElement'];if(R-P<0x6f?Q['scrollTo'](0x0,0x6f-R+P+Q['scrollTop']):P<=0x6f&&Q['scrollTo'](0x0,Q['scrollTop']-0x6f+P),this['editorUI']['hoverMenuItem']['id']){if(M===this['editorUI']['hoverMenuItem']['id']){var T=this['dataStore']['getBlockValue'](M),U=this['domAPI']['$']('#id-'['concat'](M)),{top:V,left:W,width:X}=U['getBoundingClientRect'](),{left:Y,top:Z,width:a0}=this['domAPI']['$']('#screen-'['concat'](this['screenStore']['screenId']))['getBoundingClientRect'](),a1=Q['scrollTop'],a2={},a3=W-Y;if(V>0x4+(Object(B['d'])()?0x9:0x29)+0x20)a2={'left':a3,'right':a0-a3-X,'top':V+a1-Z-(Object(B['d'])()?0x9:0x29)-0x20-0x4};else a2={'left':a3,'right':a0-a3-X,'top':a1-Z+0x1};this['editorUI']['setAuxiliaryMenu'](((a4,a5)=>{for(var a6 in a5||(a5={}))G['call'](a5,a6)&&I(a4,a6,a5[a6]);if(F){for(var a6 of F(a5))H['call'](a5,a6)&&I(a4,a6,a5[a6]);}return a4;})({'screenId':this['screenStore']['screenId'],'item':T},a2));}else this['editorUI']['clearAuxiliaryMenu']();}}}}['checkTableIfScrollY'](M,N){var O=(()=>{var R;if(N){var S=this['domAPI']['$']('#id-'['concat'](M,'\x20#id-')['concat'](N));S&&(R=S['getBoundingClientRect']()['top']);}else R=this['domAPI']['getSelectionCoords']()['yPos'];return R;})();if(O){var P=this['domAPI']['$']('#editorRoot'),{clientHeight:Q}=document['documentElement'];Q-O<0x6f?P['scrollTo'](0x0,0x6f-Q+O+P['scrollTop']):O<=0x6f&&P['scrollTo'](0x0,P['scrollTop']-0x6f+O);}}['checkTableIfScrollX'](M,N){var O,P=this['domAPI']['$']('#id-'['concat'](M,'\x20#id-')['concat'](N));if(P&&(O=P['offsetLeft']),Number['isInteger'](O)){var Q=this['domAPI']['$']('.table-area-'['concat'](M)),{width:R}=Q['getBoundingClientRect']();Q['scrollLeft']+R-O<0x6f?Q['scrollTo'](0x6f-R+O+Q['scrollLeft'],0x0):O<=Q['scrollLeft']+0x6f&&Q['scrollTo'](O-0x6f,0x0);}}}J([x['b']],L['prototype'],'blockAPI',0x2),J([x['b']],L['prototype'],'domAPI',0x2),J([x['b']],L['prototype'],'blockStore',0x2),J([x['b']],L['prototype'],'dataStore',0x2),J([x['b']],L['prototype'],'screenStore',0x2),J([x['b']],L['prototype'],'editorStore',0x2),J([x['b']],L['prototype'],'editorUI',0x2),k['a']=L;},'KOQ7':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('5D19'),f=g=>{return h=void 0x0,j=null,k=function*(){return yield Object(d['n'])(Object(d['p'])('reminder/updateReminders'),g,d['h']);},new Promise((l,m)=>{var p=v=>{try{u(k['next'](v));}catch(w){m(w);}},q=v=>{try{u(k['throw'](v));}catch(w){m(w);}},u=v=>v['done']?l(v['value']):Promise['resolve'](v['value'])['then'](p,q);u((k=k['apply'](h,j))['next']());});var h,j,k;};},'KQwE':function(b,c,d){'use strict';var f=d('Texg'),g=d('aD9L'),h=d('bXzw'),j=d('wxQR');c['a']=Object(h['a'])(class{['config'](k){var {version:l}=k;void 0x0!==l&&(this['version']=l||0x1);}['init'](){var k=new f['a'](j['q']);k['version'](this['version'])['stores']({[j['c']]:'id,\x20*workspace_id,\x20*page_id',[j['h']]:'id,\x20*workspace_id',[j['d']]:'id,\x20*workspace_id,\x20*page_id',[j['e']]:'id',[j['f']]:'id',[j['g']]:'workspace_id'}),this['blockDB']=k[j['c']],this['referenceDB']=k[j['h']],this['dirtyBlockDB']=k[j['d']],this['dirtyWorkspaceDB']=k[j['e']],this['imageDB']=k[j['f']],this['recordsDB']=k[j['g']];}['delete'](){return k=this,l=null,m=function*(){Object(g['e'])()&&window['interop']&&window['interop']['setAirplaneModeAvailability']&&window['interop']['setAirplaneModeAvailability'](!0x1),yield f['a']['delete'](j['q']);},new Promise((p,q)=>{var u=x=>{try{w(m['next'](x));}catch(y){q(y);}},v=x=>{try{w(m['throw'](x));}catch(y){q(y);}},w=x=>x['done']?p(x['value']):Promise['resolve'](x['value'])['then'](u,v);w((m=m['apply'](k,l))['next']());});var k,l,m;}});},'KV4A':function(b,f,g){'use strict';var h=g('2vnA'),j=g('odX6'),k=g('bXzw'),l=Object['defineProperty'],m=Object['getOwnPropertyDescriptor'],p=(u,v,w,x)=>{for(var y,z=x>0x1?void 0x0:x?m(v,w):v,A=u['length']-0x1;A>=0x0;A--)(y=u[A])&&(z=(x?y(v,w,z):y(z))||z);return x&&z&&l(v,w,z),z;};class q{constructor(){this['init']=()=>{this['requestIdQueue']=[],this['lastRenderedRequestId']=null,this['latestRequestId']=null,this['isLoading']=!0x0,this['searchInput']='',this['searchMemberList']=[],this['isSearching']=!0x1,this['listIsEmpty']=!0x1;},this['addRequestIdToQueue']=u=>{this['requestIdQueue']['push'](u);},this['clearRequestIdQueue']=()=>{this['requestIdQueue']=[];},this['renderRequestId']=u=>{this['lastRenderedRequestId']=u;},this['updateLatestRequestId']=u=>{this['latestRequestId']=u;},this['tryRenderRequestId']=u=>this['requestIdQueue']['length']?this['latestRequestId']===u?(this['renderRequestId'](u),!0x0):this['requestIdQueue']['length']?(this['requestIdQueue']['indexOf'](u),this['requestIdQueue']['indexOf'](this['lastRenderedRequestId']),this['renderRequestId'](u),!0x0):(this['renderRequestId'](u),!0x1):(this['renderRequestId'](u),!0x0),this['handleRenderSearchResult']=u=>{this['searchMemberList']=u,this['isSearching']=!0x1;},this['localFilter']=u=>{this['searchInput']=u,this['searchMemberList']=[],this['memberStore']['currentWorkspaceMembers']['forEach'](v=>{var w;((null==(w=v['keyword'])?void 0x0:w['toLowerCase']())||'')['includes']((null==u?void 0x0:u['toLowerCase']())||'')&&this['searchMemberList']['push'](v);}),this['listIsEmpty']=!this['searchMemberList']['length'];},this['init'](),this['handleRenderSearchResult']=this['handleRenderSearchResult']['bind'](this);}}p([h['observable']],q['prototype'],'requestIdQueue',0x2),p([h['observable']],q['prototype'],'lastRenderedRequestId',0x2),p([h['observable']],q['prototype'],'latestRequestId',0x2),p([h['observable']],q['prototype'],'isLoading',0x2),p([h['observable']],q['prototype'],'searchInput',0x2),p([h['observable']],q['prototype'],'searchMemberList',0x2),p([h['observable']],q['prototype'],'isSearching',0x2),p([h['observable']],q['prototype'],'listIsEmpty',0x2),p([j['b']],q['prototype'],'spaceStore',0x2),p([j['b']],q['prototype'],'memberStore',0x2),p([h['action']],q['prototype'],'init',0x2),p([h['action']],q['prototype'],'addRequestIdToQueue',0x2),p([h['action']],q['prototype'],'clearRequestIdQueue',0x2),p([h['action']],q['prototype'],'renderRequestId',0x2),p([h['action']],q['prototype'],'updateLatestRequestId',0x2),p([h['action']],q['prototype'],'tryRenderRequestId',0x2),p([h['action']],q['prototype'],'handleRenderSearchResult',0x2),p([h['action']],q['prototype'],'localFilter',0x2),f['a']=Object(k['a'])(q);},'KiBK':function(q,z,F){'use strict';var G=F('BkRI'),H=F['n'](G),J=F('xkGU'),K=F['n'](J),Q=F('bt/X'),V=F['n'](Q),W=F('0+S8'),X=F('2vnA'),Y=F('odX6'),Z=F('iHkl'),a0=F('f9x4'),a1=F('OIS1'),a2=F('sA5H'),a3=F('paMO'),a4=F('7+vZ'),a5=F('mFjg'),a6=F('QrqS'),a7=F('5mAU'),a8=F('wYyv'),a9=F('hcfp'),aa=F('Go1b'),ab=F('Rsoz'),ac=Object['defineProperty'],ad=Object['defineProperties'],ae=Object['getOwnPropertyDescriptor'],af=Object['getOwnPropertyDescriptors'],ag=Object['getOwnPropertySymbols'],ah=Object['prototype']['hasOwnProperty'],ai=Object['prototype']['propertyIsEnumerable'],aj=(ar,as,at)=>as in ar?ac(ar,as,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':at}):ar[as]=at,ak=(ar,as)=>{for(var at in as||(as={}))ah['call'](as,at)&&aj(ar,at,as[at]);if(ag){for(var at of ag(as))ai['call'](as,at)&&aj(ar,at,as[at]);}return ar;},al=(ar,as)=>ad(ar,af(as)),am=(ar,as,at,au)=>{for(var av,aw=au>0x1?void 0x0:au?ae(as,at):as,ax=ar['length']-0x1;ax>=0x0;ax--)(av=ar[ax])&&(aw=(au?av(as,at,aw):av(aw))||aw);return au&&aw&&ac(as,at,aw),aw;},an=(ar,as,at)=>new Promise((au,av)=>{var aw=az=>{try{ay(at['next'](az));}catch(aA){av(aA);}},ax=az=>{try{ay(at['throw'](az));}catch(aA){av(aA);}},ay=az=>az['done']?au(az['value']):Promise['resolve'](az['value'])['then'](aw,ax);ay((at=at['apply'](ar,as))['next']());});function ao(ar,as,at){var au=at['value'];return at['value']=function(){var av=Object(Y['b'])('screenStore');if(!av['pageLocked']){for(var aw=arguments['length'],ax=new Array(aw),ay=0x0;ay<aw;ay++)ax[ay]=arguments[ay];var az=au['apply'](this,ax);return az;}},at;}class ap{constructor(){var ar=this;this['switchToTable']=function(as){var at=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:a0['h']['Table'],au=ar['dataStore']['getSourceId'](as),av=ar['databaseViewStore']['getDatabase'](au);if(av){var aw=av['table_views']['filter'](ax=>{var ay;return(null==(ay=ar['dataStore']['getDataView'](ax))?void 0x0:ay['type'])===at;});aw['length']?av['use'](aw[0x0]):ar['insertView'](as,at);}};}['createDataTable'](ar,as,at){var au,av=Object(a1['b'])(),aw=Object(a1['b'])(),ax=this['dataStore']['getBlockValue'](as);!(null==ax?void 0x0:ax['id'])||(null==ax?void 0x0:ax['id'])&&(null==(au=ax['sub_nodes'])?void 0x0:au['length'])>0x0||(this['dataStore']['updateBlock'](as,{'isNew':!0x0}),this['blockStore']['updateBlock'](as,{'database_id':av},at),this['blockStore']['createDataTable'](at,ar||a0['h']['Table'],{'blockId':as,'databaseId':av,'viewId':aw}),[Object(a1['b'])(),Object(a1['b'])(),Object(a1['b'])()]['map']((ay,az,aA)=>({'prev_block_id':aA[az-0x1]||'','next_block_id':'','row':{'status':0x1,'block_id':ay,'table_id':av,'properties':{}}}))['forEach'](ay=>{this['pageStore']['createDataRow'](as,ay['row']['block_id'],ak({'table_id':av,'view_type':ar,'view_id':aw},ay),at);}));}['insertView'](ar,as,at){var au=this['dataStore']['getSourceId'](ar),av=this['databaseViewStore']['getDatabase'](au);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=this['dataStore']['getDataTable'](av['table_id']),ay=new Set(this['dataStore']['getBlockProperty'](au,'tableviews')||[]),az=Object(a6['a'])(ax,au,{'title':at},as);av['extendLastUpdatePropertyWidth'](az),aw['database']['createDataView'](az['view_id'],{'block_id':au,'view':az}),ay['add'](az['view_id']),aw['database']['changeDataViewOrder'](au,Array['from'](ay)),aw['commit'](()=>an(this,null,function*(){if([a0['h']['Board'],a0['h']['List'],a0['h']['Gallery']]['includes'](av['currentView']['type'])){var {columns:aA}=yield Object(a4['b'])({'table_id':av['currentView']['table_id'],'view_id':av['currentView']['view_id']},av['currentView']['type']);this['dataStore']['syncDataViews']({[av['currentView']['view_id']]:{'columns':aA}});}av['currentView']['loadMore'](!0x0);}));}}['duplicateView'](ar,as){var at=this['dataStore']['getSourceId'](ar),au=this['databaseViewStore']['getDatabase'](at);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=new Set(this['dataStore']['getBlockProperty'](at,'tableviews')||[]),ax=au['duplicateView'](as);av['database']['createDataView'](ax['view_id'],{'block_id':at,'view':H()(ax)});var ay=[...aw['keys']()],az=ay['indexOf'](as);-0x1===az?ay['push'](ax['view_id']):ay['splice'](az+0x1,0x0,ax['view_id']),av['database']['changeDataViewOrder'](at,ay),av['commit'](()=>{au['currentView']['loadMore'](!0x0),au['currentView']['syncRemoteAggregation']();});}}['deleteView'](ar,as){var at=this['dataStore']['getSourceId'](ar),au=this['databaseViewStore']['getDatabase'](at);if(au){if(au['canDeleteView']()){var av=as===au['currentView']['view_id'],aw=new a3['a']({'ignoreLock':!0x0});aw['database']['deleteDataView'](as,{'block_id':au['block_id']}),aw['commit'](()=>{av&&au['currentView']['loadMore'](!0x0);});}else this['pageStore']['setConfirmOpen']({'contents':ab['a']['t']('stores.database.deleteViewConfirm','删除失败，数据表格必须含有一个视图',{'ns':'editor'}),'singleButton':!0x0});}}['changeViewOrder'](ar,as,at){var au=this['dataStore']['getSourceId'](ar),av=this['databaseViewStore']['getDatabase'](au);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=Object(a8['a'])(av['table_views'],as,at);aw['database']['changeDataViewOrder'](au,ax),aw['commit']();}}['changeFormShareStatus'](ar,as,at){var au=this['dataStore']['getSourceId'](ar);if(this['databaseViewStore']['getDatabase'](au)){var av=new a3['a']({'ignoreLock':!0x0});av['database']['updateDataView'](as,'visit_id',at),av['commit']();}}['changeFormPermission'](ar,as,at){var au=this['dataStore']['getSourceId'](ar);if(this['databaseViewStore']['getDatabase'](au)){var av=new a3['a']({'ignoreLock':!0x0});av['database']['updateDataView'](as,'permission',at||a0['g']['WorkspaceUser']),av['commit']();}}['changeViewTitleOrType'](ar,as,at){var au=this['dataStore']['getSourceId'](ar),av=this['databaseViewStore']['getDatabase'](au);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=av['getViewById'](as),ay=ax['type'],az=as;if(ay!==at['type']){var aA=new Set(this['dataStore']['getBlockProperty'](au,'tableviews')||[]);aA['delete'](as),aw['database']['deleteDataView'](as,{'block_id':ax['block_id']});var aB=Object(a1['b'])();az=aB,aA['add'](aB),aw['database']['createDataView'](aB,{'view':al(ak({},Object(a6['a'])(this['dataStore']['getDataTable'](av['table_id']),av['block_id'],{'view_id':aB},at['type'])),{'title':at['title'],'type':at['type']}),'block_id':ax['block_id']}),aw['database']['changeDataViewOrder'](au,Array['from'](aA));}ax['title']!==at['title']&&aw['database']['updateDataView'](az,'title',at['title']),void 0x0!==at['describe']&&ax['describe']!==at['describe']&&aw['database']['updateDataView'](az,'describe',at['describe']),aw['commit'](()=>an(this,null,function*(){if(ay!==at['type']){if([a0['h']['Board'],a0['h']['List'],a0['h']['Gallery']]['includes'](at['type'])){var {columns:aC}=yield Object(a4['b'])({'table_id':ax['table_id'],'view_id':ax['view_id']},at['type']);this['dataStore']['syncDataViews']({[ax['view_id']]:{'columns':aC}});}av['currentView']['loadMore'](!0x0);}}));}}['insertProperty'](ar,as,at,au){var av=this['databaseViewStore']['getDataView'](ar);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=H()(av['properties']),ay=av['dataSource']['createProperty']();if(au){var az=[];au['options']&&(az=au['options']['map'](aD=>al(ak({},aD),{'property_id':ay['id']}))),ay=al(ak(ak({},ay),au),{'options':az,'createByViewId':av['view_id']});}var aA=as?ax['findIndex'](aD=>aD['id']===as):ax['length']-0x1,aB={'left':0x0,'right':0x1}[at||'right'],aC=av['createPropertyByViewType'](ay);-0x1===aA?ax['push'](aC):ax['splice'](aA+aB,0x0,aC),aw['database']['insertProperty'](av['table_id'],Object(X['toJS'])(ay)),aw['database']['updateDataView'](av['view_id'],'properties',ax),aw['commit']();}}['reGetRowData'](ar,as){return an(this,null,function*(){var at,au=yield Object(a4['c'])({'table_id':ar,'block_id':as});(null==(at=null==au?void 0x0:au['rows'])?void 0x0:at['length'])&&au['rows']['forEach'](av=>{var {block_id:aw}=av,ax=this['dataStore']['getBlockProperty'](aw,'parent_type'),ay=this['dataStore']['getDataRow'](ar,aw);ax===Z['k']['DATABASE']&&ay&&0x1===ay['status']&&this['dataStore']['syncDataRows'](ar,[av]);});});}['getDatabaseData'](ar){return an(this,null,function*(){var as=yield Object(a2['D'])({'pageId':ar,'limit':0xa,'position':{'stack':[]},'chunkNumber':0x0,'forceFetch':!0x1}),{block:at={},position:au={},database_tables:av={},database_views:aw={}}=as,ax=aw,ay=V()(ax,az=>az['block_id']);K()(at,(az,aA)=>{var aB;if((null==(aB=az['value'])?void 0x0:aB['type'])===Z['k']['DATABASE']){var aC=az['value']['database_id'],aD=ay[aA]||[],aE=new Set(aD['filter'](aF=>aF['table_id']===aC)['map'](aF=>aF['view_id']));az['value']['tableviews']=az['value']['tableviews']?az['value']['tableviews']['filter'](aF=>aE['has'](aF)):[...aE['keys']()];}}),this['dataStore']['syncBlockData'](at),this['dataStore']['syncDataViews'](ax),this['dataStore']['syncDataTables'](av);});}['duplicateProperty'](ar,as){var at,au=this['databaseViewStore']['getDataView'](ar);if(au){if(!this['spaceStore']['hasPremiumOrTeamPlan']&&(null==(at=au['dataSource']['getProperty'](as))?void 0x0:at['type'])===a0['p']['Formula']&&au['dataSource']['formulaProperties']['size']>=0x1)return Object(a5['o'])();var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(au['properties']),ax=au['duplicateProperty'](as),ay=aw['findIndex'](az=>az['id']===as);-0x1===ay?aw['push'](ax['newViewProperty']):aw['splice'](ay+0x1,0x0,ax['newViewProperty']),av['database']['insertProperty'](au['table_id'],Object(X['toJS'])(ax['newProperty'])),av['database']['updateDataView'](au['view_id'],'properties',aw),av['commit']();}}['deleteProperty'](ar,as){var at=this['dataStore']['getDataView'](ar),au=this['databaseViewStore']['getDatabase'](at['block_id']);if(at&&au){var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(at['properties']),ax=au['dataSource']['getProperty'](as),ay=aw['findIndex'](az=>az['id']===as);ay>-0x1&&aw['splice'](ay,0x1),av['database']['deleteProperty'](at['table_id'],Object(X['toJS'])(ax)),av['database']['updateDataView'](at['view_id'],'properties',aw),(null==at?void 0x0:at['aggregation'])&&at['aggregation'][as]&&this['setAggregator'](at['block_id'],as,a0['s']['None'],av),av['commit']();}}['changeViewAllPropertyVisible'](ar,as,at){if(ar){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(au['properties']),ax=!au['settings']['page_cover']||au['settings']['page_cover']===a0['e']['None'];aw['forEach'](ay=>{var az=au['dataSource']['getProperty'](ay['id']);at&&[...a0['a'],a0['p']['SN']]['includes'](az['type'])||a0['p']['SN']!==az['type']&&(a0['p']['Primary']!==az['type']||au['type']===a0['h']['Form']||a0['h']['Gallery']===au['type']&&!ax?ay['hidden']=as:ay['hidden']=!0x1);}),av['database']['updateDataView'](au['view_id'],'properties',aw),av['commit']();}}}['changeViewPropertyVisible'](ar,as,at,au){if(ar&&as){var av=this['databaseViewStore']['getDataView'](ar);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=H()(av['properties']),ay=ax['find'](aE=>aE['id']===as),az=av['visibleProperties']['map'](aE=>aE['id']);if(!ay)return;if(ay['hidden']=at,!at&&av['type']===a0['h']['Form']){if(av['dataSource']['getProperty'](as)['type']!==a0['p']['Phone'])ay['verify_phone']&&(ay['verify_phone']=!0x1);else{var aA=av['visibleProperties']['find'](aE=>!!aE['verify_phone']&&av['dataSource']['getProperty'](aE['id'])['type']===a0['p']['Phone'])||{'id':''};aA['id']&&aA['id']!==as&&(ay['verify_phone']=!0x1);}}if(!at&&au>=0x0){var aB=az[au],aC=ax['findIndex'](aE=>ay['id']===aE['id']),aD=ax['findIndex'](aE=>aB===aE['id']);ax=Object(a8['a'])(ax,aC,aD);}aw['database']['updateDataView'](av['view_id'],'properties',ax),aw['commit']();}}}['changeTablePropertyOrder'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getDataTable'](au['table_id']),ax=H()(aw['properties']),ay=Object(a8['a'])(ax,as,at);av['database']['updateDataTable'](aw['table_id'],{'properties':ay}),av['commit']();}}['changeViewPropertyOrder'](ar,as,at,au){var av=this['databaseViewStore']['getDataView'](ar);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=av['properties']['slice'](),ay=av['visibleProperties']['map'](aE=>aE['id']),az=as,aA=at;if('visible'===au){var aB=ay[as],aC=ay[at];az=ax['findIndex'](aE=>aB===aE['id']),aA=ax['findIndex'](aE=>aC===aE['id']);}var aD=Object(a8['a'])(ax,az,aA);aw['database']['updateDataView'](av['view_id'],'properties',aD),aw['commit']();}}['changeViewPropertySettings'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(au['properties']),ax=aw['findIndex'](ay=>ay['id']===as);if(ax<0x0)return;aw[ax]=al(ak(ak({},aw[ax]),at),{'id':as}),av['database']['updateDataView'](au['view_id'],'properties',aw),av['commit']();}}['changePropertyValueOrType'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=au['dataSource']['getProperty'](as);if(!this['spaceStore']['hasPremiumOrTeamPlan']&&at['type']&&at['type']===a0['p']['Formula']&&au['dataSource']['formulaProperties']['size']>=0x1)return Object(a5['o'])();if(at['type']&&[a0['p']['Select'],a0['p']['MultiSelect']]['includes'](at['type'])&&(Array['isArray'](aw['options'])||Array['isArray'](at['options'])||(at['options']=[])),at['type']&&aw['type']!==at['type']&&(this['setAggregator'](ar,as,a0['s']['None'],av),[a0['p']['CreatedBy'],a0['p']['CreatedTime'],a0['p']['LastEditedBy'],a0['p']['LastEditedTime']]['includes'](at['type']))){var ax=at['name']||aw['name'];if(!ax||0x5b57===ax['charCodeAt'](0x0)&&0x6bb5===ax['charCodeAt'](0x1)){var ay=Object(aa['c'])(at['type']);at['name']=ay['label'];}}''===at['name']&&delete at['name'],av['database']['updateProperty'](au['table_id'],ak(ak({},aw),at)),av['commit']();}}['insertPropertyOption'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getDataTable'](au['table_id']),ax=H()(aw['properties'])['find'](az=>az['id']===as);if(ax['options']['push'](at),av['database']['updateProperty'](au['table_id'],ax),[a0['h']['Board'],a0['h']['List'],a0['h']['Gallery']]['includes'](au['type'])){var ay=new Map(au['columns']);ay['set'](at['option_id'],{'property_id':au['property']['id'],'option_id':at['option_id'],'hidden':!0x1}),av['database']['updateDataView'](au['view_id'],'columns',[...ay['values']()]);}av['commit']();}}['deletePropertyOption'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getDataTable'](au['table_id']),ax=H()(aw['properties'])['find'](az=>az['id']===as);if(ax['options']=ax['options']['filter'](az=>az['option_id']!==at),[a0['h']['Board'],a0['h']['List'],a0['h']['Gallery']]['includes'](au['type'])){var ay=[...au['columns']['values']()]['filter'](az=>az['option_id']!==at);av['database']['updateDataView'](au['view_id'],'columns',ay);}av['database']['updateProperty'](au['table_id'],ax),this['dataStore']['getDataRows'](au['table_id'])['forEach'](az=>{if(0x0!==az['status']){var aA=az['properties'][as],aB=new a7['a'](au['table_id'],az);aA&&(aB['parse'](as),aB['deleteOptionId'](at,as),av['database']['updateDataRowCell'](az['block_id'],{'table_id':au['table_id'],'view_id':au['view_id'],'property_id':as,'value':aB['convert'](as)}));}}),av['commit']();}}['updatePropertyOption'](ar,as,at,au){var av=this['databaseViewStore']['getDataView'](ar);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=this['dataStore']['getDataTable'](av['table_id']),ay=H()(ax['properties'])['find'](aD=>aD['id']===as),az=ay['options']['findIndex'](aD=>aD['value']===at['value']);if(ay['options'][az]=au,[a0['h']['Board'],a0['h']['List'],a0['h']['Gallery']]['includes'](av['type'])){var aA=new Map(av['columns']),aB=''['concat'](at['option_id']),aC=aA['get'](aB);aA['set'](aB,al(ak({},aC),{'value':au['value']})),aw['database']['updateDataView'](av['view_id'],'columns',[...aA['values']()]);}aw['database']['updateProperty'](av['table_id'],ay),this['dataStore']['getDataRows'](av['table_id'])['forEach'](aD=>{if(0x0!==aD['status']){var aE=new a7['a'](av['table_id'],aD);aD['properties'][as]&&(aE['parse'](as),aw['database']['updateDataRowCell'](aD['block_id'],{'table_id':av['table_id'],'view_id':av['view_id'],'property_id':as,'value':aE['convert'](as)}));}}),aw['commit']();}}['changePropertyOptionOrder'](ar,as,at,au){var av=this['databaseViewStore']['getDataView'](ar);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax=this['dataStore']['getDataTable'](av['table_id']),ay=H()(ax['properties'])['find'](aA=>aA['id']===as),az=Object(a8['a'])(ay['options'],at,au);ay['options']=az,aw['database']['updateProperty'](av['table_id'],ay),aw['commit']();}}['updatePropertyFormula'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getDataTable'](au['table_id']),ax=H()(aw['properties'])['find'](ay=>ay['id']===as);ax['formula']=at,at['type']||(ax['formula']=void 0x0),av['database']['updateProperty'](au['table_id'],ax),av['commit']();}}['finishRowLoading'](ar){var as=this['dataStore']['getBlockValue'](ar);if((null==as?void 0x0:as['parent_type'])===Z['k']['DATABASE']){var at=this['dataStore']['getBlockProperty'](null==as?void 0x0:as['parent_id'],'database_id');this['dataStore']['getDataRow'](at,ar)['isLoading']=!0x1;}}['duplicateRow'](ar,as,at,au){var av=this['dataStore']['getBlockValue'](as);if((null==av?void 0x0:av['parent_type'])===Z['k']['DATABASE']){var aw=au||new a3['a']({'ignoreLock':!0x0}),ax=this['databaseViewStore']['getDataView'](ar),ay=at['newBlockId'];ay||(ay=Object(a1['b'])());var az=this['editorUI']['columnSelected']['get'](as),aA=Array['from'](az||[])[0x0],aB=ax['dataSource']['getRow'](as),aC=ax['createRow'](ay,aB,!0x1),aD=at['prevId'];if(aB['template']){if([a0['h']['Board'],a0['h']['List'],a0['h']['Gallery']]['includes'](ax['type'])){var aE=ax['getColumnIds'](aA);aD='undefined'===''['concat'](aA)?aE[0x0]:aE[aE['length']-0x1];}ax['type']===a0['h']['Table']&&(aD=ax['page_sort'][0x0]);}var {next_block_id:aF}=ax['getRowNearby'](aD,aB['template']?'before':'after',aA);aC['isLoading']=!0x0,this['pageStore']['createDataRow'](ar,ay,{'table_id':ax['table_id'],'view_id':ax['view_id'],'view_type':ax['type'],'prev_block_id':at['prevId'],'next_block_id':aF,'row':aC},aw),au||aw['commit']();}}['insertTopRow'](ar,as){var {type:at}=this['dataStore']['getBlockValue'](ar);if(Z['k']['DATABASE']===at){var au=this['databaseViewStore']['getDatabase'](ar)['currentView']['page_sort'][0x0];this['insertRow'](ar,as,{'blockId':au,'position':'before'}),this['dataStore']['setPageLoaded'](as,!0x0),Object(W['a'])()['then'](av=>av['open']({'pageId':as,'enableKeyDownEvent':!0x0,'style':{'overflow':'auto','display':'flex','flexDirection':'row','overflowX':'hidden'}}));}}['insertRow'](ar,as,at,au,av){var aw=this['dataStore']['getSourceId'](ar),{type:ax}=this['dataStore']['getBlockValue'](aw);if(Z['k']['DATABASE']===ax){var ay=au||new a3['a']({'ignoreLock':!0x0}),az=this['databaseViewStore']['getDatabase'](aw),aA=az['currentView'],{prev_block_id:aB,next_block_id:aC}=aA['getRowNearby'](at['blockId'],at['position'],at['target_column']),aD=null,aE=this['dataStore']['getBlockValue'](as);if(av){var {parent_id:aF,parent_type:aG}=aE;if(aG===Z['k']['DATABASE']){var aH=this['databaseViewStore']['getDatabase'](aF);aD=aH['currentView']['dataSource']['hasRow'](as)?aH['currentView']['dataSource']['getRow'](as):null;}}else aD=aA['dataSource']['hasRow'](as)?aA['dataSource']['getRow'](as):null;var aI=aA['createRow'](as,aD,av,at['target_column'],at['origin_columns']),aJ=az['dataSource']['primaryId'],aK=this['blockAPI']['getTitlePlainTextById'](as),aL=aI['properties']&&aI['properties'][aJ],aM=this['blockAPI']['getTitlePlainTextByTitle'](aL);aK&&(aI['properties'][aJ]=[[aK]]);var aN=this['pageStore']['createDataRow'](aw,as,{'table_id':az['id'],'view_id':aA['view_id'],'view_type':aA['type'],'prev_block_id':aB,'next_block_id':aC,'row':aI,'target_column':'all'===at['target_column']?void 0x0:at['target_column']},ay);!aK&&aM&&this['pageStore']['updatePageTitle'](as,aM,ay),aA['filterRow'](aN),au||ay['commit'](()=>{aA['refresh']();});}}['deleteRow'](ar,as){var at=this['dataStore']['getBlockValue'](ar);if(Z['k']['DATABASE']===(null==at?void 0x0:at['parent_type'])){var au=this['databaseViewStore']['getDataView'](at['parent_id']);as['database']['deleteDataRow'](ar,{'table_id':au['table_id'],'view_id':au['view_id'],'view_type':au['type']});}}['changeBlockPropertyValue'](ar,as,at,au){var av=au||new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getBlockValue'](ar),{parent_type:ax,parent_id:ay}=aw;if(Z['k']['DATABASE']===ax){var az=this['databaseViewStore']['getDataView'](ay);if(az['dataSource']['getProperty'](as)['type']===a0['p']['Primary'])return this['changeBlockPropertyTitle'](ar,this['blockAPI']['getTitlePlainTextByTitle'](at),!0x1,au);av['database']['updateDataRowCell'](ar,{'table_id':az['table_id'],'view_id':az['view_id'],'property_id':as,'value':at}),!au&&av['commit'](()=>{az['refresh'](),az['filterRow'](ar)&&this['editorUI']['clearDatabaseCellSelectedShadow']();});}}['changeBlockPropertyTitle'](ar,as,at,au){var av=this['dataStore']['getBlockValue'](ar),{parent_type:aw,parent_id:ax}=av;if(Z['k']['DATABASE']===aw){var ay=au||new a3['a']({'ignoreLock':!0x0}),az=this['databaseViewStore']['getDataView'](ax),aA=az['dataSource']['primaryId'];ay['database']['updateDataRowCell'](ar,{'table_id':az['table_id'],'view_id':az['view_id'],'property_id':aA,'value':[[as]]}),at?this['pageStore']['updatePageTitle'](ar,as,ay):this['pageStore']['updatePage'](ay,ar,{'attributes':{'title':[[as]]}}),!au&&ay['commit']();}}['changeViewFilterLogical'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0}),av=H()(at['filters']);av['logical']=as,au['database']['updateDataView'](at['view_id'],'filters',av),at['filterRows'](),au['commit'](()=>{at['loadMore'](!0x0),at['type']===a0['h']['Table']&&at['queryAggregation']();});}}['addViewFilter'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0}),av=H()(at['filters']);(av['filters']||[])['push'](as),au['database']['updateDataView'](at['view_id'],'filters',av),at['filterRows'](),au['commit'](()=>{at['loadMore'](!0x0),at['type']===a0['h']['Table']&&at['queryAggregation']();});}}['changeViewFilter'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(au['filters']);(aw['filters']||[])[as]=at,av['database']['updateDataView'](au['view_id'],'filters',aw),au['filterRows'](),av['commit'](()=>{au['loadMore'](!0x0),au['type']===a0['h']['Table']&&au['queryAggregation']();});}}['removeViewFilter'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0}),av=H()(at['filters']),aw=av['filters']||[];as>-0x1&&aw['splice'](as,0x1),au['database']['updateDataView'](at['view_id'],'filters',av),at['filterRows'](),au['commit'](()=>{at['loadMore'](!0x0),at['type']===a0['h']['Table']&&at['queryAggregation']();});}}['addViewSort'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0}),av=[...H()(at['sorters']),as];au['database']['updateDataView'](at['view_id'],'sorters',av),au['commit'](()=>{at['loadMore'](!0x0);});}}['changeViewSort'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(au['sorters']);for(var ax in at)aw[as][ax]=at[ax];av['database']['updateDataView'](au['view_id'],'sorters',aw),av['commit'](()=>{au['loadMore'](!0x0);});}}['changeViewSortOrder'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=H()(au['sorters']),ax=Object(a8['a'])(aw,as,at);av['database']['updateDataView'](au['view_id'],'sorters',ax),av['commit'](()=>{au['loadMore'](!0x0);});}}['removeViewSort'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0}),av=H()(at['sorters']),aw=av['findIndex'](ax=>ax['property_id']===as);aw>-0x1&&av['splice'](aw,0x1),au['database']['updateDataView'](at['view_id'],'sorters',av),au['commit'](()=>{at['loadMore'](!0x0);});}}['changeSnShow'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0});if(as){if(at['snProperty']){var av=H()(at['properties']),aw=av['findIndex'](aD=>at['snProperty']['id']===aD['id']);av[aw]['hidden']=!as;var ax=Object(a8['a'])(av,aw,0x0);au['database']['updateDataView'](at['view_id'],'properties',ax);}else{var ay=H()(at['properties']),az=at['dataSource']['createProperty'](a0['p']['SN']),aA={'id':az['id'],'hidden':!0x1,'width':0x32};ay['unshift'](aA),au['database']['insertProperty'](at['table_id'],Object(X['toJS'])(az)),au['database']['updateDataView'](at['view_id'],'properties',ay);}}else{if(at['snProperty']){var aB=H()(at['properties']),aC=aB['find'](aD=>aD['id']===at['snProperty']['id']);if(!aC)return;aC['hidden']=!as,au['database']['updateDataView'](at['view_id'],'properties',aB);}}au['commit']();}}['changeViewSetting'](ar,as,at,au){var av=this['databaseViewStore']['getDataView'](ar);if(av){var aw=au||new a3['a']({'ignoreLock':!0x0}),ax=H()(av['settings']);if(ax[as]=at,aw['database']['updateDataView'](av['view_id'],'settings',ax),'page_size'===as)!au&&aw['commit'](()=>{av['loadMore'](!0x0,at);});else{if('line'===as){var ay=H()(av['properties']),az=av['dataSource']['createProperty'](a0['p']['SN']),aA={'id':az['id'],'hidden':!0x1,'width':0x64};ay['unshift'](aA),aw['database']['insertProperty'](av['table_id'],Object(X['toJS'])(az)),aw['database']['updateDataView'](av['view_id'],'properties',ay),!au&&aw['commit']();}else!au&&aw['commit']();}}}['insertTemplate'](ar){var as,at=this['databaseViewStore']['getDataView'](ar);if(at){var au=Object(a1['b'])(),av=new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getDataTable'](at['table_id']),ax=at['createRow'](au),ay=(null==(as=aw['templates'])?void 0x0:as['length'])>0x0?aw['templates'][aw['templates']['length']-0x1]:'';this['pageStore']['createDataRow'](ar,au,{'table_id':aw['table_id'],'view_id':at['view_id'],'view_type':at['type'],'isTemplate':!0x0,'prev_block_id':ay,'next_block_id':'','row':ax},av),aw['templates']=aw['templates']||[];var az=[...aw['templates']],aA=az['indexOf'](ay);-0x1===aA?az['unshift'](au):az['splice'](aA+0x1,0x0,au),av['database']['updateDataTable'](aw['table_id'],{'templates':az}),av['commit']();}}['duplicateTemplate'](ar,as){var at,au=this['databaseViewStore']['getDataView'](ar);if(au){var av=[],aw=this['dataStore']['getDataRow'](au['table_id'],as),ax=this['dataStore']['getBlockValue'](aw['block_id']),ay=this['dataStore']['getDataTable'](au['table_id']),az=new a3['a']({'ignoreLock':!0x0}),{newId:aA,childNeedCloneList:aB}=this['editorStore']['duplicateBlock']({'parentId':ax['parent_id'],'pageId':ax['page_id'],'nodeId':ax['id'],'extraTrans':az,'prevId':ax['id'],'extraOptions':{},'templateCopy':!0x1,'addSuffix':!0x1}),aC=this['dataStore']['getBlockValue'](aA),aD=null==(at=null==aC?void 0x0:aC['setting'])?void 0x0:at['page_icon'],aE=this['blockAPI']['getTitlePlainTextById'](aA);av['push'](ak({'newParentId':aC['parent_id'],'newBlockId':aA,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':aw['block_id'],'newBlockTitle':aE,'newVersion':Number((null==aC?void 0x0:aC['version'])||0x0)+0x1,'enableDeleted':!0x0},aD?{'newBlockIcon':{'icon':aD[0x1]||'','type':aD[0x0]||'emoji'}}:{})),(null==aB?void 0x0:aB['length'])>0x0&&(av=av['concat'](aB)),az['database']['createDataRow'](aA,{'table_id':au['table_id'],'view_id':au['view_id'],'view_type':au['type'],'prev_block_id':as,'next_block_id':'','isTemplate':!0x0,'row':{'table_id':au['table_id'],'block_id':aA,'properties':H()(aw['properties'])||{}}});var aF=this['dataStore']['getDataRow'](au['table_id'],aA);aF['isLoading']=!0x0,ay['templates']=ay['templates']||[];var aG=[...ay['templates']],aH=aG['indexOf'](as);-0x1===aH?aG['unshift'](aA):aG['splice'](aH+0x1,0x0,aA),az['database']['updateDataTable'](ay['table_id'],{'templates':aG}),az['commit'](()=>{aF['isLoading']=!0x1,av['length']>0x0&&av['forEach'](aI=>{var aJ=this['dataStore']['getBlockValue'](aI['newBlockId']);Object(a9['a'])(aI)['then'](aK=>{var aL,aM,aN;aJ['type']===Z['k']['PAGE']&&this['dataStore']['setPageLoaded'](aI['newBlockId'],!0x1),this['dataStore']['syncBlockData']([null==(aL=null==aK?void 0x0:aK['data'])?void 0x0:aL['newBlock']]),this['dataStore']['syncDataTables'](null==(aM=null==aK?void 0x0:aK['data'])?void 0x0:aM['tableMeta']),this['dataStore']['syncDataViews'](null==(aN=null==aK?void 0x0:aK['data'])?void 0x0:aN['tableViews']),this['blockStore']['setBlockDirty'](aJ),this['editorStore']['invokeObserver']();});});});}}['deleteTemplate'](ar,as){var at=this['databaseViewStore']['getDataView'](ar);if(at){var au=at['dataSource']['templates']['get'](as),av=new a3['a']({'ignoreLock':!0x0});this['blockStore']['deleteBlock'](av,au['block_id']);var aw=this['dataStore']['getDataTable'](at['table_id']);aw['templates']=aw['templates']||[];var ax=[...aw['templates']],ay=ax['indexOf'](as);ay>-0x1&&ax['splice'](ay,0x1),av['database']['updateDataTable'](aw['table_id'],{'templates':ax}),av['commit']();}}['changeTemplateOrder'](ar,as,at){var au=this['databaseViewStore']['getDataView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=this['dataStore']['getDataTable'](au['table_id']);aw['templates']=aw['templates']||[];var ax=Object(a8['a'])(aw['templates'],as,at);av['database']['updateDataTable'](aw['table_id'],{'templates':ax}),av['commit']();}}['insertTemplateRow'](ar,as){this['databaseViewStore']['getDataView'](ar)&&this['editorStore']['batchCopyBlocks']({'targetNodeId':as,'databaseCopy':!0x0});}['setAggregator'](ar,as,at,au){var av=this['databaseViewStore']['getTableView'](ar);if(av){var aw=au||new a3['a']({'ignoreLock':!0x0}),ax=this['dataStore']['getDataView'](av['view_id']),ay=H()(ax['aggregation'])||{};at===a0['s']['None']?delete ay[as]:ay[as]={'action':at},aw['database']['updateDataView'](av['view_id'],'aggregation',ay),at!==a0['s']['None']&&av['queryAggregation'](as),!au&&aw['commit']();}}['changeViewColumnOrder'](ar,as,at){var au=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'visible',av=this['databaseViewStore']['getBoardView'](ar);if(av){var aw=new a3['a']({'ignoreLock':!0x0}),ax='visible'===au?av['visibleColumns']:av['hiddenColumns'],ay=ax[as]['option_id'],az=ax[at]['option_id'],aA=[...av['columns']['keys']()],aB=[...av['columns']['values']()],aC=aA['indexOf'](ay),aD=aA['indexOf'](az),aE=Object(a8['a'])(aB,aC,aD);aw['database']['updateDataView'](av['view_id'],'columns',aE),aw['commit']();}}['changeViewColumnVisible'](ar,as){var at=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:'hidden',au=this['databaseViewStore']['getBoardView'](ar);if(au){var av=new a3['a']({'ignoreLock':!0x0}),aw=[...au['columns']['values']()]['slice'](),ax='hidden'===at,ay=aw['findIndex'](az=>''['concat'](az['option_id'])===''['concat'](as));aw[ay]=al(ak({},aw[ay]),{'hidden':ax}),av['database']['updateDataView'](au['view_id'],'columns',aw),av['commit']();}}['changeViewAllColumnVisible'](ar){var as=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'hidden',at=this['databaseViewStore']['getBoardView'](ar);if(at){var au=new a3['a']({'ignoreLock':!0x0}),av=[...at['columns']['values']()]['slice'](),aw='hidden'===as;av['forEach'](ax=>{ax['hidden']=aw;}),au['database']['updateDataView'](at['view_id'],'columns',av),au['commit']();}}['changeViewGroupBy'](ar,as,at){var au=this['dataStore']['getDataView'](ar);if(au){var av=at||new a3['a']({'ignoreLock':!0x0});av['database']['updateDataView'](au['view_id'],'grouping',{'property':as}),!at&&av['commit'](()=>{if(au['type']===a0['h']['Board'])this['databaseViewStore']['getBoardView'](au['block_id'])['queryBoardColumns']();else{if(au['type']===a0['h']['List'])this['databaseViewStore']['getListView'](au['block_id'])['queryListColumns']();else au['type']===a0['h']['Gallery']&&this['databaseViewStore']['getGalleryView'](au['block_id'])['queryGalleryColumns']();}});}}}am([Y['b']],ap['prototype'],'databaseViewStore',0x2),am([Y['b']],ap['prototype'],'dataStore',0x2),am([Y['b']],ap['prototype'],'pageStore',0x2),am([Y['b']],ap['prototype'],'blockStore',0x2),am([Y['b']],ap['prototype'],'editorStore',0x2),am([Y['b']],ap['prototype'],'editorUI',0x2),am([Y['b']],ap['prototype'],'blockAPI',0x2),am([Y['b']],ap['prototype'],'spaceStore',0x2),am([ao],ap['prototype'],'createDataTable',0x1),am([ao],ap['prototype'],'insertView',0x1),am([ao,X['action']],ap['prototype'],'duplicateView',0x1),am([ao],ap['prototype'],'deleteView',0x1),am([ao],ap['prototype'],'changeViewOrder',0x1),am([ao],ap['prototype'],'changeFormShareStatus',0x1),am([ao],ap['prototype'],'changeFormPermission',0x1),am([ao,X['action']],ap['prototype'],'changeViewTitleOrType',0x1),am([ao,X['action']],ap['prototype'],'insertProperty',0x1),am([ao,X['action']],ap['prototype'],'duplicateProperty',0x1),am([ao,X['action']],ap['prototype'],'deleteProperty',0x1),am([ao],ap['prototype'],'changeViewAllPropertyVisible',0x1),am([ao],ap['prototype'],'changeViewPropertyVisible',0x1),am([ao],ap['prototype'],'changeTablePropertyOrder',0x1),am([ao],ap['prototype'],'changeViewPropertyOrder',0x1),am([ao],ap['prototype'],'changeViewPropertySettings',0x1),am([ao],ap['prototype'],'changePropertyValueOrType',0x1),am([ao,X['action']],ap['prototype'],'insertPropertyOption',0x1),am([ao,X['action']],ap['prototype'],'deletePropertyOption',0x1),am([ao,X['action']],ap['prototype'],'updatePropertyOption',0x1),am([ao],ap['prototype'],'changePropertyOptionOrder',0x1),am([ao,X['action']],ap['prototype'],'updatePropertyFormula',0x1),am([ao],ap['prototype'],'finishRowLoading',0x1),am([ao],ap['prototype'],'duplicateRow',0x1),am([ao],ap['prototype'],'insertTopRow',0x1),am([ao],ap['prototype'],'insertRow',0x1),am([ao],ap['prototype'],'deleteRow',0x1),am([ao],ap['prototype'],'changeBlockPropertyValue',0x1),am([ao],ap['prototype'],'changeBlockPropertyTitle',0x1),am([ao],ap['prototype'],'changeViewFilterLogical',0x1),am([ao],ap['prototype'],'addViewFilter',0x1),am([ao],ap['prototype'],'changeViewFilter',0x1),am([ao],ap['prototype'],'removeViewFilter',0x1),am([ao],ap['prototype'],'addViewSort',0x1),am([ao],ap['prototype'],'changeViewSort',0x1),am([ao],ap['prototype'],'changeViewSortOrder',0x1),am([ao],ap['prototype'],'removeViewSort',0x1),am([ao,X['action']],ap['prototype'],'changeSnShow',0x1),am([ao,X['action']],ap['prototype'],'changeViewSetting',0x1),am([ao,X['action']],ap['prototype'],'insertTemplate',0x1),am([ao,X['action']],ap['prototype'],'duplicateTemplate',0x1),am([ao],ap['prototype'],'deleteTemplate',0x1),am([ao],ap['prototype'],'changeTemplateOrder',0x1),am([ao],ap['prototype'],'insertTemplateRow',0x1),am([ao],ap['prototype'],'setAggregator',0x1),am([ao],ap['prototype'],'changeViewColumnOrder',0x1),am([ao],ap['prototype'],'changeViewColumnVisible',0x1),am([ao],ap['prototype'],'changeViewAllColumnVisible',0x1),am([ao],ap['prototype'],'changeViewGroupBy',0x1);var aq=new ap();z['a']=aq;},'L8ty':function(a,b,c){a['exports']={'lockPage':'_1wOkZ','draggable':'_1Vx5f','pageCover':'_20WiH','um':'ZA0_6','page':'_2iguI','inputBox':'_3TF-N','lockInput':'_36kpF','disabled':'_2muZN','unlock':'_3HlFv','bottom':'_1H5xG','forgetPwd':'_1YV38','wolaiLogo':'en2Cq'};},'LKX9':function(b,f,g){'use strict';var h=g('q1tI'),j=g('9Koi'),k=g('+39A'),m=g('wAgm'),p=g('lW0W'),q=g('Vl7N'),u=g('9rbq'),v=['🤕'];f['a']=w=>{var {t:x}=Object(j['a'])('editor');return h['createElement']('div',{'className':'d-flex\x20flex-column\x20vh-100\x20container'},h['createElement']('div',{'className':'d-flex\x20flex-column\x20flex-md-row\x20align-items-center\x20p-3\x20mb-5\x20bg-white\x20'['concat'](k['header'])},!w['componentName']&&h['createElement']('div',{'className':'mr-md-auto\x20d-flex\x20align-items-center\x20'['concat'](k['headerLogo'])},h['createElement']('span',{'className':k['logoSvg']},u['hb']?h['createElement'](p['a'],{'width':'68'}):h['createElement'](m['a'],null)))),h['createElement']('div',{'className':'d-flex\x20flex-column\x20align-items-center\x20'['concat'](k['content'])},h['createElement']('div',{'className':k['title']},h['createElement']('span',{'className':k['lostSvg']},h['createElement'](q['a'],null)),v[Math['floor'](Math['random']()*v['length'])]),h['createElement']('div',{'className':''['concat'](k['description'],'\x20mt-5')},w['title']||x('editor.error.encounterProblem','很抱歉，发生了一个问题')),h['createElement']('div',{'className':''['concat'](k['tips'],'\x20mt-2')},w['errorInfo']),h['createElement']('div',{'className':'btn\x20btn-lg\x20btn-block\x20'['concat'](k['submitBtn']),'onClick':()=>{w['reload']?w['reload']():window['location']['reload']();}},w['buttonName']||x('editor.error.refresh','刷新'))));};},'Lr0L':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('odX6'),g=d('9rbq');class h{constructor(j){var k=this;this['traversalAnchorNodeParent']=l=>{var m=Object(f['b'])('dataStore'),p=Object(f['b'])('blockAPI'),q=Object(f['b'])('blockStore');if(l){var u=l['value']||{};if(u['type']!==g['y']['PAGE']&&u['id']){g['Bb']['includes'](u['type'])&&(p['changeToggleProperty'](u['id'],'yes'),q['setBlockDirty'](u));var v=m['getBlock'](u['parent_id']);v&&this['traversalAnchorNodeParent'](v);}}},this['traverseBlock']=function(l){var m=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[],p=Object(f['b'])('dataStore'),q=p['getBlockValue'](l);if(l!==k['screen']['id']&&'row'!==q['type']&&'column'!==q['type']&&m['push'](l),q['sub_nodes']&&q['sub_nodes']['length']){if(q['type']===g['y']['DATABASE']||q['type']===g['y']['PAGE']&&l!==k['screen']['id'])return m;q['sub_nodes']['forEach'](s=>{k['traverseBlock'](s,m);});}return m;},this['statistics']=m=>{for(var p=m['replace'](/[\s\n]/g,''),q=m['match'](g['C'])||[],v=m['match'](/\b\w+\b/g)||[],w=m['match'](/\b\d+\b/g)||[],x=p['match'](/[|~|`|!|@|#|$|%|^|&|*|(|)|\-|_|+|=|||\\|[|\]|{|}|;|:|"|'|,|<|.|>|/|?]/g)||[],y=0x0,z=0x0;z<p['length'];z++){p['charAt'](z)['match'](/[^\x00-\xff]/)&&y++;}var A=p['match'](g['V'])||[],B=p['match'](/[0-9]/g)||[],C={'total':p['length'],'cn_total':q['length'],'cn_punctuation':y-q['length'],'en_total':A['length'],'en_punctuation':x['length'],'num_words':w['length'],'en_words':v['length']-w['length'],'num_total':B['length'],'other_total':p['length']-q['length']-A['length']-x['length']-B['length']};return C['total']=C['cn_total']+C['en_punctuation']+C['num_words']+C['en_words']+C['other_total'],C;},this['screen']=j;}}},'LxEI':function(j,k,q){'use strict';var v=q('mwIZ'),w=q['n'](v),x=q('9rbq'),z=q('odX6'),A=Object['defineProperty'],B=Object['defineProperties'],C=Object['getOwnPropertyDescriptor'],D=Object['getOwnPropertyDescriptors'],E=Object['getOwnPropertySymbols'],F=Object['prototype']['hasOwnProperty'],G=Object['prototype']['propertyIsEnumerable'],H=(M,N,O)=>N in M?A(M,N,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':O}):M[N]=O,I=(M,N)=>{for(var O in N||(N={}))F['call'](N,O)&&H(M,O,N[O]);if(E){for(var O of E(N))G['call'](N,O)&&H(M,O,N[O]);}return M;},J=(M,N)=>B(M,D(N)),K=(M,N,O,P)=>{for(var Q,R=P>0x1?void 0x0:P?C(N,O):N,S=M['length']-0x1;S>=0x0;S--)(Q=M[S])&&(R=(P?Q(N,O,R):Q(R))||R);return P&&R&&A(N,O,R),R;};class L{constructor(){var M=this;this['domQueryCache']={},this['clearDomQueryCache']=()=>{this['domQueryCache']={};},this['$']=function(N){var O=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1];if(N['startsWith']('~')?N=N['substr'](0x1):N['startsWith']('#screen-')||(N='#screen-'['concat'](M['screenStore']['screenId'],'\x20')['concat'](N)),!M['domQueryCache'][N]){var P=document['querySelectorAll'](N);if(P['length'])M['domQueryCache'][N]=P;else{var Q=document['createElement']('span');M['domQueryCache'][N]=[Q];}}return O?M['domQueryCache'][N]:M['domQueryCache'][N][0x0];},this['hasClass']=(N,O)=>N&&N['classList']&&N['classList']['contains'](O),this['removeAllRangesAndBlur']=()=>{var {anchorNode:N}=document['getSelection'](),O=this['getContenteditableParent'](N);O&&O['blur'](),document['getSelection']()['removeAllRanges']();},this['findContentWrapperDom']=N=>N&&'BODY'!==N['nodeName']?this['hasClass'](N,'content-wrapper')?N:this['findContentWrapperDom'](N['parentElement']):null,this['isColumnNode']=N=>{for(var O=this['$']('#id-'['concat'](N));O['parentElement']&&!this['hasClass'](O['parentElement'],'column-node');)O=O['parentElement'];return!!O['parentElement'];},this['getContenteditableParent']=N=>{if(N){if(this['hasClass'](N,'table-cell')&&N['childNodes']['length']&&this['hasClass'](N['childNodes'][0x0],'content-editable'))return N['childNodes'][0x0];if(N['nodeType']!==Node['TEXT_NODE']&&this['hasClass'](N,'content-editable'))return N;for(var O=N['parentElement'];O&&!this['hasClass'](O,'content-editable');)O=O['parentElement'];return O;}},this['getBlockType']=N=>{if(!N)return'';for(var O=N;O;){if(O['dataset']&&O['dataset']['blockType'])return O['dataset']['blockType'];O=O['parentElement'];}return'';},this['withinContainer']=function(N,O){var P=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0,Q=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0x0;if(O){var {pageX:R,pageY:S}=N,{left:T,top:U,width:V,height:W}=O['getBoundingClientRect'](),X=R-T>P&&T+V-R>P,Y=S-U>Q&&U+W-S>Q;if(X&&Y)return!0x0;}},this['getTableIdByCell']=N=>{var O,P=this['editorUI']['selectedTable'];if(O=P?this['$']('#id-'['concat'](P,'\x20#id-')['concat'](N)):this['$']('#id-'['concat'](N))){var {blockId:Q}=O['dataset'];return Q;}},this['selectedCellScrollToView']=(N,O,P)=>{var Q=this['$']('#database-block-'['concat'](N,'\x20.cell-')['concat'](O,'-')['concat'](P)),R=this['$']('#database-block-'['concat'](N));Q&&R&&(R['scrollLeft']+R['offsetWidth']-Q['offsetWidth']<Q['offsetLeft']&&R['scrollTo']({'left':Q['offsetLeft']+Q['offsetWidth']-R['offsetWidth'],'behavior':'instant'}),R['scrollLeft']>Q['offsetLeft']&&R['scrollTo']({'left':Q['offsetLeft'],'behavior':'instant'}));},this['getProgressBarByElement']=N=>{var O=N;if(!O)return null;for(;O&&'BODY'!==O['nodeName']&&!this['hasClass'](O,'wolai-progress-bar');)O=O['parentElement'];return O;},this['getCellDataProps']=()=>{var {anchorNode:N}=document['getSelection'](),O=N&&this['getContenteditableParent'](N),P=O&&O['parentNode'];if(!P)return{};var {cellColumn:Q,cellRow:R,cellId:S,blockId:T,codeId:U}=P['dataset'];return{'cellColumn':Number(Q),'cellRow':Number(R),'cellId':S,'blockId':T,'codeId':U};},this['styleSettings']=(N,O)=>{try{if('string'!=typeof N&&N['length'])N['forEach'](Q=>{if(Q){for(var R in O)Q['style'][R]=O[R];}});else{var P=N['style']?[N]:document['querySelectorAll'](N);P['length']&&P['forEach'](Q=>{for(var R in O)Q['style'][R]=O[R];});}}catch(Q){}},this['getNodeIdByElement']=N=>{if(!N)return'';var O=N['nodeType']===Node['TEXT_NODE']?N['parentElement']:N;if(!O||!O['getAttribute'])return'';for(var P=O['getAttribute']('data-block-id')||'';!P&&(O=O['parentNode'])&&O['getAttribute'];)P=O['getAttribute']('data-block-id');return P;},this['getScreenByElement']=N=>{if(!N)return null;for(var O=document['querySelectorAll']('.drag-handle'),P=0x0;P<O['length'];P++)if(O[P]['contains'](N))return null;return this['screenStore']['screens']['find'](Q=>this['$']('#screen-'['concat'](Q['screenId']))['contains'](N));},this['createBackdrop']=N=>{var O=document['body']['querySelector']('.'['concat']('wolai-backdrop'));if(O)return O;var P=document['createElement']('div');return P['style']['width']='100%',P['style']['height']='100%',P['style']['position']='absolute',P['style']['left']='0',P['style']['top']='0',P['style']['zIndex']='99',P['style']['opacity']='0',P['classList']['add']('wolai-backdrop'),'function'==typeof N&&P['addEventListener']('click',N),document['body']['appendChild'](P),P;},this['prevent']=N=>{N&&(N['persist']&&N['persist'](),N['preventDefault'](),N['stopPropagation'](),N['cancelBubble']=!0x0);},this['getElementPosition']=N=>N['getBoundingClientRect'](),this['getSelectionCoords']=()=>{var N,O,P,Q,R=window['document'],S=0x0,T=0x0,U=0x0;try{if(window['getSelection']&&(N=window['getSelection']())['rangeCount']&&((O=N['getRangeAt'](0x0)['cloneRange']())['getClientRects']&&(O['collapse'](!0x0),(P=O['getClientRects']())['length']>0x0&&(Q=P[P['length']-0x1]),Q&&(S=Q['left'],T=Q['top'],U=Q['height'])),0x0===S&&0x0===T||void 0x0===Q)){var V=R['createElement']('span');if(V['getClientRects']){V['appendChild'](R['createTextNode']('​')),V['style']['display']='inline-block',V['style']['width']='0px',O['insertNode'](V),(Q=V['getBoundingClientRect']())&&(S=Q['left'],T=Q['top'],U=Q['height']);var W=V['parentNode'];W['removeChild'](V),W['normalize']();}}}catch(X){}return{'xPos':S,'yPos':T,'height':U};},this['getItemClientX']=(N,O)=>{var {type:P}=this['dataStore']['getBlockValue'](N['id']),Q=!O||![...x['pb'],x['y']['TEXT']]['includes'](P);if(N&&Q){var R=this['$']('#id-'['concat'](N['id']));if(R)return R['getBoundingClientRect']()['left'];}},this['previousLastSubNode']=(N,O)=>{var {pageX:P}=N,Q=this['blockAPI']['previousBlockId'](O['id']),R=this['getItemClientX'](this['dataStore']['getBlockValue'](Q));if(P&&R){var S=Math['floor']((P-R)/0x18);return S>0x1?this['blockAPI']['nthLevelId'](Q,S):{};}return{};},this['dropToBecomeSubNodeJudgement']=(N,O)=>{var {pageX:P}=N,Q=this['getItemClientX'](O,!0x0);return P&&Q&&P-Q>0x1e;},this['findNearestContainer']=(N,O,P)=>{if(N&&O){var Q=N['parentElement'],R=['pageRoot','editorRoot'];for(P&&R['push'](P);Q&&!R['includes'](Q['id']);){if(Q['dataset']['type']===O)return Q;Q=Q['parentElement'];}}},this['findNearestHighlightContainer']=N=>this['findNearestContainer'](N,'highlight'),this['findNearestSubNodeContainer']=(N,O)=>this['findNearestContainer'](N,'subnode',O),this['getTitleIndexByElement']=N=>{if(!N||N['hasAttribute']&&this['hasClass'](N,'content-editable'))return 0x0;for(var O=null,P=N;P&&!this['hasClass'](P,'content-editable');){if(P['hasAttribute']&&P['hasAttribute']('data-section-index')){O=Number(P['getAttribute']('data-section-index'));break;}P=P['parentElement'];}if(null===O)for(var Q=this['getNodeIdByElement'](N),R=this['blockAPI']['getNodeContentDom'](Q),S=0x0;S<R['childNodes']['length'];S++){if(R['childNodes'][S]['contains'](N)){O=S;break;}}return O||0x0;},this['existCursorInEditor']=()=>document['activeElement']!==document['body']&&document['getSelection']()['anchorNode']&&this['$']('#pageRoot')['contains'](document['getSelection']()['anchorNode']),this['isEditing']=()=>{var N=document['activeElement'],O=N['tagName']['toLowerCase']();return'input'===O||'textarea'===O||(!!this['getContenteditableParent'](N)||!!document['querySelector']('.menu-for-mobile'));},this['removeAllRanges']=()=>(document['getSelection']()['removeAllRanges'](),this),this['blur']=()=>{var N=document['activeElement'];return N instanceof HTMLElement&&N['blur'](),this;},this['filterEnter']=function(){var N=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'';return N['replace'](/\n*$/g,'');},this['noEditNode']=N=>this['hasClass'](N,'biLink-node')||this['hasClass'](N,'font-awesome-node')||this['hasClass'](N,'equation-node')||this['hasClass'](N,'mention-node')||this['hasClass'](N,'footnote-node')||this['hasClass'](N,'note-node'),this['noContenteditableNode']=N=>this['hasClass'](N,'biLink-node')||this['hasClass'](N,'equation-node')||this['hasClass'](N,'mention-node')||this['hasClass'](N,'footnote-node')||this['hasClass'](N,'note-node'),this['getNodeTotalOffset']=N=>{var O=0x0;if(this['noEditNode'](N))O=0x1;else{if(N['childNodes']['length']){for(var P=0x0;P<N['childNodes']['length'];P++)O+=this['getNodeTotalOffset'](N['childNodes'][P]);}else this['hasClass'](N,'emoji-node')?O+=N['alt']['length']:O+=(N['nodeValue']||N['textContent']||'')['length'];}return O;},this['forceToCloseTooltip']=()=>{document['querySelectorAll']('.MuiTooltip-popper')['forEach'](N=>{N['style']['display']||(N['style']['display']='none');});},this['findNearestBlockByMousePos']=function(N,O,P){var Q,R=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0xa0,T=arguments['length']>0x4&&void 0x0!==arguments[0x4]&&arguments[0x4],U='',V='',{left:W,right:X}=M['$']('#screen-'['concat'](N))['getBoundingClientRect']();if(M['editorUI']['blockCords'][N]){var Y=M['editorUI']['blockCords'][N]['entries']();for(var [Z,a0]of Y){var {clientRect:a1}=a0;if(!a1){M['editorUI']['blockCords'][N]['get'](Z);break;}var a2=M['dataStore']['getBlockProperty'](Z,'type'),a3=0xa,a4=0x4;if(a2===x['y']['CODE']?(a3=0x0,a4=0x0):[x['y']['TOGGLE_HEADER_H1'],x['y']['HEADER_H1']]['includes'](a2)?(a3=0x20,a4=0x9):[x['y']['TOGGLE_HEADER_H2'],x['y']['HEADER_H2']]['includes'](a2)?(a3=0x16,a4=0x5):[x['y']['TOGGLE_HEADER_H3'],x['y']['HEADER_H3']]['includes'](a2)?(a3=0xc,a4=0x5):[x['y']['TOGGLE_HEADER_H4'],x['y']['HEADER_H4']]['includes'](a2)&&(a4=0x5),a1['top']<P+a3&&P<=a1['height']+a1['top']+a4){if(T){var a5=W,a6=X;a5<=O&&O<a6&&(Q?Math['abs'](O-M['editorUI']['blockCords'][N]['get'](Q)['clientRect']['left'])>Math['abs'](O-M['editorUI']['blockCords'][N]['get'](Z)['clientRect']['left'])&&(Q=Z):Q=Z);}else{var a7=Math['max'](a1['left']-R,W),a8=a1['right'];a7<=O&&O<a8&&(!U||U&&U>a1['height']&&V&&V>a1['right'])&&(Q=Z,V=a1['right'],U=a1['height']);}}}return Q;}},this['getParentElementBy']=(N,O)=>{for(var P=N;P;){if(O(P))return P;P=P['parentElement'];}},this['getBlockRootElement']=(N,O)=>document['querySelector']('#screen-'['concat'](N,'\x20[data-area=\x22block-root\x22][data-id=\x22')['concat'](O,'\x22]')),this['getItemStyle']=(N,O,P,Q,R)=>{var S=O,{transform:T}=S,U=((W,X)=>{var Y={};for(var Z in W)F['call'](W,Z)&&X['indexOf'](Z)<0x0&&(Y[Z]=W[Z]);if(null!=W&&E){for(var Z of E(W))X['indexOf'](Z)<0x0&&G['call'](W,Z)&&(Y[Z]=W[Z]);}return Y;})(S,['transform']),V=I(I({'boxShadow':N?'0\x200\x2010px\x20rgba(0,\x200,\x200,\x200.11111)':'none'},U),R?{'transitionDuration':'0.001s'}:{});return T?J(I({},V),Q?{'transform':T}:P?{'transform':'translate('['concat'](T['substring'](T['indexOf']('(')+0x1,T['indexOf'](',')),',\x200)')}:{'transform':'translate(0,\x20'['concat'](T['substring'](T['indexOf'](',')+0x1,T['indexOf'](')')),')')}):V;},this['getListStyle']=N=>({'background':N?'rgba(255,\x2071,\x2071,\x200.15)':'transparent'}),this['getParentElementByClassName']=(N,O)=>this['getParentElementBy'](N,P=>P['classList']['contains'](O)),this['getContentWidth']=N=>{if(!N)return console['error']('[getContentWidth]\x20el\x20is\x20undefined'),0x0;var O=document['createElement']('div');O['style']['cssText']='width:100%\x20!important;height:0\x20!important;border:0\x20!important;padding:0\x20!important;margin:0\x20!important;',N['appendChild'](O);var P=O['offsetWidth'];return O['remove'](),P;},this['getPercentageWidth']=N=>{if(!N)return'100%';var O=N['parentElement'];if(!O)return'100%';var P=this['getContentWidth'](O),{width:Q}=N['getBoundingClientRect']();return''['concat'](Q/P*0x64,'%');};}['listenDomTreeChange'](){var M=window['MutationObserver'],N=document['body'];this['observer']=new M(()=>{this['clearDomQueryCache']();}),this['observer']['observe'](N,{'childList':!0x0,'subtree':!0x0});}['removeListenDomTreeChange'](){this['observer']&&this['observer']['disconnect']();}['getWholeText'](M,N){if(N['nodeType']===Node['TEXT_NODE']){var O=this['getTitleIndexByElement'](N),P=this['$']('#id-'['concat'](M,'\x20[data-section-index=\x22')['concat'](O,'\x22]'));return this['noContenteditableNode'](P)?'':P['textContent']||'';}return w()(N,'textContent','');}['isSelectionCaret'](){var {type:M}=document['getSelection']();return'Caret'===M;}['isSelectionRange'](){var {type:M}=document['getSelection']();return'Range'===M;}['isInViewport'](M){var N=M['getBoundingClientRect']();return N['top']>=0x0&&N['left']>=0x0&&N['bottom']<=(window['innerHeight']||document['documentElement']['clientHeight'])&&N['right']<=(window['innerWidth']||document['documentElement']['clientWidth']);}['getSelection'](){var {anchorNode:M,anchorOffset:N,focusNode:O,focusOffset:P,isCollapsed:Q}=document['getSelection']();if(!M||!this['$']('#pageRoot')['contains'](M))return[];var R=this['getOffset'](M,N),S=R;if(Q||(S=this['getOffset'](O,P)),!R['nodeId'])return[];var {index:T,offset:U}=this['blockAPI']['getTitlePositionByOffset'](R['nodeId'],R['totalOffset']),{index:V,offset:W}=this['blockAPI']['getTitlePositionByOffset'](R['nodeId'],S['totalOffset']);return[{'nodeId':R['nodeId'],'index':T,'innerOffset':U,'totalOffset':R['totalOffset'],'node':{'offset':N}},{'nodeId':R['nodeId'],'index':V,'innerOffset':W,'totalOffset':S['totalOffset'],'node':{'offset':P}}]['sort']((X,Y)=>X['totalOffset']-Y['totalOffset']);}['getSelectionInCommonEditorInput'](M){var {anchorNode:N,anchorOffset:O,focusNode:P,focusOffset:Q,isCollapsed:R}=document['getSelection']();if(!N||!(Y=>{if(!document['querySelector']('.editor-input-area'))return!0x1;var Z=document['querySelectorAll']('.editor-input-area'),a0=!0x1;return Z['forEach'](a1=>{a0||a1['contains'](Y)&&(a0=!0x0);}),a0;})(N))return[];var S=this['getOffset'](N,O),T=S;R||(T=this['getOffset'](P,Q));var {index:U,offset:V}=this['blockAPI']['getTitlePositionByOffset'](M,S['totalOffset']),{index:W,offset:X}=this['blockAPI']['getTitlePositionByOffset'](M,T['totalOffset']);return[{'nodeId':S['nodeId'],'index':U,'innerOffset':V,'totalOffset':S['totalOffset'],'node':{'offset':O}},{'nodeId':S['nodeId'],'index':W,'innerOffset':X,'totalOffset':T['totalOffset'],'node':{'offset':Q}}]['sort']((Y,Z)=>Y['totalOffset']-Z['totalOffset']);}['getPreviousSiblingsTotalLength'](M){var N=0x0,O=M;if(!O)return 0x0;for(;O['previousSibling'];)(O=O['previousSibling'])instanceof Text?N+=O['wholeText']['length']:O instanceof HTMLElement&&(N+=O['textContent']['length']);return N;}['getOffset'](M,N){var O,P=0x0,Q=(U,V,W)=>{if(0x0===W||'\x0a'===U['nodeValue']&&W>0x0)this['hasClass'](U,'content-editable')||(U['previousSibling']?Q(U['previousSibling'],!0x1):Q(U['parentElement'],!0x0));else{if(this['hasClass'](U,'content-editable')){if(W>0x0){var X=U['childNodes'][W-0x1];P+=this['getNodeTotalOffset'](X),W>0x1&&Q(U['childNodes'][W-0x2],!0x1);}}else{if(U['nodeType']===Node['TEXT_NODE'])V||('\x0a'===U['nodeValue']&&U['nextSibling']&&U['nextSibling']===U['parentElement']['childNodes'][U['parentElement']['childNodes']['length']-0x1]&&'\x0a'===U['nextSibling']['nodeValue']&&(P+=0x1),P+=W>=0x0?W:U['nodeValue']['length']),Q(U['previousSibling']?U['previousSibling']:U['parentElement'],!U['previousSibling']);else{if(W>=0x0){if(0x0===W)Q(U,!0x0);else{var Y=U['childNodes'][W-0x1];P+=this['getNodeTotalOffset'](Y),Q(Y['previousSibling']?Y['previousSibling']:Y['parentElement'],!Y['previousSibling']);}}else{var Z=Array['prototype']['indexOf']['call'](U['parentElement']['childNodes'],U);if(Z>0x0||0x0===Z&&!V){var a0=U['parentElement']['childNodes'][V?Z-0x1:Z];V&&(U=U['previousSibling']),P+=this['getNodeTotalOffset'](a0);}Q(U['previousSibling']?U['previousSibling']:U['parentElement'],!U['previousSibling']);}}}}};if(this['getContenteditableParent'](M)){if(O=this['getNodeIdByElement'](M),'code'===this['getBlockType'](M)){var R=this['getContenteditableParent'](M),S=R&&R['parentNode'];S&&S['dataset']['codeId']?Q(M,!0x1,N):P=((U,V)=>{if(U instanceof HTMLElement&&'true'===U['contentEditable'])return 0x0;for(var W=null!=V?V:0x0,X=U;X&&!(X instanceof HTMLElement&&X['dataset']&&X['dataset']['inlineType']&&X['dataset']['inlineType']['includes']('CodeHighlight'));)W+=this['getPreviousSiblingsTotalLength'](X),X=X['parentElement'];return W+=this['getPreviousSiblingsTotalLength'](X);})(M,N);}else this['hasClass'](M,'table-cell')&&M['childNodes']['length']&&this['hasClass'](M['childNodes'][0x0],'content-editable')?Q(M['childNodes'][0x0],!0x1,N):Q(M,!0x1,N);}else{if(this['hasClass'](M,'content-wrapper')){if(O=M['getAttribute']('data-block-id')){var T=this['blockAPI']['getNodeTitle'](O);P=0x0===N?0x0:this['blockAPI']['getTitleCursorOffsetByTitle'](T);}}else 0x0===N?(P=0x0,O=this['blockStore']['pageId']):(O=M['childNodes'][N-0x1]&&M['childNodes'][N-0x1]['getAttribute']('data-block-id'))&&(P=0x0);}return{'nodeId':O,'totalOffset':P};}}K([z['b']],L['prototype'],'blockAPI',0x2),K([z['b']],L['prototype'],'blockStore',0x2),K([z['b']],L['prototype'],'dataStore',0x2),K([z['b']],L['prototype'],'editorUI',0x2),K([z['b']],L['prototype'],'screenStore',0x2),k['a']=L;},'M9XF':function(b,c,d){'use strict';var f=d('f9x4'),g=d('C8q+');class h{constructor(j,k){this['valueType']=j,this['error']=k,this['returnType']=function(l){return'string'===l?f['p']['Text']:'number'===l?f['p']['Number']:'boolean'===l?f['p']['Checkbox']:'date'===l?f['p']['Date']:f['p']['Text'];}(j);}}c['a']=class{['metadata'](j){var k=this['constructor']['implementedFunctions'][j];if(void 0x0!==k)return k;throw new Error('No\x20metadata\x20for\x20function\x20'['concat'](j,'.'));}['runFunction'](j,k){var m,p,q,v=this['metadata'](k),w=v['parameters'];if(j['length']>w['length']&&!v['expandRanges'])return new h(v['valueType'],new g['a'](g['b']['NA'],g['c']['WrongArgNumber'](k)));for(var x=j['length'];x<w['length'];x++)if(void 0x0===(null==(m=w[x])?void 0x0:m['defaultValue'])&&!(null==(p=w[x])?void 0x0:p['optionalArg']))return new h(v['valueType'],new g['a'](g['b']['NA'],g['c']['WrongArgNumber'](k)));for(var y=0x0;y<j['length'];y++){var z=j[y];if('error'===z['valueType'])return new h(v['valueType'],new g['a'](g['b']['VALUE'],g['c']['WrongArgValue'](k)));if(void 0x0===(null==(q=w[y])?void 0x0:q['defaultValue'])&&!w[y]['argumentType']['includes'](z['valueType']))return new h(v['valueType'],new g['a'](g['b']['VALUE'],g['c']['WrongArgValue'](k)));}return new h(v['valueType']);}};},'MUmR':function(b,f,g){'use strict';g['d'](f,'c',function(){return k;}),g['d'](f,'a',function(){return m;}),g['d'](f,'b',function(){return p;}),g['d'](f,'f',function(){return q;}),g['d'](f,'d',function(){return u;}),g['d'](f,'e',function(){return v;});var h=g('5D19'),j=(w,x,y)=>new Promise((z,A)=>{var B=E=>{try{D(y['next'](E));}catch(F){A(F);}},C=E=>{try{D(y['throw'](E));}catch(F){A(F);}},D=E=>E['done']?z(E['value']):Promise['resolve'](E['value'])['then'](B,C);D((y=y['apply'](w,x))['next']());}),k=function(){for(var w=arguments['length'],x=new Array(w),y=0x0;y<w;y++)x[y]=arguments[y];return j(void 0x0,[...x],function*(){var z=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},{workspaceId:A,channel:B,orderItemId:C,desiredTeamSize:D,quantity:E,updateSizeOnly:F,eduPrice:G}=z,H=yield Object(h['n'])(Object(h['p'])('order/create'),{'workspaceId':A,'channel':B,'orderItemId':C,'desiredTeamSize':D,'quantity':E,'updateSizeOnly':F,'eduPrice':G},h['h']);return H;});},m=function(){for(var w=arguments['length'],x=new Array(w),y=0x0;y<w;y++)x[y]=arguments[y];return j(void 0x0,[...x],function*(){var z=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},{workspaceId:A,orderItemId:B,desiredTeamSize:C,quantity:D,updateSizeOnly:E,eduPrice:F}=z,G=yield Object(h['n'])(Object(h['p'])('order/calculateQuote'),{'workspaceId':A,'orderItemId':B,'desiredTeamSize':C,'quantity':D,'updateSizeOnly':E,'eduPrice':F},h['h'],!0x0);return G;});},p=(w,x)=>j(void 0x0,null,function*(){return yield Object(h['n'])(Object(h['p'])('order/checkOrder'),{'orderId':w,'paymentMethod':x},h['h']);}),q=()=>j(void 0x0,null,function*(){return yield Object(h['i'])(Object(h['p'])('order/getUserOrders'),h['h']);}),u=()=>j(void 0x0,null,function*(){return yield Object(h['i'])(Object(h['p'])('order/items/all'),h['h']);}),v=w=>j(void 0x0,null,function*(){return yield Object(h['i'])(Object(h['p'])('order/plan/'['concat'](w)),h['h']);});},'McM7':function(b,f,g){'use strict';var j=g('BkRI'),k=g['n'](j),m=g('2vnA'),q=g('OIS1'),v=g('odX6'),w=g('x3qf'),x=g('bXzw'),y=Object['defineProperty'],z=Object['getOwnPropertyDescriptor'],A=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?z(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&y(D,E,H),H;};Object(m['configure'])({'enforceActions':'never'});class B{constructor(){this['event']={},this['setPreviewData']=(C,D)=>{if(this['blockId']=C,this['anchorEl']=D,this['blockId']){var E=Object(q['b'])(),F=k()(this['dataStore']['blocks'][this['blockId']]);F['value']['id']=E,this['dataStore']['blocks'][E]=F,this['screen']=new w['a']({'type':'preview'}),this['screenStore']['screens']['push'](this['screen']),this['screen']['locked']=!0x0,this['screen']['pageDataRenderId']=Object(q['b'])(),this['screen']['pageData']={},this['screen']['pageData'][this['screen']['pageDataRenderId']]={'children':this['screen']['layout']['transformTreeData']({'blockIdsList':[E]})};}},this['clearPreviewData']=()=>{this['anchorEl']=null,this['blockId']='',this['event']={},this['screen']&&(this['screenStore']['removeScreen'](this['screen']['screenId']),this['screen']=null);},this['setEvent']=C=>{this['event']=C;};}}A([v['b']],B['prototype'],'dataStore',0x2),A([v['b']],B['prototype'],'screenStore',0x2),A([m['observable']],B['prototype'],'blockId',0x2),A([m['observable']],B['prototype'],'anchorEl',0x2),A([m['observable']],B['prototype'],'screen',0x2),A([m['action']],B['prototype'],'setPreviewData',0x2),A([m['action']],B['prototype'],'clearPreviewData',0x2),f['a']=Object(x['a'])(B);},'MuQO':function(a,b,c){a['exports']={'layout':'fdodN','tooltip':'_3Kt4V','content':'_2Xq66','tooltipSvg':'_3vmhH','closeTooltip':'_1uuZt','mobileLayout':'_2R-KD'};},'Mucf':function(j,k,q){'use strict';q['d'](k,'e',function(){return x;}),q['d'](k,'i',function(){return z;}),q['d'](k,'f',function(){return A;}),q['d'](k,'g',function(){return B;}),q['d'](k,'b',function(){return C;}),q['d'](k,'c',function(){return D;}),q['d'](k,'d',function(){return E;}),q['d'](k,'h',function(){return F;}),q['d'](k,'p',function(){return G;}),q['d'](k,'n',function(){return H;}),q['d'](k,'k',function(){return I;}),q['d'](k,'l',function(){return J;}),q['d'](k,'m',function(){return K;}),q['d'](k,'a',function(){return L;}),q['d'](k,'o',function(){return M;}),q['d'](k,'j',function(){return N;});var w=q('uidj'),x={'SET':'set','UPDATE':'update','DELETE':'delete','UPDATE_COMMENT':'updateComment','UPDATE_PERMISSION':'updatePermission','UPDATE_TABLE':'updateTable','LIST_AFTER':'listAfter','LIST_BEFORE':'listBefore','LIST_REMOVE':'listRemove','COPY':'copy'},z={'UPDATE':'update','DELETE':'delete','INSERT_ROW':'insertRow','INSERT_COLUMN':'insertColumn','SWAP_ROW':'swapRow','SWAP_COLUMN':'swapColumn','UPDATE_FLEX':'updateFlex','UPDATE_SETTING':'updateSetting'},A=Object['freeze']({'wolai-secure':'https://secure2.wostatic.cn','wolai-non-secure':'https://non-secure.wostatic.cn','wolai-secure-bigfile':'https://secure-bigfile.wostatic.cn'}),B=Object['freeze'](Object['keys'](A)['reduce']((O,P)=>(O[A[P]]=P,O),{})),C={'FREE_PERSONAL_WORKSPACE_BLOCK_COUNT_LIMIT':'FREE_PERSONAL_WORKSPACE_BLOCK_COUNT_LIMIT','FREE_TEAM_WORKSPACE_BLOCK_COUNT_LIMIT':'FREE_TEAM_WORKSPACE_BLOCK_COUNT_LIMIT','PEXELS_SEARCH_KEYWORD':'PEXELS_SEARCH_KEYWORD','UNSPLASH_SEARCH_KEYWORD':'UNSPLASH_SEARCH_KEYWORD','FREE_WORKSPACE_FORM_SIZE_LIMIT':'FREE_WORKSPACE_FORM_SIZE_LIMIT','FREE_TEAM_WORKSPACE_FORM_SIZE_LIMIT':'FREE_TEAM_WORKSPACE_FORM_SIZE_LIMIT','PRO_WORKSPACE_FORM_SIZE_LIMIT':'PRO_WORKSPACE_FORM_SIZE_LIMIT','PRO_FAMILY_WORKSPACE_FORM_SIZE_LIMIT':'PRO_FAMILY_WORKSPACE_FORM_SIZE_LIMIT','TEAM_STANDARD_WORKSPACE_FORM_SIZE_LIMIT':'TEAM_STANDARD_WORKSPACE_FORM_SIZE_LIMIT','TEAM_PRO_WORKSPACE_FORM_SIZE_LIMIT':'TEAM_PRO_WORKSPACE_FORM_SIZE_LIMIT','TEAM_ENTERPRISE_WORKSPACE_FORM_SIZE_LIMIT':'TEAM_ENTERPRISE_WORKSPACE_FORM_SIZE_LIMIT','FREE_WORKSPACE_FILE_SIZE_LIMIT':'FREE_WORKSPACE_FILE_SIZE_LIMIT','FREE_TEAM_WORKSPACE_FILE_SIZE_LIMIT':'FREE_TEAM_WORKSPACE_FILE_SIZE_LIMIT','PRO_WORKSPACE_FILE_SIZE_LIMIT':'PRO_WORKSPACE_FILE_SIZE_LIMIT','PRO_FAMILY_WORKSPACE_FILE_SIZE_LIMIT':'PRO_FAMILY_WORKSPACE_FILE_SIZE_LIMIT','TEAM_STANDARD_WORKSPACE_FILE_SIZE_LIMIT':'TEAM_STANDARD_WORKSPACE_FILE_SIZE_LIMIT','TEAM_PRO_WORKSPACE_FILE_SIZE_LIMIT':'TEAM_PRO_WORKSPACE_FILE_SIZE_LIMIT','TEAM_ENTERPRISE_WORKSPACE_FILE_SIZE_LIMIT':'TEAM_ENTERPRISE_WORKSPACE_FILE_SIZE_LIMIT','PRO_WORKSPACE_PAGE_HISTORY':'PRO_WORKSPACE_PAGE_HISTORY','PRO_FAMILY_WORKSPACE_PAGE_HISTORY':'PRO_FAMILY_WORKSPACE_PAGE_HISTORY','TEAM_STANDARD_WORKSPACE_PAGE_HISTORY':'TEAM_STANDARD_WORKSPACE_PAGE_HISTORY','TEAM_PRO_WORKSPACE_PAGE_HISTORY':'TEAM_PRO_WORKSPACE_PAGE_HISTORY','TEAM_ENTERPRISE_WORKSPACE_PAGE_HISTORY':'TEAM_ENTERPRISE_WORKSPACE_PAGE_HISTORY','TEAM_FREE_WORKSPACE_PAGE_HISTORY':'TEAM_FREE_WORKSPACE_PAGE_HISTORY'},D={[w['d']['FREE']]:C['FREE_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['TEAM_FREE']]:C['FREE_TEAM_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['PERSONAL_PRO']]:C['PRO_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['PERSONAL_FAMILY']]:C['PRO_FAMILY_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['TEAM_STANDARD']]:C['TEAM_STANDARD_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['TEAM_PRO']]:C['TEAM_PRO_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['TEAM_ENTERPRISE']]:C['TEAM_ENTERPRISE_WORKSPACE_FILE_SIZE_LIMIT'],[w['d']['TEAM_ENTERPRISE_TRYOUT']]:C['TEAM_ENTERPRISE_WORKSPACE_FILE_SIZE_LIMIT']},E={[w['d']['FREE']]:C['FREE_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['TEAM_FREE']]:C['FREE_TEAM_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['PERSONAL_PRO']]:C['PRO_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['PERSONAL_FAMILY']]:C['PRO_FAMILY_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['TEAM_STANDARD']]:C['TEAM_STANDARD_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['TEAM_PRO']]:C['TEAM_PRO_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['TEAM_ENTERPRISE']]:C['TEAM_ENTERPRISE_WORKSPACE_FORM_SIZE_LIMIT'],[w['d']['TEAM_ENTERPRISE_TRYOUT']]:C['TEAM_ENTERPRISE_WORKSPACE_FORM_SIZE_LIMIT']},F={[w['d']['PERSONAL_PRO']]:C['PRO_WORKSPACE_PAGE_HISTORY'],[w['d']['PERSONAL_FAMILY']]:C['PRO_FAMILY_WORKSPACE_PAGE_HISTORY'],[w['d']['TEAM_STANDARD']]:C['TEAM_STANDARD_WORKSPACE_PAGE_HISTORY'],[w['d']['TEAM_PRO']]:C['TEAM_PRO_WORKSPACE_PAGE_HISTORY'],[w['d']['TEAM_ENTERPRISE']]:C['TEAM_ENTERPRISE_WORKSPACE_PAGE_HISTORY'],[w['d']['TEAM_ENTERPRISE_TRYOUT']]:C['TEAM_ENTERPRISE_WORKSPACE_PAGE_HISTORY'],[w['d']['TEAM_FREE']]:C['TEAM_FREE_WORKSPACE_PAGE_HISTORY']},G=[{'key':'1','value':'<=5','desc':'5人以下'},{'key':'2','value':'5-20','desc':'10人左右'},{'key':'3','value':'20-50','desc':'20-50人'},{'key':'4','value':'51-100','desc':'51-100人'},{'key':'5','value':'>100','desc':'100人以上'}],H=[{'key':'internet','value':'internet','desc':'互联网'},{'key':'hardware','value':'hardware','desc':'硬件制造'},{'key':'design','value':'design','desc':'建筑设计'},{'key':'media','value':'media','desc':'新媒体'},{'key':'software','value':'software','desc':'软件服务'},{'key':'consult','value':'consult','desc':'咨询'},{'key':'medical','value':'medical','desc':'医疗'},{'key':'finance','value':'finance','desc':'金融'},{'key':'retail','value':'retail','desc':'零售'},{'key':'edu','value':'edu','desc':'科研教育培训'},{'key':'entertainment','value':'entertainment','desc':'生活娱乐'},{'key':'others','value':'others','desc':'其他'}],I=[{'key':'manager','value':'manager','desc':'管理人员'},{'key':'tech','value':'tech','desc':'研发'},{'key':'product','value':'product','desc':'产品'},{'key':'operation','value':'operation','desc':'运营'},{'key':'pmo','value':'pmo','desc':'项目管理'},{'key':'design','value':'design','desc':'设计'},{'key':'market','value':'market','desc':'市场'},{'key':'sales','value':'sales','desc':'销售'},{'key':'research','value':'research','desc':'科研'},{'key':'teacher','value':'teacher','desc':'教师'},{'key':'student','value':'student','desc':'学生'},{'key':'hr','value':'hr','desc':'人事'},{'key':'admin','value':'admin','desc':'行政'},{'key':'finance','value':'finance','desc':'财务'},{'key':'others','value':'others','desc':'其他'}],J=[{'key':'friend','value':'friend','desc':'朋友推荐'},{'key':'wechat','value':'wechat','desc':'微信公众号/视频号'},{'key':'baidu','value':'baidu','desc':'百度搜索'},{'key':'zhihu','value':'zhihu','desc':'知乎'},{'key':'bili','value':'bili','desc':'B站'},{'key':'redbook','value':'redbook','desc':'小红书'},{'key':'weibo','value':'weibo','desc':'微博'},{'key':'tiktok','value':'tiktok','desc':'抖音'},{'key':'10','value':'10','desc':'其他（请注明）'}],K=''['concat']('https://www.wolai.com','/f/'),L={'CODE':'code','MERMAID':'mermaid','BOTH':'both'},M={'userCenter':'mobile-user-center','userCenterMore':'mobile-user-center-more','signOut':'mobile-sign-out','creditDetail':'mobile-credit-detail','orderHistory':'mobile-order-history','pageSetting':'mobile-page-setting','pageSettingDarkSwitch':'mobile-page-setting-dark-switch','blockSetting':'mobile-block-setting','uploadRecentPage':'mobile-upload-recent-page','uploadUrlPage':'mobile-upload-url-page','uploadIconPage':'mobile-upload-icon-page'},N='9MasDefJhGY91gVh628UBS';},'NMrn':function(f,j,k){'use strict';var m=k('2vnA'),q=k('7Scw'),v=k('odX6'),w=k('4/VU'),x=k('9rbq'),y=k('sA5H'),z=k('bXzw'),A=Object['defineProperty'],B=Object['getOwnPropertyDescriptor'],C=(G,H,I,J)=>{for(var K,L=J>0x1?void 0x0:J?B(H,I):H,M=G['length']-0x1;M>=0x0;M--)(K=G[M])&&(L=(J?K(H,I,L):K(L))||L);return J&&L&&A(H,I,L),L;},D=(G,H,I)=>new Promise((J,K)=>{var L=O=>{try{N(I['next'](O));}catch(P){K(P);}},M=O=>{try{N(I['throw'](O));}catch(P){K(P);}},N=O=>O['done']?J(O['value']):Promise['resolve'](O['value'])['then'](L,M);N((I=I['apply'](G,H))['next']());});class E{constructor(G){this['notices']=[],this['loading']=!0x1,this['unreadCount']=0x0,this['type']=G;}['addNotice'](G){this['notices']=this['notices']['concat'](G);}['initialize'](){this['loading']=!0x1,this['notices']=[],this['lastSequence']=void 0x0;}}C([m['observable']],E['prototype'],'loading',0x2),C([m['observable']],E['prototype'],'unreadCount',0x2),C([m['observable']],E['prototype'],'notices',0x2);class F{constructor(){this['allOtherSpacesNoticeCount']=new Map(),this['isOpen']=!0x1,this['currentNoticeType']=q['b']['Inbox'],this['allSpaceUserNotice']=new E(q['b']['All']),this['inboxSpaceUserNotice']=new E(q['b']['Inbox']),this['followSpaceUserNotice']=new E(q['b']['Follow']);}get['currentUserNotice'](){switch(this['currentNoticeType']){case q['b']['All']:return this['allSpaceUserNotice'];case q['b']['Inbox']:return this['inboxSpaceUserNotice'];case q['b']['Follow']:return this['followSpaceUserNotice'];default:throw new Error('unknown\x20notice\x20type\x20'['concat'](this['currentNoticeType']));}}get['currentSpaceId'](){return this['spaceStore']['currentWorkspace']['id'];}['initCurrentSpaceNotice'](G){return D(this,null,function*(){this['allSpaceUserNotice']['initialize'](),this['inboxSpaceUserNotice']['initialize'](),this['followSpaceUserNotice']['initialize'](),yield Promise['all']([this['loadUnreadUserNoticeCount'](this['inboxSpaceUserNotice']),this['loadUnreadUserNoticeCount'](this['followSpaceUserNotice'])]),this['allSpaceUserNotice']['unreadCount']=this['inboxSpaceUserNotice']['unreadCount'],Object(w['m'])(this['allSpaceUserNotice']['unreadCount']),this['isOpen']&&(this['currentNoticeType']=null!=G?G:this['currentNoticeType'],yield this['onChangeCurrentNoticeType'](this['currentNoticeType'])),G||(this['inboxSpaceUserNotice']['unreadCount']>0x0?this['currentNoticeType']=q['b']['Inbox']:this['followSpaceUserNotice']['unreadCount']>0x0&&(this['currentNoticeType']=q['b']['Follow']));});}['initialize'](G){return D(this,null,function*(){yield this['initCurrentSpaceNotice'](G);var H=this['spaceStore']['workspaces']['map'](I=>I['id'])['filter'](I=>I!==this['currentSpaceId']);this['loadSpacesUnreadNoticeCount'](H);});}['free'](){return D(this,null,function*(){yield this['initialize']();});}['loadUserNotices'](G){return D(this,null,function*(){var H=this['currentSpaceId'];if(!G['loading']){G['loading']=!0x0;var I={'spaceId':H,'type':G['type'],'limit':0xa,'lastSequence':G['lastSequence']};try{yield this['loadUnreadUserNoticeCount'](this['currentUserNotice']);var J=yield Object(q['d'])(I);if(J&&J['notices']['length']>0x0){G['addNotice'](J['notices']),G['lastSequence']=J['lastSequence'];var K=[],L=[];if(J['notices']['forEach'](P=>{var Q=P['message_body']['send_user'];if(!Q||'system'===Q||K['includes'](Q)||this['memberStore']['currentWorkspaceMembers']['get'](Q)||K['push'](Q),P['message_body']['ref_block']){var {id:R,page:S}=P['message_body']['ref_block'];R&&!this['dataStore']['getBlockValue'](R)['id']&&L['push'](R),S&&!this['dataStore']['getBlockValue'](S)['id']&&L['push'](S);}}),K['length']&&(yield this['publicUserStore']['fetchUsers'](K)),L['length']){var M=yield Object(y['v'])(L['map'](P=>({'table':x['Db'],'id':P})));this['dataStore']['syncBlockData'](M);}}var N=new Set();J['notices']['forEach'](P=>{switch(P['message_body']['msg_type']){case'comment':case'discuss':P['message_body']['ref_block']['page']&&(N['add'](P['message_body']['ref_block']['page']),N['add'](P['message_body']['ref_block']['id']));}}),N['size']>0x0&&(yield this['dataStore']['getPagesNavi'](Array['from'](N)));var O=[];J['notices']['forEach'](P=>{null!=P['message_body']['changelog_id']&&O['push'](P['message_body']['changelog_id']);}),O['length']>0x0&&(yield this['updatesStore']['getChangelogs'](O));}catch(P){G['loading']=!0x1,console['error'](P);}finally{G['loading']=!0x1;}}});}['loadUnreadUserNoticeCount'](G){return D(this,null,function*(){if(this['userStore']['userId']){var H={'spaceId':this['currentSpaceId'],'type':G['type']};try{var I=yield Object(q['c'])(H);I&&(G['unreadCount']=I['unreadCount']);}catch(J){console['error'](J);}}});}['onLoadMoreCurrentNotices'](){return D(this,null,function*(){yield this['loadUserNotices'](this['currentUserNotice']);});}['onChangeCurrentNoticeType'](G){return D(this,null,function*(){this['currentNoticeType']=G,0x0===this['currentUserNotice']['notices']['length']&&(yield this['onLoadMoreCurrentNotices']());});}['loadSpacesUnreadNoticeCount'](G){return D(this,null,function*(){this['userStore']['userId']||(this['allOtherSpacesNoticeCount']=new Map());var H=yield Promise['all'](G['map'](I=>Object(q['c'])({'spaceId':I,'type':q['b']['Inbox']})));this['allOtherSpacesNoticeCount']=H['reduce']((I,J,K)=>(J&&I['set'](G[K],J['unreadCount']),I),new Map());});}}C([v['b']],F['prototype'],'dataStore',0x2),C([v['b']],F['prototype'],'userStore',0x2),C([v['b']],F['prototype'],'spaceStore',0x2),C([v['b']],F['prototype'],'updatesStore',0x2),C([v['b']],F['prototype'],'memberStore',0x2),C([v['b']],F['prototype'],'publicUserStore',0x2),C([m['observable']],F['prototype'],'currentNoticeType',0x2),C([m['observable']],F['prototype'],'allOtherSpacesNoticeCount',0x2),C([m['computed']],F['prototype'],'currentUserNotice',0x1),C([m['observable']],F['prototype'],'inboxSpaceUserNotice',0x2),C([m['observable']],F['prototype'],'followSpaceUserNotice',0x2),C([m['observable']],F['prototype'],'allSpaceUserNotice',0x2),C([m['action']['bound']],F['prototype'],'loadUserNotices',0x1),C([m['action']['bound']],F['prototype'],'loadUnreadUserNoticeCount',0x1),C([m['action']['bound']],F['prototype'],'onLoadMoreCurrentNotices',0x1),C([m['action']['bound']],F['prototype'],'onChangeCurrentNoticeType',0x1),C([m['action']['bound']],F['prototype'],'loadSpacesUnreadNoticeCount',0x1),j['a']=Object(z['a'])(F);},'NaIb':function(f,g,j){'use strict';var k=j('2vnA'),m=j('Mn35'),q=j['n'](m),v=j('odX6'),w=j('IJWY'),x=j('uidj'),y=j('bXzw'),z=Object['defineProperty'],A=Object['getOwnPropertyDescriptor'],B=(E,F,G,H)=>{for(var I,J=H>0x1?void 0x0:H?A(F,G):F,K=E['length']-0x1;K>=0x0;K--)(I=E[K])&&(J=(H?I(F,G,J):I(J))||J);return H&&J&&z(F,G,J),J;},C=(E,F,G)=>new Promise((H,I)=>{var J=M=>{try{L(G['next'](M));}catch(N){I(N);}},K=M=>{try{L(G['throw'](M));}catch(N){I(N);}},L=M=>M['done']?H(M['value']):Promise['resolve'](M['value'])['then'](J,K);L((G=G['apply'](E,F))['next']());});class D{constructor(){var E=this;this['init']=()=>{this['workspaceGroups']=k['observable']['map'](),this['groupMemberMap']=k['observable']['map'](),this['searchMembers']=[],this['filterSet']=new Set(),this['initialFocusId']=null;},this['refreshGroupList']=()=>C(this,null,function*(){var F=this['spaceStore']['spaceId'];if(this['searchMembers']=[],this['filterSet']['clear'](),this['groupEnabled']){var G=yield Object(w['c'])(F);G&&Object(k['runInAction'])(()=>{this['workspaceGroups']['delete'](F);var H=new Map(G['filter'](I=>I['groupId'])['map'](I=>(this['groupMemberMap']['set'](I['groupId'],new Set(I['members'])),[I['groupId'],I])));this['workspaceGroups']['set'](F,H);});}}),this['createGroup']=()=>C(this,null,function*(){var F=this['spaceStore']['spaceId'],G=yield Object(w['b'])(F);Object(k['runInAction'])(()=>{var H=this['workspaceGroups']['get'](F);H&&(H['set'](G['groupId'],G),this['setInitialFocusId'](G['groupId']));});}),this['removeGroup']=F=>C(this,null,function*(){var G=this['spaceStore']['spaceId'];yield Object(w['d'])(G,F);var H=this['workspaceGroups']['get'](G);H&&H['delete'](F),this['groupMemberMap']['delete'](F);}),this['updateGroup']=F=>C(this,null,function*(){var G=this['spaceStore']['spaceId'],H=yield Object(w['f'])(G,F);this['updateGroupData'](H);}),this['updateGroupData']=F=>{Object(k['runInAction'])(()=>{var G=this['spaceStore']['spaceId'],H=this['workspaceGroups']['get'](G);H&&(H['set'](F['groupId'],F),this['workspaceGroups']['set'](G,H),this['groupMemberMap']['set'](F['groupId'],new Set(F['members'])));});},this['addMember']=(F,G)=>C(this,null,function*(){var H=this['spaceStore']['spaceId'],I=yield Object(w['a'])({'workspaceId':H,'groupId':F,'userId':G});this['updateGroupData'](I);}),this['removeMember']=(F,G)=>C(this,null,function*(){var H=this['spaceStore']['spaceId'],I=yield Object(w['e'])({'workspaceId':H,'groupId':F,'userId':G});this['updateGroupData'](I);}),this['queryMember']=function(){var F=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'';return E['userStore']['userId']?(E['spaceStore']['spaceId']&&(E['filterSet']['clear'](),E['memberStore']['currentWorkspaceMembers']['forEach'](G=>{var H;((null==(H=G['keyword'])?void 0x0:H['toLowerCase']())||'')['includes']((null==F?void 0x0:F['toLowerCase']())||'')&&E['filterSet']['add'](G['id']);})),Array['from'](E['filterSet']['values']())):[];},this['init']();}get['spaceGroups'](){var E=new Map();if(!this['userStore']['userId'])return E;var F=this['workspaceGroups']['get'](this['spaceStore']['spaceId']);return F?(F['forEach'](G=>{E['set'](G['groupId'],G);}),E):E;}get['userGroups'](){var E=new Set();if(!this['userStore']['userId'])return E;var F=this['workspaceGroups']['get'](this['spaceStore']['spaceId']);return F?(this['groupMemberMap']['forEach']((G,H)=>{if(G['has'](this['userStore']['userId'])){var I=F['get'](H);I&&E['add'](I);}}),E):E;}get['groups'](){var E,F=Array['from']((null==(E=this['workspaceGroups']['get'](this['spaceStore']['spaceId']))?void 0x0:E['values']())||[]),[G,H]=q()(F,K=>!K['pinyin']),I=G['sort']((K,L)=>L['createdTime']-K['createdTime']),J=H['sort']((K,L)=>{var [,,M='']=K['pinyin']['split']('\x20'),[,,N='']=L['pinyin']['split']('\x20');return M['toUpperCase']()['localeCompare'](N['toUpperCase']());});return I['concat'](J);}get['worksapceMembers'](){var E;return Array['from']((null==(E=this['memberStore']['currentWorkspaceMembers'])?void 0x0:E['values']())||[]);}get['groupMap'](){return this['workspaceGroups']['get'](this['spaceStore']['spaceId'])||new Map();}get['spaceEnabled'](){return!0x0;}get['groupEnabled'](){var E=this['spaceStore']['planType'],F=[x['d']['TEAM_PRO'],x['d']['TEAM_ENTERPRISE'],x['d']['TEAM_ENTERPRISE_TRYOUT']]['includes'](E),G=this['spaceEnabled'];return F&&G;}['setInitialFocusId'](E){this['initialFocusId']=E;}['removeInitialFocusId'](){this['initialFocusId']&&(this['initialFocusId']=null);}['showLoading'](E){this['spinner']=E;}['hideLoading'](){this['spinner']='';}}B([v['b']],D['prototype'],'userStore',0x2),B([v['b']],D['prototype'],'memberStore',0x2),B([v['b']],D['prototype'],'spaceStore',0x2),B([k['observable']],D['prototype'],'workspaceGroups',0x2),B([k['observable']],D['prototype'],'groupMemberMap',0x2),B([k['observable']],D['prototype'],'searchMembers',0x2),B([k['observable']],D['prototype'],'filterSet',0x2),B([k['observable']],D['prototype'],'spinner',0x2),B([k['observable']],D['prototype'],'initialFocusId',0x2),B([k['computed']],D['prototype'],'spaceGroups',0x1),B([k['computed']],D['prototype'],'userGroups',0x1),B([k['computed']],D['prototype'],'groups',0x1),B([k['computed']],D['prototype'],'worksapceMembers',0x1),B([k['computed']],D['prototype'],'groupMap',0x1),B([k['computed']],D['prototype'],'spaceEnabled',0x1),B([k['computed']],D['prototype'],'groupEnabled',0x1),B([k['action']],D['prototype'],'init',0x2),B([k['action']],D['prototype'],'refreshGroupList',0x2),B([k['action']],D['prototype'],'createGroup',0x2),B([k['action']],D['prototype'],'removeGroup',0x2),B([k['action']],D['prototype'],'updateGroup',0x2),B([k['action']],D['prototype'],'addMember',0x2),B([k['action']],D['prototype'],'removeMember',0x2),B([k['action']],D['prototype'],'queryMember',0x2),g['a']=Object(y['a'])(D);},'Nkp2':function(b,f,g){'use strict';var h=g('2vnA'),j=g('odX6'),k=g('WRmh'),m=g('bXzw'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],u=(w,x,y,z)=>{for(var A,B=z>0x1?void 0x0:z?q(x,y):x,C=w['length']-0x1;C>=0x0;C--)(A=w[C])&&(B=(z?A(x,y,B):A(B))||B);return z&&B&&p(x,y,B),B;};class v{constructor(){this['userGroups']=new Set();}['initialize'](){this['userGroups']['clear'](),this['groupStore']['userGroups']['forEach'](w=>{this['userGroups']['add'](w['groupId']);});}['hasPageActionLimit'](w,x,y){this['initialize']();var z,A={'id':this['userStore']['userId'],'guest':this['userStore']['isGuest'],'space':this['spaceStore']['currentWorkspace']['id'],'groups':Array['from'](this['userGroups'])};y&&y['length']>0x0&&(z=y),z||(z=this['dataStore']['getBlockPermissions'](w));var B=!0x0;for(var C of z)C['type']!==k['e']['Public']&&(B=!0x1);if(B){var D=this['dataStore']['getBlock'](w);if(D){var E=D['role'];E&&z['push']({'type':k['e']['User'],'role':E,'user_id':this['userStore']['userId']});}}return new k['b'](z)['hasActionLimit'](A,x);}['hasPagePublicActionLimit'](w,x,y){var z;if(this['initialize'](),!this['dataStore']['getBlock'](w))return!0x1;for(var A of y&&y['length']>0x0?y:this['dataStore']['getBlockPermissions'](w))if(A['type']===k['e']['Public']){z=A;break;}return!!z&&new k['b']([z])['hasPublicActionLimit'](x);}}u([j['b']],v['prototype'],'dataStore',0x2),u([j['b']],v['prototype'],'userStore',0x2),u([j['b']],v['prototype'],'spaceStore',0x2),u([j['b']],v['prototype'],'groupStore',0x2),u([h['action']['bound']],v['prototype'],'initialize',0x1),f['a']=Object(m['a'])(v);},'O/L+':function(j,k,q){'use strict';q['d'](k,'a',function(){return L;});var v=q('f9x4'),w=q('2vnA'),x=q('OIS1'),z=q('Y3F2'),A=q('Rsoz'),B=Object['defineProperty'],C=Object['defineProperties'],D=Object['getOwnPropertyDescriptor'],E=Object['getOwnPropertyDescriptors'],F=Object['getOwnPropertySymbols'],G=Object['prototype']['hasOwnProperty'],H=Object['prototype']['propertyIsEnumerable'],I=(M,N,O)=>N in M?B(M,N,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':O}):M[N]=O,J=class{static['create'](M){return new J({'table_id':Object(x['b'])(),'block_id':M});}constructor(M){this['table_id']=M['table_id'],this['block_id']=M['block_id'];var N=Object(x['b'])();this['properties']=M['properties']||[{'id':Object(x['b'])(),'name':A['a']['t']('stores.database.defaultPrimaryPropertyName','标题',{'ns':'editor'}),'type':v['p']['Primary']},{'id':N,'name':A['a']['t']('stores.database.defaultSelectPropertyName','标签',{'ns':'editor'}),'type':v['p']['Select'],'options':[{'option_id':Object(x['b'])(),'property_id':N,'value':A['a']['t']('stores.database.defaultSelectProperty.pending','待完成',{'ns':'editor'}),'color':z['a']['db'][0x2][0x1][0x3]['value']},{'option_id':Object(x['b'])(),'property_id':N,'value':A['a']['t']('stores.database.defaultSelectProperty.solving','进行中',{'ns':'editor'}),'color':z['a']['db'][0x2][0x1][0x6]['value']},{'option_id':Object(x['b'])(),'property_id':N,'value':A['a']['t']('stores.database.defaultSelectProperty.solved','已完成',{'ns':'editor'}),'color':z['a']['db'][0x2][0x1][0x7]['value']}]}],this['templates']=M['templates']||[],this['last_edit_user']=M['last_edit_user']||'',this['last_edit_time']=M['last_edit_time']||'',this['status']=M['status'];}static['createRow'](M){return{'table_id':M['table_id'],'block_id':M['block_id'],'properties':M['properties']||[],'created_by':M['created_by'],'created_time':M['created_time'],'edited_by':M['edited_by'],'edited_time':M['edited_time'],'version':M['version']};}},K=J;function L(M,N,O,P){var Q=Object(x['b'])(),R={};return N===v['h']['Board']&&(R['grouping']={'property':Q}),((S,T)=>C(S,E(T)))(((S,T)=>{for(var U in T||(T={}))G['call'](T,U)&&I(S,U,T[U]);if(F){for(var U of F(T))H['call'](T,U)&&I(S,U,T[U]);}return S;})({'block_id':M,'table_id':O,'view_id':P},R),{'settings':{'page_size':0x32},'status':0x1,'properties':[{'id':Object(x['b'])(),'name':A['a']['t']('stores.database.defaultPrimaryPropertyName','标题',{'ns':'editor'}),'type':v['p']['Primary']},{'id':Q,'name':A['a']['t']('stores.database.defaultSelectPropertyName','标签',{'ns':'editor'}),'type':v['p']['Select'],'options':[{'option_id':Object(x['b'])(),'property_id':Q,'value':A['a']['t']('stores.database.defaultSelectProperty.pending','待完成',{'ns':'editor'}),'color':z['a']['db'][0x2][0x1][0x3]['value']},{'option_id':Object(x['b'])(),'property_id':Q,'value':A['a']['t']('stores.database.defaultSelectProperty.solving','进行中',{'ns':'editor'}),'color':z['a']['db'][0x2][0x1][0x6]['value']},{'option_id':Object(x['b'])(),'property_id':Q,'value':A['a']['t']('stores.database.defaultSelectProperty.solved','已完成',{'ns':'editor'}),'color':z['a']['db'][0x2][0x1][0x7]['value']}]}]});}((M,N,O,P)=>{for(var Q,R=P>0x1?void 0x0:P?D(N,O):N,S=M['length']-0x1;S>=0x0;S--)(Q=M[S])&&(R=(P?Q(N,O,R):Q(R))||R);P&&R&&B(N,O,R);})([w['observable']],K['prototype'],'version',0x2);},'O2B1':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('7NZM'),g=d['n'](f);function h(){return g()('!function(t){var\x20e={};function\x20r(n){if(e[n])return\x20e[n].exports;var\x20i=e[n]={i:n,l:!1,exports:{}};return\x20t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\x22undefined\x22!=typeof\x20Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\x22Module\x22}),Object.defineProperty(t,\x22__esModule\x22,{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return\x20t;if(4&e&&\x22object\x22==typeof\x20t&&t&&t.__esModule)return\x20t;var\x20n=Object.create(null);if(r.r(n),Object.defineProperty(n,\x22default\x22,{enumerable:!0,value:t}),2&e&&\x22string\x22!=typeof\x20t)for(var\x20i\x20in\x20t)r.d(n,i,function(e){return\x20t[e]}.bind(null,i));return\x20n},r.n=function(t){var\x20e=t&&t.__esModule?function(){return\x20t.default}:function(){return\x20t};return\x20r.d(e,\x22a\x22,e),e},r.o=function(t,e){return\x20Object.prototype.hasOwnProperty.call(t,e)},r.p=\x22https://cdn.wostatic.cn/dist/\x22,r(r.s=\x22fXQn\x22)}({\x22+NVA\x22:function(t,e,r){var\x20n;t.exports=(n=r(\x22Ib8C\x22),n.enc.Utf8)},0:function(t,e){},\x223y9D\x22:function(t,e,r){var\x20n,i,o,s,c,a,f,u;t.exports=(u=r(\x22Ib8C\x22),i=(n=u).lib,o=i.WordArray,s=i.Hasher,c=n.algo,a=[],f=c.SHA1=s.extend({_doReset:function(){this._hash=new\x20o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var\x20r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],c=r[4],f=0;f<80;f++){if(f<16)a[f]=0|t[e+f];else{var\x20u=a[f-3]^a[f-8]^a[f-14]^a[f-16];a[f]=u<<1|u>>>31}var\x20h=(n<<5|n>>>27)+c+a[f];h+=f<20?1518500249+(i&o|~i&s):f<40?1859775393+(i^o^s):f<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,c=s,s=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var\x20t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return\x20e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var\x20t=s.clone.call(this);return\x20t._hash=this._hash.clone(),t}}),n.SHA1=s._createHelper(f),n.HmacSHA1=s._createHmacHelper(f),u.SHA1)},ETIr:function(t,e,r){var\x20n,i,o;t.exports=(o=r(\x22Ib8C\x22),i=(n=o).lib.WordArray,n.enc.Base64={stringify:function(t){var\x20e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var\x20i=[],o=0;o<r;o+=3)for(var\x20s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<r;c++)i.push(n.charAt(s>>>6*(3-c)&63));var\x20a=n.charAt(64);if(a)for(;i.length%4;)i.push(a);return\x20i.join(\x22\x22)},parse:function(t){var\x20e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var\x20o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var\x20s=r.charAt(64);if(s){var\x20c=t.indexOf(s);-1!==c&&(e=c)}return\x20function(t,e,r){for(var\x20n=[],o=0,s=0;s<e;s++)if(s%4){var\x20c=r[t.charCodeAt(s-1)]<<s%4*2,a=r[t.charCodeAt(s)]>>>6-s%4*2,f=c|a;n[o>>>2]|=f<<24-o%4*8,o++}return\x20i.create(n,o)}(t,e,n)},_map:\x22ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\x22},o.enc.Base64)},Ib8C:function(t,e,r){(function(e){var\x20n;t.exports=(n=n||function(t,n){var\x20i;if(\x22undefined\x22!=typeof\x20window&&window.crypto&&(i=window.crypto),\x22undefined\x22!=typeof\x20self&&self.crypto&&(i=self.crypto),\x22undefined\x22!=typeof\x20globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&\x22undefined\x22!=typeof\x20window&&window.msCrypto&&(i=window.msCrypto),!i&&void\x200!==e&&e.crypto&&(i=e.crypto),!i)try{i=r(0)}catch(t){}var\x20o=function(){if(i){if(\x22function\x22==typeof\x20i.getRandomValues)try{return\x20i.getRandomValues(new\x20Uint32Array(1))[0]}catch(t){}if(\x22function\x22==typeof\x20i.randomBytes)try{return\x20i.randomBytes(4).readInt32LE()}catch(t){}}throw\x20new\x20Error(\x22Native\x20crypto\x20module\x20could\x20not\x20be\x20used\x20to\x20get\x20secure\x20random\x20number.\x22)},s=Object.create||function(){function\x20t(){}return\x20function(e){var\x20r;return\x20t.prototype=e,r=new\x20t,t.prototype=null,r}}(),c={},a=c.lib={},f=a.Base={extend:function(t){var\x20e=s(this);return\x20t&&e.mixIn(t),e.hasOwnProperty(\x22init\x22)&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var\x20t=this.extend();return\x20t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var\x20e\x20in\x20t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty(\x22toString\x22)&&(this.toString=t.toString)},clone:function(){return\x20this.init.prototype.extend(this)}},u=a.WordArray=f.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||d).stringify(this)},concat:function(t){var\x20e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var\x20o=0;o<i;o++){var\x20s=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=s<<24-(n+o)%4*8}else\x20for(var\x20c=0;c<i;c+=4)e[n+c>>>2]=r[c>>>2];return\x20this.sigBytes+=i,this},clamp:function(){var\x20e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var\x20t=f.clone.call(this);return\x20t.words=this.words.slice(0),t},random:function(t){for(var\x20e=[],r=0;r<t;r+=4)e.push(o());return\x20new\x20u.init(e,t)}}),h=c.enc={},d=h.Hex={stringify:function(t){for(var\x20e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var\x20o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return\x20n.join(\x22\x22)},parse:function(t){for(var\x20e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return\x20new\x20u.init(r,e/2)}},p=h.Latin1={stringify:function(t){for(var\x20e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var\x20o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return\x20n.join(\x22\x22)},parse:function(t){for(var\x20e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return\x20new\x20u.init(r,e)}},l=h.Utf8={stringify:function(t){try{return\x20decodeURIComponent(escape(p.stringify(t)))}catch(t){throw\x20new\x20Error(\x22Malformed\x20UTF-8\x20data\x22)}},parse:function(t){return\x20p.parse(unescape(encodeURIComponent(t)))}},y=a.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new\x20u.init,this._nDataBytes=0},_append:function(t){\x22string\x22==typeof\x20t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var\x20r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,c=o/(4*s),a=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*s,f=t.min(4*a,o);if(a){for(var\x20h=0;h<a;h+=s)this._doProcessBlock(i,h);r=i.splice(0,a),n.sigBytes-=f}return\x20new\x20u.init(r,f)},clone:function(){var\x20t=f.clone.call(this);return\x20t._data=this._data.clone(),t},_minBufferSize:0}),v=(a.Hasher=y.extend({cfg:f.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(t){return\x20this._append(t),this._process(),this},finalize:function(t){return\x20t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return\x20function(e,r){return\x20new\x20t.init(r).finalize(e)}},_createHmacHelper:function(t){return\x20function(e,r){return\x20new\x20v.HMAC.init(t,r).finalize(e)}}}),c.algo={});return\x20c}(Math),n)}).call(this,r(\x22yLpj\x22))},K3mO:function(t,e,r){var\x20n,i,o,s,c,a,f,u;t.exports=(u=r(\x22Ib8C\x22),r(\x223y9D\x22),r(\x22WYAk\x22),i=(n=u).lib,o=i.Base,s=i.WordArray,c=n.algo,a=c.MD5,f=c.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var\x20r,n=this.cfg,i=n.hasher.create(),o=s.create(),c=o.words,a=n.keySize,f=n.iterations;c.length<a;){r&&i.update(r),r=i.update(t).finalize(e),i.reset();for(var\x20u=1;u<f;u++)r=i.finalize(r),i.reset();o.concat(r)}return\x20o.sigBytes=4*a,o}}),n.EvpKDF=function(t,e,r){return\x20f.create(r).compute(t,e)},u.EvpKDF)},OLod:function(t,e,r){var\x20n,i,o,s,c,a,f,u,h,d,p,l,y,v,_,g,m,B,x;t.exports=(n=r(\x22Ib8C\x22),r(\x22K3mO\x22),void(n.lib.Cipher||(i=n,o=i.lib,s=o.Base,c=o.WordArray,a=o.BufferedBlockAlgorithm,f=i.enc,f.Utf8,u=f.Base64,h=i.algo.EvpKDF,d=o.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(t,e){return\x20this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return\x20this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return\x20this._append(t),this._process()},finalize:function(t){return\x20t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function\x20t(t){return\x22string\x22==typeof\x20t?x:m}return\x20function(e){return{encrypt:function(r,n,i){return\x20t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return\x20t(n).decrypt(e,r,n,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return\x20this._process(!0)},blockSize:1}),p=i.mode={},l=o.BlockCipherMode=s.extend({createEncryptor:function(t,e){return\x20this.Encryptor.create(t,e)},createDecryptor:function(t,e){return\x20this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),y=p.CBC=function(){var\x20t=l.extend();function\x20e(t,e,r){var\x20n,i=this._iv;i?(n=i,this._iv=void\x200):n=this._prevBlock;for(var\x20o=0;o<r;o++)t[e+o]^=n[o]}return\x20t.Encryptor=t.extend({processBlock:function(t,r){var\x20n=this._cipher,i=n.blockSize;e.call(this,t,r,i),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var\x20n=this._cipher,i=n.blockSize,o=t.slice(r,r+i);n.decryptBlock(t,r),e.call(this,t,r,i),this._prevBlock=o}}),t}(),v=(i.pad={}).Pkcs7={pad:function(t,e){for(var\x20r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var\x20a=c.create(o,n);t.concat(a)},unpad:function(t){var\x20e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:y,padding:v}),reset:function(){var\x20t;d.reset.call(this);var\x20e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var\x20t,e=this.cfg.padding;return\x20this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),_=o.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),g=(i.format={}).OpenSSL={stringify:function(t){var\x20e=t.ciphertext,r=t.salt;return(r?c.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var\x20e,r=u.parse(t),n=r.words;return\x201398893684==n[0]&&1701076831==n[1]&&(e=c.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),_.create({ciphertext:r,salt:e})}},m=o.SerializableCipher=s.extend({cfg:s.extend({format:g}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var\x20i=t.createEncryptor(r,n),o=i.finalize(e),s=i.cfg;return\x20_.create({ciphertext:o,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return\x20n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return\x22string\x22==typeof\x20t?e.parse(t,this):t}}),B=(i.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=c.random(8));var\x20i=h.create({keySize:e+r}).compute(t,n),o=c.create(i.words.slice(e),4*r);return\x20i.sigBytes=4*e,_.create({key:i,iv:o,salt:n})}},x=o.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:B}),encrypt:function(t,e,r,n){var\x20i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var\x20o=m.encrypt.call(this,t,e,i.key,n);return\x20o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var\x20i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return\x20n.iv=i.iv,m.decrypt.call(this,t,e,i.key,n)}}))))},WYAk:function(t,e,r){var\x20n,i,o,s;t.exports=(n=r(\x22Ib8C\x22),o=(i=n).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(t,e){t=this._hasher=new\x20t.init,\x22string\x22==typeof\x20e&&(e=s.parse(e));var\x20r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var\x20i=this._oKey=e.clone(),o=this._iKey=e.clone(),c=i.words,a=o.words,f=0;f<r;f++)c[f]^=1549556828,a[f]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var\x20t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return\x20this._hasher.update(t),this},finalize:function(t){var\x20e=this._hasher,r=e.finalize(t);return\x20e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},cv67:function(t,e,r){var\x20n;t.exports=(n=r(\x22Ib8C\x22),function(t){var\x20e=n,r=e.lib,i=r.WordArray,o=r.Hasher,s=e.algo,c=[];!function(){for(var\x20e=0;e<64;e++)c[e]=4294967296*t.abs(t.sin(e+1))|0}();var\x20a=s.MD5=o.extend({_doReset:function(){this._hash=new\x20i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var\x20r=0;r<16;r++){var\x20n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var\x20o=this._hash.words,s=t[e+0],a=t[e+1],p=t[e+2],l=t[e+3],y=t[e+4],v=t[e+5],_=t[e+6],g=t[e+7],m=t[e+8],B=t[e+9],x=t[e+10],w=t[e+11],k=t[e+12],S=t[e+13],b=t[e+14],z=t[e+15],C=o[0],M=o[1],O=o[2],E=o[3];C=f(C,M,O,E,s,7,c[0]),E=f(E,C,M,O,a,12,c[1]),O=f(O,E,C,M,p,17,c[2]),M=f(M,O,E,C,l,22,c[3]),C=f(C,M,O,E,y,7,c[4]),E=f(E,C,M,O,v,12,c[5]),O=f(O,E,C,M,_,17,c[6]),M=f(M,O,E,C,g,22,c[7]),C=f(C,M,O,E,m,7,c[8]),E=f(E,C,M,O,B,12,c[9]),O=f(O,E,C,M,x,17,c[10]),M=f(M,O,E,C,w,22,c[11]),C=f(C,M,O,E,k,7,c[12]),E=f(E,C,M,O,S,12,c[13]),O=f(O,E,C,M,b,17,c[14]),C=u(C,M=f(M,O,E,C,z,22,c[15]),O,E,a,5,c[16]),E=u(E,C,M,O,_,9,c[17]),O=u(O,E,C,M,w,14,c[18]),M=u(M,O,E,C,s,20,c[19]),C=u(C,M,O,E,v,5,c[20]),E=u(E,C,M,O,x,9,c[21]),O=u(O,E,C,M,z,14,c[22]),M=u(M,O,E,C,y,20,c[23]),C=u(C,M,O,E,B,5,c[24]),E=u(E,C,M,O,b,9,c[25]),O=u(O,E,C,M,l,14,c[26]),M=u(M,O,E,C,m,20,c[27]),C=u(C,M,O,E,S,5,c[28]),E=u(E,C,M,O,p,9,c[29]),O=u(O,E,C,M,g,14,c[30]),C=h(C,M=u(M,O,E,C,k,20,c[31]),O,E,v,4,c[32]),E=h(E,C,M,O,m,11,c[33]),O=h(O,E,C,M,w,16,c[34]),M=h(M,O,E,C,b,23,c[35]),C=h(C,M,O,E,a,4,c[36]),E=h(E,C,M,O,y,11,c[37]),O=h(O,E,C,M,g,16,c[38]),M=h(M,O,E,C,x,23,c[39]),C=h(C,M,O,E,S,4,c[40]),E=h(E,C,M,O,s,11,c[41]),O=h(O,E,C,M,l,16,c[42]),M=h(M,O,E,C,_,23,c[43]),C=h(C,M,O,E,B,4,c[44]),E=h(E,C,M,O,k,11,c[45]),O=h(O,E,C,M,z,16,c[46]),C=d(C,M=h(M,O,E,C,p,23,c[47]),O,E,s,6,c[48]),E=d(E,C,M,O,g,10,c[49]),O=d(O,E,C,M,b,15,c[50]),M=d(M,O,E,C,v,21,c[51]),C=d(C,M,O,E,k,6,c[52]),E=d(E,C,M,O,l,10,c[53]),O=d(O,E,C,M,x,15,c[54]),M=d(M,O,E,C,a,21,c[55]),C=d(C,M,O,E,m,6,c[56]),E=d(E,C,M,O,z,10,c[57]),O=d(O,E,C,M,_,15,c[58]),M=d(M,O,E,C,S,21,c[59]),C=d(C,M,O,E,y,6,c[60]),E=d(E,C,M,O,w,10,c[61]),O=d(O,E,C,M,p,15,c[62]),M=d(M,O,E,C,B,21,c[63]),o[0]=o[0]+C|0,o[1]=o[1]+M|0,o[2]=o[2]+O|0,o[3]=o[3]+E|0},_doFinalize:function(){var\x20e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var\x20o=t.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(r.length+1),this._process();for(var\x20c=this._hash,a=c.words,f=0;f<4;f++){var\x20u=a[f];a[f]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return\x20c},clone:function(){var\x20t=o.clone.call(this);return\x20t._hash=this._hash.clone(),t}});function\x20f(t,e,r,n,i,o,s){var\x20c=t+(e&r|~e&n)+i+s;return(c<<o|c>>>32-o)+e}function\x20u(t,e,r,n,i,o,s){var\x20c=t+(e&n|r&~n)+i+s;return(c<<o|c>>>32-o)+e}function\x20h(t,e,r,n,i,o,s){var\x20c=t+(e^r^n)+i+s;return(c<<o|c>>>32-o)+e}function\x20d(t,e,r,n,i,o,s){var\x20c=t+(r^(e|~n))+i+s;return(c<<o|c>>>32-o)+e}e.MD5=o._createHelper(a),e.HmacMD5=o._createHmacHelper(a)}(Math),n.MD5)},fXQn:function(t,e,r){\x22use\x20strict\x22;r.r(e);var\x20n=r(\x22wZgz\x22),i=r.n(n),o=r(\x22+NVA\x22),s=r.n(o);onmessage=function(t){var\x20e=t.data.map(t=>{var\x20e=i.a.decrypt(t.data,t.id.substr(0,10)),r=JSON.parse(e.toString(s.a));return\x20r||null});postMessage(e)}},wZgz:function(t,e,r){var\x20n;t.exports=(n=r(\x22Ib8C\x22),r(\x22ETIr\x22),r(\x22cv67\x22),r(\x22K3mO\x22),r(\x22OLod\x22),function(){var\x20t=n,e=t.lib.BlockCipher,r=t.algo,i=[],o=[],s=[],c=[],a=[],f=[],u=[],h=[],d=[],p=[];!function(){for(var\x20t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var\x20r=0,n=0;for(e=0;e<256;e++){var\x20l=n^n<<1^n<<2^n<<3^n<<4;l=l>>>8^255&l^99,i[r]=l,o[l]=r;var\x20y=t[r],v=t[y],_=t[v],g=257*t[l]^16843008*l;s[r]=g<<24|g>>>8,c[r]=g<<16|g>>>16,a[r]=g<<8|g>>>24,f[r]=g,g=16843009*_^65537*v^257*y^16843008*r,u[l]=g<<24|g>>>8,h[l]=g<<16|g>>>16,d[l]=g<<8|g>>>24,p[l]=g,r?(r=y^t[t[t[_^y]]],n^=t[t[n]]):r=n=1}}();var\x20l=[0,1,2,4,8,16,32,64,128,27,54],y=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var\x20t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)s<r?o[s]=e[s]:(f=o[s-1],s%r?r>6&&s%r==4&&(f=i[f>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f]):(f=i[(f=f<<8|f>>>24)>>>24]<<24|i[f>>>16&255]<<16|i[f>>>8&255]<<8|i[255&f],f^=l[s/r|0]<<24),o[s]=o[s-r]^f);for(var\x20c=this._invKeySchedule=[],a=0;a<n;a++){if(s=n-a,a%4)var\x20f=o[s];else\x20f=o[s-4];c[a]=a<4||s<=4?f:u[i[f>>>24]]^h[i[f>>>16&255]]^d[i[f>>>8&255]]^p[i[255&f]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,c,a,f,i)},decryptBlock:function(t,e){var\x20r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,h,d,p,o),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,s,c){for(var\x20a=this._nRounds,f=t[e]^r[0],u=t[e+1]^r[1],h=t[e+2]^r[2],d=t[e+3]^r[3],p=4,l=1;l<a;l++){var\x20y=n[f>>>24]^i[u>>>16&255]^o[h>>>8&255]^s[255&d]^r[p++],v=n[u>>>24]^i[h>>>16&255]^o[d>>>8&255]^s[255&f]^r[p++],_=n[h>>>24]^i[d>>>16&255]^o[f>>>8&255]^s[255&u]^r[p++],g=n[d>>>24]^i[f>>>16&255]^o[u>>>8&255]^s[255&h]^r[p++];f=y,u=v,h=_,d=g}y=(c[f>>>24]<<24|c[u>>>16&255]<<16|c[h>>>8&255]<<8|c[255&d])^r[p++],v=(c[u>>>24]<<24|c[h>>>16&255]<<16|c[d>>>8&255]<<8|c[255&f])^r[p++],_=(c[h>>>24]<<24|c[d>>>16&255]<<16|c[f>>>8&255]<<8|c[255&u])^r[p++],g=(c[d>>>24]<<24|c[f>>>16&255]<<16|c[u>>>8&255]<<8|c[255&h])^r[p++],t[e]=y,t[e+1]=v,t[e+2]=_,t[e+3]=g},keySize:8});t.AES=e._createHelper(y)}(),n.AES)},yLpj:function(t,e){var\x20r;r=function(){return\x20this}();try{r=r||new\x20Function(\x22return\x20this\x22)()}catch(t){\x22object\x22==typeof\x20window&&(r=window)}t.exports=r}});','Worker',void 0x0,d['p']+'javascript/sync.worker.a42a0823.worker.js');}},'OIS1':function(b,c,d){'use strict';d['d'](c,'b',function(){return h;}),d['d'](c,'c',function(){return j;}),d['d'](c,'a',function(){return k;});var f=d('Q8iX'),g=d('gv3/'),h=()=>g['generate'](),j=l=>{try{return f['v']['test'](g()['toUUID'](l))&&/[a-zA-Z0-9]{16,32}/['test'](l);}catch(m){return!0x1;}},k=h();},'OU5U':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=function(){for(var f=arguments['length'],g=new Array(f),h=0x0;h<f;h++)g[h]=arguments[h];return i=>function j(){var k=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0,l=arguments['length']>0x1?arguments[0x1]:void 0x0;if(g[k])return g[k](l||i,m=>j(k+0x1,m));}();};},'Ouee':function(f,j,k){'use strict';var m=k('q1tI'),q=k('NKQG'),v=k('TyAF'),w=k('2vnA'),x=k('LCzB'),y=k('odX6'),z=k('q04B'),A=k('Z8Lu'),B=k('9rbq'),C=Object['defineProperty'],D=Object['getOwnPropertyDescriptor'],E=(G,H,I,J)=>{for(var K,L=J>0x1?void 0x0:J?D(H,I):H,M=G['length']-0x1;M>=0x0;M--)(K=G[M])&&(L=(J?K(H,I,L):K(L))||L);return J&&L&&C(H,I,L),L;},F=class extends m['Component']{constructor(){super(...arguments),this['displayed']=[],this['storeDisplayed']=G=>{this['displayed']=[...this['displayed'],G];};}['componentDidMount'](){Object(w['autorun'])(()=>{var {notifications:G=[]}=this['notificationStore'];G['forEach'](H=>{this['displayed']['includes'](H['key'])||(this['props']['enqueueSnackbar'](H['message'],H['options']),this['storeDisplayed'](H['key']));});}),Object(w['autorun'])(()=>{var {toasts:G=[]}=this['notificationStore'];G['forEach'](H=>{if(!this['displayed']['includes'](H['key'])){switch(H['toast_type']){case'points':H['options']&&(H['options']['content']=m['createElement']('div',{'className':A['toastRoot']},m['createElement'](z['a'],null),m['createElement']('span',{'className':A['pointsSpace']},this['props']['t'](B['cb']['CREDITS'],'积分')),m['createElement']('span',{'className':A['points']},'+'['concat'](H['message']))));break;default:H['options']&&(H['options']['content']=m['createElement']('div',{'className':A['toastRoot']},H['message']));}this['props']['enqueueSnackbar'](H['message'],H['options']),this['storeDisplayed'](H['key']);}});});}['render'](){return null;}};E([y['b']],F['prototype'],'notificationStore',0x2),F=E([Object(x['a'])('editor')],F),j['a']=Object(q['c'])(Object(v['b'])(F));},'Ouf7':function(f,g,j){'use strict';j['d'](g,'a',function(){return D;});var k=j('2vnA'),m=j('O7iK'),q=j['n'](m),v=j('f9x4'),w=j('1rK0'),x=j('95X5'),y=j('OIS1'),z=j('Rsoz'),A=Object['defineProperty'],B=Object['getOwnPropertyDescriptor'],C=(E,F,G,H)=>{for(var I,J=H>0x1?void 0x0:H?B(F,G):F,K=E['length']-0x1;K>=0x0;K--)(I=E[K])&&(J=(H?I(F,G,J):I(J))||J);return H&&J&&A(F,G,J),J;};class D extends w['a']{constructor(E,F){super(E,F),this['type']=v['h']['Form'],this['type']=v['h']['Form'],this['resetRecord']();}get['title'](){return this['data']['title']||z['a']['t']('stores.database.form.defaultTitle','表单视图',{'ns':'editor'});}get['visit_id'](){return this['data']['visit_id']||'';}get['last_data_time'](){return this['data']['last_data_time']||'';}get['permission'](){return this['data']['permission']||v['g']['WorkspaceUser'];}get['describe'](){return this['data']['describe']||[['']];}get['settings'](){return Object['assign']({'page_size':0x32},this['data']['settings']);}get['indexPairs'](){return q()(this['properties']['map']((E,F)=>[E['id'],F]));}['getRowNearby'](){return{'prev_block_id':'','next_block_id':''};}['loadMore'](E,F){return G=this,H=null,I=function*(){E?yield this['columnQuerys']['reFresh'](F):yield this['columnQuerys']['pagination']();},new Promise((J,K)=>{var L=O=>{try{N(I['next'](O));}catch(P){K(P);}},M=O=>{try{N(I['throw'](O));}catch(P){K(P);}},N=O=>O['done']?J(O['value']):Promise['resolve'](O['value'])['then'](L,M);N((I=I['apply'](G,H))['next']());});var G,H,I;}['changeSearch'](E,F){this['columnQuerys']['changeSearch'](E);}['refresh'](){this['loadMore'](!0x0);}['createPropertyByViewType'](E){return{'id':E['id'],'hidden':(null==E?void 0x0:E['createByViewId'])!==this['view_id'],'editable':!0x0,'visible':!0x0,'format':[v['p']['Select'],v['p']['MultiSelect']]['includes'](E['type'])?v['q']['Drop']:void 0x0};}['resetRecord'](){this['record']={'blockId':Object(y['b'])(),'status':null,'loading':!0x1};}['completeRecord'](){this['record']['status']='submit';}['expiredRecord'](){this['record']['status']='expired';}}C([k['computed']],D['prototype'],'title',0x1),C([k['computed']],D['prototype'],'visit_id',0x1),C([k['computed']],D['prototype'],'last_data_time',0x1),C([k['computed']],D['prototype'],'permission',0x1),C([k['computed']],D['prototype'],'describe',0x1),C([k['computed']],D['prototype'],'settings',0x1),C([k['computed']],D['prototype'],'indexPairs',0x1),C([k['observable']],D['prototype'],'record',0x2),C([Object(x['a'])(0x3e8,{'maxWait':0x2710})],D['prototype'],'refresh',0x1);},'PDfz':function(f,g,j){'use strict';var k=j('q1tI'),m=j('Wgwc'),q=j('TSYQ'),v=j['n'](q),w=j('odX6'),x=j('XKpg'),y=j('9rbq'),z=j('XmHW'),A=j('aKiu'),B=j('h16Y'),C=j('Zwcd'),D=(E,F,G)=>new Promise((H,I)=>{var J=M=>{try{L(G['next'](M));}catch(N){I(N);}},K=M=>{try{L(G['throw'](M));}catch(N){I(N);}},L=M=>M['done']?H(M['value']):Promise['resolve'](M['value'])['then'](J,K);L((G=G['apply'](E,F))['next']());});g['a']=F=>{var G=Object(w['b'])('blockStore'),H=Object(w['b'])('memberStore'),J=Object(w['b'])('publicUserStore'),[K,Q]=k['useState'](null),{avatar:R,username:U,size:V=0x18,hasPointer:W,userId:X,registerTime:Y,handleClick:Z=()=>{},customAvatar:a0=null}=F;Object(B['a'])(()=>D(void 0x0,null,function*(){var ac=H['currentWorkspaceMembers']['get'](X);ac?Q(ac):(yield J['fetchUsers']([X]),Q(J['users']['get'](X)));}),[]);var a1=U||(null==K?void 0x0:K['username'])||'',a2=a1['substr'](0x0,0x1)||'',[a3,a4]=k['useState'](R||(null==K?void 0x0:K['avatar'])||''),[a5,a6]=k['useState'](a2['toUpperCase']()),[a7,a8]=k['useState'](!0x0);k['useEffect'](()=>{if(!a3||'none'===a3){var ac=y['R']['exec'](a1);y['R']['lastIndex']=0x0,ac&&0x0===ac['index']&&a6(ac[0x0]);}}),k['useEffect'](()=>{a9(R||(null==K?void 0x0:K['avatar']));},[R,null==K?void 0x0:K['avatar']]);var a9=ac=>D(void 0x0,null,function*(){var ad=ac||a3;if(ad&&'none'!==ad){if(ad['startsWith']('http'))ad=Object(x['c'])(ad,V),a4(ad),a8(!0x1);else{var ae=ad['split']('://');try{var af=yield G['getImageUrl'](ae[0x1],ae[0x0],V,'',!0x0);a4(af),a8(!0x1);}catch(ag){}}}else'none'===ad&&a4(''),a8(!0x1);}),aa=Y&&m(Y)['diff'](m('2020-06-15'),'day')<=0x6b||!0x1,ab=Y&&m(Y)['diff'](m('2021-04-01\x2016:48:35'))<=0x0||!0x1;return k['createElement']('div',{'className':v()(C['avatar'],{[C['alphaBorder']]:aa,[C['betaBorder']]:!aa&&ab,[C['cursorPointer']]:W}),'onClick':Z,'style':{'width':''['concat'](V,'px'),'height':''['concat'](V,'px')}},a0||(a7?k['createElement'](A['a'],{'width':'86','height':'86'}):a3?k['createElement']('img',{'alt':'avatar','src':a3,'width':'100%','height':'100%','style':{'width':''['concat'](V,'px'),'height':''['concat'](V,'px')}}):a5?k['createElement']('div',{'className':C['defaultAvatar'],'style':{'width':''['concat'](V,'px'),'height':''['concat'](V,'px')}},k['createElement']('span',{'className':C['defaultNameAvatar'],'style':{'width':''['concat'](V,'px'),'height':''['concat'](V,'px'),'lineHeight':''['concat'](V-0x2,'px'),'fontSize':''['concat'](V/0x2+0x2,'px'),'display':'flex','justifyContent':'center','alignItems':'center'}},a5)):k['createElement'](z['a'],{'height':V-0x4,'width':V-0x4})));};},'PWoD':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('5D19'),g=(Object['defineProperty'],Object['defineProperties'],Object['getOwnPropertyDescriptors'],Object['getOwnPropertySymbols'],Object['prototype']['hasOwnProperty'],Object['prototype']['propertyIsEnumerable'],(j,k,l)=>new Promise((m,p)=>{var q=w=>{try{v(l['next'](w));}catch(x){p(x);}},u=w=>{try{v(l['throw'](w));}catch(x){p(x);}},v=w=>w['done']?m(w['value']):Promise['resolve'](w['value'])['then'](q,u);v((l=l['apply'](j,k))['next']());})),h=j=>g(void 0x0,null,function*(){return yield Object(f['i'])(Object(f['p'])('database/template',{'table_id':j,'timezoneOffset':new Date()['getTimezoneOffset']()}),f['h']);});},'PmkI':function(j,q,x){'use strict';x['d'](q,'a',function(){return a4;});var z=x('mwIZ'),A=x['n'](z),B=x('Wgwc'),C=x('OIS1'),D=x('uMVv'),F=x('4/VU'),G=x('8/AG'),H=x('38Rj'),J=x('9rbq'),K=x('aD9L'),L=x('qX4z'),M=x('hpLR'),N=x('4Dn8'),Q=x('sA5H'),R=x('mFjg'),U=x('amk+'),V=x('mBFf'),W=x('8IDf'),X=x('/P4t'),Y=x('pbHi'),Z=x('5fcL'),a0=x('SVXG'),a1=x('qwOL'),a2=(a5,a6,a7)=>new Promise((a8,a9)=>{var aa=ad=>{try{ac(a7['next'](ad));}catch(ae){a9(ae);}},ab=ad=>{try{ac(a7['throw'](ad));}catch(ae){a9(ae);}},ac=ad=>ad['done']?a8(ad['value']):Promise['resolve'](ad['value'])['then'](aa,ab);ac((a7=a7['apply'](a5,a6))['next']());}),a3=(a5,a6)=>a2(void 0x0,null,function*(){var a7=Y['a']['getInstance'](),a8=X['a']['getInstance'](),a9=W['a']['getInstance']();if(a7['blockCountLimit']()&&(a5||a6))Object(R['c'])('block');else{if(a7['isSpaceGuest']())window['location']['href']='/';else{var aa=Object(C['b'])();'day'===a6&&(yield Object(Q['kb'])({'pageId':aa,'workspaceId':a7['spaceId'],'time':a5})),a9['setNewPage'](a5||!0x0,a6);var ab=a7['domainId']?'/'['concat'](a7['domainId'],'/')['concat'](aa):'/'['concat'](aa);a8['history']['replace'](ab,{'redirect':!0x0});}}}),a4=()=>a2(void 0x0,null,function*(){var a5,a6,a7=V['a']['getInstance'](),a8=Z['a']['getInstance'](),a9=a0['a']['getInstance'](),aa=Y['a']['getInstance'](),ab=a1['a']['getInstance'](),ac=X['a']['getInstance'](),ad=W['a']['getInstance'](),{location:af,history:ag}=ac,ah=af['state']||{},{redirect:ai}=ah;try{ai||(yield a7['getUserInfo'](!0x0)),a7['userId']&&!ai&&(yield ad['getWorkspaceData'](!0x0),Object(F['f'])(a7['userId']));}catch(aO){throw ad['inApp']&&Object(F['n'])(),console['error'](aO),new Error(aO);}var {userId:aj,isNewUser:ak}=a7,al=af['pathname']['split']('/');if(!G['c']['includes']('/'['concat'](al[0x1]||''))||ai)return!0x0;var am=Object(L['a'])();if(aj){if(ak)ag['replace']('/first',{'redirect':!0x0});else{if(Object(F['h'])(),aa['workspaces']['length']){if('first'===al[0x1])ah&&ah['createOrJoin']||ag['replace']('/');else{if('login'===al[0x1]&&af['search']['includes']('redirect='))return!0x0;var an,ao;if(am){var ap=aa['workspaces']['find'](aP=>aP['domain']===am);if(!ap){var aq=yield Object(Q['A'])({'domainId':am,'type':'space'});return void(aq['spaceIndexPage']?ag['replace']('/'['concat'](aq['spaceIndexPage']),{'redirect':!0x0}):ag['replace'](''['concat']('https://www.wolai.com','/')['concat'](am),{'redirect':!0x0}));}an=ap['id'],ap['domain_index_page']&&(ao=ap['domain_index_page']);}else{var ar=D['a'](H['WOLAI_CURRENT_PAGE']);ar&&!H['IS_FLY_MODE']?(an=ar['split']('/')[0x0],ao=ar['split']('/')[0x1]):an=D['a'](H['WOLAI_CURRENT_WORKSPACE']);}var as='';if(Object(L['i'])()){var {getDingTalkCorpId:at}=yield Object(U['a'])(),au=at(),av=yield Object(M['a'])(()=>aa['getDingtalkSpace'](au),{'timeout':0x7530,'interval':0x64,'validator':aP=>Boolean(aP)});if(void 0x0===av)throw new Error('cant\x20find\x20target\x20workspace\x20by\x20dingtalk_corp_id\x20'['concat'](au));as=av['id'],aa['setSpaceId'](as);}else an&&aa['workspaces']['find'](aP=>aP['id']===an)?as=an:(as=aa['workspaces'][0x0]['id'],ao=''),aa['setSpaceId'](as);if(yield ad['initWorkspacePages'](),aa['isSpaceGuest']()&&(yield a8['loadSharedPages'](aa['spaceId'])),'new'===al[0x1])yield a3(al[0x2]||'','new');else{if('new-form'===al[0x1])yield a3(al[0x2]||'新表单','new-form');else{if('day'===al[0x1]){if(aa['isSpaceGuest']())return void(window['location']['href']='/');var aw=A()(aa,'currentWorkspace.date_format_type','yyyymmdd_slash'),{format:ax}=J['L']['find'](aP=>{var {value:aQ}=aP;return aQ===aw;})||{},ay=B()['format'](ax),az=yield Object(Q['t'])(aa['spaceId'],ay);az['time']===ay?ag['replace']('/'['concat'](az['pageId'])):yield a3(ay,'day');}else{var aA=a8['firstPageId'];if('random'===al[0x1]&&aa['hasPremiumOrTeamPlan']){var aB=yield a9['getSpaceReferencePropsBlock']('random_page_range'),aC=yield Object(Q['F'])({'workspaceId':aa['spaceId'],'pageId':aB['id']||''});aC['pageId']&&(aA=aC['pageId']);}else{if(ao){if(Object(L['i'])()){var aD=yield Object(Q['v'])([{'table':J['Db'],'id':ao}]);(null==(a6=null==(a5=null==aD?void 0x0:aD[0x0])?void 0x0:a5['value'])?void 0x0:a6['workspace_id'])===aa['spaceId']&&(aA=ao);}else aA=ao;}}if(aA){var aE='alipay',aF=Object(N['a'])('out_trade_no');aF||(aE='paypal',aF=Object(N['a'])('token'));var aG,aH=Object(N['a'])('exportTheme');aH&&ad['toggleTheme'](!0x1,aH),aF&&aa['checkOrderStatus'](aF,aE)['catch'](console['error']),aG=Object(L['a'])()?'/'['concat'](aA):aa['domainId']?'/'['concat'](aa['domainId'],'/')['concat'](aA):'/'['concat'](aA),ag['replace'](aG,{'redirect':!0x0});}else{if(aa['isSpaceGuest']()&&!al[0x1])return D['b'](H['WOLAI_CURRENT_WORKSPACE']),void(window['location']['href']='/logout');yield a3();}}}}}}else H['IS_FLY_MODE']?(alert('没有离线数据，无法进入飞行模式'),Object(K['e'])()?window['interop']&&window['interop']['setAirplaneModeStatus']&&window['interop']['setAirplaneModeStatus'](!0x1):D['c'](J['Sb'],!0x1,!0x0)):ag['replace']('/first',{'isSecondStep':!0x0,'redirect':!0x0});}}else{if(''===al[0x1]||ac['location']['pathname']['includes']('signup')||ac['location']['pathname']['includes']('enter')){if(am){var aI=yield Object(Q['A'])({'domainId':am,'type':'space'});aI['spaceIndexPage']?ag['replace']('/'['concat'](aI['spaceIndexPage']),{'redirect':!0x0}):ag['replace'](''['concat']('https://www.wolai.com','/')['concat'](am),{'redirect':!0x0});}}else{var aJ=Object(N['a'])('exportTheme'),aK=Object(N['a'])('loginType');if('login'===al[0x1]&&'password'===aK)ad['toggleTheme'](!0x1,aJ),ag['replace']('/login',{'redirect':!0x0,'loginType':'password','inApp':!0x0,'exportTheme':aJ});else{var aL='/login';['new','new-form','day']['includes'](al[0x1])?aL+='?redirect='['concat'](af['pathname']):af['search']['includes']('redirect=')&&(aL+=af['search']);var aM=Object(N['a'])('loginMode');['mobile','third']['includes'](aM)&&(ab['loginMode']=aM);var aN=Object(N['a'])('thirdAuthType');['','wechat','dingtalk']['includes'](aN)&&(ab['thirdAuthType']=aN),ag['replace'](aL,{'redirect':!0x0});}}}return!0x0;});},'Q8iX':function(j,q,w){'use strict';w['d'](q,'v',function(){return x;}),w['d'](q,'m',function(){return z;}),w['d'](q,'j',function(){return A;}),w['d'](q,'a',function(){return B;}),w['d'](q,'h',function(){return C;}),w['d'](q,'i',function(){return D;}),w['d'](q,'g',function(){return F;}),w['d'](q,'c',function(){return G;}),w['d'](q,'d',function(){return H;}),w['d'](q,'e',function(){return J;}),w['d'](q,'f',function(){return K;}),w['d'](q,'b',function(){return L;}),w['d'](q,'s',function(){return M;}),w['d'](q,'r',function(){return N;}),w['d'](q,'n',function(){return P;}),w['d'](q,'t',function(){return Q;}),w['d'](q,'k',function(){return R;}),w['d'](q,'o',function(){return U;}),w['d'](q,'l',function(){return V;}),w['d'](q,'p',function(){return W;}),w['d'](q,'q',function(){return X;}),w['d'](q,'u',function(){return Y;});var x=/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,z=/[a-z]{1}[a-z0-9_-]{3,15}/,A=/^ *[-|*] +\[[x| ]\]/,B=/^(-|\*|\+) /,C=/^ *\d+\. /,D=/^> /,F=/^\[.*\]\((.*localhost:.*|.*wolai\.com.*)\/([0-9a-z]+)\)/i,G=/^#{1} /,H=/^#{2} /,J=/^#{3} /,K=/^(#{4,6} )/,L=/^(---)$/,M=/!\[[\s\S]*?\]\([\s\S]*?\)/,N=/<(?:(?:\/?[A-Za-z]\w*\b(?:[=\s](['"]?)[\s\S]*?\1)*)|(?:!--[\s\S]*?--))\/?>/g,P=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91])|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udeeb\udeec\udef4-\udefc\udfe0-\udfeb]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78\udd7a-\uddb4\uddb7\uddba\uddbc-\uddcb\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7a\ude80-\ude86\ude90-\udea8\udeb0-\udeb6\udec0-\udec2\uded0-\uded6]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,Q=/^([|]?[^\n]+[|]?\r?\n)((?:[|]?[ ]*:?[ ]*[-][ ]*:?[ ]*)+[|]?[ \t]*\r?\n)((?:[|]?[^\n]+[|]?[ \t]*\r?\n?)*)?$/gm,R='[⺀-⿟぀-ゖゝ-ゟァ-ヺー-ㄯㆠ-ㆿㇰ-ㇿ㐀-䶿一-鿿ꥠ-꥿가-퟿豈-﫿]',T='[0-9a-zA-ZÀ-˿٠-٩\u0080-˿Ͱ-ԯႠ-ჿᴀ-ᶿḀ-῿⁰-₟Ⱡ-ⱿꙀ-ꟿꬰ-꭯ﬀ-ﭏ%@{}‰+|~€£¥$¢₽₩§≈≠¿¡]',U=new RegExp('('['concat'](R,')(?=')['concat'](T,')|(')['concat'](T,')(?=')['concat'](R,')'),'g'),V=new RegExp(''['concat'](R),'g'),W=new RegExp('[a-zA-ZÀ-ÖØ-öø-ƿǄ-ʻ]','g'),X=new RegExp('[-刺]','g'),Y=/(%ME%)|(%我%)|(%TOMORROW%)|(%明天%)|(%QUARTER%)|(%季度%)|(%WEEK2%)|(%周2%)|(%DAYOFWEEK2%)|(%星期2%)|(%WEEK%)|(%周%)|(%DAYOFWEEK%)|(%星期%)|(%DATE%)|(%日期%)|(%TIME%)|(%时间%)|(%YEAR%)|(%年%)|(%DAY%)|(%日%)|(%MONTH%)|(%月%)|(%MONTH2%)|(%月2%)|(%DAY2%)|(%日2%)|(%YESTERDAY%)|(%昨天%)|(%HOUR%)|(%小时%)|(%HOUR2%)|(%小时2%)|(%MINUTE%)|(%分钟%)|(%MINUTE2%)|(%分钟2%)|(%SECOND%)|(%秒%)|(%SECOND2%)|(%秒2%)|(%NEXTWEEK%)|(%下周%)|(%NEXTWEEK2%)|(%下周2%)|(%NEXTQUARTER%)|(%下季度%)/g;},'QWxR':function(j,q,w){'use strict';w['d'](q,'a',function(){return W;});var x=w('xkGU'),z=w['n'](x),A=w('bt/X'),B=w['n'](A),C=w('mwIZ'),D=w['n'](C),E=w('uMVv'),F=w('odX6'),G=w('9rbq'),H=w('sA5H'),J=w('8I4+'),K=w('hpLR'),L=w('31fx'),M=w('0W19'),N=w('f9x4'),P=w('fZkv'),Q=w('paMO'),R=Object['defineProperty'],T=Object['getOwnPropertyDescriptor'],U=(X,Y,Z,a0)=>{for(var a1,a2=a0>0x1?void 0x0:a0?T(Y,Z):Y,a3=X['length']-0x1;a3>=0x0;a3--)(a1=X[a3])&&(a2=(a0?a1(Y,Z,a2):a1(a2))||a2);return a0&&a2&&R(Y,Z,a2),a2;},V=(X,Y,Z)=>new Promise((a0,a1)=>{var a2=a5=>{try{a4(Z['next'](a5));}catch(a6){a1(a6);}},a3=a5=>{try{a4(Z['throw'](a5));}catch(a6){a1(a6);}},a4=a5=>a5['done']?a0(a5['value']):Promise['resolve'](a5['value'])['then'](a2,a3);a4((Z=Z['apply'](X,Y))['next']());});class W{constructor(X){var Y=this;this['stack']=[],this['fetchPageSnapshotData']=Z=>{var a0=this['pageHistoryStore']['currentSnapshot'];if(this['screen']['setLoading'](!0x1),a0&&this['screen']['id']===Z){var {block:a1={}}=a0,a2=a1[Z]||this['dataStore']['getBlock'](Z);this['screen']['setPageProperty'](a2),this['dataStore']['syncBlockData'](a1),this['editorStore']['invokeObserver']();}},this['fetchPageTemplateData']=Z=>V(this,null,function*(){var a0,a1;this['screen']['setLoading'](!0x0);var a2=yield Object(H['D'])({'pageId':Z,'limit':-0x1,'position':{'stack':[]},'chunkNumber':0x0});if(this['screen']['setLoading'](!0x1),a2&&this['screen']['id']===Z){var {block:a3={},database_tables:a4={},database_views:a5={}}=a2,a6=a3[Z]||this['dataStore']['getBlock'](Z);a6['role']='read',this['screen']['setPageProperty'](a6);var a7=B()(a5,a9=>a9['block_id']);if(z()(a3,(a9,aa)=>{var ab;if((null==(ab=a9['value'])?void 0x0:ab['type'])===G['y']['DATABASE']){var ac=a9['value']['database_id'],ad=a7[aa]||[],ae=new Set(ad['filter'](af=>af['table_id']===ac)['map'](af=>af['view_id']));a9['value']['tableviews']=a9['value']['tableviews']?a9['value']['tableviews']['filter'](af=>ae['has'](af)):[...ae['keys']()];}}),this['dataStore']['syncBlockData'](a3),this['dataStore']['syncDataViews'](a5),this['dataStore']['syncDataTables'](a4),requestAnimationFrame(()=>{this['domAPI']['$']('#screen-'['concat'](this['screen']['screenId'],'\x20#editorRoot'))['scrollTop']=0x0,this['editorStore']['invokeObserver']();}),this['dataStore']['loadedPages']['includes'](Z)){var a8=yield Object(H['v'])([{'table':G['Db'],'id':Z}]);if(a8['length']&&(null==(a1=null==(a0=a8[0x0])?void 0x0:a0['value'])?void 0x0:a1['id']))this['dataStore']['getBlockProperty'](Z,'version')!==a8[0x0]['value']['version']&&this['refreshPageData'](Z),this['screen']['setPageProperty'](a8[0x0]),this['dataStore']['syncBlockData'](a8);}else this['dataStore']['getBlockProperty'](Z,'type')===G['y']['PAGE']&&this['dataStore']['setPageLoaded'](Z,!0x0);}}),this['removeCurrentPage']=Z=>{var a0=E['a'](G['Gb']);if(a0&&a0['split']('/')[0x1]===Z){var a1=new Q['a']();this['pageStore']['removeRelativeRecord'](a1,Z),a1['commit']();}},this['fetchPageData']=function(Z){for(var a0=arguments['length'],a1=new Array(a0>0x1?a0-0x1:0x0),a2=0x1;a2<a0;a2++)a1[a2-0x1]=arguments[a2];return V(Y,[Z,...a1],function*(a3){var a4,a5,a6=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,a7=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{};if(a3){a6||(this['stack']=[],this['screen']['setLoading'](!0x0),this['screen']['setDatabaseRowLoading'](!0x0),this['editorUI']['setPageDisconnect'](!0x1));var a8=this['dataStore']['loadedPages']['includes'](a3),a9={};if(a7['local']||(a9=yield Object(H['D'])({'pageId':a3,'limit':0x0===a6?0x64:0x12c,'position':{'stack':this['stack']},'chunkNumber':a6,'forceFetch':a7['forceFetch']})),a9&&this['screen']['id']===a3){var {block:aa={},position:ab={},database_tables:ac={},database_views:ad={}}=a9;if(a6>0x0)delete aa[a3];else{if(0x0===a6){var ae=aa[a3]||this['dataStore']['getBlock'](a3);this['dataStore']['syncBlockData']([ae]),this['screen']['setPageProperty'](ae);}}var af={};if(this['screen']['readOnly'])for(var ag in ad){var ah=ad[ag];ah['type']!==N['h']['Form']&&(af[ag]=ah);}else af=ad;var ai=B()(af,az=>az['block_id']);z()(aa,(az,aA)=>{var aB;if((null==(aB=az['value'])?void 0x0:aB['type'])===G['y']['DATABASE']){var aC=az['value']['database_id'],aD=ai[aA]||[],aE=new Set(aD['filter'](aF=>aF['table_id']===aC)['map'](aF=>aF['view_id']));az['value']['tableviews']=az['value']['tableviews']?az['value']['tableviews']['filter'](aF=>aE['has'](aF)):[...aE['keys']()];}}),this['dataStore']['syncBlockData'](aa),this['dataStore']['syncDataViews'](af),this['dataStore']['syncDataTables'](ac);var aj=!0x1;if(0x0===a6){var ak=aa[a3]||this['dataStore']['getBlock'](a3);if(D()(ak,['value','status'])===G['w']['DELETE']||ak['isPublic']&&D()(ak,['value','status'])!==G['w']['ACTIVE'])return this['removeCurrentPage'](a3),void this['workspaceStore']['setNotFound'](!0x0);if('disabled'===D()(ak,'role'))return this['removeCurrentPage'](a3),void this['workspaceStore']['setAccessDenied'](!0x0);if(!D()(ak,'value.id'))return this['removeCurrentPage'](a3),void this['workspaceStore']['setNotFound'](!0x0);if(![G['y']['PAGE'],G['y']['DATABASE']]['includes'](D()(ak,'value.type')))return this['removeCurrentPage'](a3),void(window['location']['href']='/');aj=D()(ak,'value.type')===G['y']['DATABASE'],!ak['isPublic']&&D()(ak,['value','status'])===G['w']['ACTIVE']&&D()(ak,['value','workspace_id'])===this['spaceStore']['spaceId']&&this['spaceStore']['workspaces']['find'](az=>az['id']===this['spaceStore']['spaceId'])&&(this['dataStore']['updateLastViewedPages'](a3,!0x0,0x14),E['c'](''['concat'](G['Gb']),''['concat'](this['spaceStore']['spaceId'],'/')['concat'](a3)),Object(P['L'])({'workspace':{'id':this['spaceStore']['spaceId'],'title':this['spaceStore']['currentWorkspace']['name']},'page':{'id':a3,'title':this['blockAPI']['getTitlePlainTextByTitle'](D()(ak,['value','attributes','title']))}})),this['screen']['setPageProperty'](ak);var al=this['domAPI']['$']('#screen-'['concat'](this['screen']['screenId'],'\x20#editorRoot'));al['scrollTop']=0x0;var am=D()(ak,['value','setting','page_icon'])||[];this['blockStore']['getShortCutIcon'](am,D()(ak,['value','id'])||'');var an=L['a']['getTemplates'](),ao=D()(ak,'value.copy_from'),ap=an['includes'](ao);ap&&M['a']['track']('click_template',{'template_page_id':ao});}else this['blockStore']['setBlockDirty'](this['dataStore']['getBlockValue'](Object['keys'](aa)[0x0]));var aq,{targetId:ar}=a7;if(ar?(aq=this['dataStore']['getBlock'](ar))&&(this['screen']['setLoading'](!0x1),this['screen']['utils']['traversalAnchorNodeParent'](aq),this['screen']['hash']=ar):this['screen']['setLoading'](!0x1),this['spaceStore']['showProPlanOneDayReminder'](),requestAnimationFrame(()=>{this['editorStore']['invokeObserver']();}),!aj&&ab['stack']&&ab['stack']['length'])a6+=0x1,this['stack']=ab['stack'],this['workspaceStore']['isPreview']||this['workspaceStore']['isPdf']||(this['screen']['loadingMore']=!0x0,yield Object(K['b'])(0x3e8)),yield this['fetchPageData'](a3,a6,a7);else{if(this['screen']['loadingMore']=!0x1,this['stack']=[],ar&&this['screen']['loading']){this['screen']['setLoading'](!0x1);var {history:as}=this['routerStore'];as['push'](as['location']['pathname']);}else{if(!aq&&this['screen']['screenId']===this['screenStore']['screenId']&&!this['editorUI']['selectedNode']['length']){var at=sessionStorage['getItem']('lastPage');if(at){var au=JSON['parse'](at);if(au['length']){var {pageId:av,scrollTop:aw}=au[0x0];av===this['screen']['id']&&aw&&Number(aw)>0xc8&&(this['domAPI']['$']('#editorRoot')['scrollTop']=Number(aw)-0xc8,Object(J['a'])(this['domAPI']['$']('#editorRoot'),Number(aw),0x64));}}}}if(a8){var ax=yield Object(H['v'])([{'table':G['Db'],'id':a3}]);if(ax['length']&&(null==(a5=null==(a4=ax[0x0])?void 0x0:a4['value'])?void 0x0:a5['id'])){var ay=this['dataStore']['getBlockProperty'](a3,'version');ay!==ax[0x0]['value']['version']&&this['refreshPageData'](a3),this['screen']['setPageProperty'](ax[0x0]),this['dataStore']['syncBlockData'](ax);}}else this['dataStore']['getBlockProperty'](a3,'type')===G['y']['PAGE']&&this['dataStore']['setPageLoaded'](a3,!0x0);this['workspaceStore']['toggleNodeExpandAll']&&(this['editorStore']['batchToggleNode']('yes'),this['workspaceStore']['setToggleExpandAll'](!0x1));}}}});},this['refreshPageData']=Z=>V(this,null,function*(){var a0=yield Object(H['D'])({'pageId':Z,'limit':-0x1,'position':{'stack':[]},'chunkNumber':0x0,'forceFetch':!0x0});if(a0&&this['screen']['id']===Z){var {block:a1={}}=a0;this['dataStore']['syncBlockData'](a1),this['editorStore']['invokeObserver']();}}),this['screen']=X;}}U([F['b']],W['prototype'],'dataStore',0x2),U([F['b']],W['prototype'],'spaceStore',0x2),U([F['b']],W['prototype'],'editorUI',0x2),U([F['b']],W['prototype'],'pageStore',0x2),U([F['b']],W['prototype'],'blockStore',0x2),U([F['b']],W['prototype'],'routerStore',0x2),U([F['b']],W['prototype'],'workspaceStore',0x2),U([F['b']],W['prototype'],'editorStore',0x2),U([F['b']],W['prototype'],'cursorAPI',0x2),U([F['b']],W['prototype'],'domAPI',0x2),U([F['b']],W['prototype'],'blockAPI',0x2),U([F['b']],W['prototype'],'screenStore',0x2),U([F['b']],W['prototype'],'pageHistoryStore',0x2),U([F['b']],W['prototype'],'databaseViewStore',0x2);},'Qm5M':function(j,k,q){'use strict';var w=q('2vnA'),x=q('x3qf'),z=q('odX6'),A=q('9rbq'),B=q('uMVv'),C=q('Usk8'),D=q('bXzw'),E=Object['defineProperty'],F=Object['getOwnPropertyDescriptor'],G=Object['getOwnPropertySymbols'],H=Object['prototype']['hasOwnProperty'],I=Object['prototype']['propertyIsEnumerable'],J=(O,P,Q)=>P in O?E(O,P,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Q}):O[P]=Q,K=(O,P)=>{for(var Q in P||(P={}))H['call'](P,Q)&&J(O,Q,P[Q]);if(G){for(var Q of G(P))I['call'](P,Q)&&J(O,Q,P[Q]);}return O;},L=(O,P,Q,R)=>{for(var S,T=R>0x1?void 0x0:R?F(P,Q):P,U=O['length']-0x1;U>=0x0;U--)(S=O[U])&&(T=(R?S(P,Q,T):S(T))||T);return R&&T&&E(P,Q,T),T;},M=(O,P,Q)=>new Promise((R,S)=>{var T=W=>{try{V(Q['next'](W));}catch(X){S(X);}},U=W=>{try{V(Q['throw'](W));}catch(X){S(X);}},V=W=>W['done']?R(W['value']):Promise['resolve'](W['value'])['then'](T,U);V((Q=Q['apply'](O,P))['next']());});Object(w['configure'])({'enforceActions':'never'});class N{constructor(){this['screens']=[],this['firstRender']=!0x0,this['lastSecondPageId']='',this['closeSecondScreen']=O=>{if(O||this['secondScreen']['id']){if(this['secondScreen']['id']){this['secondScreen']['id']='',this['editorUI']['deleteFromBlockCord'](this['secondScreen']['screenId']);var P=this['screens']['findIndex'](R=>'second'===R['type']);P>-0x1&&this['screens']['splice'](P,0x1),this['currentScreen']=this['mainScreen'];var Q=document['querySelector']('#wolai-page-layout')['getBoundingClientRect']()['width'];this['mainScreen']['setWidth'](Q);}}else this['lastSecondPageId']?this['setSecondScreen'](this['lastSecondPageId']):this['setSecondScreen']('blank');this['hoverIcon']&&this['hoverIcon']['clearPreMouseAroundYouEffect'](!0x0);},this['switchSecondScreen']=()=>{if(this['secondScreen']['id']&&'blank'!==this['secondScreen']['id']){this['lastSecondPageId']=this['mainScreen']['id'];var O=this['secondScreen']['id'],P=this['mainScreen'],Q=this['secondScreen'],{width:R}=P,{width:S}=Q;P['type']='second',P['width']=S,P['isShowDirectory']=!0x1,Q['type']='main',Q['width']=R,Q['isShowDirectory']=!0x1,this['editorStore']['addMissionExecuteAfterRender'](()=>{P['isShowDirectory']=this['dataStore']['getBlockProperty'](P['id'],'setting.block_isShowDirectorySuspended'),Q['isShowDirectory']=this['dataStore']['getBlockProperty'](Q['id'],'setting.block_isShowDirectorySuspended'),P['initShareStatus'](),Q['visitor']['clearVisitorsData'](),Q['visitor']['getVisitorsData']();}),this['routerStore']['history']['replace']('/'['concat'](O)),this['hoverIcon']&&this['hoverIcon']['clearPreMouseAroundYouEffect'](!0x0);}},this['setSecondToMainScreen']=()=>{if(this['secondScreen']['id']&&'blank'!==this['secondScreen']['id']){this['lastSecondPageId']='';var O=this['mainScreen'],P=this['secondScreen'];O['type']='',P['type']='main',P['isShowDirectory']=!0x1,this['editorUI']['deleteFromBlockCord'](O['screenId']),this['editorStore']['addMissionExecuteAfterRender'](()=>{P['width']=document['querySelector']('#screen-'['concat'](P['screenId'],'\x20#pageRoot'))['offsetWidth'],P['isShowDirectory']=this['dataStore']['getBlockProperty'](P['id'],'setting.block_isShowDirectorySuspended'),P['visitor']['clearVisitorsData'](),P['visitor']['getVisitorsData']();});var Q=this['screens']['findIndex'](R=>''===R['type']);Q>-0x1&&this['screens']['splice'](Q,0x1),this['routerStore']['history']['replace']('/'['concat'](this['mainScreen']['id'])),this['hoverIcon']&&this['hoverIcon']['clearPreMouseAroundYouEffect'](!0x0);}},this['init']();}get['mainScreen'](){return this['screens']['find'](O=>'main'===O['type']);}get['secondScreen'](){var O=this['screens']['find'](Q=>'second'===Q['type']);if(!O){var P=new x['a']({'type':'second'});return this['screens']['push'](P),P;}return O;}get['pageHistoryScreen'](){var O=this['screens']['find'](Q=>'history'===Q['type']);if(!O){var P=new x['a']({'type':'history'});return this['screens']['push'](P),P;}return O;}get['templateScreen'](){var O=this['screens']['find'](Q=>'template'===Q['type']);if(!O){var P=new x['a']({'type':'template'});return P['locked']=!0x0,P['smallTextMode']=this['mainScreen']['smallTextMode'],this['screens']['push'](P),P;}return O;}get['databaseScreen'](){var O=this['screens']['find'](Q=>'database'===Q['type']);if(!O){var P=new x['a']({'type':'database'});return P['smallTextMode']=this['mainScreen']['smallTextMode'],this['screens']['push'](P),P;}return O;}get['nodeIdList'](){return this['currentScreen']['nodeIdList'];}get['tableIdList'](){return this['currentScreen']['tableIdList'];}get['allTypeNodeIdList'](){return this['currentScreen']['allTypeNodeIdList'];}get['pageLocked'](){return this['currentScreen']['locked'];}get['pageReadonly'](){return this['currentScreen']['readOnly'];}get['pageEditable'](){return this['currentScreen']['editable'];}get['smallTextMode'](){return this['currentScreen']['smallTextMode'];}get['screenId'](){return this['currentScreen']['screenId'];}['init'](){this['screens']=[];var O=new x['a']({'type':'main'});this['screens']['push'](O),this['currentScreen']=O,document['body']['addEventListener']('mousedown',P=>{var Q=this['domAPI']['getScreenByElement'](P['target']);Q&&Q['screenId']!==this['screenId']&&(this['editorUI']['clearSelectedShadow'](P),this['editorUI']['recalculateBlockPosition'](Q['screenId']),this['currentScreen']=Q);});}['setMainScreen'](O,P){var Q=window['location']['hash']?window['location']['hash']['split']('#')[0x1]:'';this['currentScreen']=this['mainScreen'],this['mainScreen']['hash']=Q,this['mainScreen']['id']!==O&&(this['editorUI']['clearSelectedNode'](),this['editorUI']['deleteFromBlockCord'](this['mainScreen']['screenId']),this['mainScreen']['id']=O,this['bootstrapScreen'](this['mainScreen'],O,Q,{'local':P}),'history'===this['currentScreen']['type']&&C['b']['emit']('closePageHistory',{}));}['setSecondScreen'](O,P){var Q=O['split']('#'),R=Q[0x0],S=Q[0x1]||'';if(R&&'blank'!==R&&(this['currentScreen']=this['secondScreen']),R!==this['secondScreen']['id']){var T=document['querySelector']('#wolai-page-layout')['getBoundingClientRect']()['width'];if(!this['secondScreen']['width']){var U=B['a'](A['hc'])||0.4;this['secondScreen']['setWidth'](U*T),this['mainScreen']['setWidth']((0x1-U)*T);}this['editorUI']['deleteFromBlockCord'](this['secondScreen']['screenId']),'blank'===R?this['secondScreen']['id']='blank':R!==this['secondScreen']['id']&&(this['domAPI']['removeAllRangesAndBlur'](),this['editorUI']['clearSelectedNode'](),this['secondScreen']['id']=R,this['lastSecondPageId']=R,this['bootstrapScreen'](this['secondScreen'],R,S,{'local':P})),this['hoverIcon']&&this['hoverIcon']['clearPreMouseAroundYouEffect'](!0x0),this['editorUI']['recalculateBlockPosition'](this['mainScreen']['screenId']),'history'===this['currentScreen']['type']&&C['b']['emit']('closePageHistory',{});}else this['secondScreen']['hash']=S;}['setDatabaseScreen'](O){var P=O['split']('#'),Q=P[0x0],R=P[0x1]||'';if(this['currentScreen']=this['databaseScreen'],Q!==this['databaseScreen']['id']){var S=document['querySelector']('#database-screen-render-area')['getBoundingClientRect']()['width'];this['databaseScreen']['setWidth'](S),this['databaseScreen']['id']=Q,this['databaseScreen']['pageDataRenderId']='',this['databaseScreen']['pageData']={},this['bootstrapScreen'](this['databaseScreen'],Q,R);}}['closeDatabaseScreen'](){this['currentScreen']=this['mainScreen'],this['screens']=this['screens']['filter'](O=>'database'!==O['type']);}['setTemplateScreen'](O){return M(this,null,function*(){var P=O['split']('#'),Q=P[0x0],R=P[0x1]||'';if(this['currentScreen']=this['templateScreen'],this['templateScreen']['hash']=R,Q!==this['templateScreen']['id']){var S=document['querySelector']('#template-center-render-area')['getBoundingClientRect']()['width'];this['templateScreen']['setWidth'](S),this['templateScreen']['id']=Q,this['templateScreen']['readOnly']=!0x0,this['templateScreen']['pageDataRenderId']='',this['templateScreen']['pageData']={},yield this['templateScreen']['fetchPageTemplateData'](Q),this['templateScreen']['locked']=!0x0,yield this['biLinkStore']['fetchReferredBlocks']({'pageId':Q,'screen':this['templateScreen']});}});}['closeTemplateScreen'](){this['currentScreen']=this['mainScreen'],this['screens']=this['screens']['filter'](O=>'template'!==O['type']);}['setPageHistoryScreen'](O){this['currentScreen']=this['pageHistoryScreen'],this['pageHistoryScreen']['id']=O,this['pageHistoryScreen']['fetchPageSnapshotData'](O),this['pageHistoryScreen']['locked']=!0x0;var P=document['querySelector']('#page-history-screen')['getBoundingClientRect']()['width'];this['pageHistoryScreen']['setWidth'](P);}['restoreMainScreen'](O){return M(this,null,function*(){this['resetCurrentScreen'](),this['pageHistoryStore']['restoreMainScreenPageData'](),yield this['mainScreen']['fetchPageData'](O,0x0,{'local':!0x0});});}['resetCurrentScreen'](){this['currentScreen']=this['mainScreen'];}['bootstrapScreen'](O,P,Q){return M(this,arguments,function*(R,S,T){var U=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:{};if(R['setLoading'](!0x0),R['setDatabaseRowLoading'](!0x0),R['isShare']=!0x1,R['locked']=!0x1,R['hash']='',S){var V=this['dataStore']['loadedPages']['includes'](S);V&&(R['setPageProperty'](this['dataStore']['getBlock'](S)),R['pageDataRenderId']='',R['pageData']={}),this['workspaceStore']['newPage']||(yield R['fetchPageData'](S,0x0,K({'targetId':T},U)),U['local']||S!==R['id']||(yield this['biLinkStore']['fetchReferredBlocks']({'pageId':S,'screen':R})));}});}['renderScreen'](){this['firstRender']&&!this['mainScreen']['readOnly']?(this['render'](this['mainScreen']),this['firstRender']=!0x1):'history'===this['currentScreen']['type']?this['render'](this['pageHistoryScreen']):'template'===this['currentScreen']['type']?this['render'](this['templateScreen']):this['screens']['forEach'](O=>{O['id']&&this['render'](O);});}['render'](O){O['renderPageData'](),O['setLastRowId']();}['getScreen'](O){return this['screens']['find'](P=>P['screenId']===O);}['getScreenByPage'](O){return this['screens']['find'](P=>P['id']===O);}['removeScreen'](O){var P=this['screens']['findIndex'](Q=>Q['screenId']===O);P>-0x1&&this['screens']['splice'](P,0x1);}['isSecondScreen'](O){if(!O)return!0x1;var P=this['domAPI']['getScreenByElement'](O);return P&&'second'===P['type'];}['isTemplateScreen'](O){if(!O)return!0x1;var P=this['domAPI']['getScreenByElement'](O);return P&&'template'===P['type'];}['isDatabaseScreen'](O){if(!O)return!0x1;var P=this['domAPI']['getScreenByElement'](O);return P&&'database'===P['type'];}['isInScreen'](O){return this['mainScreen']['id']===O||this['secondScreen']['id']===O||this['databaseScreen']['id']===O;}['setCurrentScreen'](O){this['currentScreen']=O;}}L([z['b']],N['prototype'],'workspaceStore',0x2),L([z['b']],N['prototype'],'biLinkStore',0x2),L([z['b']],N['prototype'],'routerStore',0x2),L([z['b']],N['prototype'],'editorStore',0x2),L([z['b']],N['prototype'],'dataStore',0x2),L([z['b']],N['prototype'],'domAPI',0x2),L([z['b']],N['prototype'],'editorUI',0x2),L([z['b']],N['prototype'],'pageHistoryStore',0x2),L([z['b']],N['prototype'],'cursorAPI',0x2),L([z['a']],N['prototype'],'hoverIcon',0x2),L([w['observable']],N['prototype'],'screens',0x2),L([w['action']],N['prototype'],'init',0x1),L([w['action']],N['prototype'],'setMainScreen',0x1),L([w['action']],N['prototype'],'setSecondScreen',0x1),L([w['action']],N['prototype'],'setDatabaseScreen',0x1),L([w['action']],N['prototype'],'closeDatabaseScreen',0x1),L([w['action']],N['prototype'],'setTemplateScreen',0x1),L([w['action']],N['prototype'],'closeTemplateScreen',0x1),L([w['action']],N['prototype'],'setPageHistoryScreen',0x1),L([w['action']],N['prototype'],'restoreMainScreen',0x1),L([w['action']],N['prototype'],'resetCurrentScreen',0x1),L([w['action']],N['prototype'],'bootstrapScreen',0x1),L([w['action']],N['prototype'],'closeSecondScreen',0x2),L([w['action']],N['prototype'],'switchSecondScreen',0x2),L([w['action']],N['prototype'],'setSecondToMainScreen',0x2),k['a']=Object(D['a'])(N);},'QrqS':function(b,f,g){'use strict';g['d'](f,'a',function(){return q;});var h=g('f9x4'),j=g('kYPY'),k=g('5Koy'),l=g('lfnQ'),m=g('zsTL'),p=g('Yuzn');function q(u,v){var w=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},x=arguments['length']>0x3?arguments[0x3]:void 0x0,y={};switch(x){case h['h']['Table']:Object['assign'](y,Object(j['a'])(u,v,w));break;case h['h']['Board']:Object['assign'](y,Object(k['a'])(u,v,w));break;case h['h']['Gallery']:Object['assign'](y,Object(l['a'])(u,v,w));break;case h['h']['List']:Object['assign'](y,Object(m['a'])(u,v,w));break;case h['h']['Form']:Object['assign'](y,Object(p['a'])(u,v,w));}return y;}},'R1Yf':function(f,j,k){'use strict';k['d'](j,'a',function(){return H;});var q=k('2vnA'),v=k('f9x4'),w=k('aRQO'),x=k('OIS1'),y=k('odX6'),z=k('bt/X'),A=k['n'](z),B=k('Rsoz'),C=k('zc9a'),D=k('fbxU'),E=Object['defineProperty'],F=Object['getOwnPropertyDescriptor'],G=(I,J,K,L)=>{for(var M,N=L>0x1?void 0x0:L?F(J,K):J,O=I['length']-0x1;O>=0x0;O--)(M=I[O])&&(N=(L?M(J,K,N):M(N))||N);return L&&N&&E(J,K,N),N;};class H{constructor(I){this['rows']=q['observable']['map'](),this['templates']=q['observable']['map'](),this['id']=I['table_id'],this['block_id']=I['block_id'],this['total']=0x0,this['lastEditedBy']=I['last_edit_user'],this['lastEditedTime']=I['last_edit_time'],this['formulaAccessor']=new C['a'](),this['formulaEvaluator']=new D['a'](this['id'],this),this['formulaAccessor'];}get['templateIds'](){return this['data']['templates']||[];}get['templateSet'](){return new Set(this['templateIds']);}get['primaryId'](){return this['propertyTypeGroup'][v['p']['Primary']][0x0]['id'];}get['propertyNames'](){return new Set([...this['properties']['values']()]['map'](I=>I['name']));}get['propertyOptions'](){var I=new Map();return[...this['propertyTypeGroup'][v['p']['Select']]||[],...this['propertyTypeGroup'][v['p']['MultiSelect']]||[],...this['propertyTypeGroup'][v['p']['People']]||[]]['forEach'](J=>{(J['options']||[])['forEach'](K=>{I['set'](K['option_id'],K);});}),I;}get['propertyOptionNames'](){var I=new Map();return[...this['propertyTypeGroup'][v['p']['Select']]||[],...this['propertyTypeGroup'][v['p']['MultiSelect']]||[],...this['propertyTypeGroup'][v['p']['People']]||[]]['forEach'](J=>{var K=J['options']||[];I['set'](J['id'],new Map(K['map'](L=>[L['value'],L])));}),I;}get['properties'](){return new Map(this['data']['properties']['map'](I=>[I['id'],I]));}get['formulaProperties'](){return new Map(this['data']['properties']['filter'](I=>I['type']===v['p']['Formula'])['map'](I=>[I['id'],I]));}get['propertyTypeGroup'](){return A()([...this['properties']['values']()],I=>I['type']);}['getPropertyListByType'](I){return this['propertyTypeGroup'][I]||[];}get['data'](){return this['dataStore']['getDataTable'](this['id']);}['getPropertyIds'](){return[...this['properties']['keys']()];}['getProperties'](){return[...this['properties']['values']()];}['getProperty'](I){return this['properties']['get'](I);}['getRowProperty'](I,J){var K,L=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:[['']];return(null==(K=this['getRow'](I))?void 0x0:K['properties'][J])||L;}['getRow'](I){return this['templateSet']['has'](I)?(this['templates']['has'](I)||this['templates']['set'](I,new w['a'](this,I)),this['templates']['get'](I)):(this['rows']['has'](I)||this['rows']['set'](I,new w['a'](this,I)),this['rows']['get'](I));}['hasRow'](I){return this['rows']['has'](I)||this['templates']['has'](I);}['getIncrementName'](){for(var I=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:B['a']['t']('stores.database.defaultPropertyName','字段名',{'ns':'editor'}),J=I;this['propertyNames']['has'](J);){var [,K=0x0]=J['split']('\x20');J=''['concat'](I,'\x20')['concat'](Number(K)+0x1);}return J;}['createProperty'](I,J){return{'id':Object(x['b'])(),'name':this['getIncrementName'](J),'type':I||v['p']['Text'],'isTemplate':!0x0,'options':[]};}}G([y['b']],H['prototype'],'dataStore',0x2),G([q['observable']],H['prototype'],'total',0x2),G([q['observable']],H['prototype'],'rows',0x2),G([q['observable']],H['prototype'],'rowIds',0x2),G([q['observable']],H['prototype'],'id',0x2),G([q['observable']],H['prototype'],'lastEditedBy',0x2),G([q['observable']],H['prototype'],'lastEditedTime',0x2),G([q['observable']],H['prototype'],'templates',0x2),G([q['computed']],H['prototype'],'templateIds',0x1),G([q['computed']],H['prototype'],'templateSet',0x1),G([q['computed']],H['prototype'],'primaryId',0x1),G([q['computed']],H['prototype'],'propertyNames',0x1),G([q['computed']],H['prototype'],'propertyOptions',0x1),G([q['computed']],H['prototype'],'propertyOptionNames',0x1),G([q['computed']],H['prototype'],'properties',0x1),G([q['computed']],H['prototype'],'formulaProperties',0x1),G([q['computed']],H['prototype'],'propertyTypeGroup',0x1),G([q['computed']],H['prototype'],'data',0x1);},'RC5D':function(b,c,d){'use strict';d['d'](c,'a',function(){return k;});var f=d('odX6'),g=d('hcfp'),h=Object['defineProperty'],j=Object['getOwnPropertyDescriptor'];class k{constructor(l){this['clearVisitorsData']=()=>{this['screen']['visitors']=[];},this['getVisitorsData']=()=>{return m=this,p=null,q=function*(){var u=this['screen']['id'],v=this['userStore']['userId'];v&&(this['screen']['visitors']=(yield Object(g['c'])(u))||[],this['addVisitor'](v));},new Promise((u,v)=>{var w=z=>{try{y(q['next'](z));}catch(A){v(A);}},x=z=>{try{y(q['throw'](z));}catch(A){v(A);}},y=z=>z['done']?u(z['value']):Promise['resolve'](z['value'])['then'](w,x);y((q=q['apply'](m,p))['next']());});var m,p,q;},this['addVisitor']=m=>{var p=this['screen']['visitors'],q=p['find'](u=>u['user_id']===m);q?(q['online']=!0x0,q['visited_time']=Date['now']()):p['push']({'user_id':m,'visited_time':Date['now'](),'online':!0x0}),this['screen']['visitors']=p;},this['offlineVisitor']=m=>{var p=this['screen']['visitors'],q=p['find'](u=>u['user_id']===m);q&&(q['online']=!0x1),this['screen']['visitors']=p;},this['setExpiredVisitorsOffline']=()=>{var m=this['screen']['visitors'];m['filter'](p=>p['user_id']!==this['userStore']['userId'])['filter'](p=>Date['now']()-p['visited_time']>0x2bf20)['forEach'](p=>{p['online']=!0x1;}),this['screen']['visitors']=m;},this['screen']=l;}}((l,m,p,q)=>{for(var u,v=q>0x1?void 0x0:q?j(m,p):m,w=l['length']-0x1;w>=0x0;w--)(u=l[w])&&(v=(q?u(m,p,v):u(v))||v);q&&v&&h(m,p,v);})([f['b']],k['prototype'],'userStore',0x2);},'RG8n':function(a){a['exports']=JSON['parse']('{\x22a\x22:\x221.0.5-19\x22}');},'Rl4f':function(b,f,g){'use strict';var j=g('2vnA'),k=g('bXzw'),m=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],v=Object['getOwnPropertySymbols'],w=Object['prototype']['hasOwnProperty'],x=Object['prototype']['propertyIsEnumerable'],y=(C,D,E)=>D in C?m(C,D,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':E}):C[D]=E,z=(C,D)=>{for(var E in D||(D={}))w['call'](D,E)&&y(C,E,D[E]);if(v){for(var E of v(D))x['call'](D,E)&&y(C,E,D[E]);}return C;},A=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?q(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&m(D,E,H),H;};Object(j['configure'])({'enforceActions':'never'});class B{constructor(){this['init']=()=>{this['notifications']=[],this['toasts']=[];},this['enqueueSnackbar']=C=>{this['notifications']['push'](z({'key':new Date()['getTime']()+Math['random']()},C));},this['enqueueToast']=C=>{this['toasts']['push'](z({'key':new Date()['getTime']()+Math['random']()},C));},this['removeSnackbar']=C=>{this['notifications']=this['notifications']['filter'](D=>D['key']!==C);},this['init']();}}A([j['observable']],B['prototype'],'notifications',0x2),A([j['observable']],B['prototype'],'toasts',0x2),A([j['action']],B['prototype'],'init',0x2),A([j['action']],B['prototype'],'enqueueSnackbar',0x2),A([j['action']],B['prototype'],'enqueueToast',0x2),A([j['action']],B['prototype'],'removeSnackbar',0x2),f['a']=Object(k['a'])(B);},'Rqgu':function(b,f,g){'use strict';g['d'](f,'a',function(){return x;});var h=g('Texg'),j=g('wxQR'),k=g('9rbq'),m=g('sA5H'),p=g('KQwE'),q=(y,z,A)=>new Promise((B,C)=>{var D=G=>{try{F(A['next'](G));}catch(H){C(H);}},E=G=>{try{F(A['throw'](G));}catch(H){C(H);}},F=G=>G['done']?B(G['value']):Promise['resolve'](G['value'])['then'](D,E);F((A=A['apply'](y,z))['next']());}),v=new h['a'](j['k']);v['version'](0x1)['stores']({[j['a']]:'key,\x20expiresAt'});var w=v['table'](j['a']);w['where']('expiresAt')['below'](Date['now']())['delete']();var x=new class{['getSignedPostUrl'](y){return q(this,null,function*(){return yield this['getRemote']('post',y);});}['getUnsignedPostUrl'](y){return q(this,null,function*(){return yield this['getRemote']('unsignedPost',y);});}['getSignedDownloadUrl'](y){return q(this,null,function*(){return yield this['getRemote']('download',y);});}['getSignedDisplayUrl'](y,z){return q(this,null,function*(){if(k['gb']){var A=y['get']('blockId');if(A){var B=p['a']['getInstance'](),C=yield B['imageDB']['get'](A);return C?window['URL']['createObjectURL'](C['image']):yield this['get']('display',y);}return yield this['get']('display',y);}return z&&(yield this['clearCachedUrl']('display',y)),yield this['get']('display',y);});}['clearCachedUrl'](y,z){return q(this,null,function*(){var A;try{A=this['calcKey'](y,z);}catch(B){console['warn']('calcKeyFailed');}A&&(yield w['where']({'key':A})['delete']());});}['get'](y,z){return q(this,null,function*(){var A;try{A=this['calcKey'](y,z);}catch(D){console['warn']('calcKeyFailed');}if(A)try{var B=yield this['getCached'](A);if(B)return B;}catch(E){console['error'](E);}var C=yield this['getRemote'](y,z);if(A)try{yield this['set'](A,C);}catch(F){console['error'](F);}return C;});}['calcKey'](y,z){return z instanceof FormData?y+JSON['stringify'](Array['from'](z['entries']())):(console['warn']('unable\x20to\x20calcKey'),null);}['getCached'](y){return q(this,null,function*(){var z=yield w['where']({'key':y})['first']();return z?z['expiresAt']<Date['now']()?null:z['url']:null;});}['getRemote'](y,z){return q(this,null,function*(){switch(y){case'post':return yield Object(m['O'])(z);case'unsignedPost':return yield Object(m['T'])(z);case'download':return yield Object(m['N'])(z);case'display':return yield Object(m['M'])(z);default:throw new Error('UnknownOpType');}});}['set'](y,z){return q(this,null,function*(){var A=Date['now']()+0x1b7740;yield w['put']({'key':y,'url':z,'expiresAt':A});});}}();},'Rsoz':function(b,c,d){'use strict';d['d'](c,'b',function(){return k;});var f,g,h=d('XzT5'),j=d('QSL9');d('QVM1'),(f={'type':'backend','read'(l,m,p){d('ZmYm')('./'['concat'](l,'/')['concat'](m,'.json'))['then'](q=>{p(null,q);})['catch'](q=>{p(q,null);});}},g={'ns':['editor'],'fallbackLng':'zh','lng':'zh','interpolation':{'escapeValue':!0x1},'returnObjects':!0x0});var k=()=>{return l=void 0x0,m=null,p=function*(){yield h['a']['use'](f)['use'](j['e'])['init'](g);},new Promise((q,u)=>{var v=y=>{try{x(p['next'](y));}catch(z){u(z);}},w=y=>{try{x(p['throw'](y));}catch(z){u(z);}},x=y=>y['done']?q(y['value']):Promise['resolve'](y['value'])['then'](v,w);x((p=p['apply'](l,m))['next']());});var l,m,p;};c['a']=h['a'];},'SCxo':function(a,b,c){'use strict';var d=c('q1tI');b['a']=()=>{var f=d['useRef'](()=>{var g=document['createElement']('div');g['classList']['add']('unset-scrollbar'),g['style']['visibility']='hidden',g['style']['width']='100px',document['body']['appendChild'](g);var h=g['offsetWidth'];g['style']['overflow']='scroll';var i=document['createElement']('div');i['style']['width']='100%',g['appendChild'](i);var j=i['offsetWidth'];return g['parentNode']['removeChild'](g),h-j;});d['useEffect'](()=>{var g='always-on-scrollbar',h=document['body'];0xf===f['current']()?h['classList']['contains'](g)||h['classList']['add'](g):h['classList']['contains'](g)&&h['classList']['remove'](g);},[]);};},'SM6B':function(j,q,w){'use strict';w['d'](q,'a',function(){return Y;});var x=w('Y+p1'),z=w['n'](x),A=w('52zT'),B=w['n'](A),C=w('V99J'),D=w['n'](C),F=w('8td1'),G=w['n'](F),H=w('CGOQ'),J=w['n'](H),K=w('0YDr'),L=w['n'](K),M=w('tLB3'),N=w['n'](M),P=w('PtqM'),Q=w['n'](P),R=w('a4rA'),T=w['n'](R),U=w('Iksc'),V=w('M9XF'),W=w('mkDC'),X=w('C8q+');class Y extends V['a']{['add'](Z,a0){if(Q()(Z)||Q()(a0))return X['b']['VALUE'];var a1=N()(Z),a2=N()(a0),a3=L()([a1,a2]);if(!Number['isNaN'](a1)&&!Number['isNaN'](a2)){var a4=new U['a'](a1),a5=new U['a'](a2);a3=Number(a4['plus'](a5)['valueOf']());}return a3;}['subtract'](Z,a0){if(Q()(Z)||Q()(a0))return X['b']['VALUE'];var a1=0x0,a2=0x0;if('number'==typeof a0?a2=0x0-a0:'string'==typeof a0&&(a2=parseFloat(a0),Number['isNaN'](a2)&&(a2=0x0)),'number'==typeof Z)a1=Z;else{if('string'==typeof Z&&(a1=parseFloat(Z),Number['isNaN'](a1)))return X['b']['NUM'];}var a3=N()(Z),a4=N()(a0),a5=T()(a3,a4);if(!Number['isNaN'](a3)&&!Number['isNaN'](a4)){var a6=new U['a'](a3),a7=new U['a'](a4);a5=Number(a6['minus'](a7)['valueOf']());}return a5;}['multiply'](Z,a0){if(Q()(Z)||Q()(a0))return X['b']['VALUE'];var a1=0x0,a2=0x0;'number'==typeof a0?a2=a0:'string'==typeof a0&&(a2=parseFloat(a0),Number['isNaN'](a2)&&(a2=0x0)),'number'==typeof Z?a1=Z:'string'==typeof Z&&(a1=parseFloat(Z),Number['isNaN'](a1)&&(a1=0x0));var a3=N()(a1),a4=N()(a2),a5=a3*a4;if(!Number['isNaN'](a3)&&!Number['isNaN'](a4)){var a6=new U['a'](a3),a7=new U['a'](a4);a5=Number(a6['times'](a7)['valueOf']());}return a5;}['divide'](Z,a0){if(Q()(Z)||Q()(a0))return X['b']['VALUE'];var a1=0x0,a2=0x0;if('number'==typeof a0?a2=a0:'string'==typeof a0&&(a2=parseFloat(a0),Number['isNaN'](a2)&&(a2=0x0)),0x0===a2)return X['b']['DIV0'];'number'==typeof Z?a1=Z:'string'==typeof Z&&(a1=parseFloat(Z),Number['isNaN'](a1)&&(a1=0x0));var a3=N()(a1),a4=N()(a2),a5=a3/a4;if(!Number['isNaN'](a3)&&!Number['isNaN'](a4)){var a6=new U['a'](a3),a7=new U['a'](a4);a5=Number(a6['div'](a7)['valueOf']());}return a5;}['unaryminus'](Z){if(Q()(Z))return X['b']['VALUE'];var a0=0x0;if('number'==typeof Z)a0=Z;else{if('string'==typeof Z&&(a0=parseFloat(Z),Number['isNaN'](a0)))return X['b']['NUM'];}return 0x0-a0;}['unaryplus'](Z){if(Q()(Z))return X['b']['VALUE'];var a0=0x0;if('number'==typeof Z)a0=Z;else{if('string'==typeof Z&&(a0=parseFloat(Z),Number['isNaN'](a0)))return X['b']['NUM'];}return a0;}['equal'](Z,a0){return z()(Z,a0);}['unequal'](Z,a0){return!z()(Z,a0);}['gte'](Z,a0){return B()(Z,a0);}['lte'](Z,a0){return D()(Z,a0);}['gt'](Z,a0){return G()(Z,a0);}['lt'](Z,a0){return J()(Z,a0);}}Y['implementedFunctions']={'ADD':{'method':'add','valueType':W['a']['String'],'definition':'根据条件判断返回结果','use':'if(condition,\x20value_if_true,\x20value_if_false)','useParams':'condition：判断条件\x0avalue_if_true：条件为真(true)，返回的值\x0avalue_if_false：条件为假(false)，返回的值','example':()=>'if({健康码}\x20=\x20\x27红色\x27,\x20\x22隔离\x22,\x20\x22通行\x22)','parameters':[{'argumentType':[W['a']['Number'],W['a']['String']]},{'argumentType':[W['a']['Number'],W['a']['String']]}]},'SUBTRACT':{'method':'subtract','valueType':W['a']['Number'],'definition':'所有判断条件均为真(true)，则返回真(true)；否则为假(false)','use':'and(condition1,[condition2],...)','useParams':'condition...：逻辑判断条件','example':()=>'and(10\x20>\x202,3\x20<\x2020)\x20=\x20true\x0aand(100-20\x20=\x2070,\x203*5\x20=\x2015)\x20=\x20false','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'MULTIPLY':{'method':'multiply','valueType':W['a']['Number'],'definition':'任一判断条件存在真(true)，则返回真(true)；否则为假(false)','use':'or(condition1,[condition2],...)','useParams':'condition...：逻辑判断条件','example':()=>'or(10\x20>\x202,3\x20<\x2020)\x20=\x20true\x0aor(100-20\x20=\x2070,\x203*5\x20=\x2015)\x20=\x20true\x0aor(100-20\x20=\x2070,\x203*5\x20=\x2016)\x20=\x20false','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'DIVIDE':{'method':'divide','valueType':W['a']['Number'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'UNARYMINUS':{'method':'unaryminus','valueType':W['a']['Number'],'parameters':[{'argumentType':[W['a']['Number']]}]},'UNARYOPLUS':{'method':'unaryplus','valueType':W['a']['Number'],'parameters':[{'argumentType':[W['a']['Number']]}]},'EQUAL':{'method':'equal','valueType':W['a']['Boolean'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'UNEQUAL':{'method':'unequal','valueType':W['a']['Boolean'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'LARGEREQ':{'method':'gte','valueType':W['a']['Boolean'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'SMALLEREQ':{'method':'lte','valueType':W['a']['Boolean'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'LARGER':{'method':'gt','valueType':W['a']['Boolean'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]},'SMALLER':{'method':'lt','valueType':W['a']['Boolean'],'definition':'逻辑条件取反','use':'not(condition)','useParams':'condition：判断条件','example':()=>'not(false)\x20=\x20true\x0anot({总数}\x20<\x20200)\x20=>\x20{总数}\x20≥\x20200','parameters':[{'argumentType':[W['a']['Number']]},{'argumentType':[W['a']['Number']]}]}};},'SVXG':function(j,q,x){'use strict';var z=x('Y+p1'),B=x['n'](z),F=x('mwIZ'),G=x['n'](F),H=x('xkGU'),J=x['n'](H),K=x('BkRI'),L=x['n'](K),M=x('odX6'),N=x('9rbq'),Q=x('uMVv'),R=x('sA5H'),U=x('YfBr'),V=x('WRmh'),W=x('2vnA'),X=x('bXzw'),Y=Object['defineProperty'],Z=Object['defineProperties'],a0=Object['getOwnPropertyDescriptor'],a1=Object['getOwnPropertyDescriptors'],a2=Object['getOwnPropertySymbols'],a3=Object['prototype']['hasOwnProperty'],a4=Object['prototype']['propertyIsEnumerable'],a5=(ab,ac,ad)=>ac in ab?Y(ab,ac,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':ad}):ab[ac]=ad,a6=(ab,ac)=>{for(var ad in ac||(ac={}))a3['call'](ac,ad)&&a5(ab,ad,ac[ad]);if(a2){for(var ad of a2(ac))a4['call'](ac,ad)&&a5(ab,ad,ac[ad]);}return ab;},a7=(ab,ac)=>Z(ab,a1(ac)),a8=(ab,ac,ad,ae)=>{for(var af,ag=ae>0x1?void 0x0:ae?a0(ac,ad):ac,ah=ab['length']-0x1;ah>=0x0;ah--)(af=ab[ah])&&(ag=(ae?af(ac,ad,ag):af(ag))||ag);return ae&&ag&&Y(ac,ad,ag),ag;},a9=(ab,ac,ad)=>new Promise((ae,af)=>{var ag=aj=>{try{ai(ad['next'](aj));}catch(ak){af(ak);}},ah=aj=>{try{ai(ad['throw'](aj));}catch(ak){af(ak);}},ai=aj=>aj['done']?ae(aj['value']):Promise['resolve'](aj['value'])['then'](ag,ah);ai((ad=ad['apply'](ab,ac))['next']());});class aa{constructor(){var ab=this;this['allBlocks']={},this['blocks']={},this['stashDBChanges']=[],this['allDataTabes']={},this['dataTables']={},this['allRows']=W['observable']['map'](),this['rows']=W['observable']['map'](),this['views']=W['observable']['map'](),this['allViews']=W['observable']['map'](),this['allSpaceBlocks']={},this['spaceBlocks']={},this['loadedPages']=[],this['treePages']={},this['pageNaviList']={},this['syncSpaceData']=()=>{this['spaceStore']['workspaces']&&this['spaceStore']['workspaces']['length']&&this['spaceStore']['workspaces']['forEach'](ac=>{ac['id']&&(this['spaceBlocks'][ac['id']]=this['spaceBlocks'][ac['id']]||{},this['spaceBlocks'][ac['id']]=Object['assign']({},this['spaceBlocks'][ac['id']],L()(ac)));}),this['allSpaceBlocks']=Object['assign']({},this['allSpaceBlocks'],L()(this['spaceBlocks']));},this['syncBlockData']=function(ac){var ad=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];J()(ac,ae=>{var af,ag,ah,ai=G()(ae,'value.id')||G()(ae,'id');if(ae&&ai){if(ab['allBlocks'][ai]=ab['allBlocks'][ai]||{},ab['blocks'][ai]&&'disabled'!==ab['blocks'][ai]['role']&&'history'!==ab['screenStore']['currentScreen']['type']&&!N['gb']){if(((null==(ag=null==(af=ab['blocks'][ai])?void 0x0:af['value'])?void 0x0:ag['version'])||0x0)>((null==(ah=null==ae?void 0x0:ae['value'])?void 0x0:ah['version'])||0x0))return;}if('disabled'!==ae['role']){var aj=G()(ae,'value.attributes.title');aj&&(ae['value']['attributes']['title']=ab['blockAPI']['filterTitle'](aj));}ab['allBlocks'][ai]=Object['assign']({},ab['allBlocks'][ai],L()(ae)),ab['blocks'][ai]=ad?L()(a6(a6({},ab['blocks'][ai]),ab['allBlocks'][ai])):L()(a6(a6({},ab['allBlocks'][ai]),ab['blocks'][ai]));}});},this['isTopPage']=ac=>{if(ac){if(ac['id'])return ac['parent_id']===ac['workspace_id'];if('string'==typeof ac)return this['getBlockProperty'](ac,'parent_id')===this['getBlockProperty'](ac,'workspace_id');}},this['getSourceId']=function(){var ac=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',ad=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],ae=ac,af=ac&&ac['split']('-')||[];if(af['length']>0x0&&(ae=af['slice'](-0x1)[0x0]),ad){var ag=ab['blocks'][ae]&&ab['blocks'][ae]['value'];ag&&ag['source_id']&&(ae=ag['source_id']);}return ae;},this['getEmbedId']=ac=>{var ad=ac['replace']('ref-','')['split']('-');return ad['length']>0x1?ad['slice'](0x0,-0x1)['join']('-'):'';},this['getEmbedBlocks']=ac=>{for(var ad={},ae=(ag,ah,ai)=>{for(var aj=function(am){var an=ag[am],ao=ab['getSourceId'](an['id']);if(an['id']=ah?'ref-'['concat'](ah['replace']('ref-',''),'-')['concat'](an['id']):an['id'],ai['includes'](ao)){an['sub_nodes']=[];var ap=ab['getBlock'](ao);return ab['blocks'][''['concat'](an['id'])]=a7(a6({},ab['blocks'][''['concat'](an['id'])]||{}),{'role':ap?ap['role']:'all','value':an}),ad[''['concat'](an['id'])]=ab['blocks'][''['concat'](an['id'])],'continue';}if(ai['push'](ao),an['source_id']){ab['biLinkStore']['addRelation'](an['id'],an['source_id']);var aq=ab['getBlockValue'](ao),{id:ar,sub_nodes:as,attributes:at,type:au,setting:av,active:aw,status:ax,database_id:ay,tableviews:az}=aq;if(!ar)return{'v':void 0x0};if(Object['assign'](an,{'sub_nodes':(as||[])['map'](aC=>'ref-'['concat'](an['id']['replace']('ref-',''),'-')['concat'](aC)),'attributes':at,'type':au,'setting':av,'active':aw,'status':ax,'database_id':ay,'tableviews':az}),ab['blocks'][''['concat'](an['id'])]=a7(a6({},ab['blocks'][''['concat'](an['id'])]||{}),{'role':ab['getBlock'](ao)['role'],'value':an}),ad[''['concat'](an['id'])]=ab['blocks'][''['concat'](an['id'])],![N['y']['PAGE'],N['y']['DATABASE']]['includes'](au)){var aA=(as||[])['map'](aC=>{var aD=L()(ab['getBlockValue'](aC));return Object['assign'](aD,{'parent_id':an['id'],'page_id':an['page_id']}),aD;});ae(aA,an['id'],[...ai]);}}else{if(![N['y']['PAGE'],N['y']['DATABASE']]['includes'](an['type'])&&an['sub_nodes']&&an['sub_nodes']['length']){var aB=an['sub_nodes']['map'](aC=>{var aD=L()(ab['getBlockValue'](aC));return aD['parent_id']=an['id'],aD['page_id']=an['page_id'],aD;});ae(aB,ah,[...ai]),an['sub_nodes']=an['sub_nodes']['map'](aC=>'ref-'['concat'](ah['replace']('ref-',''),'-')['concat'](aC));}ab['blocks'][''['concat'](an['id'])]=a7(a6({},ab['blocks'][''['concat'](an['id'])]||{}),{'role':ab['getBlock'](ah)['role'],'value':an}),ad[''['concat'](an['id'])]=ab['blocks'][''['concat'](an['id'])];}},ak=0x0;ak<ag['length'];ak++){var al=aj(ak);if('continue'!==al&&'object'==typeof al)return al['v'];}},af=0x0;af<ac['length'];af++)ae([ac[af]],'',[]);this['allBlocks']=Object['assign']({},this['allBlocks'],L()(ad));},this['getBlockProperty']=(ac,ad,ae)=>{var af;return(af=ae?G()(this['allBlocks'][ac],'value.'['concat'](ad)):G()(this['blocks'][ac],'value.'['concat'](ad)))||('attributes'===ad||'setting'===ad?af={}:('sub_nodes'===ad||'permissions'===ad)&&(af=[])),af;},this['getBlockPermissions']=ac=>{var ad=this['getBlockValue'](ac);if(ad){ad['source_id']&&(ad=this['getBlockValue'](ad['source_id']));for(var ae=new Set(),af=new Map(),ag=new Map(),ah=0x0;ad&&!ae['has'](ad['id']);){if(ae['add'](ad['id']),ad['permissions']&&ad['permissions']['length']>0x0){for(var ai of ad['permissions'])if(ai)switch(ai['type']){case V['e']['User']:var aj=ai['user_id'];if(aj){var ak=af['get'](aj);ak?ak['blockId']!==ac||ak['override']||(ak['override']=ad['id']):af['set'](aj,a7(a6({},ai),{'index':ah,'blockId':ad['id'],'override':''}));}break;case V['e']['Group']:var al=ai['group_id'];if(al){var am=af['get'](al);am?am['blockId']!==ac||am['override']||(am['override']=ad['id']):af['set'](al,a7(a6({},ai),{'index':ah,'blockId':ad['id'],'override':''}));}break;case V['e']['Space']:var an=ai['workspace_id'];if(an){var ao=af['get'](an);ao?ao['blockId']!==ac||ao['override']||(ao['override']=ad['id']):af['set'](an,a7(a6({},ai),{'override':'','index':ah,'blockId':ad['id']}));}break;case V['e']['Public']:var ap=ag['get']('public');ap?ap['blockId']!==ac||ap['override']||(ap['override']=ad['id']):ag['set']('public',a7(a6({},ai),{'override':'','index':ah,'blockId':ad['id']}));}}var aq=ad['page_id'];(ad=this['getBlockValue'](aq))['source_id']&&(ad=this['getBlockValue'](ad['source_id'])),ah++;}return Array['from'](af['values']())['concat'](Array['from'](ag['values']()));}},this['isTopSpacePage']=ac=>{var ad=this['getBlock'](ac);return!!ad&&this['isTopPage'](ad['value']);},this['getBlockValue']=(ac,ad)=>{var ae;return(ae=ad?G()(this['allBlocks'][ac],'value',{}):G()(this['blocks'][ac],'value',{}))['id']&&(ae['attributes']=ae['attributes']||{},ae['setting']=ae['setting']||{},ae['sub_nodes']=ae['sub_nodes']||[],ae['permissions']=ae['permissions']||[],ae['block_discuss_ids']?ae['block_discuss_ids']='string'==typeof ae['block_discuss_ids']?JSON['parse'](ae['block_discuss_ids']):ae['block_discuss_ids']:ae['block_discuss_ids']=[],ae['resolved_discuss_ids']?ae['resolved_discuss_ids']='string'==typeof ae['resolved_discuss_ids']?JSON['parse'](ae['resolved_discuss_ids']):ae['resolved_discuss_ids']:ae['resolved_discuss_ids']=[]),ae;},this['getBlock']=(ac,ad)=>ad?this['allBlocks'][ac]:this['blocks'][ac],this['getSpace']=(ac,ad)=>ad?this['allSpaceBlocks'][ac]:this['spaceBlocks'][ac],this['setPageLoaded']=(ac,ad)=>{if(ad)this['loadedPages']['includes'](ac)||this['loadedPages']['push'](ac);else{var ae=this['loadedPages']['indexOf'](ac);ae>-0x1&&this['loadedPages']['splice'](ae,0x1);}},this['getBlocksByPage']=function(){var ac=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ab['blockStore']['pageId'],ad={};return Object['keys'](ab['blocks'])['forEach'](ae=>{ae!==ac&&G()(ab['blocks'][ae],'value.page_id')!==ac||(ad[ae]=ab['blocks'][ae]);}),ad;},this['updateBlock']=(ac,ad,ae)=>{var af=this['getBlockValue'](ac,ae),ag=G()(ad,'attributes.title');ag&&(ad['attributes']['title']=this['blockAPI']['filterTitle'](ag)),Object['assign'](af,ad),N['gb']&&U['a']['syncToBlockDB'](af);},this['updateBlockDirty']=(ac,ad)=>{var ae=this['getBlock'](ac);ae&&(ae['dirty']=ad);},this['asyncTreePages']=()=>{B()(this['pageStore']['pages'],this['treePages'])||(this['treePages']=L()(this['pageStore']['pages']));},this['sync']=()=>{this['allBlocks']=Object['assign']({},this['allBlocks'],L()(this['blocks'])),this['syncSpaceData'](),this['asyncTreePages']();},this['loadLastViewedPages']=ac=>a9(this,null,function*(){var ad=yield Object(R['v'])(ac['map'](ae=>({'table':N['Db'],'id':ae})));this['syncBlockData'](ad);}),this['getLastViewedPageIds']=()=>{var ac=''['concat'](this['spaceStore']['spaceId'],'_')['concat'](N['cc']),ad=Q['a'](ac),ae=ad&&Array['isArray'](ad)?ad:[];return Array['isArray'](ad)||Q['c'](ac,[]),ae;},this['getLastViewedPages']=()=>a9(this,null,function*(){var ac=this['getLastViewedPageIds']();return yield this['getPagesNavi'](ac),ac['map'](ad=>this['getBlock'](ad))['filter'](ad=>ad&&'disabled'!==ad['role']&&ad['active']&&[N['y']['PAGE'],N['y']['DATABASE']]['includes'](G()(ad,'value.type'))&&G()(ad,'value.workspace_id')===this['spaceStore']['spaceId']);}),this['getPagesNavi']=ac=>a9(this,null,function*(){var ad=[],ae=[];if(ac['forEach'](ah=>{this['getBlockValue'](ah)['id']||-0x1===ad['findIndex'](ai=>ai['id']===ah)&&ad['push']({'table':N['Db'],'id':ah});}),ad['length']>0x0){var af=yield Object(R['v'])(ad);this['syncBlockData'](af);}var ag=!0x1;ac['forEach'](ah=>{if(ah){var ai=this['getBlockValue'](ah);ai['id']&&ai['page_id']&&(ag=!0x0,ae['push'](ai['page_id']));}}),ag&&(yield this['getPagesNavi'](ae));}),this['updateLastViewedPages']=function(ac){var ad=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],ae=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x14;if(ab['spaceStore']['spaceId']){var af=''['concat'](ab['spaceStore']['spaceId'],'_')['concat'](N['cc']);ad?Q['d'](af,ac,ae):Q['c'](af,ac);}},this['createPageNavi']=(ac,ad)=>a9(this,null,function*(){if(!ac)return[];var ae=this['getBlockValue'](ac);if(!ae['id']){var af=yield Object(R['v'])([{'table':N['Db'],'id':ac}]);this['syncBlockData'](af),ae=af[0x0]['value'];}return ad['push'](ae),ae['page_id']?yield this['createPageNavi'](ae['page_id'],ad):ad;}),this['getPageNaviById']=ac=>this['createPageNavi'](ac,[]),this['getShareExtraInfo']=ac=>a9(this,null,function*(){var ad=(yield this['getPageNaviById'](ac))['filter'](ak=>Object['keys'](ak)['length']&&this['pageStore']['isPublicPermission'](ak['id'])),ae=ad[0x0],af=ad['slice'](0x1)['reverse'](),ag=af[0x0]||ae,ah=af['find'](ak=>{var al;return null==(al=ak['setting'])?void 0x0:al['block_show_share_sidebar'];})||ae,ai=ad['slice'](0x0,ad['indexOf'](ah)+0x1)['reverse'](),aj=ai['some'](ak=>{var al;return null==(al=ak['setting'])?void 0x0:al['block_show_share_sidebar'];});return{'shareRootPage':ag,'shareSidebarSwitchRootPage':ah,'shareSidebarPageNavi':ai,'shareSidebarShowInheritStatus':aj};}),this['searchPagesByTitle']=ac=>Object['keys'](this['blocks'])['filter'](ad=>G()(this['blocks'][ad],'value.created_by')===this['userStore']['userId']&&G()(this['blocks'][ad],'value.workspace_id')===this['spaceStore']['spaceId']&&[N['y']['PAGE'],N['y']['DATABASE']]['includes'](G()(this['blocks'][ad],'value.type')))['filter'](ad=>G()(this['blocks'][ad],'value.attributes.title[0][0]')===ac)['map'](ad=>({'page_id':ad})),this['getSpaceReferencePropsBlock']=ac=>a9(this,null,function*(){var ad=this['spaceStore']['getTargetSpacePremium'](this['spaceStore']['spaceId']),ae={};if(['today_new_page_template','random_page_range']['includes'](ac)&&!ad)return ae;var af=this['spaceStore']['getCurrentSpaceViewProps'](ac);if(af){if(!(ae=this['getBlockValue'](af))['id']){var ag=yield Object(R['v'])([{'table':N['Db'],'id':af}]);ae=ag&&ag[0x0]&&ag[0x0]['value']||{};}ae['status']===N['w']['ACTIVE']&&ae['workspace_id']===this['spaceStore']['spaceId']||(ae={});}return ae;}),this['handleDisableChangeConfig']=ac=>!!(this['userStore']['disableChange']&&this['isTopPage'](ac)&&this['pageStore']['isWorkspacePermission'](ac));}get['dataRows'](){var ab=new Map();return this['rows']['forEach'](ac=>{ac['forEach'](ad=>{ab['set'](ad['block_id'],ad);});}),ab;}['getDataTable'](ab,ac){return(ac?this['allDataTabes']:this['dataTables'])[ab];}['syncDataTables'](ab){var ac,ad=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];(null==(ac=this['popperStore']['tableEditorState'])?void 0x0:ac['anchorEl'])?this['stashDBChanges']['push'](()=>{this['syncDataTables'](ab,ad);}):J()(ab,ae=>{var af=ae['table_id'];af&&(ad&&(this['allDataTabes'][af]=Object['assign']({},this['allDataTabes'][af],L()(ae))),this['dataTables'][af]=L()(a6(a6(a6({},this['allDataTabes'][af]),this['dataTables'][af]),L()(ae))));});}['getDataView'](ab,ac){return(ac?this['allViews']:this['views'])['get'](ab);}['syncDataViews'](ab){var ac,ad=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];(null==(ac=this['popperStore']['tableEditorState'])?void 0x0:ac['anchorEl'])?this['stashDBChanges']['push'](()=>{this['syncDataViews'](ab,ad);}):J()(ab,ae=>{var af=ae['view_id'];af&&(ad&&this['allViews']['set'](af,a6(a6({},this['views']['get'](af)||{}),L()(ae))),this['views']['set'](af,a6(a6(a6({},this['allViews']['get'](af)||{}),this['views']['get'](af)||{}),L()(ae))));});}['getDataRows'](ab,ac){var ad=ac?this['allRows']:this['rows'];return ad['has'](ab)||this['rows']['set'](ab,W['observable']['map']()),ad['get'](ab);}['getDataRow'](ab,ac,ad){return this['getDataRows'](ab,ad)['get'](ac);}['syncDataRows'](ab,ac){var ad=!(arguments['length']>0x2&&void 0x0!==arguments[0x2])||arguments[0x2];J()(ac,ae=>{ae['properties']=ae['properties']||{};var af=ae['block_id'];if(af){this['rows']['has'](ab)||this['rows']['set'](ab,W['observable']['map']()),this['allRows']['has'](ab)||this['allRows']['set'](ab,W['observable']['map']());var ag=this['rows']['get'](ab)['get'](af);if(!((null==ag?void 0x0:ag['version'])>=ae['version']&&(null==ag?void 0x0:ag['status'])===ae['status'])){this['allRows']['get'](ab)['set'](af,L()(ae));var ah=this['allRows']['get'](ab)['get'](af),ai=this['rows']['get'](ab)['get'](af)||{};ad?this['rows']['get'](ab)['set'](af,L()(a6(a6({},ai),ah))):this['rows']['get'](ab)['set'](af,L()(a6(a6({},ah),ai)));}}});}}a8([W['observable']['shallow']],aa['prototype'],'stashDBChanges',0x2),a8([W['observable']['shallow']],aa['prototype'],'allDataTabes',0x2),a8([W['observable']],aa['prototype'],'dataTables',0x2),a8([W['observable']],aa['prototype'],'rows',0x2),a8([W['computed']],aa['prototype'],'dataRows',0x1),a8([W['observable']],aa['prototype'],'views',0x2),a8([M['b']],aa['prototype'],'blockStore',0x2),a8([M['b']],aa['prototype'],'spaceStore',0x2),a8([M['b']],aa['prototype'],'pageStore',0x2),a8([M['b']],aa['prototype'],'blockAPI',0x2),a8([M['b']],aa['prototype'],'biLinkStore',0x2),a8([M['b']],aa['prototype'],'screenStore',0x2),a8([M['b']],aa['prototype'],'userStore',0x2),a8([M['b']],aa['prototype'],'popperStore',0x2),a8([W['action']],aa['prototype'],'syncDataViews',0x1),a8([W['action']],aa['prototype'],'syncDataRows',0x1),q['a']=Object(X['a'])(aa);},'Sml6':function(b,c,d){'use strict';var f=d('23mu'),g=d('wxQR');class h extends f['a']{['firstSetUserProfile'](j){var {userId:k,role:l,avatar:m,username:p,email:q,password:u}=j;return this['update'](k,g['r'],['user_properties'],{'persona':l})['update'](k,g['r'],[],{'head_photo_url':m,'name':p,'email':q,'password':u,'first_step_completed':!0x0});}}c['a']=h;},'Sq2Y':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('Wgwc'),f=[{'key':'dateTypeSlash','value':'yyyymmdd_slash','desc':d()['format']('YYYY/MM/DD'),'format':'YYYY/MM/DD','formatMermaid':'%Y/%m/%d','offset':0xa},{'key':'dateTypeBar','value':'yyyymmdd_bar','desc':d()['format']('YYYY-MM-DD'),'format':'YYYY-MM-DD','formatMermaid':'%Y-%m-%d','offset':0xa},{'key':'dateTypeDot','value':'yyyymmdd_dot','desc':d()['format']('YYYY.MM.DD'),'format':'YYYY.MM.DD','formatMermaid':'%Y.%m.%d','offset':0xa},{'key':'dateTypeFull','value':'yyyymmdd_full','desc':d()['format']('YYYY年MM月DD日'),'format':'YYYY年MM月DD日','formatMermaid':'%Y年%m月%d日','offset':0xb},{'key':'dateTypeMMMMM','value':'ddmmmmyyyy','desc':d()['format']('DD\x20MMM\x20YYYY'),'format':'DD\x20MMM\x20YYYY','formatMermaid':'%d\x20%m\x20%Y','offset':0xb}];},'TdTt':function(b,f,g){'use strict';g['d'](f,'a',function(){return z;});var h=g('Wgwc'),j=g['n'](h),k=g('M9XF'),m=g('mkDC'),q=g('C8q+'),v=g('PtqM'),w=g['n'](v),x=['years','quarters','months','days','weeks','hours','minutes','seconds','milliseconds','y','Q','M','w','d','h','m','s','ms'],y=A=>{switch(A){case'years':return'year';case'quarters':return'quarter';case'months':return'month';case'days':return'day';case'weeks':return'week';case'hours':return'hour';case'minutes':return'minute';case'seconds':return'second';case'milliseconds':return'millisecond';default:return A;}};class z extends k['a']{['starttime'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':D?''['concat'](C,'\x20')['concat'](D):C,'extend':{'type':D?'datetime':'date','start_date':C,'allUser':!0x1,'start_time':D}};}return{'value':q['b']['VALUE'],'extend':{}};}['endtime'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D,end_date:E,end_time:F}=B;return E?{'value':F?''['concat'](E,'\x20')['concat'](F):E,'extend':{'type':F?'datetime':'date','start_date':E,'allUser':!0x1,'start_time':F}}:{'value':D?''['concat'](C,'\x20')['concat'](D):C,'extend':{'type':D?'datetime':'date','start_date':C,'allUser':!0x1,'start_time':D}};}return{'value':q['b']['VALUE'],'extend':{}};}['now'](){var A=j()();return{'value':A['format']('YYYY/MM/DD\x20HH:mm:ss'),'extend':{'type':'datetime','start_date':A['format']('YYYY/MM/DD'),'allUser':!0x1,'start_time':A['format']('HH:mm:ss')}};}['today'](){var A=j()();return{'value':A['format']('YYYY/MM/DD'),'extend':{'type':'date','start_date':A['format']('YYYY/MM/DD'),'allUser':!0x1}};}['dateadd'](A,B,C){var D=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(D)||w()(B)||w()(C))return q['b']['VALUE'];if(D&&'object'==typeof D&&D['start_date']){var {start_date:E,start_time:F}=D,G=j()(F?''['concat'](E,'\x20')['concat'](F):E),H=B;if('number'!=typeof B&&(H=parseFloat(B),Number['isNaN'](H)))return{'value':'','extend':{}};if(x['includes'](C)){var I=G['add'](H,y(C));return{'value':F?I['format']('YYYY/MM/DD\x20HH:mm'):I['format']('YYYY/MM/DD'),'extend':{'type':F?'datetime':'date','start_date':I['format']('YYYY/MM/DD'),'allUser':!0x1,'start_time':F?I['format']('HH:mm'):void 0x0}};}return{'value':q['b']['VALUE'],'extend':{}};}return{'value':q['b']['VALUE'],'extend':{}};}['dateDiff'](A,B,C){var D=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']),E=(null==B?void 0x0:B['extend'])||(null==B?void 0x0:B['value']);if(w()(D)||w()(E)||w()(C))return q['b']['VALUE'];if(D&&E&&'object'==typeof D&&D['start_date']&&'object'==typeof E&&E['start_date']){var {start_date:F,start_time:G}=D,{start_date:H,start_time:I}=E,J=j()(G?''['concat'](F,'\x20')['concat'](G):F),K=j()(I?''['concat'](H,'\x20')['concat'](I):H);return x['includes'](C)?{'value':J['diff'](K,y(C))}:{'value':q['b']['VALUE']};}return{'value':q['b']['VALUE']};}['nowDiff'](A,B){var C=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(C)||w()(B))return q['b']['VALUE'];if(C&&'object'==typeof C&&C['start_date']){var {start_date:D,start_time:E}=C,F=j()(E?''['concat'](D,'\x20')['concat'](E):D);if(x['includes'](B)){var G=F['diff'](new Date(),y(B));return{'value':Math['abs'](G)};}return{'value':q['b']['VALUE']};}return{'value':q['b']['VALUE']};}['isDate'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['isValid']()};}return{'value':!0x1};}['timestamp'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;j()();if(B){if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['toDate']()['getTime']()};}return{'value':q['b']['VALUE']};}return{'value':new Date()['getTime']()};}['isBefore'](A,B){var C=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']),D=(null==B?void 0x0:B['extend'])||(null==B?void 0x0:B['value']);if(w()(C)||w()(D))return q['b']['VALUE'];if(C&&D&&'object'==typeof C&&C['start_date']&&'object'==typeof D&&D['start_date']){var {start_date:E,start_time:F}=C,{start_date:G,start_time:H}=D,I=j()(F?''['concat'](E,'\x20')['concat'](F):E),J=j()(H?''['concat'](G,'\x20')['concat'](H):G);return{'value':I['isBefore'](J)};}return{'value':q['b']['VALUE']};}['isAfter'](A,B){var C=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']),D=(null==B?void 0x0:B['extend'])||(null==B?void 0x0:B['value']);if(w()(C)||w()(D))return q['b']['VALUE'];if(C&&D&&'object'==typeof C&&C['start_date']&&'object'==typeof D&&D['start_date']){var {start_date:E,start_time:F}=C,{start_date:G,start_time:H}=D,I=j()(F?''['concat'](E,'\x20')['concat'](F):E),J=j()(H?''['concat'](G,'\x20')['concat'](H):G);return{'value':I['isAfter'](J)};}return{'value':q['b']['VALUE']};}['isSame'](A,B,C){var D=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']),E=(null==B?void 0x0:B['extend'])||(null==B?void 0x0:B['value']);if(w()(D)||w()(E)||w()(C))return q['b']['VALUE'];if(D&&E&&'object'==typeof D&&D['start_date']&&'object'==typeof E&&E['start_date']){var {start_date:F,start_time:G}=D,{start_date:H,start_time:I}=E,J=j()(G?''['concat'](F,'\x20')['concat'](G):F),K=j()(I?''['concat'](H,'\x20')['concat'](I):H);return C?C&&x['includes'](C)?{'value':J['isSame'](K,y(C))}:{'value':q['b']['VALUE']}:{'value':J['isSame'](K)};}return{'value':q['b']['VALUE']};}['dateformat'](A,B){var C=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(C)||w()(B))return q['b']['VALUE'];if(C&&'object'==typeof C&&C['start_date']){var {start_date:D,start_time:E}=C;return{'value':j()(E?''['concat'](D,'\x20')['concat'](E):D)['format'](B||'')};}return{'value':q['b']['VALUE']};}['year'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['year']()};}return{'value':q['b']['VALUE']};}['month'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['month']()+0x1};}return{'value':q['b']['VALUE']};}['day'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['date']()};}return{'value':q['b']['VALUE']};}['hour'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['hour']()};}return{'value':q['b']['VALUE']};}['minute'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':j()(D?''['concat'](C,'\x20')['concat'](D):C)['minute']()};}return{'value':q['b']['VALUE']};}['weekDay'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B;return{'value':[0x7,0x1,0x2,0x3,0x4,0x5,0x6][j()(D?''['concat'](C,'\x20')['concat'](D):C)['day']()]};}return{'value':q['b']['VALUE']};}['weekNum'](A){var B,C,D,E=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value']);if(w()(E))return E;if(E&&'object'==typeof E&&E['start_date']){var {start_date:F,start_time:G}=E,H=j()(G?''['concat'](F,'\x20')['concat'](G):F);return{'value':(B=H['format']('YYYY/MM/DD\x2000:00:00'),C=new Date(B),D=new Date(C['getFullYear'](),0x0,0x1),Math['ceil'](((C['getTime']()-D['getTime']())/0x5265c00+D['getDay']())/0x7))};}return{'value':q['b']['VALUE']};}['toDate'](A){var B=(null==A?void 0x0:A['extend'])||(null==A?void 0x0:A['value'])||A;if(w()(B))return B;if(B&&'object'==typeof B&&B['start_date']){var {start_date:C,start_time:D}=B,E=j()(D?''['concat'](C,'\x20')['concat'](D):C);return{'value':D?E['format']('YYYY/MM/DD\x20HH:mm'):E['format']('YYYY/MM/DD'),'extend':{'type':D?'datetime':'date','start_date':E['format']('YYYY/MM/DD'),'allUser':!0x1,'start_time':D?E['format']('HH:mm'):void 0x0}};}if('string'==typeof B||'number'==typeof B){var F=B;'string'==typeof B&&(F=null==B?void 0x0:B['replace'](/\./g,'/'));var G=j()(F);return G['isValid']()?{'value':G['format']('YYYY/MM/DD\x20HH:mm'),'extend':{'type':'datetime','start_date':G['format']('YYYY/MM/DD'),'allUser':!0x1,'start_time':G['format']('HH:mm')}}:{'value':q['b']['VALUE'],'extend':{}};}return{'value':q['b']['VALUE'],'extend':{}};}}z['implementedFunctions']={'STARTTIME':{'method':'starttime','valueType':m['a']['WLDate'],'definition':'返回时间段的开始时间','use':'STARTTIME(dateperiod)','useParams':'dateperiod：指定的日期段\x0a\x0adateperiod为具体日期，返回该日期\x0adateperiod为某一天的时间段，返回当日开始时间，格式：日期+开始时间\x0adateperiod为日期段，返回开始时间，格式：日期+时间','example':()=>'STARTTIME({时间段})\x0a=>\x202021-12-29\x2009:00:00\x0a\x20\x20\x20\x20\x20\x20\x20\x0a{时间段}\x20=\x202021-12-29\x2009:00:00\x20->\x202021-12-31\x2009:00:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'ENDTIME':{'method':'endtime','valueType':m['a']['WLDate'],'definition':'返回时间段的结束时间','use':'ENDTIME(dateperiod)','useParams':'dateperiod：指定的日期段\x0a\x0adateperiod为具体日期，返回该日期\x0adateperiod为某一天的时间段，返回当日结束时间，格式：日期+结束时间\x0adateperiod为日期段，返回结束时间，格式：日期+时间','example':()=>'ENDTIME({时间段})\x20=>\x202021-12-31\x2009:00:00\x0a{时间段}\x20=\x202021-12-29\x2009:00:00\x20->\x202021-12-31\x2009:00:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'TODAY':{'method':'today','valueType':m['a']['WLDate'],'definition':'返回今天日期(年月日)','use':'TODAY()','useParams':'','example':()=>'TODAY()\x20=>\x202021-12-29','parameters':[],'isVolatile':!0x0},'NOW':{'method':'now','valueType':m['a']['WLDate'],'definition':'返回当前时间(年月日时分秒)','use':'NOW()','useParams':'','example':()=>'NOW()\x20=>\x202021-12-29\x2010:10:10','parameters':[],'isVolatile':!0x0},'DATEADD':{'method':'dateadd','valueType':m['a']['WLDate'],'definition':'在日期中增加或减去指定的时间间隔','use':'DATEADD(date,amount,unit)','useParams':'date：指定的日期\x0aamount：需要增加的间隔数；amount\x20≥\x200，表示指定日期向后增加的时间间隔；amount\x20<\x200，表示指定日期回退减去的时间间隔\x0aunit：时间计数单位，目前支持如下单位：\x0a年：years（缩写\x20y）\x0a季：quarters（缩写\x20Q）\x0a月：months（缩写\x20M）\x0a周：weeks（缩写\x20w）\x0a天：days（缩写\x20d）\x0a时：hours（缩写\x20h）\x0a分：minutes（缩写\x20m）\x0a秒：seconds（缩写\x20s）\x0a毫秒：milliseconds（缩写\x20ms）','example':()=>'DATEADD(TODAY(),\x201,\x20\x22days\x22)\x0a=>\x202021-12-30\x0aTODAY()\x20=>\x202021-12-29','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['Number']]},{'argumentType':[m['a']['String']]}]},'DATEDIFF':{'method':'dateDiff','valueType':m['a']['Number'],'definition':'返回两个日期之间的时间间隔，即计算日期1减去日期2的差值（绝对值）','use':'DATEDIFF(date1,date2,unit)','useParams':'date1：日期1\x0adate2：日期2\x0aunit：时间计数单位，目前支持如下单位：\x0a年：years（缩写\x20y）\x0a\x20\x20\x20\x20\x20\x20\x20季：quarters（缩写\x20q）\x0a\x20\x20\x20\x20\x20\x20\x20月：months（缩写\x20m）\x0a\x20\x20\x20\x20\x20\x20\x20周：weeks（缩写\x20w）\x0a\x20\x20\x20\x20\x20\x20\x20天：days（缩写\x20d）\x0a\x20\x20\x20\x20\x20\x20\x20时：hours（缩写\x20h）\x0a\x20\x20\x20\x20\x20\x20\x20分：minutes（缩写\x20mi）\x0a\x20\x20\x20\x20\x20\x20\x20秒：seconds（缩写\x20s）\x0a\x20\x20\x20\x20\x20\x20\x20毫秒：milliseconds（缩写\x20ms）','example':()=>'DATEDIFF(TODAY(),{采购日},\x20\x22days\x22)\x0a=>\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x0aTODAY()\x20=>\x202021-12-29\x0a{采购日}\x20=>\x202021-12-27','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['String']]}]},'NOWDIFF':{'method':'nowDiff','valueType':m['a']['Number'],'definition':'返回指定日期与现在的时间间隔，即计算现在时间减去指定日期的差值（绝对值）','use':'nowDiff(date,unit)','useParams':'date：指定日期\x0aunit：时间计数单位，目前支持如下单位：\x0a年：years（缩写\x20y）\x0a\x20\x20\x20\x20\x20\x20\x20季：quarters（缩写\x20q）\x0a\x20\x20\x20\x20\x20\x20\x20月：months（缩写\x20m）\x0a\x20\x20\x20\x20\x20\x20\x20周：weeks（缩写\x20w）\x0a\x20\x20\x20\x20\x20\x20\x20天：days（缩写\x20d）\x0a\x20\x20\x20\x20\x20\x20\x20时：hours（缩写\x20h）\x0a\x20\x20\x20\x20\x20\x20\x20分：minutes（缩写\x20mi）\x0a\x20\x20\x20\x20\x20\x20\x20秒：seconds（缩写\x20s）\x0a\x20\x20\x20\x20\x20\x20\x20毫秒：milliseconds（缩写\x20ms）','example':()=>'nowdiff({采购日},\x20\x22day\x22)=>\x202\x20now()\x20=>\x202021-12-29\x20{采购日}\x20=>\x202021-12-27','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['String']]}]},'ISDATE':{'method':'isDate','valueType':m['a']['Boolean'],'definition':'判断value是否为日期','use':'isDate(value)','useParams':'value：用于判断的输入值','example':()=>'isDate(now())\x20=\x20true\x0aisDate(\x2212345\x22)\x20=\x20false','parameters':[{'argumentType':[m['a']['WLDate'],m['a']['String'],m['a']['Number'],m['a']['Date']]}]},'ISBEFORE':{'method':'isBefore','valueType':m['a']['Boolean'],'definition':'判断date1是否早于date2','use':'isBefore(date1,\x20date2)','useParams':'date1：日期1\x20date2：日期2','example':()=>'isAfter(toDate(\x222021-12-28\x22)\x20,toDate(\x222021-12-29\x22))\x20=\x20true\x0aisAfter(toDate(\x222021-12-30\x22)\x20,toDate(\x222021-12-29\x22))\x20=\x20false','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['WLDate']]}]},'ISAFTER':{'method':'isAfter','valueType':m['a']['Boolean'],'definition':'判断date1是否晚于date2','use':'isAfter(date1,\x20date2)','useParams':'date1：日期1\x20date2：日期2','example':()=>'isAfter(toDate(\x222021-12-28\x22)\x20,toDate(\x222021-12-29\x22))\x20=\x20false\x0aisAfter(toDate(\x222021-12-30\x22)\x20,toDate(\x222021-12-29\x22))\x20=\x20true','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['WLDate']]}]},'ISSAME':{'method':'isSame','valueType':m['a']['Boolean'],'definition':'判断date1是否与date2（指定的unit，如果有的话）','use':'isSame(date1,date2,[unit])\x20','useParams':'date1：日期1\x0adate2：日期2\x0aunit：时间计数单位，目前支持如下单位：\x0a年：years（缩写\x20y）\x0a\x20\x20\x20\x20\x20\x20\x20季：quarters（缩写\x20q）\x0a\x20\x20\x20\x20\x20\x20\x20月：months（缩写\x20m）\x0a\x20\x20\x20\x20\x20\x20\x20周：weeks（缩写\x20w）\x0a\x20\x20\x20\x20\x20\x20\x20天：days（缩写\x20d）\x0a\x20\x20\x20\x20\x20\x20\x20时：hours（缩写\x20h）\x0a\x20\x20\x20\x20\x20\x20\x20分：minutes（缩写\x20mi）\x0a\x20\x20\x20\x20\x20\x20\x20秒：seconds（缩写\x20s）\x0a\x20\x20\x20\x20\x20\x20\x20毫秒：milliseconds（缩写\x20ms）','example':()=>'isSame(toDate(\x222021-12-28\x22)\x20,toDate(\x222021-12-28\x22),\x22day\x22)\x20=\x20true\x20isSame(toDate(\x222021-12-30\x22)\x20,toDate(\x222021-12-29\x22),\x22day\x22\x20)\x20=\x20false\x20','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['String']],'optionalArg':!0x0}]},'TIMESTAMP':{'method':'timestamp','valueType':m['a']['Number'],'definition':'返回当前时间（或指定日期）的UNIX毫秒数','use':'timestamp([date])','useParams':'date：指定日期（可选），默认为当前时间','example':()=>'timestamp(now())\x20=\x201646985060000\x20timestamp()\x20=\x201646985060000\x20','parameters':[{'argumentType':[m['a']['WLDate']],'optionalArg':!0x0}]},'DATEFORMAT':{'method':'dateformat','valueType':m['a']['String'],'definition':'返回自定义的日期格式','use':'DATEFORMAT(date,pattern)','useParams':'date：指定的日期\x0apattern：样式表达式，具体参见「日期格式参数表」','example':()=>'DATEFORMAT(NOW(),\x20\x22YYYY/MM/DD,\x20HH:mm\x22)\x20==\x202021/12/29\x2010:10','parameters':[{'argumentType':[m['a']['WLDate']]},{'argumentType':[m['a']['String']]}]},'YEAR':{'method':'year','valueType':m['a']['String'],'definition':'返回指定日期的年份','use':'YEAR(date)','useParams':'date：指定日期','example':()=>'YEAR(NOW())\x20=\x202021\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'MONTH':{'method':'month','valueType':m['a']['String'],'definition':'返回指定日期的月份（1-12的整数值）','use':'MONTH(date)','useParams':'date：指定日期','example':()=>'MONTH(NOW())\x20=\x2012\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'WEEKDAY':{'method':'weekDay','valueType':m['a']['Number'],'definition':'返回指定日期是星期几（1-7的整数值）,7表示周日','use':'weekDay(date)','useParams':'date：指定日期','example':()=>'weekDay(NOW())\x20=\x203\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'WEEKNUM':{'method':'weekNum','valueType':m['a']['Number'],'definition':'返回指定日期属于一年中的第几周（1-52的整数值）','use':'weekNum(date)','useParams':'date：指定日期','example':()=>'weekNum(NOW())\x20=\x2052\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'DAY':{'method':'day','valueType':m['a']['Number'],'definition':'返回指定日期在月份中的第几天（1-31的整数值）','use':'DAY(date)','useParams':'date：指定日期','example':()=>'DAY(NOW())\x20=\x2029\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'HOUR':{'method':'hour','valueType':m['a']['Number'],'definition':'返回指定日期中的小时数（24小时制）','use':'HOUR(date)','useParams':'date：指定日期','example':()=>'HOUR(NOW())\x20=\x2022\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'MINUTE':{'method':'minute','valueType':m['a']['Number'],'definition':'返回指定日期中的分钟数（0-59的整数值）','use':'MINUTE(date)','useParams':'date：指定日期','example':()=>'MINUTE(NOW())\x20=\x2040\x0aNOW()\x20=\x202021-12-29\x2022:40:00','parameters':[{'argumentType':[m['a']['WLDate']]}]},'TODATE':{'method':'toDate','valueType':m['a']['WLDate'],'definition':'将值转换为数值类型','use':'TODATE(value)','useParams':'value：进行时间类型转换的值','example':'TODATE(\x272020-06-16\x27)\x20\x20=\x202020-06-15\x2000:00\x0aTODATE(1592179200000)\x20\x20=\x202020-06-15\x2000:00','parameters':[{'argumentType':[m['a']['String'],m['a']['Date'],m['a']['Number']]}]}};},'Tk+0':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=(f=>(f['Note']='Note',f['Footnote']='Footnote',f))(d||{});},'UEm+':function(a,b,c){'use strict';c['d'](b,'b',function(){return d;}),c['d'](b,'a',function(){return f;});var d=(g,h)=>(j=>{var {id:k,type:l,rel:m,href:p,target:q=document['head']}=j;if(!document['getElementById'](k)){var s=document['createElement']('link');return s['id']=k,s['type']=l,s['rel']=m,s['href']=p,q['appendChild'](s),s;}})({'id':g,'type':'text/css','rel':'stylesheet','href':h}),f=(g,h)=>{if(!document['getElementById'](g)){var j=document['createElement']('script');return j['id']=g,j['src']=h,document['body']['appendChild'](j),j;}};},'Usk8':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;}),c['d'](b,'b',function(){return f;});class d{constructor(){this['store']=new Map();}['on'](g,h){var j=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:null;return'function'!=typeof h?console['warn']('arguments[1]\x20must\x20be\x20a\x20function'):(this['store']['has'](g)||this['store']['set'](g,[]),this['store']['get'](g)['find'](k=>k===h)||this['store']['get'](g)['push']({'ctx':j,'callback':h}),this);}['once'](g,h){var j=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:null;return'function'!=typeof h?console['warn']('arguments[1]\x20must\x20be\x20a\x20function'):(this['store']['has'](g)||this['store']['set'](g,[]),this['store']['get'](g)['find'](k=>k===h)||this['store']['get'](g)['push']({'ctx':j,'callback':h,'once':!0x0}),this);}['emit'](g){for(var h=arguments['length'],j=new Array(h>0x1?h-0x1:0x0),k=0x1;k<h;k++)j[k-0x1]=arguments[k];var l=[],m=this['store']['get'](g),p=!(m&&m['length']>0x1);if(m){var q=[];m['forEach']((v,w)=>{var x=v['callback']['apply'](v['ctx']||this,j);l['push'](x),0x1==v['once']&&q['push'](w);});for(var u=m['length']-0x1;u>=0x0;u--)q['includes'](u)&&m['splice'](u,0x1);}return p?l[0x0]:l;}['has'](g){return(this['store']['get'](g)||[])['length'];}['delete'](g){return this['store']['delete'](g),this;}['off'](g,h){var j=this['store']['get'](g)||[],k=j['findIndex'](l=>l['callback']===h);return k>-0x1&&j['splice'](k,0x1),this;}}var f=new d();},'Uvkx':function(j,q,w){'use strict';w['d'](q,'a',function(){return Y;});var x=w('Qcb2'),z=w['n'](x),A=w('2vnA'),B=w('Ouf7'),C=w('WlKF'),D=w('4vIs'),F=w('vyO4'),G=w('z1rV'),H=w('f9x4'),J=w('odX6'),K=w('OIS1'),L=w('Wgwc'),M=w('Rsoz'),N=Object['defineProperty'],P=Object['defineProperties'],Q=Object['getOwnPropertyDescriptor'],R=Object['getOwnPropertyDescriptors'],T=Object['getOwnPropertySymbols'],U=Object['prototype']['hasOwnProperty'],V=Object['prototype']['propertyIsEnumerable'],W=(Z,a0,a1)=>a0 in Z?N(Z,a0,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a1}):Z[a0]=a1,X=(Z,a0,a1,a2)=>{for(var a3,a4=a2>0x1?void 0x0:a2?Q(a0,a1):a0,a5=Z['length']-0x1;a5>=0x0;a5--)(a3=Z[a5])&&(a4=(a2?a3(a0,a1,a4):a3(a4))||a4);return a2&&a4&&N(a0,a1,a4),a4;};class Y{constructor(Z,a0){this['changeTemplateLoaded']=a3=>{this['templateLoaded']=a3;},this['id']=a0['id'],this['block_id']=Z,this['dataSource']=a0;var a1=this['dataStore']['getBlockValue'](this['block_id']);this['table_id']=a1['database_id'],this['tableviews']=a1['tableviews']||[];var a2=this['blockAPI']['getDatabaseViewId'](Z);this['table_views']['length']>0x0&&(a2&&this['table_views']['indexOf'](a2)>-0x1?this['use'](a2,!0x1):this['use'](this['table_views'][0x0],!0x1)),Object(A['when'])(()=>{var a3;return 0x0===(null==(a3=this['dataStore']['getDataTable'](this['table_id']))?void 0x0:a3['status']);},()=>{var a3;null==(a3=this['currentView'])||a3['dispose'](),this['databaseViewStore']['databases']['delete'](this['block_id']),this['databaseViewStore']['dataSources']['delete'](this['table_id']);});}get['table_views'](){return this['tableviews']['filter'](Z=>this['dataStore']['getDataView'](Z));}get['lastEditTableView'](){return this['tableviews']['map'](Z=>this['dataStore']['getDataView'](Z))['filter'](Z=>Z['type']===H['h']['Table'])['sort']((Z,a0)=>L(Z['edited_time'])['isAfter'](a0['edited_time'])?-0x1:0x0)[0x0];}['getViewById'](Z){return this['dataStore']['getDataView'](Z);}['use'](Z){var a0=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];if(this['currentView']&&this['currentView']['dispose'](),Z){var a1=this['getViewById'](Z);a1['type']===H['h']['Table']?this['currentView']=new C['a'](a1,this['dataSource']):a1['type']===H['h']['Board']?this['currentView']=new D['a'](a1,this['dataSource']):a1['type']===H['h']['Gallery']?this['currentView']=new F['a'](a1,this['dataSource']):a1['type']===H['h']['Form']?this['currentView']=new B['a'](a1,this['dataSource']):a1['type']===H['h']['List']&&(this['currentView']=new G['a'](a1,this['dataSource'])),this['current_view_id']=Z,this['blockAPI']['updateDatabaseView'](this['block_id'],Z),a0&&(a1['type']===H['h']['Board']?this['currentView']['queryBoardColumns']():a1['type']===H['h']['List']?this['currentView']['queryListColumns']():a1['type']===H['h']['Gallery']?this['currentView']['queryGalleryColumns']():this['currentView']['loadMore'](),this['editorStore']['invokeObserver']());}}['changeViewOrder'](Z){this['tableviews']=Z;}['canDeleteView'](){return this['table_views']['length']>0x1;}['listViewChange'](Z){var a0=z()(Object(A['toJS'])(this['table_views']),Z);if(this['tableviews']=A['observable']['array'](Z['slice']()),a0['length']>0x0){var a1=new Set(Z);a0['forEach'](a2=>{a1['has'](a2)||a2===this['current_view_id']&&this['use'](Z[0x0]),a1['has'](a2)&&this['use'](a2,!0x1);});}}['duplicateView'](Z){var a0=this['getViewById'](Z);a0['title']=''['concat'](a0['title']);var a1=M['a']['t']('stores.database.copyStuff','的副本',{'ns':'editor'}),a2=((a3,a4)=>P(a3,R(a4)))(((a3,a4)=>{for(var a5 in a4||(a4={}))U['call'](a4,a5)&&W(a3,a5,a4[a5]);if(T){for(var a5 of T(a4))V['call'](a4,a5)&&W(a3,a5,a4[a5]);}return a3;})({},a0),{'view_id':Object(K['b'])(),'title':a0['title']['endsWith'](a1)?a0['title']:''['concat'](a0['title'])['concat'](a1)});return Object(A['toJS'])(a2);}['getGroupBy'](){return this['dataSource']['getProperties']()['filter'](Z=>[H['p']['Select'],H['p']['MultiSelect'],H['p']['People']]['includes'](Z['type']))[0x0];}['extendLastUpdatePropertyWidth'](Z){if(this['lastEditTableView']){var a0=new Map(this['lastEditTableView']['properties']['map'](a1=>[a1['id'],a1['width']]));Z['properties']['forEach'](a1=>{a0['get'](a1['id'])&&(a1['width']=a0['get'](a1['id']));});}return Z;}}X([J['b']],Y['prototype'],'blockAPI',0x2),X([J['b']],Y['prototype'],'editorStore',0x2),X([J['b']],Y['prototype'],'dataStore',0x2),X([J['b']],Y['prototype'],'blockStore',0x2),X([J['b']],Y['prototype'],'databaseViewStore',0x2),X([A['observable']],Y['prototype'],'dataSource',0x2),X([A['observable']],Y['prototype'],'current_view_id',0x2),X([A['observable']],Y['prototype'],'tableviews',0x2),X([A['computed']],Y['prototype'],'table_views',0x1),X([A['computed']],Y['prototype'],'lastEditTableView',0x1),X([A['observable']],Y['prototype'],'templateLoaded',0x2),X([A['observable']],Y['prototype'],'currentView',0x2),X([A['action']],Y['prototype'],'listViewChange',0x1);},'VsP/':function(a0,a1,a2){'use strict';var a3=a2('Y+p1'),a4=a2['n'](a3),a5=a2('BkRI'),a6=a2['n'](a5),a7=a2('mwIZ'),a8=a2['n'](a7),a9=a2('Iy5H'),aa=a2('2vnA'),ab=a2('Rsoz'),ac=a2('Wgwc'),ad=a2('9rbq'),ae=a2('Mucf'),af=a2('sA5H'),ag=a2('OIS1'),ah=a2('aD9L'),ai=a2('6qwk'),aj=a2('paMO'),ak=a2('odX6'),al=a2('Usk8'),am=a2('uMVv'),an=a2('hcfp'),ao=a2('9fl2'),ap=a2('KgQy'),aq=a2['n'](ap),ar=a2('XnfZ'),as=a2['n'](ar),at=a2('mx/2'),au=a2['n'](at),av=a2('njAx'),aw=a2['n'](av),ax=a2('mFjg'),ay=a2('02XR'),az=a2('f9x4'),aA=a2('KiBK'),aB=a2('KOQ7'),aC=a2('bXzw'),aD=a2('WRmh'),aE=a2('0+S8'),aF=Object['defineProperty'],aG=Object['defineProperties'],aH=Object['getOwnPropertyDescriptor'],aI=Object['getOwnPropertyDescriptors'],aJ=Object['getOwnPropertySymbols'],aK=Object['prototype']['hasOwnProperty'],aL=Object['prototype']['propertyIsEnumerable'],aM=(aT,aU,aV)=>aU in aT?aF(aT,aU,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aV}):aT[aU]=aV,aN=(aT,aU)=>{for(var aV in aU||(aU={}))aK['call'](aU,aV)&&aM(aT,aV,aU[aV]);if(aJ){for(var aV of aJ(aU))aL['call'](aU,aV)&&aM(aT,aV,aU[aV]);}return aT;},aO=(aT,aU)=>aG(aT,aI(aU)),aP=(aT,aU,aV,aW)=>{for(var aX,aY=aW>0x1?void 0x0:aW?aH(aU,aV):aU,aZ=aT['length']-0x1;aZ>=0x0;aZ--)(aX=aT[aZ])&&(aY=(aW?aX(aU,aV,aY):aX(aY))||aY);return aW&&aY&&aF(aU,aV,aY),aY;},aQ=(aT,aU,aV)=>new Promise((aW,aX)=>{var aY=b1=>{try{b0(aV['next'](b1));}catch(b2){aX(b2);}},aZ=b1=>{try{b0(aV['throw'](b1));}catch(b2){aX(b2);}},b0=b1=>b1['done']?aW(b1['value']):Promise['resolve'](b1['value'])['then'](aY,aZ);b0((aV=aV['apply'](aT,aU))['next']());});ac['extend'](au['a']),ac['extend'](as['a']),ac['locale'](aO(aN({},aw['a']),{'weekStart':0x1})),Object(aa['configure'])({'enforceActions':'never'});var aR=aT=>{var aU=Object(ak['b'])('blockAPI'),aV=Object(ak['b'])('cursorAPI'),aW=Object(ak['b'])('editorStore'),aX=aU['getNodeContentDom'](aT['id']);aX&&(Object(ah['h'])()||Object(ah['i'])())&&aW['isNeedKeepKeyboard']&&(aX['focus'](),aV['moveCursor'](aT)),aW['isNeedKeepKeyboard']=!0x0;};class aS{constructor(){var aT=this;this['_globalItem']={},this['tableColumnWidth']=[],this['backupBlockText']=null,this['backupCursorPos']={},this['isTypingChinese']=!0x1,this['isNeedKeepKeyboard']=!0x0,this['hoverOccurrenceTimer']=null,this['currentGlobalItemForMobile']={},this['render']=()=>{this['domAPI']['clearDomQueryCache'](),this['screenStore']['renderScreen'](),'history'!==this['screenStore']['currentScreen']['type']&&this['pageStore']['refreshPages'](this['screenStore']['currentScreen']['id']);},this['invokeObserver']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},{commit:aW=!0x0,clearIcon:aX=!0x0,callback:aY}=aV,aZ=aU&&aU['operations']&&aU['operations']['length']>0x0;if(aT['hoverIcon']&&aX&&(aT['hoverIcon']['clearPreMouseAroundYouEffect'](!0x0),aT['hoverIcon']['toHiddenAuxiliaryMenu']()),aZ){if(!aU['options']['ignoreLock']&&aT['screenStore']['pageLocked'])return;var b0=aT['blockAPI']['findSingleRowId']();if(b0)return aT['blockStore']['reconstructBlocks'](aU,b0),void aT['invokeObserver'](aU,aV);}aZ&&aW&&aU['commit'](()=>{aY&&aY();}),aT['render']();},this['addMissionExecuteAfterRender']=aU=>{this['missionToExecuteAfterRender']=this['missionToExecuteAfterRender']||[],this['missionToExecuteAfterRender']=[...this['missionToExecuteAfterRender'],aU];},this['showContentDropAreaSettings']=aU=>{aU?this['domAPI']['$']('.content-drop-area',!0x0)['forEach'](aV=>aV['style']['display']='block'):this['domAPI']['$']('.content-drop-area',!0x0)['forEach'](aV=>aV['style']['display']='none'),this['showContentDropArea']=aU;},this['setBackupBlockText']=(aU,aV)=>{if(aU){if(this['backupBlockText']=this['blockAPI']['getNodeTitle'](aU),this['backupCursorPos']=aN({},this['editorUI']['cursorPos']['pos']||{}),aV&&this['backupCursorPos']['offset']>=0x0){this['backupCursorPos']['offset']>0x0&&(this['backupCursorPos']['offset']-=0x1);var {index:aW,offset:aX}=this['blockAPI']['getTitlePositionByOffset'](aU,this['backupCursorPos']['offset']),aY=this['backupBlockText'][aW]&&this['backupBlockText'][aW][0x0]||'',aZ=aY['substr'](0x0,aX),b0=aY['substr'](aX+0x1);this['backupBlockText'][aW][0x0]=aZ+b0;}}else this['backupBlockText']=[['']];},this['clearBackupBlockText']=()=>{this['backupBlockText']=null;},this['preventEditorKeydownAction']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'';!aU&&aT['popperStore']['meetingState']['anchorEl']||(aT['preventEditorKeydown']=aU,aT['preventEditorKeydownId']=aV);},this['isBoxSelectingSet']=aU=>{this['isBoxSelecting']=aU;},this['isColumnZoomingSet']=aU=>{this['isColumnZooming']=aU;},this['restoreDefaultTitle']=(aU,aV,aW)=>{var aX=aV||new aj['a']();aW?this['updateTableCells'](aU,aW,this['backupBlockText']||[['']],aX):this['blockStore']['setBlockText'](aX,aU,this['backupBlockText']||[['']]),this['clearBackupBlockText'](),!aV&&this['invokeObserver'](aX);},this['updateColumnFlex']=aU=>{var aV=new aj['a']();for(var aW in aU){this['blockStore']['updateColumnFlex'](aV,aW,aU[aW]),this['dataStore']['getBlockProperty'](aW,'sub_nodes')['forEach'](aX=>{this['dataStore']['getBlockProperty'](aX,'type')===ad['y']['CODE']&&(this['dataStore']['getBlockProperty'](aX,'attributes.lineBreak')&&(this['dataStore']['updateBlockDirty'](aX,!0x0),this['invokeObserver']()));});}this['invokeObserver'](aV);},this['batchDeleteSelectedNode']=()=>{if(this['workspaceStore']['uploadFileCount']>0x0){var aU=[...new Set(this['editorUI']['selectedNode'])],aV=[];if(aU['forEach'](aW=>{this['workspaceStore']['uploadFileBlockList']['includes'](aW)&&aV['push'](aW);}),aV['length']>0x0)return this['pageStore']['setConfirmOpen']({'title':'','contents':ab['a']['t']('stores.editorStore.deletingWillTerminateUploadTaskTips','删除将终止当前的上传任务，是否确定',{'ns':'editor'}),'success':()=>{this['pageStore']['cancelUpload'](aV),this['execBatchDeleteSelectedNode']();}});}this['preventAccidentDeleteRow']()||this['execBatchDeleteSelectedNode']();},this['preventAccidentDeleteRow']=()=>{var aU=[...new Set(this['editorUI']['selectedRootNode'])],aV=!0x1;return aU['forEach'](aW=>{var aX,aY;if(!aV){var aZ=this['dataStore']['getBlockValue'](aW);if(aZ['type']===ad['y']['PAGE']&&aZ['parent_type']===ad['y']['DATABASE']&&aZ['created_by']!==this['userStore']['userId']){var b0=null==(aX=this['databaseViewStore']['getDatabase'](aZ['parent_id']))?void 0x0:aX['currentView'];(null==(aY=null==b0?void 0x0:b0['settings'])?void 0x0:aY['preventAccidentDelete'])&&(aV=!0x0);}}}),aV&&this['pageStore']['setConfirmOpen']({'title':'','contents':0x1===aU['length']?ab['a']['t']('stores.editorStore.deleteBlocksCreatedByOthersTipsOne','将要删除的行并非您创建，确认删除吗？',{'ns':'editor'}):ab['a']['t']('stores.editorStore.deleteBlocksCreatedByOthersTipsTwo','将要删除的行中存在并非您创建的行，确认删除吗？',{'ns':'editor'}),'success':()=>{this['execBatchDeleteSelectedNode']();}}),aV;},this['execBatchDeleteSelectedNode']=()=>{var aU=new aj['a'](),{editorUI:aV,blockStore:aW,screenStore:aX}=this,aY=[...new Set(aV['selectedRootNode'])];if(aV['selectedRootNode']['length']&&!this['screenStore']['currentScreen']['locked']){var aZ=aV['selectedRootNode'][aV['selectedRootNode']['length']-0x1],b0=this['blockAPI']['findFarthestKey'](aZ),b1=aV['selectedRootNode'][0x0],b2=aX['allTypeNodeIdList'],b3=b2['indexOf'](b0),b4=b2['indexOf'](b1);b3>=0x0&&b3<b2['length']-0x1?aV['setSelectedNode'](b2[b3+0x1]):0x0===b4?this['moveCursorAfterRender']({'id':aW['pageId'],'position':'end'}):b4>0x0&&aV['setSelectedNode'](b2[b4-0x1]),aY['forEach'](b5=>{var b6=this['domAPI']['$']('#id-'['concat'](b5));if(b6&&b6['dataset']['blockType']){this['deleteNode'](b5,aU);var b7=this['dataStore']['getBlockProperty'](b5,'source_id');b7&&this['biLinkStore']['changeReferredCount'](b7,-0x1);}}),this['invokeObserver'](aU);}},this['setNodeSetting']=aU=>{var {id:aV,style:aW,cellId:aX,restoreTitle:aY=!0x1}=aU,aZ=new aj['a'](),{editorUI:b0,blockStore:b1}=this,{color:b2,background:b3}=aW,b4={'color':b2&&!b3?b2:'inherit','background':!b2&&b3?b3:'inherit'},b5=this['dataStore']['getBlockValue'](aV);if(b5['type']===ad['y']['PROGRESS_BAR']){var {color:b6,background:b7}=b5['setting'];b4={'color':b2||b6||'inherit','background':b3||b7||'inherit'},am['c'](ad['ec'],b4);}if(b5['type']===ad['y']['CALLOUT']&&am['c'](ad['Xb'],b4),!aX&&b0['selectedRootNode']['length'])return b0['selectedRootNode']['forEach'](b8=>{b1['setBlockFormat'](aZ,b8,b4),this['dataStore']['updateBlockDirty'](b8,!0x0);}),void this['invokeObserver'](aZ);aX?this['setCellFormat'](aZ,b5,aX,b4):b1['setBlockFormat'](aZ,aV,b4),aY&&this['restoreDefaultTitle'](aV,aZ,aX),this['invokeObserver'](aZ),this['moveCursorAfterRender']({'id':aV,'cellId':aX,'position':this['editorUI']['cursorPos']['pos']});},this['setCellTextAlign']=(aU,aV,aW,aX)=>{if(0x0!==this['editorUI']['selectedCell']['size']||aX){var aY=this['dataStore']['getBlockValue'](aV),aZ=this['blockAPI']['getTableCells'](aY,!0x0),b0=[];aZ['forEach'](b2=>{b2['column']['forEach'](b3=>{(this['editorUI']['selectedCell']['has'](b3['id'])||aX)&&(b3['attributes']=aO(aN({},b3['attributes']||{}),{'cellAlign':aW}),b0['push'](b3['id']));});});var b1={'type':ae['i']['UPDATE'],'cellIds':b0};this['blockStore']['changeTableCell'](aU,aY['id'],{'value':aZ,'change':b1});}},this['setCellFormat']=(aU,aV,aW,aX)=>{var aY=this['blockAPI']['getTableCells'](aV,!0x0),aZ=[];aY['forEach'](b1=>{if(this['editorUI']['selectedCell']['size']>0x1)b1['column']['forEach'](b3=>{this['editorUI']['selectedCell']['has'](b3['id'])&&(b3['setting']=aX,aZ['push'](b3['id']));});else{var b2=b1['column']['find'](b3=>b3['id']===aW);b2&&(b2['setting']=aX,aZ['push'](b2['id']));}});var b0={'type':ae['i']['UPDATE_SETTING'],'cellIds':aZ};this['blockStore']['changeTableCell'](aU,aV['id'],{'value':aY,'change':b0});},this['getNextCursorId']=(aU,aV)=>{var aW=this['dataStore']['getBlockValue'](aV);if('column'===aW['type']&&aW['sub_nodes']['indexOf'](aU)===aW['sub_nodes']['length']-0x1)return this['createNewRow']('',aV);var aX,aY=this['screenStore']['nodeIdList'],aZ=aY['indexOf'](aU);return aZ>-0x1&&aZ<aY['length']-0x1&&(aX=aY[aZ+0x1]),aX||this['createNewRow']('',aV);},this['inputCreateTable']=(aU,aV)=>aQ(this,null,function*(){var aW=Object(ak['b'])('blockAPI')['getTitlePlainTextById'](aU['id']);if((!this['slashMenuOriginText']||ad['fb']['includes'](aW))&&aU['type']===ad['y']['TEXT'])yield this['turnInto']({'restoreTitle':!0x0,'nodeId':aU['id'],'type':aV,'resetSelectedNodes':!0x1}),this['setSimpleTableProps'](aU['id'],aU['column'],aU['row']);else{if(this['spaceStore']['blockCountLimit']())return void Object(ax['c'])('block');var aX=Object(ag['b'])(),aY=new aj['a']();this['createSibSubBlock']({'prevContent':aU['cellId']?this['blockAPI']['getCellNodeTitle'](aU['id'],aU['cellId']):this['blockAPI']['getNodeTitle'](aU['id']),'nextContent':[['']],'parentId':aU['parent_id'],'nodeId':aX,'cellId':aU['cellId'],'prevBlockId':aU['id'],'blockType':aV,'transaction':aY}),this['restoreDefaultTitle'](aU['id'],aY,aU['cellId']),yield this['turnInto']({'nodeId':aX,'type':aV,'transaction':aY,'resetSelectedNodes':!0x1}),this['invokeObserver'](aY),this['setSimpleTableProps'](aX,aU['column'],aU['row']);}}),this['turnEmptyPageIntoDatabase']=(aU,aV,aW)=>{var aX=this['dataStore']['getBlockValue'](aV);if((null==aX?void 0x0:aX['id'])&&aX['type']===ad['y']['PAGE']){var aY=aW||new aj['a']();aY['block']['setBlockType'](aV,ad['y']['DATABASE']),aA['a']['createDataTable'](aU||az['h']['Table'],aV,aY),!aW&&this['invokeObserver'](aY,{'callback':()=>{this['dataStore']['updateBlock'](aV,{'isLoading':!0x1});}});}},this['inputConversionCreate']=function(aU,aV){for(var aW=arguments['length'],aX=new Array(aW>0x2?aW-0x2:0x0),aY=0x2;aY<aW;aY++)aX[aY-0x2]=arguments[aY];return aQ(aT,[aU,aV,...aX],function*(aZ,b0){var {id:b1,parent_id:b2,cellId:b3,extend:b4}=aZ,b5=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2];if(this['spaceStore']['blockCountLimit']())Object(ax['c'])('block');else{var b6=Object(ag['b'])(),b7=[ad['y']['DIVIDER'],ad['y']['PROGRESS_BAR']]['includes'](b0)?this['getNextCursorId'](b1,b2):b6,b8=new aj['a']();this['createSibSubBlock'](aN({'prevContent':b3?this['blockAPI']['getCellNodeTitle'](b1,b3):this['blockAPI']['getNodeTitle'](b1),'nextContent':[['']],'parentId':b2,'nodeId':b6,'cellId':b3,'prevBlockId':b1,'blockType':b0===ad['y']['CALLOUT_MARQUEE']?ad['y']['CALLOUT']:b0,'transaction':b8},b0===ad['y']['DATABASE']?{'tableviews':[]}:{})),!b5&&this['restoreDefaultTitle'](b1,b8,b3);var b9=yield this['turnInto']({'extend':b4,'nodeId':b6,'type':b0===ad['y']['CALLOUT_MARQUEE']?ad['y']['CALLOUT']:b0,'transaction':b8,'resetSelectedNodes':!0x1});if(b0===ad['y']['PAGE']){var ba=this['pageStore']['getPageDefaultSetting']();return this['blockStore']['setBlockFormat'](b8,b6,aN({},ba)),this['pageStore']['adjustPages'](this['dataStore']['getBlockProperty'](b1,'page_id'),b6,'add'),void(Object(ah['h'])()?(this['invokeObserver'](b8,b9),this['dataStore']['setPageLoaded'](b6,!0x0),this['routerStore']['history']['push'](''['concat'](b6))):this['spaceStore']['getCurrentSpaceViewProps']('open_new_page_in_right')?('second'===this['screenStore']['currentScreen']['type']&&this['screenStore']['setSecondToMainScreen'](),this['invokeObserver'](b8,b9),this['dataStore']['setPageLoaded'](b6,!0x0),this['screenStore']['setSecondScreen'](b6)):(this['invokeObserver'](b8,b9),this['dataStore']['setPageLoaded'](b6,!0x0),'main'===this['screenStore']['currentScreen']['type']?this['routerStore']['history']['push'](''['concat'](b6)):'second'===this['screenStore']['currentScreen']['type']&&this['screenStore']['setSecondScreen'](b6)));}if(b0===ad['y']['CALLOUT_MARQUEE'])return this['blockStore']['setBlockText'](b8,b6,[[ab['a']['t'](ad['cb']['MESSAGE'],'一条信息',{'ns':'editor'})]]),this['blockStore']['setCalloutMarquee'](b8,b6,!0x0),this['invokeObserver'](b8,b9),void this['editorUI']['setSelectedNode'](b6);if(b0===ad['y']['DATABASE'])return this['dataStore']['setPageLoaded'](b6,!0x0),this['pageStore']['adjustPages'](this['dataStore']['getBlockProperty'](b1,'page_id'),b6,'add'),aA['a']['createDataTable'](b4['viewType']||az['h']['Table'],b6,b8),void this['invokeObserver'](b8,{'callback':()=>{this['dataStore']['updateBlock'](b6,{'isLoading':!0x1});var bc=this['dataStore']['getBlockProperty'](b6,'database_id'),bd=this['dataStore']['getDataTable'](bc);bd&&this['dataStore']['syncDataTables']({[bd['table_id']]:bd},!0x0);}});if(b0===ad['y']['MEETING'])return b8['block']['updateBlock'](b6,{'meetingData':(null==b4?void 0x0:b4['meetingData'])||{}},['attributes']),void this['invokeObserver'](b8,b9);if(this['invokeObserver'](b8,b9),b0===ad['y']['BLOCK_EQUATION']){this['editorUI']['setSelectedNode'](b6);var bb=this['blockAPI']['getTitlePlainTextById'](b6);setTimeout(()=>{al['b']['emit']('openEquation',{'type':'block','nodeId':b6,'mathText':bb,'isInline':!0x1,'equationIndex':0x0});},0x12c);}else b0===ad['y']['TEMPLATE_BUTTON']?(this['createTemplateButtonChildBlock'](b6,ad['y']['TODO_LIST']),setTimeout(()=>{var bc=this['domAPI']['$']('#id-'['concat'](b6));this['_invokeOperation']('onTriggerToggleConfig',bc);},0x64)):b0===ad['y']['MEETING']?setTimeout(()=>{var bc=this['domAPI']['$']('#id-'['concat'](b6));this['_invokeOperation']('onTriggerOpenModal',bc,{'type':null==b4?void 0x0:b4['type']});},0x64):[ad['y']['FILE'],ad['y']['IMAGE'],...ad['Q'],ad['y']['BOOKMARK'],ad['y']['VIDEO'],ad['y']['AUDIO']]['includes'](b0)?setTimeout(()=>{var bc=this['domAPI']['$']('#id-'['concat'](b6));this['_invokeOperation']('onTriggerOpenModal',bc,b4&&b4['tab']?{'tab':b4['tab']}:{});},0x12c):b0===ad['y']['SIMPLE_TABLE']?this['setSimpleTableProps'](b6):this['moveCursorAfterRender']({'id':b7,'position':'start'});}});},this['_invokeOperation']=function(aU,aV){var aW=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:void 0x0;aU&&aV[aU]&&'function'==typeof aV[aU]&&aV[aU](aW);},this['handleQuickOpen']=aU=>{var aV=new aj['a'](),{quickOpenType:aW,id:aX,cellId:aY}=aU,aZ=this['dataStore']['getBlockProperty'](aX,'page_id'),b0=a6()(this['backupCursorPos']),b1=a6()(this['backupBlockText']||[['']]);if(this['clearBackupBlockText'](),aY?this['updateTableCells'](aX,aY,b1,aV):this['blockStore']['setBlockText'](aV,aX,b1),this['invokeObserver'](aV),this['blockAPI']['getNodeContentDom'](aX)['blur'](),'search'===aW)setTimeout(()=>{al['b']['emit']('openSearch',{'id':aX,'cellId':aY,'position':b0});},0x64);else{if('network'===aW)setTimeout(()=>{al['b']['emit']('openNetwork',{});},0x64);else{if('userSetting'===aW)setTimeout(()=>{al['b']['emit']('openUserSetting',{'type':'user','id':aX,'cellId':aY,'position':b0});},0x64);else{if('workspaceSetting'===aW)setTimeout(()=>{al['b']['emit']('openUserSetting',{'type':'workspace','id':aX,'cellId':aY,'position':b0});},0x64);else{if('import'===aW){if(this['spaceStore']['blockCountLimit']())return void Object(ax['c'])('block');setTimeout(()=>{al['b']['emit']('openDocumentImportDialog',{'cursorInfo':{'id':aX,'cellId':aY,'position':b0}});},0x64);}else{if('logout'===aW)setTimeout(()=>{window['location']['href']=this['workspaceStore']['inApp']?'/logout?inApp=true':'/logout';},0x64);else{if('importCsv'===aW){if(this['spaceStore']['blockCountLimit']())return void Object(ax['c'])('block');setTimeout(()=>{al['b']['emit']('openCsvImportDialog',{'pageId':aZ,'blockId':aX,'cursorInfo':{'id':aX,'cellId':aY,'position':b0}});},0x64);}}}}}}}},this['handleQuickInput']=aU=>{try{var aV=new aj['a'](),{quickInputType:aW,id:aX,cellId:aY}=aU,aZ=a6()(this['backupCursorPos']),b0=a6()(this['backupBlockText']||[['']]);this['clearBackupBlockText']();var {index:b1,offset:b2}=this['blockAPI']['getTitlePositionByOffset'](b0,aZ['offset']),b3=b0[b1][0x0],b4=b3['slice'](0x0,b2),b5=b3['slice'](b2);if('time'===aW)aZ['offset']+=0x5,b0[b1][0x0]=''['concat'](b4)['concat'](ac()['format']('HH:mm'))['concat'](b5);else{if('date'===aW){var b6=a8()(this['spaceStore'],'currentWorkspace.date_format_type','yyyymmdd_slash'),{offset:b7,format:b8}=ad['L']['find'](be=>{var {value:bf}=be;return bf===b6;})||{},b9=ac()['format'](b8);aZ['offset']+=b7||0x0,b0[b1][0x0]=''['concat'](b4)['concat'](b9)['concat'](b5);}else{if('dateTime'===aW){var ba=a8()(this['spaceStore'],'currentWorkspace.date_format_type','yyyymmdd_slash'),{offset:bb,format:bc}=ad['L']['find'](be=>{var {value:bf}=be;return bf===ba;})||{},bd=ac()['format'](''['concat'](bc,'\x20HH:mm:ss'));aZ['offset']+=bb||0x0,aZ['offset']+=0x9,b0[b1][0x0]=''['concat'](b4)['concat'](bd)['concat'](b5);}}}aY?this['updateTableCells'](aX,aY,b0,aV):this['blockStore']['setBlockText'](aV,aX,b0),this['invokeObserver'](aV),this['moveCursorAfterRender']({'id':aX,'cellId':aY,'position':aZ});}catch(be){}},this['handleQuickColumn']=aU=>{if(this['spaceStore']['blockCountLimit']())Object(ax['c'])('block');else try{var aV=new aj['a'](),aW=this['dataStore']['getBlockValue'](aU['id']),aX=this['blockAPI']['findTopParentNode'](aW);if(!aX)return;var aY=Object(ag['b'])(),aZ=aX['parent_id'],b0=aX['id'];this['blockStore']['createRowBlock'](aV,aY,aZ,b0,'after');for(var b1,b2=aU['columns'],b3=[],b4=0x0;b4<b2;b4++){var b5=Object(ag['b'])(),b6=Object(ag['b'])(),b7=ab['a']['t']('stores.editorStore.columnIndex','第{{columnIndex}}列',{'ns':'editor','columnIndex':b4+0x1});this['blockStore']['createColumnBlock'](aV,b5,aY,'','after'),this['blockStore']['createCommonBlock'](aV,b6,b5,'','after')(ad['y']['TEXT']),this['blockStore']['updateColumnFlex'](aV,b5,0x1/b2),this['blockStore']['setBlockText'](aV,b6,[[b7]]),b3['push'](b6),b4===b2-0x1&&(b1=b6);}if('column'!==aW['parent_type']){var b8=a6()(this['backupBlockText']||[['']]);this['clearBackupBlockText'](),''===b8['toString']()?(this['blockStore']['setBlockText'](aV,aW['id'],[[]]),aW['sub_nodes']['length']||this['blockStore']['deleteBlock'](aV,aW['id'])):this['restoreDefaultTitle'](aW['id'],aV);}else this['restoreDefaultTitle'](aW['id'],aV);this['invokeObserver'](aV,{'callback':()=>{this['cursorAPI']['moveCursor']({'id':b1,'position':'end'});}}),setTimeout(()=>{this['cursorAPI']['moveCursor']({'id':b1,'position':'end'});},0x64);var b9=Object(ad['F'])(this['workspaceStore']['theme']);b9['delete']('Default\x20background');var ba=Array['from'](b9);ba['sort'](()=>Math['random']()-0.5),this['editorUI']['clearSelectedShadow'](),b3['forEach']((bb,bc)=>{this['setNodeSetting']({'id':bb,'cellId':null,'style':{'background':ba[bc%ba['length']]}});});}catch(bb){}},this['updateTableCells']=(aU,aV,aW,aX)=>{var aY=aX||new aj['a'](),aZ=this['changeTableCells'](aU,aV,aW);aZ&&this['blockStore']['changeTableCell'](aY,aU,{'value':aZ,'change':{'type':ae['i']['UPDATE'],'cellIds':[aV]}},[aV]),!aX&&this['invokeObserver'](aY);},this['changeTableView']=(aU,aV)=>{var aW=this['dataStore']['getBlockValue'](aU);aW['type']===ad['y']['DATABASE']&&(this['blockAPI']['updateDatabaseView'](aU,aV),this['blockStore']['setBlockDirty'](aW),this['invokeObserver']());},this['changeTableCells']=(aU,aV,aW)=>{var aX=this['dataStore']['getBlockValue'](aU);if(aX['type']===ad['y']['SIMPLE_TABLE']){var aY=this['blockAPI']['getTableCells'](aX,!0x0);return aY['forEach'](aZ=>{var b0=aZ['column']['find'](b1=>b1['id']===aV);b0&&(b0['attributes']['title']=aW);}),aY;}return null;},this['getMentionDateTime']=aU=>{var {type:aV,start_date:aW,start_time:aX,end_date:aY,end_time:aZ}=aU,b0='',b1='';if('date'===aV)b1=ac(aW)['format']('YYYY/MM/DD'),b0='@'['concat'](b1);else{if('datetime'===aV)b1=ac(aW)['format']('YYYY/MM/DD\x20'['concat'](aX||'09:00')),b0='@'['concat'](b1);else{if('daterange'===aV){var b2=ac(aW)['format']('YYYY/MM/DD'),b3=ac(aY)['format']('YYYY/MM/DD');b1=b3,b0='@'['concat'](b2,'\x20→\x20')['concat'](b3);}else{if('datetimerange'===aV){var b4=ac(aW)['format']('YYYY/MM/DD\x20'['concat'](aX||'09:00')),b5=ac(aY)['format']('YYYY/MM/DD\x20'['concat'](aZ||'09:00'));b1=b5,b0='@'['concat'](b4,'\x20→\x20')['concat'](b5);}}}}return b0;},this['insertNoticeMsg']=aU=>{var aV=new aj['a'](),{id:aW,cellId:aX,item:aY,type:aZ}=aU,b0=a6()(this['backupBlockText']||[['']]);this['clearBackupBlockText']();var [b1,,b2]=this['blockAPI']['sliceTitle'](b0,this['backupCursorPos']['offset']),b3=[];if(b3['push'](...b1),'date'===aZ){var b4=this['getMentionDateTime'](aY['dateData']);b3['push']([b4,[['Mention',aZ,aY['dateData']]]]);}else'member'===aZ?b3['push'](['@'['concat'](aY['username']),[['Mention',aZ,aY['id']]]]):'group'===aZ&&b3['push'](['@'['concat'](aY['name']),[['Mention',aZ,aY['id']]]]);b3['push'](...b2);var b5=this['blockAPI']['filterTitle'](b3);aX?this['updateTableCells'](aW,aX,b5,aV):this['blockStore']['setBlockText'](aV,aW,b5),this['invokeObserver'](aV),this['moveCursorAfterRender']({'id':aW,'cellId':aX,'position':{'offset':this['backupCursorPos']['offset']+0x1}});},this['updateMentionDate']=aU=>{var aV=new aj['a'](),{dateData:aW,sectionIndex:aX,id:aY,cellId:aZ}=aU,b0=aZ?this['blockAPI']['getCellNodeTitle'](aY,aZ):this['blockAPI']['getNodeTitle'](aY),b1=b0[aX][0x1]['findIndex'](b3=>'Mention'===b3[0x0]);if(-0x1!==b1){var b2=this['getMentionDateTime'](aW);b0[aX][0x0]=b2,b0[aX][0x1][b1][0x2]=aW,aZ?this['updateTableCells'](aY,aZ,b0,aV):this['blockStore']['setBlockText'](aV,aY,b0),this['invokeObserver'](aV);}},this['handleInlineBlock']=aU=>{try{var aV=new aj['a'](),{inlineType:aW,id:aX,cellId:aY}=aU,aZ=a6()(this['backupBlockText']||[['']]);if(aW===ad['y']['INLINE_EQUATION']){this['clearBackupBlockText']();var [b0,,b1]=this['blockAPI']['sliceTitle'](aZ,this['backupCursorPos']['offset']),b2=[];b2['push'](...b0);var b3=b2['length'];b2['push'](['',[['Equation']]]),b2['push'](...b1);var {xPos:b4}=this['domAPI']['getSelectionCoords']();setTimeout(()=>{al['b']['emit']('openEquation',{'type':'inline','nodeId':aX,'cellId':aY,'mathText':'','isInline':!0x0,'equationIndex':b3,'cursorPos':b4});},0x64),aY?this['updateTableCells'](aX,aY,b2,aV):this['blockStore']['setBlockText'](aV,aX,b2),this['invokeObserver'](aV);}else{if(aW===ad['y']['INLINE_EMOJI']){var [b5,,b6]=this['blockAPI']['sliceTitle'](aZ,this['backupCursorPos']['offset']),b7=[];b7['push'](...b5),b7['push'](['::']),b7['push'](...b6),aY?this['updateTableCells'](aX,aY,b7,aV):this['blockStore']['setBlockText'](aV,aX,b7),this['invokeObserver'](aV),setTimeout(()=>{var bb;this['cursorAPI']['moveCursor']({'id':aX,'cellId':aY,'position':{'offset':this['backupCursorPos']['offset']+0x2}});var bc=(null==(bb=this['popperStore']['modalData']['basic-block-list'])?void 0x0:bb['originTxt'])||'',bd=this['domAPI']['$']('#id-'['concat'](aY||aX)),{style:be,upper:bf}=Object(ai['a'])(bd,{'w':0x140,'h':0.4*document['body']['clientHeight'],'right':0x14,'offset':0x1e,'followCursor':!0x0}),bg={'originTxt':''['concat'](bc,':'),'model':aU,'onInput':!0x0,'style':be,'activeIdx':0x0,'upper':bf};al['b']['emit']('openEmojiInput',aO(aN({},bg),{'originTxt':''['concat'](bc,':'),'changeTxt':''['concat'](bc,'::'),'cellId':aY,'data':{'originTxt':''['concat'](bc,':'),'fromSlash':!0x0}}));},0x12c);}else{if(aW===ad['y']['INLINE_FONT_AWESOME']){var [b8,,b9]=this['blockAPI']['sliceTitle'](aZ,this['backupCursorPos']['offset']),ba=[];ba['push'](...b8),ba['push']([';;']),ba['push'](...b9),aY?this['updateTableCells'](aX,aY,ba,aV):this['blockStore']['setBlockText'](aV,aX,ba),this['invokeObserver'](aV),setTimeout(()=>{var bb;this['cursorAPI']['moveCursor']({'id':aX,'cellId':aY,'position':{'offset':this['backupCursorPos']['offset']+0x2}});var bc=(null==(bb=this['popperStore']['modalData']['basic-block-list'])?void 0x0:bb['originTxt'])||'',bd=this['domAPI']['$']('#id-'['concat'](aY||aX)),{style:be,upper:bf}=Object(ai['a'])(bd,{'w':0x140,'h':0.4*document['body']['clientHeight'],'right':0x14,'offset':0x1e,'followCursor':!0x0}),bg={'originTxt':''['concat'](bc,';'),'model':aU,'onInput':!0x0,'style':be,'activeIdx':0x0,'upper':bf};al['b']['emit']('openFontAwesomeInput',aO(aN({},bg),{'originTxt':''['concat'](bc,';'),'changeTxt':''['concat'](bc,';;'),'cellId':aY,'data':{'originTxt':''['concat'](bc,';'),'fromSlash':!0x0}}));},0x12c);}}}}catch(bb){}},this['handleReferenceLink']=aU=>{try{var aV=new aj['a'](),{referenceType:aW,id:aX,cellId:aY}=aU,aZ=a6()(this['backupBlockText']||[['']]);this['clearBackupBlockText']();var [b0,,b1]=this['blockAPI']['sliceTitle'](aZ,this['backupCursorPos']['offset']),b2=[];b2['push'](...b0),'inlinePage'===aW?b2['push'](['[[']):'inlineBlock'===aW?b2['push'](['((']):'embedBlock'===aW&&b2['push'](['{{']),b2['push'](...b1),aY?this['updateTableCells'](aX,aY,b2,aV):this['blockStore']['setBlockText'](aV,aX,b2),this['invokeObserver'](aV),setTimeout(()=>{this['cursorAPI']['moveCursor']({'id':aX,'cellId':aY,'position':{'offset':this['backupCursorPos']['offset']+0x2}}),al['b']['emit']('openReference',{'type':aW,'nodeId':aX,'cellId':aY,'offset':this['backupCursorPos']['offset']+0x2});},0x12c);}catch(b3){}},this['insertEmojiOrFontAwesome']=aU=>{var aV=new aj['a'](),{id:aW,cellId:aX,nativeContent:aY,fromSlash:aZ,type:b0}=aU,b1=a6()(this['backupBlockText']||[['']]);this['clearBackupBlockText']();var [b2,,b3]=this['blockAPI']['sliceTitle'](b1,this['backupCursorPos']['offset']),b4=[];if(!aZ){var b5=b2[b2['length']-0x1][0x0];b2[b2['length']-0x1][0x0]=b5['substr'](0x0,b5['length']-0x1);}b4['push'](...b2),b0?b4['push']([aY,[['FontAwesome',b0]]]):b4['push']([aY]),b4['push'](...b3);var b6=this['blockAPI']['filterTitle'](b4);aX?this['updateTableCells'](aW,aX,b6,aV):this['blockStore']['setBlockText'](aV,aW,b6),this['invokeObserver'](aV),this['moveCursorAfterRender']({'id':aW,'cellId':aX,'position':{'offset':(aZ?this['backupCursorPos']['offset']:this['backupCursorPos']['offset']-0x1)+(aY?aY['length']:0x0)}});},this['openMeetingModal']=(aU,aV,aW)=>{var aX=this['domAPI']['$']('#id-'['concat'](aU)),aY=this['dataStore']['getBlockValue'](aU);aX&&aY&&this['popperStore']['setMeetingState']({'pageId':aY['page_id'],'initType':aW,'nodeId':aU,'pageLocked':aV,'anchorEl':aX});},this['updateMeeting']=(aU,aV,aW)=>{var aX,aY=this['dataStore']['getBlockValue'](aU);if(null==aY?void 0x0:aY['id']){if(aY['type']!==ad['y']['MEETING'])return;var aZ=(null==(aX=aY['attributes'])?void 0x0:aX['meetingData'])||{},b0=aZ['meetRemind']!==aV['meetRemind']||aZ['startTime']!==aV['startTime']||aZ['endTime']!==aV['endTime']||aZ['status']!==aV['status']||!a4()(aV['userList'],aZ['userList']),b1=new aj['a']();b1['block']['updateBlock'](aU,{'meetingData':aN(aN({},aY['attributes']['meetingData']||{}),aV||{})},['attributes']),this['invokeObserver'](b1,{'callback':()=>{b0&&this['updateMeetingBlockMentionDate'](aU),aW&&aW();}});}},this['updateMeetingBlockMentionDate']=aU=>{var aV,aW=this['dataStore']['getBlockValue'](aU);if(aW['id']){var aX=(null==(aV=aW['attributes'])?void 0x0:aV['meetingData'])||{},aY={'unit':'minute','value':0x0};'minute15'===aX['meetRemind']?aY['value']=0xf:'minute30'===aX['meetRemind']?aY['value']=0x1e:'hour1'===aX['meetRemind']?(aY['unit']='hour',aY['value']=0x1):'hour2'===aX['meetRemind']&&(aY['unit']='hour',aY['value']=0x2);var aZ=[];aX['userList']['forEach'](b0=>{aZ['push'](b0['id']);}),Object(aB['a'])({'blockId':aU,'blockTitle':'0'===aX['status']||'none'===aX['meetRemind']?[['']]:[['',[['Mention','date',{'userList':aZ,'type':'datetime','start_date':ac(aX['startTime'])['format']('YYYY/MM/DD'),'start_time':ac(aX['startTime'])['format']('HH:mm'),'timeZone':new Date()['getTimezoneOffset'](),'reminder':aY,'allUser':!0x1}]]]]});}},this['addMeetingBlock']=aU=>{var aV=this['dataStore']['getBlockValue'](aU);(null==aV?void 0x0:aV['id'])&&this['inputConversionCreate']({'id':aU,'parent_id':aV['parent_id'],'cellId':'','extend':{}},ad['y']['MEETING']);},this['updateMeetingUserList']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'add';return aQ(aT,null,function*(){var aW=this['dataStore']['getBlockValue'](aU);if((null==aW?void 0x0:aW['id'])&&aW['type']===ad['y']['MEETING']){var aX=new aj['a'](),{meetingData:aY={}}=aW['attributes'],aZ=[...aY['userList']||[]],b0=aZ['findIndex'](b1=>b1['id']===this['userStore']['userId']);if(-0x1===b0?'add'===aV&&aZ['push']({'id':this['userStore']['userId'],'name':this['userStore']['username'],'type':'member'}):'remove'===aV&&aZ['splice'](b0,0x1),aY['userList']=aZ,aX['block']['updateBlock'](aU,{'meetingData':aY},['attributes']),'weMeet'===aY['type'])try{'add'===aV?yield Object(a9['l'])(aY['meetingId']):'remove'===aV?yield Object(a9['m'])(aY['meetingId']):console['error']('更新会议参会人员操作有误\x20operate:\x20'['concat'](aV));}catch(b1){console['error']('同步人员信息到腾讯会议失败\x20'['concat'](this['userStore']['userId'],'\x20')['concat'](aY['meetingId']));}this['invokeObserver'](aX,{'callback':()=>{var b2;this['updateMeetingBlockMentionDate'](aU),Object(af['jb'])({'toSpaceId':this['spaceStore']['spaceId'],'toUserId':null==(b2=aY['createdBy'])?void 0x0:b2['id'],'content':{'page_id':aW['page_id'],'block_id':aU},'noticeMessage':{'send_user':this['userStore']['userId'],'send_time':new Date(),'msg_type':'meeting','action':''['concat']('add'===aV?'join':'leave','Member'),'send_msg':'add'===aV?ab['a']['t']('editor.weMeet.weMeetJoinMember','{{meetingTitle}}\x20参与者加入通知',{'userName':this['userStore']['userName'],'meetingTitle':aY['meetingTitle'],'ns':'editor'}):ab['a']['t']('editor.weMeet.weMeetLeaveMember','{{meetingTitle}}\x20参与者退出通知',{'userName':this['userStore']['userName'],'meetingTitle':aY['meetingTitle'],'ns':'editor'}),'ref_block':{'id':aU,'page':aW['page_id'],'title':aY['meetingTitle']},'meetingInfo':{'meetingTitle':aY['meetingTitle'],'startTime':aY['startTime'],'endTime':aY['endTime'],'timeZone':aY['timeZone'],'createdBy':aY['createdBy']}},'noticeType':0x1});}});}});},this['inputConversionInline']=aU=>aQ(this,null,function*(){var aV,aW,{parent_id:aX}=this['dataStore']['getBlockValue'](aU['nodeId']),aY=[ad['y']['DIVIDER'],ad['y']['PROGRESS_BAR']]['includes'](aU['type'])?this['getNextCursorId'](aU['nodeId'],aX):aU['nodeId'];if(yield this['turnInto'](aN(aN(aN({},aU),aU['type']===ad['y']['CALLOUT_MARQUEE']?{'type':ad['y']['CALLOUT']}:{}),(null==(aV=null==aU?void 0x0:aU['extend'])?void 0x0:aV['language'])?{'language':null==(aW=null==aU?void 0x0:aU['extend'])?void 0x0:aW['language']}:{})),aU['type']===ad['y']['BLOCK_EQUATION']){this['editorUI']['setSelectedNode'](aU['nodeId']);var aZ=this['blockAPI']['getTitlePlainTextById'](aU['nodeId']);setTimeout(()=>{al['b']['emit']('openEquation',{'type':'block','nodeId':aU['nodeId'],'mathText':aZ,'isInline':!0x1,'equationIndex':0x0});},0x12c);}else{if(aU['type']===ad['y']['CALLOUT_MARQUEE']){var b0=new aj['a']();this['blockStore']['setBlockText'](b0,aU['nodeId'],[[ab['a']['t'](ad['cb']['MESSAGE'],'一条信息',{'ns':'editor'})]]),this['blockStore']['setCalloutMarquee'](b0,aU['nodeId'],!0x0),this['invokeObserver'](b0),this['editorUI']['setSelectedNode'](aU['nodeId']);}else{if(aU['type']===ad['y']['TEMPLATE_BUTTON'])this['createTemplateButtonChildBlock'](aU['nodeId'],ad['y']['TODO_LIST']),setTimeout(()=>{var b2=this['domAPI']['$']('#id-'['concat'](aU['nodeId']));this['_invokeOperation']('onTriggerToggleConfig',b2);},0x64);else{if(aU['type']===ad['y']['MEETING'])setTimeout(()=>{var b2,b3=this['domAPI']['$']('#id-'['concat'](aU['nodeId']));this['_invokeOperation']('onTriggerOpenModal',b3,{'type':null==(b2=null==aU?void 0x0:aU['extend'])?void 0x0:b2['type']});},0x64);else{if([ad['y']['FILE'],ad['y']['IMAGE'],...ad['Q'],ad['y']['BOOKMARK'],ad['y']['VIDEO'],ad['y']['AUDIO']]['includes'](aU['type']))setTimeout(()=>{var b2=this['domAPI']['$']('#id-'['concat'](aU['nodeId']));this['_invokeOperation']('onTriggerOpenModal',b2,aU['extend']&&aU['extend']['tab']?{'tab':aU['extend']['tab']}:{});},0x12c);else{if(aU['type']===ad['y']['SIMPLE_TABLE'])this['setSimpleTableProps'](aU['nodeId']);else{if(![...ad['Q'],ad['y']['BOOKMARK']]['includes'](aU['type'])){var {type:b1}=this['dataStore']['getBlockValue'](aU['nodeId']);if(b1===ad['y']['TEXT']&&aU['type']===ad['y']['TEXT'])return;this['moveCursorAfterRender']({'id':aY,'position':'start'});}}}}}}}}),this['initTableCells']=(aU,aV)=>{for(var aW=[];aU>0x0;)aW['push'](this['createNewColumn'](aV)),aU--;return aW;},this['createNewCell']=(aU,aV,aW)=>({'id':Object(ag['b'])(),'attributes':aN({'title':aU||[['']]},aW?{'cellAlign':aW}:{}),'setting':aV||{}}),this['createNewColumn']=aU=>{for(var aV=0x0,aW=[];aV<aU;)aW['push'](this['createNewCell']()),aV++;return{'column':aW,'flex':0x64};},this['getCellPosition']=(aU,aV)=>{var aW=0x0,aX=0x0;return aU['forEach']((aY,aZ)=>{aY['column']['forEach']((b0,b1)=>{b0['id']===aV&&(aW=aZ,aX=b1);});}),{'column':aW,'row':aX};},this['getNewTableFlex']=(aU,aV)=>{var aW=this['domAPI']['$']('#id-'['concat'](aU)),{width:aX}=aW['getBoundingClientRect'](),aY=0x0;return aV['forEach'](aZ=>{var b0=this['domAPI']['$']('#id-'['concat'](aZ['column'][0x0]['id'])),{width:b1}=b0['getBoundingClientRect']();aY+=b1;}),aY/aX;},this['updateCellFlex']=(aU,aV)=>{var aW=aU['length'];aU['forEach'](aX=>{aX['flex']+=aV/aW;});},this['deleteCell']=(aU,aV,aW)=>{var aX=this['dataStore']['getBlockValue'](aU);if(aX['type']===ad['y']['SIMPLE_TABLE']){var aY=[],aZ=this['blockAPI']['getTableCells'](aX,!0x0);if(this['editorUI']['selectedCell']['size']>=0x1){if('custom'===aW){var b0=[];aZ['forEach'](b9=>{var ba=[];b9['column']['forEach'](bb=>{this['editorUI']['selectedCell']['has'](bb['id'])?aY['push'](bb['id']):ba['push'](bb);}),ba['length']&&b0['push']({'column':ba,'flex':b9['flex']});}),aZ=b0;}else{var {columnStart:b1,columnEnd:b2,rowStart:b3,rowEnd:b4}=this['editorUI']['getSelectedCellRange'](aZ);if('column'===aW)aZ['splice'](b1,b2-b1+0x1)['forEach'](b9=>{aY['push'](...b9['column']['map'](ba=>ba['id']));});else'row'===aW&&aZ['forEach'](b9=>{var ba=b9['column']['splice'](b3,b4-b3+0x1);aY['push'](...ba['map'](bb=>bb['id']));});}}else{if(aV){var {column:b5,row:b6}=this['getCellPosition'](aZ,aV);if('column'===aW)aZ['splice'](b5,0x1)['forEach'](b9=>{aY['push'](...b9['column']['map'](ba=>ba['id']));});else'row'===aW&&aZ['forEach'](b9=>{var ba=b9['column']['splice'](b6,0x1);aY['push'](...ba['map'](bb=>bb['id']));});}}this['editorUI']['selectedCell']['size']&&this['editorUI']['clearSelectedCell']();var b7=new aj['a']();if((aZ['filter'](b9=>b9['column']['length'])||[])['length']){var b8={'type':ae['i']['DELETE'],'cellIds':aY};this['blockStore']['changeTableCell'](b7,aU,{'value':aZ,'change':b8},[]);}else this['blockStore']['deleteBlock'](b7,aU);this['invokeObserver'](b7);}},this['allowInsert']=(aU,aV,aW,aX)=>['up','down']['includes'](aV)?!(aU[0x0]['column']['length']>=aX):!!['left','right']['includes'](aV)&&!(aU['length']>=aW),this['clearCell']=(aU,aV,aW,aX)=>{var aY=aV||[...this['editorUI']['selectedCell']][0x0],aZ=aU||this['domAPI']['getTableIdByCell'](aY);if(aZ){var b0=this['dataStore']['getBlockValue'](aZ),b1=this['blockAPI']['getTableCells'](b0,!0x0),{columnStart:b2,columnEnd:b3,rowStart:b4,rowEnd:b5}=this['editorUI']['getSelectedCellRange'](b1),b6=!0x1,b7=[];if(b1['forEach'](ba=>{ba['column']['forEach'](bb=>{aW?(!b6&&this['blockAPI']['getCellPlainTextById'](aZ,bb['id'])['length']&&(b6=!0x0),b7['push'](bb['id']),bb['attributes']['title']=[['']],aY||(aY=bb['id'])):this['editorUI']['selectedCell']['size']&&this['editorUI']['selectedCell']['has'](bb['id'])&&(!b6&&this['blockAPI']['getCellPlainTextById'](aZ,bb['id'])['length']&&(b6=!0x0),b7['push'](bb['id']),bb['attributes']['title']=[['']]);});}),b6)this['changeTableCell'](aZ,{'value':b1,'change':{'type':ae['i']['UPDATE'],'cellIds':b7}});else{if(!aX&&this['editorUI']['selectedCell']['size']){if(0x0===b2&&b3===b1['length']-0x1&&0x0===b4&&b5===b1[0x0]['column']['length']-0x1&&this['editorUI']['selectedCell']['size']<(b3+0x1)*(b5+0x1))return this['deleteCell'](aZ,'','custom');if(0x0===b2&&b3===b1['length']-0x1){var b8='row';return(b5-b4+0x1)*b1['length']>this['editorUI']['selectedCell']['size']&&(b8='custom'),this['deleteCell'](aZ,'',b8);}if(0x0===b4&&b5===b1[0x0]['column']['length']-0x1){var b9='column';return(b3-b2+0x1)*b1[0x0]['column']['length']>this['editorUI']['selectedCell']['size']&&(b9='custom'),this['deleteCell'](aZ,'',b9);}}}this['editorUI']['clearSelectedShadow'](),this['moveCursorAfterRender']({'id':aZ,'cellId':aY,'position':'end'});}},this['averageCellWidth']=(aU,aV)=>{var aW=this['dataStore']['getBlockValue'](aU);if(aW['type']===ad['y']['SIMPLE_TABLE']){var aX=this['blockAPI']['getTableCells'](aW,!0x0),aY=0x0,aZ=aX['length']-0x1;if(aV&&this['editorUI']['selectedCell']['size']){var {columnStart:b0,columnEnd:b1}=this['editorUI']['getSelectedCellRange'](aX);aY=b0,aZ=b1;}var b2=0x0;aX['forEach']((b5,b6)=>{aY<=b6&&b6<=aZ&&(b2+=b5['flex']);});var b3=b2/(aZ-aY+0x1),b4=[];aX['forEach']((b5,b6)=>{aY<=b6&&b6<=aZ&&(b5['flex']=b3,b4['push'](b6));}),this['changeTableCell'](aU,{'value':aX,'change':{'type':ae['i']['UPDATE_FLEX'],'pos':b4}});}},this['insertNewCell']=(aU,aV,aW,aX)=>{if(this['spaceStore']['blockCountLimit']())Object(ax['c'])('block');else{var aY=this['dataStore']['getBlockValue'](aU);if(aY['type']===ad['y']['SIMPLE_TABLE']){var aZ=this['blockAPI']['getTableCells'](aY,!0x0);if(!this['allowInsert'](aZ,aW,ad['nb'],ad['ob']))return;var b0={},b1=[];if(this['editorUI']['selectedCell']['size']>0x1){var {columnStart:b2,columnEnd:b3,rowStart:b4,rowEnd:b5}=this['editorUI']['getSelectedCellRange'](aZ);'up'===aW?(aZ['forEach'](b9=>{var ba=this['createNewCell']();b9['column']['splice'](b4,0x0,ba),b1['push'](ba['id']);}),b0={'type':ae['i']['INSERT_ROW'],'pos':b4,'cellIds':b1}):'down'===aW?(aZ['forEach'](b9=>{var ba=this['createNewCell']();b9['column']['splice'](b5+0x1,0x0,ba),b1['push'](ba['id']);}),b0={'type':ae['i']['INSERT_ROW'],'pos':b5+0x1,'cellIds':b1}):'left'===aW?(aZ['splice'](b2,0x0,this['createNewColumn'](aZ[0x0]['column']['length'])),b0={'type':ae['i']['INSERT_COLUMN'],'pos':b2,'cellIds':aZ[b2]['column']['map'](b9=>b9['id'])}):'right'===aW&&(aZ['splice'](b3+0x1,0x0,this['createNewColumn'](aZ[0x0]['column']['length'])),b0={'type':ae['i']['INSERT_COLUMN'],'pos':b3+0x1,'cellIds':aZ[b3+0x1]['column']['map'](b9=>b9['id'])});}else{if(aV){var {column:b6,row:b7}=this['getCellPosition'](aZ,aV);'up'===aW?(aZ['forEach'](b9=>{var ba=this['createNewCell']();b9['column']['splice'](b7,0x0,ba),b1['push'](ba['id']);}),b0={'type':ae['i']['INSERT_ROW'],'pos':b7,'cellIds':b1}):'down'===aW?(aZ['forEach'](b9=>{var ba=this['createNewCell']();b9['column']['splice'](b7+0x1,0x0,ba),b1['push'](ba['id']);}),b0={'type':ae['i']['INSERT_ROW'],'pos':b7+0x1,'cellIds':b1}):'left'===aW?(aZ['splice'](b6,0x0,this['createNewColumn'](aZ[0x0]['column']['length'])),b0={'type':ae['i']['INSERT_COLUMN'],'pos':b6,'cellIds':aZ[b6]['column']['map'](b9=>b9['id'])}):'right'===aW&&(aZ['splice'](b6+0x1,0x0,this['createNewColumn'](aZ[0x0]['column']['length'])),b0={'type':ae['i']['INSERT_COLUMN'],'pos':b6+0x1,'cellIds':aZ[b6+0x1]['column']['map'](b9=>b9['id'])});}else'up'===aW?(aZ['forEach'](b9=>{var ba=this['createNewCell']();b9['column']['unshift'](ba),b1['push'](ba['id']);}),b0={'type':ae['i']['INSERT_ROW'],'pos':0x0,'cellIds':b1}):'down'===aW?(aZ['forEach'](b9=>{var ba=this['createNewCell']();b9['column']['push'](ba),b1['push'](ba['id']);}),b0={'type':ae['i']['INSERT_ROW'],'pos':aZ[0x0]['column']['length']-0x1,'cellIds':b1}):'left'===aW?(aZ['unshift'](this['createNewColumn'](aZ[0x0]['column']['length'])),b0={'type':ae['i']['INSERT_COLUMN'],'pos':0x0,'cellIds':aZ[0x0]['column']['map'](b9=>b9['id'])}):'right'===aW&&(aZ['push'](this['createNewColumn'](aZ[0x0]['column']['length'])),b0={'type':ae['i']['INSERT_COLUMN'],'pos':aZ['length']-0x1,'cellIds':aZ[aZ['length']-0x1]['column']['map'](b9=>b9['id'])});}var b8=new aj['a']();if(this['blockStore']['changeTableCell'](b8,aU,{'value':aZ,'change':b0}),this['invokeObserver'](b8),aX)return aX(aZ);}}},this['setSimpleTableProps']=(aU,aV,aW)=>{var aX=new aj['a']();aX['undo']=!0x0;var aY=this['initTableCells'](aV||0x3,aW||0x4);aX['block']['updateBlock'](aU,{'cells':JSON['stringify'](aY),'tableHeader':am['a'](ad['pc'])||!0x1},['attributes']),aX['block']['updateBlock'](aU,{'flex':0x13b},['setting']),this['invokeObserver'](aX),this['moveCursorAfterRender']({'id':aU,'cellId':aY[0x0]['column'][0x0]['id'],'position':'end'});},this['restoreBlock']=aU=>aQ(this,null,function*(){var aV=new aj['a'](),aW=this['dataStore']['getBlockProperty'](aU['id'],'type'),aX={};aU['type']!==aW&&(aX=yield this['turnInto']({'nodeId':aU['id'],'type':aU['type'],'transaction':aV})),aV['block']['updateBlock'](aU['id'],{'attributes':aU['attributes']||{},'setting':aU['setting']||{}},[]),this['invokeObserver'](aV,aX);}),this['turnInto']=aU=>aQ(this,null,function*(){var {nodeId:aV,type:aW,transaction:aX,restoreTitle:aY,resetSelectedNodes:aZ,language:b0,extend:b1}=aU,{type:b2}=this['dataStore']['getBlockValue'](aV);if(b2!==aW){var b3=aX||new aj['a']();yield this['blockStore']['setBlockType']({'transaction':b3,'id':aV,'type':aW,'prevType':b2,'resetSelectedNodes':aZ,'language':b0}),aY&&this['restoreDefaultTitle'](aV,b3);var b4={};if([ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](aW)?b4['callback']=()=>{var b5=this['dataStore']['getSourceId'](aV),b6=this['dataStore']['getBlock'](b5);if(b6['value']['type']===ad['y']['PAGE']&&b6['value']['isLoading']){this['dataStore']['updateBlock'](b6['value']['id'],{'isLoading':!0x1});var b7=this['dataStore']['getBlockValue'](b6['value']['parent_id']);this['blockStore']['setBlockDirty'](b7),this['invokeObserver']();}}:aW===ad['y']['MEETING']&&b3['block']['updateBlock'](aV,{'meetingData':(null==b1?void 0x0:b1['meetingData'])||{}},['attributes']),aX)return b4;this['invokeObserver'](b3,b4);}}),this['noticeProgressUpdate']=aU=>{this['addMissionExecuteAfterRender'](()=>{aU['forEach'](aV=>{var aW=this['dataStore']['getSourceId'](aV),aX=this['dataStore']['getBlockValue'](aW);aX&&aX['id']&&aX['type']===ad['y']['PROGRESS_BAR']&&al['b']['emit']('update_progress_'['concat'](aX['parent_id']),{});});});},this['findProgressBar']=aU=>{var aV=this['dataStore']['getSourceId'](aU),aW=this['dataStore']['getBlockProperty'](aV,'parent_id')||'';if(aW){for(var aX=this['dataStore']['getBlockProperty'](aW,'sub_nodes')||[],aY=aX['findIndex'](b6=>b6===aU),aZ=aY-0x1,b0=aY+0x1,b1=!0x1;aZ>=0x0&&!b1;){var b2=aX[aZ],b3=this['dataStore']['getBlockProperty'](b2,'type');[ad['y']['TODO_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO'],ad['y']['PROGRESS_BAR']]['includes'](b3)?b3===ad['y']['PROGRESS_BAR']?(al['b']['emit']('update_progress_'['concat'](b2),{}),b1=!0x0):aZ--:b1=!0x0;}for(b1=!0x1;b0<=aX['length']-0x1&&!b1;){var b4=aX[b0],b5=this['dataStore']['getBlockProperty'](b4,'type');[ad['y']['TODO_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO'],ad['y']['PROGRESS_BAR']]['includes'](b5)?b5===ad['y']['PROGRESS_BAR']?(b1=!0x0,al['b']['emit']('update_progress_'['concat'](b4),{})):b0++:b1=!0x0;}}},this['getProgressBarPercentageData']=aU=>{var aV=[];aU['forEach'](b1=>{var b2=this['dataStore']['getBlockProperty'](b1,'type');if([ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO'],ad['y']['TODO_LIST']]['includes'](b2)){var b3=this['dataStore']['getBlockProperty'](b1,'attributes.checked');if([ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST_PRO']]['includes'](b2)&&'cancel'===b3)return;aV['push']({'id':b1,'checked':b3});}});var aW=!0x1,aX=0x0,aY=0x0;if(aV['length']>0x0){var aZ=aV['filter'](b1=>'yes'===b1['checked'])||[],b0=aV['filter'](b1=>'pending'===b1['checked']||'yes'===b1['checked'])||[];aW=!0x0,aX=Math['floor'](aZ['length']/aV['length']*0x64),aY=Math['floor'](b0['length']/aV['length']*0x64);}return{'hasProgressBar':aW,'percentage':aX,'pendingPercentage':aY};},this['updateProgressBarDom']=(aU,aV,aW)=>{(document['querySelectorAll']('.progress-bar-'['concat'](aU,'.wolai-progress-bar'))||[])['forEach'](aX=>{aX['childNodes'][0x1]&&(aX['childNodes'][0x1]['style']['transform']='translateX('['concat'](aV-0x64,'%)')),aX['childNodes'][0x2]&&(aX['childNodes'][0x2]['style']['transform']='translateX('['concat'](aW-0x64,'%)')),aX['parentElement']&&aX['parentElement']['childNodes'][aX['parentElement']['childNodes']['length']-0x1]&&(aX['parentElement']['childNodes'][aX['parentElement']['childNodes']['length']-0x1]['innerText']=''['concat'](aV,'%'));});},this['calcProgressBarPercentage']=aU=>{var aV=this['dataStore']['getSourceId'](aU),aW=this['dataStore']['getBlockProperty'](aV,'parent_id')||'';if(aW){var aX=this['dataStore']['getBlockProperty'](aW,'sub_nodes')||[],{percentage:aY,pendingPercentage:aZ}=this['getProgressBarPercentageData'](aX),{attributes:b0}=this['dataStore']['getBlockValue'](aV),b1=aN({},b0),b2=new aj['a']();b2['undo']=!0x0,aY!==b1['progress']&&(b1['progress']=aY||0x0,(b2=this['blockStore']['updateBlockContent'](aV,b1,b2))['commit'](()=>{al['b']['emit']('dashboard-'['concat'](aU));})),this['updateProgressBarDom'](aV,aY,aZ);}},this['moveCursorAfterRender']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0xa;return new Promise(aW=>{aT['addMissionExecuteAfterRender'](()=>{aU['noScroll']||!Object(ah['h'])()&&!Object(ah['i'])()||aR(aU),setTimeout(()=>{aT['cursorAPI']['moveCursor'](aU),aW();},aV);});});},this['deleteNode']=(aU,aV)=>{var aW;'string'==typeof aU?aW=aU:'object'==typeof aU&&(aW=aU['id']);var aX=aV||new aj['a']();this['blockStore']['deleteBlock'](aX,aW),!aV&&this['invokeObserver'](aX),this['removeChildRelativeRecord'](aW);},this['removeChildRelativeRecord']=aU=>{var aV=this['dataStore']['getBlockProperty'](aU,'type'),aW=this['blockAPI']['findAllChildrenNodes']([aU]),aX=[];[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](aV)&&aX['push'](aU);for(var aY=0x0;aY<aW['length'];aY++){var aZ=this['dataStore']['getBlockValue'](aW[aY]);[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](aZ['type'])&&aX['push'](aW[aY]);}if(aX['length']>0x0){for(var b0=new aj['a'](),b1=[],b2=0x0;b2<aX['length'];b2++){var b3=this['dataStore']['getBlockValue'](aX[b2]);[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](b3['type'])&&b1['push'](this['pageStore']['removeRelativeRecord'](b0,aX[b2]));}Promise['all'](b1),b0['commit']();}},this['recursiveCopyAction']=function(aU){var {transaction:aV,children:aW,newId:aX,pageId:aY,specifiedPageId:aZ}=aU,b0=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[];return aW&&aW['length']&&aW['forEach'](b1=>{var b2=Object(ag['b'])(),b3=aT['dataStore']['getBlockValue'](b1,!0x0);if(b3['id']){var {sub_nodes:b4,type:b5,setting:b6,attributes:b7}=b3;b3['source_id']&&(b4=[],b5=ad['y']['TEXT'],b7={},b6={}),[ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST']]['includes'](b5)&&!aT['spaceStore']['hasPremiumOrTeamPlan']&&(b5=ad['y']['TODO_LIST']),aT['blockStore']['createCommonBlock'](aV,b2,aX,'','after')(b5);var b8=a6()(b7);if(b5===ad['y']['SIMPLE_TABLE']){var b9=aT['blockAPI']['getTableCells'](b3);b8['cells']=aT['cloneTableCells'](b9,aV,{'spaceId':aT['blockStore']['spaceId'],'pageId':aY,'blockId':b2});}b8['title']&&(b8['title']=aT['blockStore']['copyTitle'](aV,{'spaceId':aT['blockStore']['spaceId'],'pageId':aY,'blockId':b2,'title':b8['title']}));var ba=a6()(b6);delete ba['block_locked'],delete ba['block_locked_by'],aT['spaceStore']['hasPremiumOrTeamPlan']||(delete b8['associationMode'],delete b8['hiddenNumber'],delete b8['oneTime'],delete ba['template_button_color']);var bb={'setting':ba,'attributes':b8,'source':b1};if(aZ&&(bb['page_id']=aZ),b3['source_id']&&(bb['source_id']=b3['source_id']),aV['block']['updateBlock'](b2,bb),[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](b5)){aT['dataStore']['updateBlock'](b2,{'isLoading':!0x0});var bc=aT['dataStore']['getBlockValue'](b2),bd=!0x1;if(bc['page_id']){var be=aT['dataStore']['getBlockValue'](bc['page_id']);be['status']&&be['status']!==ad['w']['ACTIVE']||(bd=!0x0);}var bf=aT['dataStore']['getSourceId'](b1),bg=aT['dataStore']['getSourceId'](aX);b0['push'](aN({'newParentId':bg,'newBlockId':b2,'newSpaceId':aT['spaceStore']['spaceId'],'oldBlockId':bf,'newVersion':Number((null==bc?void 0x0:bc['version'])||0x0)+0x1},bd?{'enableDeleted':bd}:{}));}else b4&&b4['length']&&aT['recursiveCopyAction']({'transaction':aV,'children':b4,'newId':b2,'pageId':aY,'specifiedPageId':aZ},b0);}}),b0;},this['batchCopyBlocks']=aU=>{if(!this['spaceStore']['blockCountLimit']())return this['concurrentCopyBlocks']['request'](aU);Object(ax['c'])('block');},this['concurrentCopyBlocks']=new ay['a']({'maxLimit':0x1,'rejectWhenExceed':!0x0,'requestApi':aU=>{var {targetNodeId:aV='',selectedNodesList:aW,menuCopy:aX,pageId:aY,position:aZ,positionId:b0,parentId:b1,deletePositionId:b2,updateBackupNodes:b3,addSuffix:b4=!0x0,templateCopy:b5,databaseCopy:b6}=aU;return new Promise(b7=>aQ(this,null,function*(){var {blockStore:b8,editorUI:b9}=this,ba=new aj['a'](),bb=aW||b9['selectedRootNode'],bc=bb['length']?bb:aV?[aV]:[],{id:bd}=this['globalItem']||{},be=bc['slice'](-0x1)[0x0];aX||b6||(be=this['domAPI']['existCursorInEditor']()&&bd||aV||bc['slice'](-0x1)[0x0]),b0&&(be=b0),b6&&(be='');var bf=b1||this['dataStore']['getBlockProperty'](be,'parent_id'),bg=[],bh=[],bi={'extraTrans':ba,'autoHighlight':!0x1,'parentId':bf,'list':bb};this['globalItem']={};var bj=!0x1,bk=bc['length']>0x64,bl=bc['length']>0x1f4,bm=b8['pageId'];aY&&aY!==bm&&(this['dataStore']['loadedPages']['includes'](aY)||(bj=!0x0));if(bk||bj){if(bl)return void this['pageStore']['setConfirmOpen']({'title':'','contents':ab['a']['t'](ad['cb']['PASTE_TOO_MUCH_DATA'],'粘贴内容过多，请使用导入功能或者少量粘贴',{'ns':'editor'}),'singleButton':!0x0,'success':()=>{b7(!0x0);}});this['pageStore']['setConfirmOpen']({'title':'','loading':!0x0,'contents':ab['a']['t'](ad['cb']['PROCESSING_WAIT'],'正在处理，请稍候...',{'ns':'editor'}),'alignContentsCenter':!0x0,'hideButton':!0x0});}bj&&(yield b8['pullPageData'](aY));var bn=new Map(),bo=[];setTimeout(()=>{var bp;if(this['dataStore']['getBlockProperty'](bf,'type')===ad['y']['PAGE']&&(bp=this['blockStore']['checkAllRowColumnBlocks'](bc)),bp){var bq=Object(ag['b'])();this['blockStore']['createRowBlock'](ba,bq,bf,be,'after'),Object['keys'](bp)['forEach'](bt=>{var bu,bv=Object(ag['b'])();this['blockStore']['createColumnBlock'](ba,bv,bq,'','after'),this['blockStore']['updateColumnFlex'](ba,bv,0x1/Object['keys'](bp)['length']),[...bp[bt]['reverse']()]['forEach'](bw=>{var bx,{newId:by,childNeedCloneList:bz}=this['duplicateBlock'](aO(aN({},bi),{'parentId':bv,'nodeId':bw,'prevId':bu,'pageId':bm,'position':'before','addSuffix':b4,'templateCopy':b5,'databaseCopy':b6})),bA=this['dataStore']['getBlockValue'](by);if((null==bA?void 0x0:bA['type'])===ad['y']['PAGE']&&!b6||(null==bA?void 0x0:bA['type'])===ad['y']['DATABASE']){var bB=this['blockAPI']['getTitlePlainTextById'](by),bC=null==(bx=null==bA?void 0x0:bA['setting'])?void 0x0:bx['page_icon'],bD=!0x1;if(bA['page_id']){var bE=this['dataStore']['getBlockValue'](bA['page_id']);bE['status']&&bE['status']!==ad['w']['ACTIVE']||(bD=!0x0);}var bF=this['dataStore']['getSourceId'](bw),bG=this['dataStore']['getSourceId'](bv||bA['parent_id']);bo['push'](aN(aN({'newParentId':bG,'newBlockId':by,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bF,'newBlockTitle':bB,'newVersion':Number((null==bA?void 0x0:bA['version'])||0x0)+0x1},bD?{'enableDeleted':bD}:{}),bC?{'newBlockIcon':{'icon':bC[0x1]||'','type':bC[0x0]||'emoji'}}:{}));}(null==bz?void 0x0:bz['length'])>0x0&&(bo=bo['concat'](bz)),bg['push'](by),this['editorUI']['columnSelected']['has'](bw)&&(bn['set'](bw,new Set(this['editorUI']['columnSelected']['get'](bw))),bn['set'](by,new Set(this['editorUI']['columnSelected']['get'](bw)))),bu=by;});});}else{var br=be;[...bc]['forEach'](bt=>{var bu,{newId:bv,childNeedCloneList:bw}=this['duplicateBlock'](aO(aN({},bi),{'nodeId':bt,'prevId':br,'pageId':bm,'position':aZ,'addSuffix':b4,'templateCopy':b5,'databaseCopy':b6})),bx=this['dataStore']['getBlockValue'](bv);if((null==bx?void 0x0:bx['type'])===ad['y']['PAGE']&&!b6||(null==bx?void 0x0:bx['type'])===ad['y']['DATABASE']){var by=this['blockAPI']['getTitlePlainTextById'](bv),bz=null==(bu=null==bx?void 0x0:bx['setting'])?void 0x0:bu['page_icon'],bA=!0x1;if(bx['page_id']){var bB=this['dataStore']['getBlockValue'](bx['page_id']);bB['status']&&bB['status']!==ad['w']['ACTIVE']||(bA=!0x0);}var bC=this['dataStore']['getSourceId'](bt),bD=this['dataStore']['getSourceId'](bi['parentId']||bx['parent_id']);bo['push'](aN(aN({'newParentId':bD,'newBlockId':bv,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bC,'newBlockTitle':by,'newVersion':Number((null==bx?void 0x0:bx['version'])||0x0)+0x1},bA?{'enableDeleted':bA}:{}),bz?{'newBlockIcon':{'icon':bz[0x1]||'','type':bz[0x0]||'emoji'}}:{}));}(null==bw?void 0x0:bw['length'])>0x0&&(bo=bo['concat'](bw)),bh['push']({'oldId':bt,'prevId':br,'nextId':bv}),bg['push'](bv),br=bv,this['editorUI']['columnSelected']['has'](bt)&&(bn['set'](bt,new Set(this['editorUI']['columnSelected']['get'](bt))),bn['set'](bv,new Set(this['editorUI']['columnSelected']['get'](bt))));});}b2&&this['blockStore']['deleteBlock'](ba,b2),bh['forEach'](bt=>{var {oldId:bu,prevId:bv,nextId:bw}=bt,bx=this['dataStore']['getBlockValue'](bu),by=this['dataStore']['getBlockValue'](bw);bx['parent_type']===ad['y']['DATABASE']&&by['parent_id']===bx['parent_id']?(this['dataStore']['setPageLoaded'](bw,!0x0),aA['a']['duplicateRow'](bx['parent_id'],bu,{'prevId':bv,'newBlockId':bw},ba)):by['parent_type']===ad['y']['DATABASE']&&aA['a']['insertRow'](by['parent_id'],bw,{'blockId':bv,'position':'before'});}),bh['length']>0x0&&b6&&Object(aE['a'])()['then'](bt=>bt['open']({'pageId':bh[0x0]['nextId'],'enableKeyDownEvent':!0x0,'style':{'overflow':'auto','display':'flex','flexDirection':'row','overflowX':'hidden'}})),this['invokeObserver'](ba,{'callback':()=>{bh['length']>0x0&&bh['forEach'](bt=>{var {nextId:bu}=bt;aA['a']['finishRowLoading'](bu);}),bo['length']>0x0&&bo['forEach'](bt=>{var bu=this['dataStore']['getBlockValue'](bt['newBlockId']);Object(an['a'])(bt)['then'](bv=>{var bw,bx,by;bu['type']===ad['y']['PAGE']&&this['dataStore']['setPageLoaded'](bt['newBlockId'],!0x1),bu['parent_type']===ad['y']['DATABASE']&&al['b']['emit']('render'['concat'](bu['id']),{'focus':!0x0}),this['dataStore']['syncBlockData']([null==(bw=null==bv?void 0x0:bv['data'])?void 0x0:bw['newBlock']]),this['dataStore']['syncDataTables'](null==(bx=null==bv?void 0x0:bv['data'])?void 0x0:bx['tableMeta']),this['dataStore']['syncDataViews'](null==(by=null==bv?void 0x0:bv['data'])?void 0x0:by['tableViews']),this['blockStore']['setBlockDirty'](bu),this['invokeObserver']();});});}});var bs=bg[0x0]&&this['dataStore']['getBlockProperty'](bg[0x0],'type');b5&&0x1===bg['length']&&ad['Z']['includes'](bs)?this['cursorAPI']['moveCursor']({'id':bg[0x0],'position':'end'}):b9['setSelectedNode'](bg,bn),this['noticeProgressUpdate'](bg),b3&&this['drag']['backupSelectedNode'](this['editorUI']['selectedRootNode'],!0x0),(bk||bj)&&(this['pageStore']['setConfirmOpen'](),this['domAPI']['$']('#id-'['concat'](be,'\x20[contenteditable]'))['blur']()),b7(!0x0);});}));}}),this['cloneTableCells']=(aU,aV,aW)=>{var aX=[];return aU['forEach'](aY=>{var aZ=[];aY['column']['forEach'](b0=>{if(b0['attributes']['title']&&(aW['templateCopy']&&(b0['attributes']['title']=this['handleTitleVariable'](b0['attributes']['title'])),aW['title']=b0['attributes']['title'],b0['attributes']['title']=this['blockStore']['copyTitle'](aV,aW),b0['attributes']['title'])){var b1=Object(ak['a'])('markdown');b0['attributes']['title']=b1['removeDiscussComment'](b0['attributes']['title']);}aZ['push'](this['createNewCell'](b0['attributes']['title'],b0['setting'],b0['attributes']['cellAlign']));}),aX['push']({'column':aZ,'flex':aY['flex']});}),JSON['stringify'](aX);},this['replaceVariable']=aU=>{var aV,aW=ac()['format']('HH:mm'),aX=a8()(this['spaceStore'],'currentWorkspace.date_format_type','yyyymmdd_slash'),{format:aY}=ad['L']['find'](br=>{var {value:bs}=br;return bs===aX;})||{};ac['extend'](aq['a']);var aZ=ac()['format'](aY),b0=ac()['add'](0x1,'day')['format'](aY),b1=ac()['add'](-0x1,'day')['format'](aY),b2=ac()['year'](),b3=ac()['month']()+0x1,b4=ac()['date'](),b5=ac()['hour'](),b6=ac()['minute'](),b7=ac()['second'](),b8=br=>{var bs=new Date(br),bt=new Date(bs['getFullYear'](),0x0,0x1);return Math['ceil'](((bs['getTime']()-bt['getTime']())/0x5265c00+bt['getDay']())/0x7);},b9=b8(ac()['format']('YYYY/MM/DD\x2000:00:00')),ba=b8(ac()['add'](0x1,'week')['format']('YYYY/MM/DD\x2000:00:00')),bb=ac()['quarter'](),bc=ac()['add'](0x1,'quarter')['quarter'](),bd=['日','一','二','三','四','五','六'][ac()['day']()],be=b3>=0xa?b3:'0'['concat'](b3),bf=b4>=0xa?b4:'0'['concat'](b4),bg=b9>=0xa?b9:'0'['concat'](b9),bh=ba>=0xa?ba:'0'['concat'](ba),bi=['7','1','2','3','4','5','6'][ac()['day']()],bj=b5>=0xa?b5:'0'['concat'](b5),bk=b6>=0xa?b6:'0'['concat'](b6),bl=b7>=0xa?b7:'0'['concat'](b7),bm=ad['yb'],bn=[];for(bm['lastIndex']=0x0;;){var bo=bm['exec'](aU);if(!bo)break;var bp=bo[0x0],bq=bp['replace'](/(%DATE%|%日期%)/gm,aZ)['replace'](/(%ME%|%我%)/gm,(null==(aV=this['spaceStore']['currentSpaceView'])?void 0x0:aV['space_nickname'])||this['userStore']['userName'])['replace'](/(%TOMORROW%|%明天%)/gm,b0)['replace'](/(%QUARTER%)|(%季度%)/gm,String(bb))['replace'](/(%TIME%|%时间%)/gm,aW)['replace'](/(%YEAR%|%年%)/gm,String(b2))['replace'](/(%MONTH%|%月%)/gm,String(b3))['replace'](/(%DAY%|%日%)/gm,String(b4))['replace'](/(%DAYOFWEEK%|%星期%)/gm,bd)['replace'](/(%WEEK%|%周%)/gm,String(b9))['replace'](/(%DAYOFWEEK2%|%星期2%)/gm,bi)['replace'](/(%MONTH2%|%月2%)/gm,String(be))['replace'](/(%DAY2%|%日2%)/gm,String(bf))['replace'](/(%WEEK2%|%周2%)/gm,String(bg))['replace'](/(%YESTERDAY%|%昨天%)/gm,b1)['replace'](/(%HOUR%|%小时%)/gm,String(b5))['replace'](/(%HOUR2%|%小时2%)/gm,String(bj))['replace'](/(%MINUTE%|%分钟%)/gm,String(b6))['replace'](/(%MINUTE2%|%分钟2%)/gm,String(bk))['replace'](/(%SECOND%|%秒%)/gm,String(b7))['replace'](/(%SECOND2%|%秒2%)/gm,String(bl))['replace'](/(%NEXTWEEK%|%下周%)/gm,String(ba))['replace'](/(%NEXTWEEK2%|%下周2%)/gm,String(bh))['replace'](/(%NEXTQUARTER%|%下季度%)/gm,String(bc));bn['push']({'matchText':bp,'convertText':bq});}return bn['forEach'](br=>{aU=aU['replace'](br['matchText'],br['convertText']);}),aU;},this['handleTitleVariable']=aU=>{var aV;return aU['forEach'](aW=>{!aV&&(aV=[]),(aW[0x1]||[])['findIndex'](aX=>['BiLink','FontAwesome','Link','Equation','Metion','Mention','Note','Footnote']['includes'](aX[0x0]))<0x0&&aW[0x0]&&(aW[0x0]=this['replaceVariable'](aW[0x0])),aV['push'](aW);}),aV||[['']];},this['existTemplateVariableInTitle']=aU=>{var aV=!0x1;return aU['forEach'](aW=>{if(!aV&&((aW[0x1]||[])['findIndex'](aY=>['BiLink','FontAwesome','Link','Equation','Metion','Mention','Note','Footnote']['includes'](aY[0x0]))<0x0&&aW[0x0])){var aX=ad['yb'];aX['lastIndex']=0x0,aX['exec'](aW[0x0])&&(aV=!0x0);}}),aV;},this['existTemplateVariable']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,aW=aT['dataStore']['getBlockValue'](aU),aX=!0x1;if(null==aW?void 0x0:aW['id']){var {sub_nodes:aY,type:aZ,attributes:b0}=aW,{title:b1=[['']]}=b0;if(0x0===aV&&aZ===ad['y']['TEMPLATE_BUTTON'])aX=!0x1;else{if(aZ===ad['y']['SIMPLE_TABLE']){var b2=aT['blockAPI']['getTableCells'](aW);b2['forEach'](b3=>{aX||b3['column']['forEach'](b4=>{b4['attributes']['title']&&!aX&&(aX=aT['existTemplateVariableInTitle'](b4['attributes']['title']));});});}else aX=aT['existTemplateVariableInTitle'](b1);}!aX&&(![ad['y']['PAGE'],ad['y']['DATABASE'],ad['y']['TEMPLATE_BUTTON']]['includes'](aZ)||0x0===aV&&aZ===ad['y']['TEMPLATE_BUTTON'])&&(null==aY?void 0x0:aY['length'])>0x0&&aY['forEach'](b3=>{aX||(aX=aT['existTemplateVariable'](b3,aV+0x1));});}return aX;},this['judgeTitleVariable']=aU=>{var aV=!0x1,aW=!0x1,aX=!0x1;return aU['forEach'](aY=>{(!aV||!aW)&&((aY[0x1]||[])['findIndex'](aZ=>['BiLink','FontAwesome','Link','Equation','Metion','Mention','Note']['includes'](aZ[0x0]))<0x0&&aY[0x0])&&(/(%TOMORROW%)|(%明天%)/g['exec'](aY[0x0])&&!aV&&(aV=!0x0),aV||aX||!/(%YESTERDAY%)|(%昨天%)/g['exec'](aY[0x0])||(aX=!0x0),aV||aX||aW||!/(%QUARTER%)|(%季度%)|(%WEEK2%)|(%YEAR%)|(%年%)|(%周2%)|(%DAYOFWEEK2%)|(%星期2%)|(%WEEK%)|(%周%)|(%DAYOFWEEK%)|(%星期%)|(%DATE%)|(%日期%)|(%DAY%)|(%日%)|(%MONTH%)|(%月%)|(%MONTH2%)|(%月2%)|(%DAY2%)|(%日2%)|(%NEXTWEEK%)|(%下周%)|(%NEXTWEEK2%)|(%下周2%)|(%NEXTQUARTER%)|(%下季度%)/g['exec'](aY[0x0])||(aW=!0x0));}),aV?0x2:aX?0x3:aW?0x1:0x0;},this['dateIconInTemplateButton']=aU=>{if(!aU['page_icon']||!Array['isArray'](aU['page_icon']))return!0x1;var [aV,aW]=aU['page_icon'];if('link'===aV&&aW['includes']('/v1/icon?')){var aX=aW['split']('?'),aY=new RegExp('(^|&)type=([^&]*)(&|$)','i'),aZ=aX[0x1]['match'](aY)[0x2];if(aZ&&[0x2,0x3,0x4,0x5,0x6,0xa]['includes'](Number(aZ)))return!0x0;}return!0x1;},this['changeDateIconDate']=(aU,aV)=>{var [,aW]=aU,aX=aW['split']('?'),aY=aX[0x1]['split']('&'),aZ=[];aY['forEach'](b1=>{var b2=b1['split']('=')||[];if(b2['length']>0x0){var b3=b2[0x1];'date'===b2[0x0]&&(b3=0x2===aV?ac()['add'](0x1,'day')['format']('YYYY-MM-DD'):0x3===aV?ac()['add'](-0x1,'day')['format']('YYYY-MM-DD'):ac()['format']('YYYY-MM-DD')),aZ['push'](''['concat'](b2[0x0],'=')['concat'](b3));}});var b0=aZ['join']('&');return aX[0x1]=b0||aX[0x1],aU[0x1]=aX['join']('?'),aU;},this['getVariableTitle']=aU=>{var {setting:aV={},attributes:aW={}}=aU,aX=aV['page_icon']&&a6()(aV['page_icon']),aY=aW['title']||[['']],aZ=this['judgeTitleVariable'](aY);return aZ>0x0&&aX&&this['dateIconInTemplateButton'](aV)&&(aX=this['changeDateIconDate'](aX,aZ)),{'pageIcon':aX,'title':aY=this['handleTitleVariable'](a6()(aY))};},this['duplicateBlock']=aU=>{var {pageId:aV=this['blockStore']['pageId'],nodeId:aW,parentId:aX,prevId:aY,extraTrans:aZ,autoHighlight:b0=!0x0,position:b1='after',create:b2=!0x0,extraOptions:b3,addSuffix:b4=!0x0,templateCopy:b5,databaseCopy:b6=!0x1}=aU,{blockStore:b7,editorUI:b8}=this,b9=aZ||new aj['a'](),ba=[],bb=[],bc=a6()(this['dataStore']['getBlockValue'](aW)),bd=bc['source_id'];bd&&(bc['sub_nodes']=[],bc['type']=ad['y']['TEXT'],bc['attributes']={},bc['setting']={});var {parent_id:be,sub_nodes:bf,type:bg,setting:bh={},attributes:bi={}}=bc,bj=bg;[ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST']]['includes'](bj)&&!this['spaceStore']['hasPremiumOrTeamPlan']&&(bj=ad['y']['TODO_LIST']);var bk=aX||be,bl=b2?Object(ag['b'])():aW,bm=a6()(bi),bn=a6()(bh);delete bn['block_locked'],delete bn['block_locked_by'],this['spaceStore']['hasPremiumOrTeamPlan']||(delete bm['associationMode'],delete bm['hiddenNumber'],delete bm['oneTime'],delete bn['template_button_color']);var bo=Object(ak['a'])('markdown');if(bm['title']&&(bm['title']=bo['removeDiscussComment'](bm['title'])),bj===ad['y']['SIMPLE_TABLE']){var bp=this['blockAPI']['getTableCells'](bc);if(bm['cells']=this['cloneTableCells'](bp,b9,{'spaceId':this['blockStore']['spaceId'],'pageId':aV,'blockId':bl,'templateCopy':b5}),bm['cells']&&'[]'===bm['cells']){var bq=this['initTableCells'](0x3,0x4)||[];bm['cells']=JSON['stringify'](bq);}}else{if((b6||b5)&&bm['title']&&this['spaceStore']['hasPremiumOrTeamPlan']){if([ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](bj)&&this['dateIconInTemplateButton'](bn)){var br=this['judgeTitleVariable'](bm['title']);br>0x0&&(bn['page_icon']=this['changeDateIconDate'](bn['page_icon'],br));}bm['title']=this['handleTitleVariable'](bm['title']);}}if(b2){if(b7['createCommonBlock'](b9,bl,bk,aY||aW,b1)(bj),bc['source_id'])Object(af['g'])({'workspaceId':this['dataStore']['getBlockProperty'](bk,'workspace_id'),'pageId':aV,'blockId':bl,'referencedBlockId':bc['source_id']}),this['biLinkStore']['changeReferredCount'](bc['source_id'],0x1);else{if(bm['title']){if([ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](bj)&&b4){var bs=this['blockAPI']['getTitlePlainTextByTitle'](bm['title']),bt=bs;!bs||bs['endsWith'](ab['a']['t'](ad['cb']['COPY_SUFFIX'],'_副本',{'ns':'editor'}))||b6||(bt=''['concat'](bs)['concat'](ab['a']['t'](ad['cb']['COPY_SUFFIX'],'_副本',{'ns':'editor'}))),bm['title']=[[bt]];}else bm['title']=b7['copyTitle'](b9,{'spaceId':b7['spaceId'],'pageId':aV,'blockId':bl,'title':bm['title']});}}var bu={'setting':bn,'attributes':bm,'source':aW,'type':bj};if(bc['source_id']&&(bu['source_id']=bc['source_id']),b3&&(bu=aN(aN({},bu),b3||{})),b9['block']['updateBlock'](bl,bu),[ad['y']['DATABASE'],ad['y']['PAGE']]['includes'](bj)){if(this['dataStore']['updateBlock'](bl,{'isLoading':!0x0}),bj===ad['y']['PAGE']&&b6)return b7['copyPage']({'prevPageId':aW,'newPageId':bl,'ignorePageIconPageId':bl}),this['invokeObserver'](),{'newId':bl,'childNeedCloneList':bb};if(!aZ){var bv=this['dataStore']['getBlockValue'](bl),bw=!0x1;if(bv['page_id']){var bx=this['dataStore']['getBlockValue'](bv['page_id']);bx['status']&&bx['status']!==ad['w']['ACTIVE']||(bw=!0x0);}var by=this['dataStore']['getSourceId'](aW),bz=this['dataStore']['getSourceId'](bk);ba['push'](aN({'newParentId':bz,'newBlockId':bl,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':by,'newVersion':Number((null==bv?void 0x0:bv['version'])||0x0)+0x1},bw?{'enableDeleted':bw}:{}));}}else{var bA=b3&&b3['page_id'];bb=this['recursiveCopyAction']({'transaction':b9,'children':bf,'newId':bl,'pageId':aV,'specifiedPageId':bA},[]),aZ||(ba=ba['concat'](bb));}}else{var bB=this['dataStore']['getBlockProperty'](bl,'type');bd||bB===ad['y']['DATABASE']||b9['block']['updateBlock'](bl,{'sub_nodes':bf}),bB&&![ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](bB)&&b7['bulkModifyingPageId']({'transaction':b9,'id':bl,'pageId':aV}),b9['block']['insertBlock'](bl,bk,{'type':b1,'newParentId':aX,'newParentType':this['dataStore']['getBlockProperty'](bk,'type'),'siblingId':aY||aW}),b9['block']['updateBlock'](bl,{'page_id':aV});}return!aZ&&(ad['y']['PROGRESS_BAR'],this['invokeObserver'](b9)),(b0&&setTimeout(()=>{b8['setSelectedNode'](bl);},0x0),{'newId':bl,'childNeedCloneList':bb});},this['setParentHighlight']=function(aU){var aV=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],{id:aW,activeCurrent:aX,screenId:aY=''}=aU;if(aW){var aZ=aX?'value.id':aU['isFavorite']||aU['isSideBar']?'value.page_id':'value.parent_id',b0=a8()(aT['dataStore']['getBlock'](aW),aZ);if(aV){var b1=b0&&(aU['isSideBar']?document['querySelector']('#tree-item-'['concat'](b0)):aU['isFavorite']?aU['isRootFavorite']?document['querySelector']('#favorite-tree-item-'['concat'](b0,'[data-favorite=true]')):document['querySelector']('#favorite-tree-item-'['concat'](b0,'[data-favorite=false]')):aT['domAPI']['$'](''['concat'](aY?'#screen-'['concat'](aY,'\x20'):'~','#id-')['concat'](b0)));if(b1){var b2=aT['domAPI']['findNearestHighlightContainer'](b1);b2&&aT['domAPI']['styleSettings'](b2,{'background':'rgba(207,\x2086,\x2089,\x200.1)'});}}else{var b3=b0&&document['querySelector']('#tree-item-'['concat'](b0)),b4=b0&&document['querySelector']('#favorite-tree-item-'['concat'](b0)),b5=b0&&aT['domAPI']['$'](''['concat'](aY?'#screen-'['concat'](aY,'\x20'):'~','#id-')['concat'](b0));if(b3){var b6=aT['domAPI']['findNearestHighlightContainer'](b3);b6&&aT['domAPI']['styleSettings'](b6,{'background':'transparent'});}if(b4){var b7=aT['domAPI']['findNearestHighlightContainer'](b4);b7&&aT['domAPI']['styleSettings'](b7,{'background':'transparent'});}if(b5){var b8=aT['domAPI']['findNearestHighlightContainer'](b5);b8&&aT['domAPI']['styleSettings'](b8,{'background':'transparent'});}}}},this['modifyCellContentText']=(aU,aV,aW,aX)=>{var aY=this['dataStore']['getBlockValue'](aU);if(aY['type']===ad['y']['SIMPLE_TABLE']){al['b']['emit']('renderSynchronize',{'id':aU,'cellList':[aV]});var aZ=aX||new aj['a']({'ignoreLock':!0x0}),b0=this['blockAPI']['getTableCells'](aY,!0x0);b0['some'](b2=>{var b3=b2['column']['find'](b4=>b4['id']===aV);return!!b3&&(b3['attributes']['title']=aW,!0x0);});var b1={'type':ae['i']['UPDATE'],'cellIds':[aV]};this['blockStore']['changeTableCell'](aZ,aU,{'value':b0,'change':b1},[aV]),aX||aZ['commit']();}},this['modifyCellContentComment']=(aU,aV,aW)=>{var aX=this['dataStore']['getBlockValue'](aU);if(aX['type']===ad['y']['SIMPLE_TABLE']){al['b']['emit']('renderSynchronize',{'id':aU,'cellList':[aV]});var aY=new aj['a']({'ignoreLock':!0x0}),aZ=this['blockAPI']['getTableCells'](aX,!0x0);aZ['some'](b0=>{var b1=b0['column']['find'](b2=>b2['id']===aV);return!!b1&&(b1['attributes']['title']=aW,!0x0);}),this['blockStore']['changeTableCellComment'](aY,aU,aZ),aY['commit']();}},this['modifyContentText']=(aU,aV,aW)=>{if(this['dataStore']['getBlockProperty'](aU,'type')===ad['y']['DATABASE']){al['b']['emit']('renderSynchronize',{'id':aU});var aX=aW||new aj['a']();this['pageStore']['updatePage'](aX,aU,{'attributes':{'title':aV}}),!aW&&aX['commit'](),this['blockStore']['reconcileBlocks'](aX);}else this['modifyContentSection'](aU,{'title':aV},aW);},this['modifyCaptionText']=(aU,aV)=>{this['modifyContentSection'](aU,{'caption':aV});},this['modifyContentImage']=function(aU,aV){var aW=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},aX=arguments['length']>0x3?arguments[0x3]:void 0x0;aT['pageActionCheckStore']['hasPageActionLimit'](aU,aD['g']['EditPage'])?(aT['modifyContentSection'](aU,aN(aN(aN(aN({'dimensions':[aN({},aV)]},aW['originalWidth']&&aW['originalHeight']?{'original':[[{'width':aW['originalWidth'],'height':aW['originalHeight']}]]}:{}),aW['path']?{'img':[[aW['path']]]}:{}),aW['bucket']?{'bucket':[[aW['bucket']]]}:{}),void 0x0!==aW['source']?{'source':aW['source']?[aW['source']]:''}:{}),aX),aT['invokeObserver']()):aX&&aX();},this['modifyContentVideo']=function(aU,aV,aW){var aX=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:{},aY=arguments['length']>0x4?arguments[0x4]:void 0x0;aT['modifyContentSection'](aU,aN(aN(aN(aN({'dimensions':[{'width':aV,'height':aW}]},aX['originalWidth']&&aX['originalHeight']?{'original':[[{'width':aX['originalWidth'],'height':aX['originalHeight']}]]}:{}),aX['path']?{'video':[[aX['path']]]}:{}),aX['bucket']?{'bucket':[[aX['bucket']]]}:{}),void 0x0!==aX['source']?{'source':aX['source']?[aX['source']]:''}:{}),aY);},this['modifyContentAudio']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},aW=arguments['length']>0x2?arguments[0x2]:void 0x0;aT['modifyContentSection'](aU,aN(aN(aN({},aV['path']?{'audio':[[aV['path']]]}:{}),aV['bucket']?{'bucket':[[aV['bucket']]]}:{}),void 0x0!==aV['source']?{'source':aV['source']?[aV['source']]:''}:{}),aW);},this['modifyContentIframe']=function(aU,aV,aW){var aX=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:{},aY=arguments['length']>0x4?arguments[0x4]:void 0x0;aT['modifyContentSection'](aU,aN(aN(aN(aN({'dimensions':[{'width':aV,'height':aW}]},aX['originalWidth']&&aX['originalHeight']?{'original':[[{'width':aX['originalWidth'],'height':aX['originalHeight']}]]}:{}),aX['bucket']?{'bucket':[[aX['bucket']]]}:{}),void 0x0!==aX['source']?{'source':aX['source']?[aX['source']]:''}:{}),void 0x0!==aX['embedLink']?{'embedLink':aX['embedLink']?[aX['embedLink']]:''}:{}),aY);},this['modifyContentBookmark']=(aU,aV,aW,aX)=>{this['modifyContentSection'](aU,aN(aN({'source':aV,'uninitialized':!0x1},aW['bucket']?{'bucket':[[aW['bucket']]]}:{}),aW['rich_media']?{'rich_media':[aW['rich_media']]}:{}),aX);},this['modifyContentFile']=(aU,aV,aW,aX,aY,aZ)=>{this['modifyContentSection'](aU,{'file':[[aV]],'bucket':[[aW||'']],'size':[[aX||'']],'alias':[[aY||'']]},aZ);},this['modifyContentSection']=(aU,aV,aW)=>{al['b']['emit']('renderSynchronize',{'id':aU});var {updateBlockContent:aX}=this['blockStore'];aX(aU,aV,aW);},this['modifyContentComment']=(aU,aV,aW)=>{al['b']['emit']('renderSynchronize',{'id':aU});var {updateBlockComment:aX}=this['blockStore'];aX(aU,{'title':aV},aW);},this['updateBlockText']=(aU,aV,aW)=>{al['b']['emit']('renderSynchronize',{'id':aU});var aX=aW||new aj['a']();this['blockStore']['setBlockText'](aX,aU,aV),!aW&&this['invokeObserver'](aX);},this['renameFileName']=(aU,aV)=>{var aW=new aj['a']();this['blockStore']['renameFileName'](aW,aU,aV),this['invokeObserver'](aW);},this['updateCodeCaption']=(aU,aV,aW)=>{al['b']['emit']('renderSynchronize',{'id':aU});var aX=aW||new aj['a']();this['blockStore']['setCodeCaption'](aX,aU,aV),!aW&&this['invokeObserver'](aX);},this['toggleTemplateBtnAddPosition']=(aU,aV)=>{if(this['dataStore']['getBlockValue'](aU)['type']===ad['y']['TEMPLATE_BUTTON']){var aW=new aj['a'](),aX=a8()(this['dataStore']['getBlock'](aU),'value.attributes.isPrev');if(aV===aX)return;var aY=aV||('yes'===aX?'no':'yes');this['blockStore']['changeTemplateBtnAddPosition'](aW,aU,aY),this['invokeObserver'](aW);}},this['toggleTemplateBtnColor']=(aU,aV)=>{if(this['dataStore']['getBlockValue'](aU)['type']===ad['y']['TEMPLATE_BUTTON']){var aW=new aj['a']();if(aV===a8()(this['dataStore']['getBlock'](aU),'value.setting.template_button_color'))return;am['c'](ad['rc'],aV),this['blockStore']['changeTemplateBtnColor'](aW,aU,aV),this['invokeObserver'](aW);}},this['toggleTemplateBtnOneTimeConfig']=(aU,aV)=>{if(this['dataStore']['getBlockValue'](aU)['type']===ad['y']['TEMPLATE_BUTTON']){var aW=new aj['a']();if(aV===a8()(this['dataStore']['getBlock'](aU),'value.attributes.oneTime',!0x1))return;this['blockStore']['changeTemplateBtnOneTimeConfig'](aW,aU,aV),this['invokeObserver'](aW);}},this['batchCheckTodoItem']=(aU,aV)=>{if(this['edit']){var aW=this['dataStore']['getBlockValue'](aU),aX=a8()(aW,'attributes.checked'),aY='yes'===aX?'no':'yes';if([ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST_PRO']]['includes'](aW['type'])&&(aY='cancel'===aX?'no':'yes'===aX?'cancel':'pending'===aX?'yes':'pending'),aY=aV||aY,!this['edit']['batchToggleTodoList'](aU,aY,!0x1,aY)){var aZ=new aj['a']();this['checkTodoItem'](aZ,aU,!aV,aY),this['invokeObserver'](aZ);}}},this['checkTodoItem']=function(aU,aV){var aW=!(arguments['length']>0x2&&void 0x0!==arguments[0x2])||arguments[0x2],aX=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'yes',aY=aT['dataStore']['getBlockValue'](aV);if([ad['y']['TODO_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO']]['includes'](aY['type'])){var aZ=aW?'yes'===aT['blockAPI']['getNodeProperty'](aV,'checked')?'no':'yes':aX;[ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST_PRO']]['includes'](aY['type'])&&(aZ=aW?'cancel'===aT['blockAPI']['getNodeProperty'](aV,'checked')?'no':'yes'===aT['blockAPI']['getNodeProperty'](aV,'checked')?'cancel':'pending'===aT['blockAPI']['getNodeProperty'](aV,'checked')?'yes':'pending':aX),aT['blockStore']['checkBlock'](aU,aV,aZ);var b0=aT['biLinkStore']['getRelation'](aV);b0['forEach'](b1=>{var b2=aT['dataStore']['getBlockValue'](b1);b2['type']===ad['y']['SIMPLE_TABLE']&&al['b']['emit']('renderSynchronize',{'id':b2['id'],'cellList':aT['biLinkStore']['getRelationCellList'](b2['id'],aV),'forceRender':!0x0});});}},this['toggleToggleItem']=(aU,aV)=>{var aW=this['dataStore']['getBlockValue'](aU);ad['Bb']['includes'](aW['type'])&&(this['blockAPI']['changeToggleProperty'](aU,aV),this['blockStore']['setBlockDirty'](aW));},this['changeTableCell']=(aU,aV,aW)=>{if(this['dataStore']['getBlockValue'](aU)['type']===ad['y']['SIMPLE_TABLE']){var aX=aW||new aj['a']();this['blockStore']['changeTableCell'](aX,aU,aV,[]),!aW&&this['invokeObserver'](aX);}},this['changeTableWidth']=(aU,aV)=>{if(this['dataStore']['getBlockValue'](aU)['type']===ad['y']['SIMPLE_TABLE']){var aW=new aj['a']();this['blockStore']['changeTableWidth'](aW,aU,aV),this['invokeObserver'](aW);}},this['batchToggleToggleItem']=(aU,aV)=>{this['edit']&&!this['edit']['batchToggleToggleList'](aU,aV,!0x1)&&(this['toggleToggleItem'](aU,aV),this['invokeObserver']());},this['batchToggleNode']=aU=>{var aV=[],aW=this['dataStore']['getBlocksByPage']();for(var aX in aW){var aY=this['dataStore']['getBlockValue'](aX);ad['Bb']['includes'](aY['type'])&&aV['push'](aY);}aU&&['yes','no']['includes'](aU)?(aV['forEach'](aZ=>{this['blockAPI']['getNodeProperty'](aZ['id'],'toggled')!==aU&&this['toggleToggleItem'](aZ['id'],aU);}),this['invokeObserver']()):aV['filter'](aZ=>'yes'===this['blockAPI']['getNodeProperty'](aZ['id'],'toggled'))['length']===aV['length']?(aV['forEach'](aZ=>{this['toggleToggleItem'](aZ['id'],'no');}),this['invokeObserver']()):(aV['forEach'](aZ=>{'yes'!==this['blockAPI']['getNodeProperty'](aZ['id'],'toggled')&&this['toggleToggleItem'](aZ['id'],'yes');}),this['invokeObserver']());},this['changeHeaderIcon']=(aU,aV,aW)=>{var aX,aY=this['dataStore']['getBlock'](aU);if(aY&&aW!==(this['blockAPI']['getIconFromHeaderBlock'](aU)||'')){var aZ=new aj['a']({'ignoreLock':!0x0});this['blockStore']['changeBlockIcon'](aZ,aU,aV,aW),this['dataStore']['updateBlockDirty'](aU,!0x0),this['blockStore']['setBlockDirty'](this['dataStore']['getBlockValue'](aY['value']['parent_id'])),(null==(aX=aY['value'])?void 0x0:aX['parent_type'])===ad['y']['DATABASE']&&al['b']['emit']('pageIconChange'['concat'](aU),{'icon':aW}),this['invokeObserver'](aZ);}},this['changeHeaderCover']=(aU,aV)=>{if(this['dataStore']['getBlock'](aU)){var aW=this['blockAPI']['getCoverFromHeaderBlock'](aU),aX=this['blockAPI']['getCoverPositionFromHeaderBlock'](aU);if(aV['cover']!=aW||aX!=aV['position']){var aY=new aj['a']({'ignoreLock':!0x0});this['blockStore']['changeBlockCover'](aY,aU,aV),this['invokeObserver'](aY);}}},this['createTemplateButtonChildBlock']=(aU,aV)=>{var aW=Object(ag['b'])(),aX=new aj['a']();aX['block']['updateBlock'](aU,{'title':[[ab['a']['t']('stores.editorStore.addTodo','添加一个待办事项',{'ns':'editor'})]]},['attributes']),this['blockStore']['createCommonBlock'](aX,aW,aU,'','after')(aV||ad['y']['TEXT']),this['blockStore']['setBlockText'](aX,aW,[['']]),this['invokeObserver'](aX),!aV&&this['moveCursorAfterRender']({'id':aW,'position':'start'});},this['createChildBlock']=(aU,aV)=>{var aW,aX=this['dataStore']['getBlockValue'](aU);aW=this['dataStore']['getSourceId'](aX['id'])!==aX['id']?aX['id']['startsWith']('ref-')?'ref-'['concat'](this['dataStore']['getEmbedId'](aX['id']),'-')['concat'](Object(ag['b'])()):'ref-'['concat'](aX['id'],'-')['concat'](Object(ag['b'])()):Object(ag['b'])();var aY=new aj['a']();this['blockStore']['createCommonBlock'](aY,aW,aU,'','after')(aV||ad['y']['TEXT']),this['blockStore']['setBlockText'](aY,aW,[['']]),this['invokeObserver'](aY),!aV&&this['moveCursorAfterRender']({'id':aW,'position':'start'});},this['handleTabPress']=(aU,aV,aW)=>{var aX=this['dataStore']['getBlockValue'](aU);if(!ad['pb']['includes'](aX['type'])&&!aX['source_id']){var aY=aW||new aj['a']();if(this['blockStore']['deleteBlock'](aY,aV),this['blockStore']['insertBlock'](aY,aU,aV,'after'),ad['Bb']['includes'](aX['type'])&&'yes'!==this['blockAPI']['getNodeProperty'](aU,'toggled')){var aZ=new aj['a']();this['blockAPI']['changeToggleProperty'](aU,'yes'),this['invokeObserver'](aZ);}aW||this['invokeObserver'](aY);}},this['handleTabPressShiftKey']=(aU,aV,aW,aX)=>{var aY=aX||new aj['a'](),aZ=this['dataStore']['getBlockValue'](aV),b0=this['dataStore']['getBlockValue'](aZ['parent_id']);if(!b0['source_id']){if(!ad['pb']['includes'](aZ['type']))for(var b1=b0['sub_nodes']?[...b0['sub_nodes']]:[],b2=b1['indexOf'](aV)+0x1;b2<b1['length'];b2++){var b3=b1[b2];this['blockStore']['deleteBlock'](aY,b3),this['blockStore']['insertBlock'](aY,aV,b3,'after');}this['blockStore']['deleteBlock'](aY,aV),this['blockStore']['insertBlock'](aY,aU,aV,'after',aW),aX||this['invokeObserver'](aY);}},this['handleBackspace']=(aU,aV,aW,aX)=>{var {blockStore:aY,pageStore:aZ}=this,b0=new aj['a'](),b1=!0x0,b2=this['dataStore']['getBlockValue'](aV),b3=this['dataStore']['getBlockProperty'](aU,'type'),b4=this['dataStore']['getBlockProperty'](aU,'attributes.title',[['']]),b5='',b6='';b3===ad['y']['SIMPLE_TABLE']&&(this['blockAPI']['getTitleCursorOffsetById'](aU)||(b5=this['blockAPI']['getLastCellData'](aU,'id'))),b3===ad['y']['CODE']&&this['blockAPI']['getCodeCaptionCursorOffsetById'](aU)&&(b6=aU);var b7={'offset':b3===ad['y']['SIMPLE_TABLE']&&b5?this['blockAPI']['getCellTitleCursorOffsetById'](aU,b5):b3===ad['y']['CODE']&&b6?this['blockAPI']['getCodeCaptionCursorOffsetById'](aU):this['blockAPI']['getTitleCursorOffsetById'](aU)};if([ad['y']['BULLET_LIST'],ad['y']['ENUM_LIST'],ad['y']['TODO_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['HEADER_H1'],ad['y']['HEADER_H2'],ad['y']['HEADER_H3'],ad['y']['HEADER_H4'],ad['y']['TOGGLE_HEADER_H1'],ad['y']['TOGGLE_HEADER_H2'],ad['y']['TOGGLE_HEADER_H3'],ad['y']['TOGGLE_HEADER_H4'],ad['y']['TOGGLE_LIST'],ad['y']['QUOTE'],ad['y']['CALLOUT']]['includes'](b2['type']))aY['setBlockType']({'transaction':b0,'id':aV,'type':ad['y']['TEXT'],'prevType':void 0x0,'language':void 0x0}),b1=!0x1;else{if(b2['type']===ad['y']['TOGGLE_TODO_LIST'])aY['setBlockType']({'transaction':b0,'id':aV,'type':ad['y']['TODO_LIST'],'prevType':void 0x0,'language':void 0x0}),b1=!0x1;else{if(b2['type']===ad['y']['TOGGLE_TODO_LIST_PRO'])aY['setBlockType']({'transaction':b0,'id':aV,'type':ad['y']['TODO_LIST_PRO'],'prevType':void 0x0,'language':void 0x0}),b1=!0x1;else{var b8=aY['ifHoistBlock'](b0,aV);if(null!==aW){[...ad['Q'],ad['y']['IMAGE'],ad['y']['VIDEO'],ad['y']['AUDIO']]['includes'](b2['type'])?(aY['setBlockText'](b0,aV,['']),this['blockAPI']['getNodeContentDom'](aV)['blur']()):aY['deleteBlock'](b0,aV,b8);var b9=aW;if(JSON['stringify'](b4)!==JSON['stringify'](b9)){if(aU===aY['pageId'])b9=[[this['blockAPI']['getTitlePlainTextByTitle'](aW)]],this['dataStore']['getBlockValue'](aU)['parent_type']===ad['y']['DATABASE']?aA['a']['changeBlockPropertyTitle'](aU,this['blockAPI']['getTitlePlainTextByTitle'](b9),!0x0,b0):aZ['updatePageTitle'](aY['pageId'],this['blockAPI']['getTitlePlainTextByTitle'](b9),b0);b5?this['updateTableCells'](aU,b5,b9,b0):b6?aY['setCodeCaption'](b0,aU,b9):aY['setBlockText'](b0,aU,b9),b9['forEach'](ba=>{var bb=ba[0x1]&&ba[0x1]['find'](bc=>'BiLink'===bc[0x0]);bb&&bb[0x1]&&b0['reference']['updateBlockId'](bb[0x1],aU);});}}else aY['deleteBlock'](b0,aV,b8),aY['insertBlock'](b0,aU,aV,'after',aX),b1=!0x1;}}}this['invokeObserver'](b0),b1?this['moveCursorAfterRender']({'id':aU,'cellId':b5,'isCodeCaption':Boolean(b6),'position':b7}):this['moveCursorAfterRender']({'id':aV,'position':'start'});},this['createSibSubBlock']=aU=>{var {prevContent:aV=[['']],nextContent:aW=[['']],parentId:aX,nodeId:aY,cellId:aZ,codeId:b0,prevBlockId:b1,blockType:b2=ad['y']['TEXT'],transaction:b3}=aU,b4=b3||new aj['a'](),b5=b1?'after':'before',b6=[['']];if(b1){var b7=this['dataStore']['getBlockValue'](b1);b6=a8()(b7,'attributes.title',[['']]),[ad['y']['ENUM_LIST'],ad['y']['BULLET_LIST'],ad['y']['TODO_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO'],ad['y']['TOGGLE_LIST']]['includes'](b7['type'])&&(b2=[ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO']]['includes'](b7['type'])&&!this['spaceStore']['hasPremiumOrTeamPlan']?ad['y']['TODO_LIST']:b7['type']);}else{var b8=this['dataStore']['getBlockValue'](aX);b6=a8()(b8,'attributes.title',[['']]);var b9=b8['sub_nodes'][0x0]&&this['dataStore']['getBlockValue'](b8['sub_nodes'][0x0]);b9&&[ad['y']['ENUM_LIST'],ad['y']['BULLET_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['TODO_LIST'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO']]['includes'](b9['type'])&&(b2=b9['type']);}this['blockStore']['createCommonBlock'](b4,aY,aX,b1,b5)(b2),JSON['stringify'](b6)!==JSON['stringify'](aV)&&(aZ?this['updateTableCells'](b1||aX,aZ,aV,b4):b0?this['blockStore']['setCodeCaption'](b4,b1||aX,aV):this['blockStore']['setBlockText'](b4,b1||aX,aV)),this['blockStore']['setBlockText'](b4,aY,aW),aW['forEach'](ba=>{var bb=ba[0x1]&&ba[0x1]['find'](bc=>'BiLink'===bc[0x0]);bb&&bb[0x1]&&b4['reference']['updateBlockId'](bb[0x1],aY);});},this['enterActionAtHeadOfHeader']=aU=>{var aV=new aj['a']();if(ad['U']['includes'](aU['type'])&&!this['blockAPI']['getTitleCursorOffsetById'](aU['id']))this['blockStore']['setBlockType']({'transaction':aV,'id':aU['key'],'type':ad['y']['TEXT'],'prevType':void 0x0,'language':void 0x0}),this['invokeObserver'](aV);else{if(this['spaceStore']['blockCountLimit']())return void Object(ax['c'])('block');var aW=Object(ag['b'])();this['blockStore']['createCommonBlock'](aV,aW,aU['parent'],aU['id'],'before')(),this['blockStore']['setBlockText'](aV,aW,[['']]),this['invokeObserver'](aV);}this['moveCursorAfterRender']({'id':aU['key'],'cellId':aU['cellId'],'position':'start'});},this['handleEnter']=aU=>{if(this['spaceStore']['blockCountLimit']())Object(ax['c'])('block');else{var aV=new aj['a']();this['createSibSubBlock'](aO(aN({},aU),{'transaction':aV})),this['invokeObserver'](aV),this['moveCursorAfterRender']({'id':aU['nodeId'],'position':'start'});}},this['createNewRow']=function(aU,aV){var aW=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:ad['y']['TEXT'],aX=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'after',aY=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:'';if(!aT['spaceStore']['blockCountLimit']()){aT['editorUI']['clearSelectedNode']();var aZ,b0=new aj['a']();return aZ=aU||(aT['dataStore']['getEmbedId'](aY)?'ref-'['concat'](aT['dataStore']['getEmbedId'](aY),'-')['concat'](Object(ag['b'])()):Object(ag['b'])()),aT['blockStore']['createCommonBlock'](b0,aZ,aV||aT['blockStore']['pageId'],aY,aX)(aW),aT['invokeObserver'](b0),ad['O']['includes'](aW)&&aT['moveCursorAfterRender']({'id':aZ,'position':'start'}),aZ;}Object(ax['c'])('block');},this['createNewRowInPage']=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:ad['y']['TEXT'],aW=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:'after',aX=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'';return aT['createNewRow'](aU,'',aV,aW,aX);},this['createNewPage']=(aU,aV)=>{this['blockStore']['createCommonBlock'](aU,aV,this['blockStore']['pageId'],'','after')(ad['y']['PAGE']),this['invokeObserver']();},this['batchMoveSelectedBlocksToPage']=aU=>aQ(this,null,function*(){var aV=this['dataStore']['getBlockValue'](aU);if(aV['id']&&(!aV['id']||[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](aV['type']))){var aW=new aj['a']({'ignoreLock':!0x0}),{editorUI:aX,blockStore:aY}=this,aZ=[...new Set(aX['selectedRootNode'])];if(aX['selectedRootNode']['length']&&!aX['selectedNode']['find'](b3=>b3===aU)){var b0=aV['type']===ad['y']['DATABASE'],b1=[];if(b0){var b2=this['dataStore']['getSourceId'](aV['id']);this['databaseViewStore']['getDatabase'](b2)||(yield aA['a']['getDatabaseData'](b2));}aZ['forEach'](b3=>{var b4=this['domAPI']['$']('#id-'['concat'](b3));if(b4&&b4['dataset']['blockType']){if(b0){var b5=this['dataStore']['getBlockValue'](b3);b5['source_id']&&(b5=this['dataStore']['getBlockValue'](b5['source_id']));var b6=b5['parent_id']===aV['id'];if([ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](b5['type'])&&this['pageStore']['removePage'](aW,b5),aA['a']['insertRow'](aV['id'],b3,{'blockId':'','position':'before'},aW,!0x0),!b6){var b7=this['dataStore']['getBlockValue'](b3);(null==b7?void 0x0:b7['type'])===ad['y']['PAGE']&&b1['push'](b3);}}else aY['moveBlock'](aW,aU,b3,'after');}}),this['invokeObserver'](aW,{'callback':()=>{if(b1['length']&&b0){var b3=aV['database_id'];if(!b3)return;b1['forEach'](b4=>{var b5=this['dataStore']['getDataRow'](b3,b4);b5&&(b5['isLoading']=!0x1);}),aA['a']['reGetRowData'](b3,b1);}}}),aX['clearSelectedNode']();}}}),this['batchEmbedSelectedBlocksToPage']=aU=>aQ(this,null,function*(){var aV=this['dataStore']['getBlockValue'](aU);if(aV['id']&&(!aV['id']||aV['type']===ad['y']['PAGE'])){var {editorUI:aW,biLinkStore:aX}=this,aY=[...new Set(aW['selectedRootNode'])];if(aW['selectedRootNode']['length']){for(var aZ=0x0;aZ<aY['length'];aZ++){var b0=aY[aZ];yield aX['buildEmbedBiLink'](aU,this['dataStore']['getBlockValue'](b0),{'type':ad['y']['PAGE'],'position':'bottom'});}aW['clearSelectedNode']();}}}),this['toSyncPageConfig']=aU=>aQ(this,null,function*(){return yield Object(af['lb'])(aU);}),this['getImageOcrText']=aU=>aQ(this,null,function*(){var aV=this['dataStore']['getBlockValue'](aU);if(aV['type']===ad['y']['IMAGE']){var aW=this['dataStore']['getSourceId'](aU),aX=yield Object(af['y'])(aW),{ocrFlag:aY,ocrText:aZ,ocrTextSrc:b0}=aX,b1=(b0?JSON['parse'](b0):[])['join']('\x0a')||aZ;if(!aY)return this['pageStore']['setConfirmOpen']({'contents':ab['a']['t']('stores.editorStore.imageOcrIsInProcessTips','图片OCR正在处理中，请稍后再试',{'ns':'editor'}),'successText':ab['a']['t'](ad['cb']['OK'],'确定',{'ns':'editor'}),'singleButton':!0x0});this['editorUI']['clearSelectedNode']();var b2=Object(ag['b'])(),b3=new aj['a']();this['blockStore']['createCommonBlock'](b3,b2,aV['parent_id'],aU,'after')(ad['y']['TEXT']),this['blockStore']['setBlockText'](b3,b2,[[b1||'']]),this['invokeObserver'](b3),this['moveCursorAfterRender']({'id':b2,'position':'end'});}}),this['swapRowOrColumn']=(aU,aV,aW,aX)=>{var aY=this['dataStore']['getBlockValue'](aU);if(aY['id']){var aZ,b0=this['blockAPI']['getTableCells'](aY,!0x0),b1=a8()(b0,'[0].column[0].id'),b2=[];if('column'===aV){var b3=b0[aW];b1=b3['column'][0x0]['id'],b2['push'](...b3['column']['map'](b4=>b4['id'])),aW>aX?(b0['splice'](aW,0x1),b0['splice'](aX,0x0,b3)):(b0['splice'](aX,0x0,b3),b0['splice'](aW,0x1)),aZ={'type':ae['i']['SWAP_COLUMN'],'startPos':aW,'pos':aW>aX?aX:aX-0x1,'cellIds':b2};}else b1=a8()(b0,'[0].column['['concat'](aW,'].id')),b0['forEach'](b4=>{var b5=b4['column'][aW];b2['push'](b5['id']),aW>aX?(b4['column']['splice'](aW,0x1),b4['column']['splice'](aX,0x0,b5)):(b4['column']['splice'](aX,0x0,b5),b4['column']['splice'](aW,0x1));}),aZ={'type':ae['i']['SWAP_ROW'],'startPos':aW,'pos':aW>aX?aX:aX-0x1,'cellIds':b2};this['changeTableCell'](aU,{'value':b0,'change':aZ}),this['moveCursorAfterRender']({'id':aU,'cellId':b1,'position':'end'});}},this['toTranslate']=aU=>aQ(this,null,function*(){var {blockId:aV}=aU;aV=this['dataStore']['getSourceId'](aV),this['pageStore']['setConfirmOpen']({'contents':ab['a']['t']('stores.editorStore.inTranslation','翻译中...',{'ns':'editor'}),'hideButton':!0x0});var aW=yield Object(af['mb'])({'blockId':aV,'sourceLanguage':aU['sourceLanguage'],'targetLanguage':aU['targetLanguage']}),{flag:aX,translateText:aY}=aW||{};if('success'===aX){this['pageStore']['setConfirmOpen']();var aZ=new aj['a'](),b0=this['blockAPI']['getNodeTitle'](aV),b1=['\x0a'['concat'](aY)];b0['push'](b1);var b2=this['blockAPI']['rearrangeNodeTitle'](b0);this['blockStore']['setBlockText'](aZ,aV,b2),this['invokeObserver'](aZ);}else this['pageStore']['setConfirmOpen']({'contents':ab['a']['t']('stores.editorStore.translationFailure','翻译失败',{'ns':'editor'}),'successText':ab['a']['t'](ad['cb']['RETRY'],'重试',{'ns':'editor'}),'success':()=>{this['toTranslate'](aU);}});}),this['updateBlockMentionDate']=(aU,aV,aW)=>{var aX=[],aY=[],aZ=!0x1;if(aV['forEach'](b1=>{var b2=b1[0x1]&&b1[0x1]['find'](b3=>'Mention'===b3[0x0]&&'date'===b3[0x1]);b2&&aX['push'](b2[0x2]);}),aW['forEach'](b1=>{var b2=b1[0x1]&&b1[0x1]['find'](b3=>'Mention'===b3[0x0]&&'date'===b3[0x1]);b2&&aY['push'](b2[0x2]);}),aX['length']!==aY['length'])aZ=!0x0;else{var b0=!0x1;aX['forEach']((b1,b2)=>{if(!b0){var b3=aY[b2];a4()(b1,b3)||(b0=!0x0);}}),b0&&(aZ=!0x0);}aZ&&setTimeout(()=>{Object(aB['a'])({'blockId':aU,'blockTitle':aW});},0xbb8);},this['downgradeToBookmark']=(aU,aV)=>aQ(this,null,function*(){var aW=new aj['a']();if(aW['block']['setBlockType'](aU,ad['y']['BOOKMARK']),aV){var aX=this['dataStore']['getBlockProperty'](aU,'attributes');aW['block']['setBlockContent'](aU,{'source':aV});var aY=yield Object(ao['c'])(aV);aX['rich_media']=[aY],aW['block']['setBlockContent'](aU,aX);}this['invokeObserver'](aW);});}set['globalItem'](aT){this['_globalItem']=aT,this['setCurrentGlobalItemForMobile'](aT);}get['globalItem'](){return this['_globalItem'];}['setCurrentGlobalItemForMobile'](){var aT=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};aT!==this['currentGlobalItemForMobile']&&(this['currentGlobalItemForMobile']=aT);}}aP([aa['observable']],aS['prototype'],'currentGlobalItemForMobile',0x2),aP([aa['observable']],aS['prototype'],'preventEditorKeydown',0x2),aP([aa['observable']],aS['prototype'],'preventEditorKeydownId',0x2),aP([aa['observable']],aS['prototype'],'missionToExecuteAfterRender',0x2),aP([aa['observable']],aS['prototype'],'showContentDropArea',0x2),aP([aa['observable']],aS['prototype'],'isBoxSelecting',0x2),aP([aa['observable']],aS['prototype'],'isColumnZooming',0x2),aP([ak['a']],aS['prototype'],'hoverIcon',0x2),aP([ak['a']],aS['prototype'],'edit',0x2),aP([ak['b']],aS['prototype'],'blockAPI',0x2),aP([ak['b']],aS['prototype'],'cursorAPI',0x2),aP([ak['b']],aS['prototype'],'domAPI',0x2),aP([ak['b']],aS['prototype'],'blockStore',0x2),aP([ak['b']],aS['prototype'],'pageStore',0x2),aP([ak['b']],aS['prototype'],'editorUI',0x2),aP([ak['b']],aS['prototype'],'workspaceStore',0x2),aP([ak['b']],aS['prototype'],'spaceStore',0x2),aP([ak['b']],aS['prototype'],'routerStore',0x2),aP([ak['b']],aS['prototype'],'biLinkStore',0x2),aP([ak['b']],aS['prototype'],'dataStore',0x2),aP([ak['b']],aS['prototype'],'drag',0x2),aP([ak['b']],aS['prototype'],'screenStore',0x2),aP([ak['b']],aS['prototype'],'userStore',0x2),aP([ak['b']],aS['prototype'],'databaseViewStore',0x2),aP([ak['b']],aS['prototype'],'popperStore',0x2),aP([ak['b']],aS['prototype'],'pageActionCheckStore',0x2),aP([aa['action']],aS['prototype'],'setCurrentGlobalItemForMobile',0x1),aP([aa['action']],aS['prototype'],'render',0x2),aP([aa['action']],aS['prototype'],'invokeObserver',0x2),aP([aa['action']],aS['prototype'],'addMissionExecuteAfterRender',0x2),aP([aa['action']],aS['prototype'],'showContentDropAreaSettings',0x2),aP([aa['action']],aS['prototype'],'preventEditorKeydownAction',0x2),aP([aa['action']],aS['prototype'],'isBoxSelectingSet',0x2),aP([aa['action']],aS['prototype'],'isColumnZoomingSet',0x2),aP([aa['action']],aS['prototype'],'restoreDefaultTitle',0x2),a1['a']=Object(aC['a'])(aS);},'WAfk':function(b,c,d){'use strict';var f=d('bXzw'),g=d('qX4z'),h=d('pbHi');c['a']=Object(f['a'])(class{constructor(){this['spaceStore']=h['a']['getInstance']();}get['isInternalDingTalkSpace'](){return Object(g['i'])()&&this['spaceStore']['isDingtalkSpace'];}get['isInternalNormalSpace'](){return Object(g['i'])()&&!this['spaceStore']['isDingtalkSpace'];}get['isExternDingTalkSpace'](){return!Object(g['i'])()&&this['spaceStore']['isDingtalkSpace'];}get['isExternNormalSpace'](){return!Object(g['i'])()&&!this['spaceStore']['isDingtalkSpace'];}get['isCrossSpace'](){return this['spaceStore']['isDingtalkSpace']!==Object(g['i'])();}['makeDingTalkTipsText'](j){return Object(g['i'])()?this['spaceStore']['isDingtalkSpace']?[j,'请前往钉钉应用市场购买']['filter'](Boolean)['join']('，'):'钉钉内不支持该操作':this['spaceStore']['isDingtalkSpace']?'请前往钉钉应用内购买':j;}});},'WRmh':function(b,c,d){'use strict';var f=d('foLq');d['d'](c,'d',function(){return f['a'];}),d['d'](c,'f',function(){return f['b'];});var g=d('Drme');d['d'](c,'g',function(){return g['a'];});var h=d('CB1N');d['d'](c,'b',function(){return h['a'];});var j=d('sDH/');d['d'](c,'a',function(){return j['a'];});var k=d('fwMJ');d['d'](c,'c',function(){return k['a'];}),d['d'](c,'e',function(){return k['b'];});},'WlKF':function(f,g,j){'use strict';j['d'](g,'a',function(){return D;});var k=j('2vnA'),m=j('jUJK'),q=j('f9x4'),v=j('9rbq'),w=j('1rK0'),x=j('95X5'),y=j('Rsoz'),z=Object['defineProperty'],A=Object['getOwnPropertyDescriptor'],B=(E,F,G,H)=>{for(var I,J=H>0x1?void 0x0:H?A(F,G):F,K=E['length']-0x1;K>=0x0;K--)(I=E[K])&&(J=(H?I(F,G,J):I(J))||J);return H&&J&&z(F,G,J),J;},C=(E,F,G)=>new Promise((H,I)=>{var J=M=>{try{L(G['next'](M));}catch(N){I(N);}},K=M=>{try{L(G['throw'](M));}catch(N){I(N);}},L=M=>M['done']?H(M['value']):Promise['resolve'](M['value'])['then'](J,K);L((G=G['apply'](E,F))['next']());});class D extends w['a']{constructor(E,F){super(E,F),this['aggregation']=k['observable']['object']({}),this['type']=q['h']['Table'],this['type']=q['h']['Table'];var G=E['aggregation']||{};Object['keys'](G)['forEach'](H=>{this['aggregation'][H]={'action':G[H]['action']};}),this['disposers']['push'](Object(k['autorun'])(()=>{var H,I=null==(H=this['dataStore']['getDataView'](this['view_id']))?void 0x0:H['aggregation'];I&&(Object['keys'](I)['forEach'](J=>{var K,L;(null==(K=I[J])?void 0x0:K['action'])!==(null==(L=this['aggregation'][J])?void 0x0:L['action'])&&(this['aggregation'][J]={'action':I[J]['action']});}),Object['keys'](this['aggregation'])['forEach'](J=>{I[J]||delete this['aggregation'][J];}));})),this['columnQuerys']['add']('table'),this['dataStore']['getDataView'](this['view_id'],!0x0)&&this['queryAggregation']();}get['hasMore'](){var [E]=[...this['columnQuerys']['values']()];return E?E['loadNext']:0x0;}get['isLoadMore'](){var [E]=[...this['columnQuerys']['values']()];return!!E&&E['loadNext'];}get['title'](){return this['data']['title']||y['a']['t'](v['cb']['TABLE_VIEW'],'表格视图',{'ns':'editor'});}get['settings'](){return Object['assign']({'page_size':0x32},this['data']['settings']);}get['fullWidth'](){return this['visibleProperties']['reduce']((E,F)=>E+=F['width']||0xc8,0x0);}['getAggregation'](){var E={};return Object['keys'](this['aggregation'])['forEach'](F=>{E[F]=this['aggregation'][F]['action'];}),E;}['getCellOffset'](E,F){return Object(k['computed'])(()=>{var G=[...this['page_sort']],H=this['visibleProperties']['map'](J=>J['id']),I=G['indexOf'](F);return{'posX':H['indexOf'](E),'posY':I,'rows':G['length']-0x1,'columns':H['length']-0x1};})['get']();}['getSelectedShadowRect'](E,F,G,H){for(var I=[...this['page_sort']],J=0x0,K=G;K>=0x0;)J+=this['visibleProperties'][E+K]['width']||0xc8,K--;for(var L=H,M=H,N=this['visibleProperties'][E]['id'],O=this['block_id'];M>=0x0;){var P=I[F+M],Q=this['domAPI']['$']('#database-block-'['concat'](O,'\x20.cell-')['concat'](P,'-')['concat'](N)),{height:R}=Q['getBoundingClientRect']();L+=R-0x1,M--;}return{'width':J,'height':L};}['getCellInfoByOffset'](E,F){var G=[...this['page_sort']],H=this['visibleProperties']['map'](I=>I['id']);return{'id':G[F],'propertyId':H[E]};}['getRowNearby'](E,F){var G=this['page_sort']['indexOf'](E);return-0x1===G?{'prev_block_id':this['page_sort'][this['page_sort']['length']-0x1],'next_block_id':'after'===F&&this['page_sort'][0x0]||''}:{'prev_block_id':'after'===F?E:G>0x0?this['page_sort'][G-0x1]:'','next_block_id':'before'===F?E:G<this['page_sort']['length']&&this['page_sort'][G+0x1]||''};}['loadMore'](E,F){return C(this,null,function*(){E?yield this['columnQuerys']['reFresh'](F):yield this['columnQuerys']['pagination']();});}['changeSearch'](E,F){this['columnQuerys']['changeSearch'](E),F||(this['loadMore'](!0x0),this['queryAggregation']());}['setAggregation'](E,F){F===q['s']['None']?delete this['aggregation'][E]:this['aggregation'][E]={'action':F};}['queryAggregation'](E){return C(this,null,function*(){var F,G,H=[];if(E?(null==(F=this['aggregation'][E])?void 0x0:F['action'])&&(null==(G=this['aggregation'][E])?void 0x0:G['action'])!==q['s']['None']&&(this['aggregation'][E]&&(this['aggregation'][E]['isLoading']=!0x0),H['push']({'property':E,'action':this['aggregation'][E]['action']})):Object['keys'](this['aggregation'])['forEach'](J=>{this['aggregation'][J]&&(this['aggregation'][J]['isLoading']=!0x0),H['push']({'property':J,'action':this['aggregation'][J]['action']});}),0x0!==H['length'])try{var I=yield Object(m['a'])({'table_id':this['table_id'],'view_id':this['view_id'],'properties':H});Object['keys'](I)['forEach'](J=>{this['aggregation'][J]&&(this['aggregation'][J]['value']=I[J],this['aggregation'][J]['isLoading']=!0x1);});}catch(J){console['error'](J),Object['keys'](this['aggregation'])['forEach'](K=>{this['aggregation'][K]&&(this['aggregation'][K]['isLoading']=!0x1);});}});}['syncRemoteAggregation'](){this['queryAggregation']();}['refresh'](){this['loadMore'](!0x0);}}B([k['observable']],D['prototype'],'aggregation',0x2),B([k['computed']],D['prototype'],'hasMore',0x1),B([k['computed']],D['prototype'],'isLoadMore',0x1),B([k['computed']],D['prototype'],'title',0x1),B([k['computed']],D['prototype'],'settings',0x1),B([k['computed']],D['prototype'],'fullWidth',0x1),B([Object(x['a'])(0xc8,{'maxWait':0x2710})],D['prototype'],'syncRemoteAggregation',0x1),B([Object(x['a'])(0x3e8,{'maxWait':0x2710})],D['prototype'],'refresh',0x1);},'XKpg':function(b,c,d){'use strict';d['d'](c,'c',function(){return g;}),d['d'](c,'b',function(){return h;}),d['d'](c,'a',function(){return j;});var f=d('Mucf'),g=(k,l)=>{var m;try{m=new URL(k);}catch(s){return k;}var {origin:p}=m;if(p['endsWith']('wostatic.cn')||p['endsWith']('wolai.com')){var q='_'['concat'](Number(l)*Math['max'](Math['round'](window['devicePixelRatio'])||0x2,0x2));return''['concat'](k)['concat'](q);}return k;},h=k=>{if(!k)return{};try{var {origin:l,pathname:m,search:p}=new URL(k),q=f['g'][l];return q?{'bucket':q,'imgPath':''['concat'](m)['concat'](p)['replace'](/^\//,'')}:{};}catch(s){return console['error']('parseWolaiImageMarkdownLink:\x20cant\x20parse\x20url\x20'['concat'](k),s),{};}},j=k=>new Promise((l,m)=>{var p=document['createElement']('canvas'),q=p['getContext']('2d'),s=new Image();s['crossOrigin']='Anonymous',s['onload']=()=>{p['width']=s['width'],p['height']=s['height'],q['drawImage'](s,0x0,0x0),l(p['toDataURL']()),s=null,p=null;},s['onerror']=m,s['src']=k;});},'XsrN':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=['.org','unsplash.com','pexels.com','pixabay.com','wolai.com','wol.ai','wostatic.cn','wol-static.com','baidu.com','bdstatic.com','sinaimg.cn','google.com','sogoucdn.com','myqcloud.com','aliyuncs.com','gstatic.com','zlibcdn2.com','twimg.com','flaticon.com','gitee.com','go.dev','bing.net','doubanio.com','aptoide.com','googleusercontent.com','git-scm.com','github.io','medium.com','economist.com','icons8.com','jsdelivr.net','squarespace.com'];},'Y3F2':function(f,j,k){'use strict';var m=k('uMVv'),q=k('9rbq'),v=k('83zN'),w=k('8T8U'),x=Object['defineProperty'],y=Object['defineProperties'],z=Object['getOwnPropertyDescriptors'],A=Object['getOwnPropertySymbols'],B=Object['prototype']['hasOwnProperty'],C=Object['prototype']['propertyIsEnumerable'],D=(G,H,I)=>H in G?x(G,H,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':I}):G[H]=I,E=(G,H)=>{for(var I in H||(H={}))B['call'](H,I)&&D(G,I,H[I]);if(A){for(var I of A(H))C['call'](H,I)&&D(G,I,H[I]);}return G;};class F extends v['a']{constructor(){super(),this['setLastUsed']=H=>{this['lastUsedStyle']=H,m['c'](q['Qb'],H);},this['getRandomBgColor']=()=>{var H=this['db'][0x2][0x1]||[];return H[Math['max'](Math['floor'](Math['random']()*H['length']),0x1)]['value'];},this['getTagColors']=()=>{var H=(this['db'][0x2][0x1]||[])['slice']();return H['shift'](),H;};var G=m['a'](q['Qb']);G&&(this['lastUsedStyle']=G);}get['db'](){var G,H,I=Object(w['a'])();return this['lastUsedStyle']&&(I[0x0][0x1]=[(G=E({},this['lastUsedStyle']),H={'optionId':'color0'},y(G,z(H)))]),I;}}j['a']=new F();},'Y4qe':function(j,q,w){'use strict';w['d'](q,'a',function(){return L;}),w['d'](q,'c',function(){return G;}),w['d'](q,'e',function(){return P;}),w['d'](q,'g',function(){return Q;}),w['d'](q,'d',function(){return R;}),w['d'](q,'b',function(){return V;}),w['d'](q,'f',function(){return W;});var x=w('9rbq'),z=w('uMVv'),A=Object['defineProperty'],B=Object['getOwnPropertySymbols'],C=Object['prototype']['hasOwnProperty'],D=Object['prototype']['propertyIsEnumerable'],E=(X,Y,Z)=>Y in X?A(X,Y,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Z}):X[Y]=Z,F=(X,Y)=>{for(var Z in Y||(Y={}))C['call'](Y,Z)&&E(X,Z,Y[Z]);if(B){for(var Z of B(Y))D['call'](Y,Z)&&E(X,Z,Y[Z]);}return X;},G={'Default':'#212529','Gray':'rgba(140,\x20140,\x20140,\x201)','DarkGray':'rgba(92,\x2092,\x2092,\x201)','Brown':'rgba(163,\x2067,\x2031,\x201)','Orange':'rgba(240,\x20107,\x205,\x201)','Yellow':'rgba(223,\x20171,\x201,\x201)','Green':'rgba(3,\x20135,\x20102,\x201)','Blue':'rgba(5,\x20117,\x20197,\x201)','Indigo':'rgba(74,\x2082\x20,199,\x201)','Purple':'rgba(136,\x2049,\x20204,\x201)','Pink':'rgba(200,\x2021,\x20182,\x201)','Red':'rgba(233,\x2030,\x2044,\x201)'},H={'Default':'rgba(255,\x20255,\x20255,\x200.85)','Gray':'rgba(102,\x20102,\x20102,\x201)','DarkGray':'rgba(140,\x20140,\x20140,\x201)','Brown':'rgba(199,\x20103,\x2067,\x201)','Orange':'rgba(219,\x2095,\x200,\x201)','Yellow':'rgba(200,\x20148,\x2044,\x201)','Green':'rgba(27,\x20167,\x20132,\x201)','Blue':'rgba(44,\x20134,\x20252,\x201)','Indigo':'rgba(128,\x20111,\x20241,\x201)','Purple':'rgba(184,\x2082,\x20235,\x201)','Pink':'rgba(218,\x2078,\x20143,\x201)','Red':'rgba(226,\x2080,\x2088,\x201)'},J={'Default\x20background':'inherit','Cultured\x20background':'rgba(140,\x20140,\x20140,\x200.12)','Light\x20Gray\x20background':'rgba(92,\x2092,\x2092,\x200.20)','Apricot\x20background':'rgba(163,\x2067,\x2031,\x200.20)','Vivid\x20Tangerine\x20background':'rgba(240,\x20107,\x205,\x200.20)','Blond\x20background':'rgba(240,\x20200,\x200,\x200.20)','Aero\x20Blue\x20background':'rgba(3,\x20135,\x20102,\x200.20)','Uranian\x20Blue\x20background':'rgba(5,\x20117,\x20197,\x200.20)','Lavender\x20Blue\x20background':'rgba(74,\x2082\x20,199,\x200.20)','Pale\x20Purple\x20background':'rgba(136,\x2049,\x20204,\x200.20)','Pink\x20Lavender\x20background':'rgba(200,\x2021,\x20182,\x200.20)','Light\x20Pink\x20background':'rgba(233,\x2030,\x2044,\x200.20)'},K={'Default\x20background':'inherit','Cultured\x20background':'rgba(102,\x20102,\x20102,\x200.20)','Light\x20Gray\x20background':'rgba(140,\x20140,\x20140,\x200.28)','Apricot\x20background':'rgba(199,\x20103,\x2067,\x200.28)','Vivid\x20Tangerine\x20background':'rgba(219,\x2095,\x200,\x200.28)','Blond\x20background':'rgba(200,\x20148,\x2044,\x200.28)','Aero\x20Blue\x20background':'rgba(27,\x20167,\x20132,\x200.28)','Uranian\x20Blue\x20background':'rgba(44,\x20134,\x20252,\x200.28)','Lavender\x20Blue\x20background':'rgba(128,\x20111,\x20241,\x200.28)','Pale\x20Purple\x20background':'rgba(184,\x2082,\x20235,\x200.28)','Pink\x20Lavender\x20background':'rgba(218,\x2078,\x20143,\x200.28)','Light\x20Pink\x20background':'rgba(226,\x2080,\x2088,\x200.28)'},L=(X,Y)=>'dark'===(Y||z['a'](x['sc'],!0x0))?K[X]:J[X],M=F(F({},J),G),N=F(F({},K),H),P=(X,Y)=>'dark'===(Y||z['a'](x['sc'],!0x0))?N[X]:M[X],Q=(X,Y)=>'dark'===(Y||z['a'](x['sc'],!0x0))?Object['keys'](H)['find'](Z=>H[Z]===X):Object['keys'](G)['find'](Z=>G[Z]===X),R=X=>'dark'===X?new Set(Object['keys'](K)):new Set(Object['keys'](J)),T=F(F(F({},{'Default\x20background':'inherit','Cultured\x20background':'rgba(140,\x20140,\x20140,\x200.08)','Light\x20Gray\x20background':'rgba(92,\x2092,\x2092,\x200.12)','Apricot\x20background':'rgba(163,\x2067,\x2031,\x200.12)','Vivid\x20Tangerine\x20background':'rgba(240,\x20107,\x205,\x200.12)','Blond\x20background':'rgba(240,\x20200,\x200,\x200.12)','Aero\x20Blue\x20background':'rgba(3,\x20135,\x20102,\x200.12)','Uranian\x20Blue\x20background':'rgba(5,\x20117,\x20197,\x200.12)','Lavender\x20Blue\x20background':'rgba(74,\x2082\x20,199,\x200.12)','Pale\x20Purple\x20background':'rgba(136,\x2049,\x20204,\x200.12)','Pink\x20Lavender\x20background':'rgba(200,\x2021,\x20182,\x200.12)','Light\x20Pink\x20background':'rgba(233,\x2030,\x2044,\x200.12)'}),G),{'Default\x20border':'rgba(233,231,231,1)'}),U=F(F(F({},{'Default\x20background':'inherit','Cultured\x20background':'rgba(102,\x20102,\x20102,\x200.14)','Light\x20Gray\x20background':'rgba(140,\x20140,\x20140,\x200.18)','Apricot\x20background':'rgba(199,\x20103,\x2067,\x200.18)','Vivid\x20Tangerine\x20background':'rgba(219,\x2095,\x200,\x200.18)','Blond\x20background':'rgba(200,\x20148,\x2044,\x200.18)','Aero\x20Blue\x20background':'rgba(27,\x20167,\x20132,\x200.18)','Uranian\x20Blue\x20background':'rgba(44,\x20134,\x20252,\x200.18)','Lavender\x20Blue\x20background':'rgba(128,\x20111,\x20241,\x200.18)','Pale\x20Purple\x20background':'rgba(184,\x2082,\x20235,\x200.18)','Pink\x20Lavender\x20background':'rgba(218,\x2078,\x20143,\x200.18)','Light\x20Pink\x20background':'rgba(226,\x2080,\x2088,\x200.18)'}),H),{'Default\x20border':'rgba(81,79,79,1)'}),V=(X,Y)=>'dark'===(Y||z['a'](x['sc'],!0x0))?U[X]:T[X],W=''['concat'](x['J'],'+Shift+H');},'YSNs':function(b,f,g){'use strict';g['d'](f,'a',function(){return B;});var j=g('2vnA'),k=g('WRmh'),m=g('odX6'),q=g('zulp'),v=g('Elg5'),w=g('hbLi'),x=g('fwMJ'),y=Object['defineProperty'],z=Object['getOwnPropertyDescriptor'],A=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?z(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&y(D,E,H),H;};class B{get['showAble'](){return this['spaceStore']['shouldShowWorkspacePage']();}constructor(){this['initialing']=!0x1,this['pageId']='',this['spaceId']='',this['pagePermissions']=[];var C=new q['a'](this['pageId']),D=new v['a'](this['pageId']);this['permissionManager']=new k['a']([],C,D);}['setBlockPermissions'](){this['pagePermissions']=this['permissionManager']['toPermissions']();}['getBlockPermissions'](C){var D=this['dataStore']['getBlockValue'](C);if(D){this['spaceId']=D['workspace_id'];var E=this['dataStore']['getBlockPermissions'](C),F=!0x1,G=[];if(E['forEach'](K=>{if(K){if(K['type']===k['e']['Space']&&(F=!0x0,this['spaceStore']['isPersonalSpace']()))return;G['push'](k['c']['fromBlockPermission'](K));}}),!F&&!this['spaceStore']['isPersonalSpace']()){var H=k['c']['fromBlockPermission']({'type':k['e']['Space'],'role':k['d']['None'],'workspace_id':this['spaceId'],'blockId':D['id'],'override':'','index':G['length']});H&&G['push'](H);}if(this['spaceStore']['isPersonalSpace']()){var I=(this['spaceStore']['currentWorkspace']['members']||[])['find'](K=>'admin'===K['role']),J=G['find'](K=>K['type']===k['e']['User']&&K['target']===I['user_id']);I&&!J&&G['push'](new x['c']({'userId':I['user_id'],'role':k['d']['All'],'blockId':D['id'],'override':'','index':G['length']}));}return G;}}['initialize'](C){this['pageId']='',this['spaceId']='',this['initialing']=!0x0,this['pageId']=C;var D=this['getBlockPermissions'](this['pageId']),E=new q['a'](this['pageId']),F=new v['a'](this['pageId']);this['permissionManager']=new k['a'](D,E,F),this['setBlockPermissions'](),this['initialing']=!0x1;}['getSpaceInfo'](C){return this['spaceStore']['workspaces']['find'](D=>D['id']===C);}['getMemberInfo'](C){return this['memberStore']['currentWorkspaceMembers']['get'](C);}['getGroupInfo'](C){return this['groupStore']['spaceGroups']['get'](C);}['canManagePagePermission'](){return this['pageActionCheckStore']['hasPageActionLimit'](this['pageId'],k['g']['EditPermission']);}['getPagePermission'](C){return this['permissionManager']['getPermission'](C);}['hasPagePermission'](C){return this['permissionManager']['hasPermission'](C);}['checkHasEditPermissionWhenSetPermission'](C){var D=this['getBlockPermissions'](this['pageId']),E=[],F=!0x1;return D['forEach'](G=>{G['target']!==C['target']?E['push'](G['toPagePermission']()):(F=!0x0,E['push'](k['c']['fromPermission'](C)['toPagePermission']()));}),F||E['push'](k['c']['fromPermission'](C)['toPagePermission']()),this['pageActionCheckStore']['hasPageActionLimit'](this['pageId'],k['g']['EditPermission'],E);}['checkHasEditPermissionWhenDelPermission'](C){var D=this['getBlockPermissions'](this['pageId']),E=[];return D['forEach'](F=>{F['target']!==C['target']&&E['push'](F['toPagePermission']());}),this['pageActionCheckStore']['hasPageActionLimit'](this['pageId'],k['g']['EditPermission'],E);}['setPagePermission'](C){if(this['canManagePagePermission']()){var D=this['permissionManager']['setPermission'](this['pageId'],C);return this['setBlockPermissions'](),this['initialize'](this['pageId']),this['pageStore']['resetPages'](),D;}return!0x1;}['delPagePermission'](C){if(this['canManagePagePermission']()){var D=this['permissionManager']['delPermission'](this['pageId'],C);return this['setBlockPermissions'](),this['initialize'](this['pageId']),this['pageStore']['resetPages'](),D;}return!0x1;}['forceDelPagePermission'](C){if(this['canManagePagePermission']()){var D=this['permissionManager']['forceDelPermission'](this['pageId'],C);return this['setBlockPermissions'](),this['initialize'](this['pageId']),this['pageStore']['resetPages'](),D;}return!0x1;}['removeGuestPage'](C){return D=this,E=null,F=function*(){return yield Object(w['e'])(this['spaceStore']['spaceId'],this['pageId'],C);},new Promise((G,H)=>{var I=L=>{try{K(F['next'](L));}catch(M){H(M);}},J=L=>{try{K(F['throw'](L));}catch(M){H(M);}},K=L=>L['done']?G(L['value']):Promise['resolve'](L['value'])['then'](I,J);K((F=F['apply'](D,E))['next']());});var D,E,F;}}A([m['b']],B['prototype'],'dataStore',0x2),A([m['b']],B['prototype'],'spaceStore',0x2),A([m['b']],B['prototype'],'pageStore',0x2),A([m['b']],B['prototype'],'groupStore',0x2),A([m['b']],B['prototype'],'memberStore',0x2),A([m['b']],B['prototype'],'pageActionCheckStore',0x2),A([j['observable']],B['prototype'],'pagePermissions',0x2),A([j['observable']],B['prototype'],'initialing',0x2),A([j['computed']],B['prototype'],'showAble',0x1),A([j['action']['bound']],B['prototype'],'initialize',0x1),A([j['action']['bound']],B['prototype'],'getPagePermission',0x1),A([j['action']['bound']],B['prototype'],'hasPagePermission',0x1),A([j['action']['bound']],B['prototype'],'checkHasEditPermissionWhenSetPermission',0x1),A([j['action']['bound']],B['prototype'],'checkHasEditPermissionWhenDelPermission',0x1),A([j['action']['bound']],B['prototype'],'setPagePermission',0x1),A([j['action']['bound']],B['prototype'],'delPagePermission',0x1),A([j['action']['bound']],B['prototype'],'forceDelPagePermission',0x1),A([j['action']['bound']],B['prototype'],'removeGuestPage',0x1);},'YfBr':function(J,Q,X){'use strict';var Z=X('zqxM'),a0=X['n'](Z),a1=X('BkRI'),a2=X['n'](a1),a3=X('Y+p1'),a4=X['n'](a3),a5=X('mwIZ'),a6=X['n'](a5),a7=X('vDqi'),a8=X['n'](a7),a9=X('wZgz'),aa=X['n'](a9),ab=X('Rsoz'),ac=X('+NVA'),ad=X['n'](ac),ae=X('2vnA'),af=X('aD9L'),ag=X('OIS1'),ah=X('z7Vv'),ai=X('hpLR'),aj=X('sA5H'),ak=X('wK8x'),al=X('odX6'),am=X('oYhM'),an=X('KQwE'),ao=X('zvOU'),ap=X('9rbq'),aq=X('IhYf'),ar=X('Bf4v'),as=X('paMO'),at=Object['defineProperty'],au=Object['defineProperties'],av=Object['getOwnPropertyDescriptor'],aw=Object['getOwnPropertyDescriptors'],ax=Object['getOwnPropertySymbols'],ay=Object['prototype']['hasOwnProperty'],az=Object['prototype']['propertyIsEnumerable'],aA=(aJ,aK,aL)=>aK in aJ?at(aJ,aK,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aL}):aJ[aK]=aL,aB=(aJ,aK)=>{for(var aL in aK||(aK={}))ay['call'](aK,aL)&&aA(aJ,aL,aK[aL]);if(ax){for(var aL of ax(aK))az['call'](aK,aL)&&aA(aJ,aL,aK[aL]);}return aJ;},aC=(aJ,aK)=>{var aL={};for(var aM in aJ)ay['call'](aJ,aM)&&aK['indexOf'](aM)<0x0&&(aL[aM]=aJ[aM]);if(null!=aJ&&ax){for(var aM of ax(aJ))aK['indexOf'](aM)<0x0&&az['call'](aJ,aM)&&(aL[aM]=aJ[aM]);}return aL;},aD=(aJ,aK,aL,aM)=>{for(var aN,aO=aM>0x1?void 0x0:aM?av(aK,aL):aK,aP=aJ['length']-0x1;aP>=0x0;aP--)(aN=aJ[aP])&&(aO=(aM?aN(aK,aL,aO):aN(aO))||aO);return aM&&aO&&at(aK,aL,aO),aO;},aE=(aJ,aK,aL)=>new Promise((aM,aN)=>{var aO=aR=>{try{aQ(aL['next'](aR));}catch(aS){aN(aS);}},aP=aR=>{try{aQ(aL['throw'](aR));}catch(aS){aN(aS);}},aQ=aR=>aR['done']?aM(aR['value']):Promise['resolve'](aR['value'])['then'](aO,aP);aQ((aL=aL['apply'](aJ,aK))['next']());}),aF=am['a']['getInstance'](),aG=an['a']['getInstance']();class aH{constructor(){this['pingTime']=0x1388,this['pinging']=!0x1,this['syncSeq']='',this['syncProgress']={},this['localChangeBlocks']=[],this['localChangeWorkspaces']=[],this['cloudChangeBlocks']=[],this['cloudChangeWorkspaces']=[],this['conflictIds']=[];}['startPing'](){this['editorUI']['setOffline'](!0x0);var aJ=()=>{setTimeout(()=>aE(this,null,function*(){try{yield this['ping'](),this['editorUI']['pageDisconnect']&&this['pageStore']['setPageId'](this['pageStore']['pageId']);}catch(aK){throw aJ(),aK;}}),this['pingTime']);};this['pinging']||(this['pinging']=!0x0,aJ());}['isPinging'](){return this['pinging'];}['ping'](){return aE(this,null,function*(){yield Object(aj['db'])();for(var aJ=0x0;aJ<0x2;aJ++)yield Object(ai['b'])(0x7d0),yield Object(aj['db'])();this['pinging']=!0x1;try{yield this['submitIndexedDB'](this['userStore']['sessionId']),this['editorUI']['setOffline'](!0x1);}catch(aK){this['startPing']();}});}['allSubmitIndexedDB'](){return aE(this,null,function*(){yield this['submitIndexedDB']();});}['submitIndexedDB'](aJ){return aE(this,null,function*(){if(this['userStore']['userId']&&!this['pinging']){var aK=yield aF['db']['where']({'userId':this['userStore']['userId']})['toArray']();if(aJ&&(aK=aK['filter'](aS=>aS['groupId']===aJ)),aK&&aK['length']){aK=aK['map'](aS=>({'id':aS['id'],'operations':aS['operations']}));var aL=0x0,aM=!0x1;aK['forEach'](aS=>aL+=aS['operations']['length']),aL>0xc8&&(aM=!0x0,this['pageStore']['setConfirmOpen']({'title':'','loading':!0x0,'contents':ab['a']['t'](ap['cb']['PROCESSING_WAIT'],'正在处理，请稍候...',{'ns':'editor'}),'alignContentsCenter':!0x0,'hideButton':!0x0}));for(var aN=JSON['stringify'](aK)['length'],aO=Math['ceil'](aN/0x7a120),aP=0x0;aP<aO;aP++){var aQ=Math['ceil'](aK['length']/aO),aR=aK['slice'](aP*aQ,(aP+0x1)*aQ);try{ao['a']['updateVersForTrans'](aR),yield Object(aj['nb'])(aR);}catch(aS){if(!(aS['code']&&!isNaN(aS['code'])||aS['response']))throw aS;try{yield aF['errorDb']['bulkAdd'](aK['map'](aT=>({'id':aT['id'],'operations':aT['operations'],'userId':this['userStore']['userId'],'createTime':new Date()['getTime'](),'groupId':aJ})));}catch(aT){}}}return yield aF['db']['where']({'userId':this['userStore']['userId']})['and'](aU=>aK['find'](aV=>aV['id']===aU['id']))['delete'](),aM&&this['pageStore']['setConfirmOpen'](),aK;}}});}['syncSpaceData'](aJ,aK,aL){return aE(this,null,function*(){for(var aM=this,aN=new Date()['getTime'](),aO=Math['ceil']((aN-aL)/0x9a7ec800),aP=function*(aS){var aT=aL+0x9a7ec800,aU=yield Object(aj['R'])(aJ,aL,aT)['then'](aZ=>aM['checkStatus'](aZ,aK));aL=aT;var {syncId:aV,syncCount:aW}=aU;if(!aW)return{'v':void 0x0};var aX=void 0x0,aY=function*(){var aZ=yield Object(aj['Q'])({'syncId':aV,'workspaceId':aJ,'startId':aX,'limit':0x1388})['then'](b0=>aM['checkStatus'](b0,aK));aX=aZ['nextId'],aZ['blocks']['length']&&(yield*function*(){for(var b0=aZ['blocks']['filter'](b9=>b9['type']===ap['y']['IMAGE']&&!a6()(b9['attributes'],'source[0]')),b1=aZ['blocks']['filter'](b9=>b9['type']===ap['y']['PAGE']),b2=[],b3=function(b9){var ba=a6()(b0[b9]['attributes'],'img[0][0]'),bb=a6()(b0[b9]['attributes'],'bucket[0][0]');ba&&bb&&b2['push'](new Promise(bc=>aE(aM,null,function*(){try{var bd=yield Object(aq['a'])(ba,bb,Object(aq['g'])(ba)?Math['min'](a6()(b0[b9]['attributes'],'dimensions[0].width'),0x7d0):null,a6()(b0[b9]['attributes'],'original[0][0].width'),b0[b9]['id'])['then'](bf=>this['checkStatus'](bf,aK)),be=yield a8['a']['get'](''['concat'](bd),{'responseType':'blob'})['then'](bf=>this['checkStatus'](bf,aK));this['syncProgress'][aJ]+=Math['round'](0x1/b7()*Math['min'](0x1388/aW,0x1)*0x2710/aO),bc({'id':b0[b9]['id'],'image':be['data']});}catch(bf){bc({});}})));},b4=0x0;b4<b0['length'];b4++)b3(b4);for(var b5=function(b9){var ba=b1[b9],bb=a6()(ba,'setting.page_cover'),bc=a6()(ba,'setting.page_icon');if(bb&&!bb['startsWith']('http')){var bd=bb['split']('://');b2['push'](new Promise(bf=>aE(aM,null,function*(){try{var bg=yield this['blockStore']['getImageUrl'](bd[0x1],bd[0x0],0x1e0,ba['id'])['then'](bi=>this['checkStatus'](bi,aK)),bh=yield a8['a']['get'](''['concat'](bg),{'responseType':'blob'})['then'](bi=>this['checkStatus'](bi,aK));this['syncProgress'][aJ]+=Math['round'](0x1/b7()*Math['min'](0x1388/aW,0x1)*0x2710/aO),bf({'id':''['concat'](ba['id'],'-cover'),'image':bh['data']});}catch(bi){bf({});}})));}if(bc&&'upload'===bc[0x0]&&bc[0x1]){var be=bc[0x1];b2['push'](new Promise(bf=>aE(aM,null,function*(){try{var bg=yield this['blockStore']['getImageUrl'](be[0x0],be[0x1],0x48,ba['id'])['then'](bi=>this['checkStatus'](bi,aK)),bh=yield a8['a']['get'](''['concat'](bg),{'responseType':'blob'})['then'](bi=>this['checkStatus'](bi,aK));this['syncProgress'][aJ]+=Math['round'](0x1/b7()*Math['min'](0x1388/aW,0x1)*0x2710/aO),bf({'id':''['concat'](ba['id'],'-icon'),'image':bh['data']});}catch(bi){bf({});}})));}},b6=0x0;b6<b1['length'];b6++)b5(b6);var b7=()=>aZ['blocks']['length']+b2['length'];yield aG['blockDB']['bulkPut'](aZ['blocks']['map'](b9=>({'id':b9['id'],'page_id':b9['page_id'],'workspace_id':b9['workspace_id'],'data':aa['a']['encrypt'](JSON['stringify'](b9),b9['id']['substr'](0x0,0xa))['toString']()})))['then'](b9=>aM['checkStatus'](b9,aK)),aM['syncProgress'][aJ]+=Math['round'](aZ['blocks']['length']/b7()*Math['min'](0x1388/aW,0x1)*0x2710/aO);var b8=yield Promise['all'](b2);yield aG['imageDB']['bulkPut'](b8['filter'](b9=>b9['id']))['then'](b9=>aM['checkStatus'](b9,aK));}());};do{yield*aY();}while(aX);},aQ=0x1;aQ<=aO;aQ++){var aR=yield*aP();if('object'==typeof aR)return aR['v'];}});}['checkStatus'](aJ,aK){if(this['syncSeq']===aK&&this['syncSeq'])return aJ;throw new Error('sync\x20cancelled');}['cancelSyncData'](){this['syncSeq']='';}['resetSyncProgress'](){this['syncProgress']={};}['syncData'](aJ,aK){return aE(this,null,function*(){var aL=this;for(var aM of(this['syncSeq']=aJ,this['syncProgress']=this['syncProgress']||{},yield this['workspaceStore']['getWorkspaceData'](),aK))yield this['workspaceStore']['initWorkspacePages'](aM);for(var aN=this['spaceStore']['workspaces'],aO=aK['map'](aR=>aN['find'](aS=>aS['id']===aR)),aP=function*(aR){var aS=aO[aR]['id'],aT=new Date()['getTime']();aL['syncProgress'][aS]=0x0;try{var aU=yield aG['recordsDB']['get'](aS),aV=aU?aU['last_sync_time']:aO[aR]['created_time'];yield aL['syncSpaceData'](aS,aJ,aV),yield aG['recordsDB']['put']({'workspace_id':aS,'index':aN['findIndex'](aW=>aW['id']===aS),'last_sync_time':aT,'data':JSON['stringify'](aO[aR]),'viewData':JSON['stringify'](aL['spaceStore']['spaceViews'][aS])}),aL['syncProgress'][aS]=0x2710,Object(af['e'])()&&window['interop']&&window['interop']['setAirplaneModeAvailability']&&window['interop']['setAirplaneModeAvailability'](!0x0);}catch(aW){aL['syncProgress'][aS]=-0x1;}},aQ=0x0;aQ<aO['length'];aQ++)yield*aP(aQ);this['syncSeq']='';});}['duplicateBlock'](aJ){return aE(this,null,function*(){var aK=this,aL={},aM=function*(aO){var aP=yield aK['getData'](aO),aQ=aJ['findIndex'](aW=>aW['id']===aO),aR=a2()(aP);if(aR['id']=Object(ag['b'])(),aR['init']=!0x0,aP['type']===ap['y']['PAGE']&&(aR['sub_nodes']=[]),aL[aO]=aR,aJ[aQ]['parent_id']){var aS=yield aK['getData'](aO,!0x0);if('workspace'!==aS['parent_type']){var aT=aJ['find'](aW=>aW['id']===aS['parent_id']);aT['sub_nodes']&&!aT['sub_nodes']['includes'](aO)&&aT['sub_nodes']['push'](aO);}else{var aU=aK['localChangeWorkspaces']['find'](aW=>aW['id']===aS['parent_id']);if(aU&&aU['pages']){var aV=JSON['parse'](aU['pages']);aV['includes'](aO)||(aV['push'](aO),aU['pages']=JSON['stringify'](aV));}}}aJ[aQ]={'id':aO,'sub_nodes':aP['type']===ap['y']['PAGE']?aP['sub_nodes']:[]},aJ['push'](aR);};for(var aN of this['conflictIds'])yield*aM(aN);this['conflictIds']['forEach'](aO=>{var aP=aL[aO];this['conflictIds']['includes'](aP['parent_id'])&&(aP['parent_id']=aL[aP['parent_id']]['id']),aP['sub_nodes']=aP['sub_nodes']['map'](aR=>{if(this['conflictIds']['includes'](aR))return aL[aR]['id'];var aS=aJ['find'](aT=>aT['id']===aR);return aS?aS['parent_id']=aP['id']:aJ['push']({'id':aR,'parent_id':aP['id']}),aR;});var aQ=aJ['find'](aR=>aR['id']===aP['parent_id']);aQ['sub_nodes']=aQ['sub_nodes']['map'](aR=>this['conflictIds']['includes'](aR)?aL[aR]['id']:aR);});});}['computeLocalChangeData'](){return aE(this,null,function*(){this['conflictIds']=[];var aJ=yield aG['dirtyBlockDB']['toArray'](),aK=(aJ=aJ['map'](aR=>this['parseData'](aR))['filter'](aR=>aR['id']&&!aR['id']['startsWith']('ref-')))['map'](aR=>aR['id']),aL=yield aG['blockDB']['bulkGet'](aK);aL=aL['map'](aR=>this['parseData'](aR));for(var aM=[],aN=[],aO=['active','attributes','page_id','parent_id','parent_type','permissions','setting','status','sub_nodes','type','source_id'],aP=function(aR){var aS={'id':aJ[aR]['id']};aL[aR]?aO['forEach'](aT=>{'object'==typeof aJ[aR][aT]?a4()(aJ[aR][aT],aL[aR][aT])||(aS[aT]=aJ[aR][aT]):aJ[aR][aT]!==aL[aR][aT]&&(aS[aT]=aJ[aR][aT]);}):aS=aJ[aR],Object['keys'](aS)['length']>0x1?aM['push'](aS):aN['push'](aJ[aR]['id']);},aQ=0x0;aQ<aJ['length'];aQ++)aP(aQ);return aN['length']&&(yield aG['dirtyBlockDB']['bulkDelete'](aN)),yield Promise['all'](aM['filter'](aR=>!aR['init']&&aR['parent_id'])['map'](aR=>aE(this,null,function*(){var aS=yield this['getParentIds'](aR['id']),{conflict:aT}=yield Object(aj['e'])({'blockIds':aS,'checkId':aR['id']});aT&&this['conflictIds']['push'](aR['id']);}))),yield this['duplicateBlock'](aM),aM;});}['syncChangeData'](){return aE(this,null,function*(){yield this['syncBlockChangeData'](),yield this['syncReferenceChangeData']();});}['getCloudChangeData'](){return aE(this,null,function*(){for(var aJ=this['spaceStore']['workspaces'],aK=[],aL=[],aM=0x0;aM<aJ['length'];aM++)try{var aN=yield aG['recordsDB']['get'](aJ[aM]['id']),aO=aN?aN['last_sync_time']:0x0;if(aO){var aP=yield aG['dirtyBlockDB']['where']({'workspace_id':aJ[aM]['id']})['toArray'](),{blocks:aQ,workspace:aR}=yield Object(aj['u'])({'workspaceId':aJ[aM]['id'],'blockIds':aP['map'](aS=>aS['id']),'startTime':aO});aQ&&(aK=aK['concat'](aQ)),aR&&aR['pages']&&aL['push'](aR);}}catch(aS){}this['cloudChangeBlocks']=aK,this['cloudChangeWorkspaces']=aL;});}['computePageIdChangeData'](){return aE(this,null,function*(){for(var aJ=this,aK=new as['a'](),aL=function*(aN){var aO=aJ['localChangeBlocks'][aN],aP=aJ['cloudChangeBlocks']['find'](aS=>aS['id']===aO['id']),aQ=yield aJ['getData'](aO['id'],!0x0),aR=yield aJ['getData'](aO['id']);if(!aP||!aQ)return'continue';if(aQ['page_id']!==aP['page_id']&&aP['page_id']&&!aO['hasOwnProperty']('page_id')&&aR['type']!==ap['y']['PAGE'])(aO['sub_nodes']||aR['sub_nodes'])['forEach'](aS=>{aK['block']['update'](aS,ap['Db'],[],{'page_id':aP['type']===ap['y']['PAGE']?aP['id']:aP['page_id']});});else aP['type']!==ap['y']['PAGE']||aR['type']===ap['y']['PAGE']||aO['hasOwnProperty']('type')?aP['type']&&aP['type']!==ap['y']['PAGE']&&aR['type']===ap['y']['PAGE']&&!aO['hasOwnProperty']('type')&&(aO['sub_nodes']||aR['sub_nodes'])['forEach'](aS=>{aK['block']['update'](aS,ap['Db'],[],{'page_id':aO['page_id']||aP['page_id']});}):(aO['sub_nodes']||aR['sub_nodes'])['forEach'](aS=>{aK['block']['update'](aS,ap['Db'],[],{'page_id':aO['id']});});},aM=0x0;aM<this['localChangeBlocks']['length'];aM++)yield*aL(aM);return aK;});}['submitChangeData'](aJ,aK){return aK['forEach'](aL=>{var aM,aN=aL,{id:aO}=aN,aP=aC(aN,['id']);aP['init']?(delete aP['init'],aP['active']&&aJ['block']['set'](aO,ap['Db'],[],(aM=aB({'id':aO},Object(ah['f'])(aP)),au(aM,aw({'version':0x1}))))):aJ['block']['update'](aO,ap['Db'],[],aB({},Object(ah['f'])(aP)));}),this['localChangeWorkspaces']['forEach'](aL=>{aJ['workspace']['updateWorkspace'](aL['id'],{'pages':aL['pages']});}),aJ;}['syncBlockChangeData'](){return aE(this,null,function*(){var aJ=this;if(this['localChangeWorkspaces']=yield aG['dirtyWorkspaceDB']['toArray'](),this['localChangeBlocks']=yield this['computeLocalChangeData'](),this['localChangeBlocks']['map'](aX=>aX['id'])['length']){yield this['getCloudChangeData']();for(var aK=new as['a'](),aL=new as['a'](),aM=[],aN=function*(aX){var aY=aJ['localChangeBlocks'][aX],aZ=aJ['cloudChangeBlocks']['find'](bh=>bh['id']===aY['id']);if(!aZ)return aM['push'](a2()(aY)),'continue';var b0=yield aJ['getData'](aY['id']);if(a6()(aY,'attributes.title')&&a6()(aZ,'attributes.title')){var b1=a6()(aZ,'attributes.title',[]),b2=a6()(aY,'attributes.title',[]);yield aJ['checkReference'](b1,b2,b0['workspace_id']);}if('workspace'===aY['parent_type']&&aZ['type']&&aZ['type']!==ap['y']['PAGE']&&(aY['type']=ap['y']['PAGE']),'workspace'===aZ['parent_type']&&!aY['parent_id']&&aY['type']&&aY['type']!==ap['y']['PAGE']&&(aY['type']=ap['y']['PAGE']),aY['page_id']&&aZ['page_id']!==aY['page_id']&&aZ['parent_id']&&!aY['parent_id']&&(aY['page_id']=aZ['page_id']),aZ['parent_id']&&b0['parent_id']!==aZ['parent_id']){if(aZ['workspace_id']&&aZ['workspace_id']!==b0['workspace_id']){if(b0['page_id']){var b3=aJ['localChangeBlocks']['find'](bh=>bh['id']===aY['parent_id']);if(b3){var b4=b3['sub_nodes']&&b3['sub_nodes']['indexOf'](aY['id']);b4>=0x0&&b3['sub_nodes']['splice'](b4,0x1);}}else{var b5=aJ['localChangeWorkspaces']['find'](bh=>bh['id']===b0['workspace_id']);if(b5){var b6=b5['pages']['indexOf'](aY['id']);b6>=0x0&&b5['pages']['splice'](b6,0x1);}}delete aY['parent_id'],delete aY['page_id'];}else{if(aY['parent_id']||!0x1===aY['active']){if(aZ['page_id']){var b7=aJ['cloudChangeBlocks']['find'](bh=>bh['id']===aZ['parent_id']);if(b7){var b8=b7['sub_nodes']&&b7['sub_nodes']['indexOf'](aY['id']);b8>=0x0&&b7['sub_nodes']['splice'](b8,0x1);}aK['block']['listRemove'](aZ['parent_id'],ap['Db'],['sub_nodes'],{'id':aY['id']});}else{var b9=aZ['workspace_id']||b0['workspace_id'],ba=aJ['cloudChangeWorkspaces']['find'](bh=>bh['id']===b9);if(ba){var bb=JSON['parse'](ba['pages']),bc=bb['indexOf'](aY['id']);bc>=0x0&&(bb['splice'](bc,0x1),ba['pages']=JSON['stringify'](bb));}aK['block']['listRemove'](b9,ap['yc'],['pages'],aY['id']);}}}}if(aY['parent_id']&&aZ['page_id']!==b0['page_id']&&(aY['page_id']=b0['page_id']),aY['sub_nodes']&&aZ['sub_nodes']&&!a4()(aY['sub_nodes'],aZ['sub_nodes'])){var bd=a0()(aY['sub_nodes'],aZ['sub_nodes']),be=a0()(aZ['sub_nodes'],aY['sub_nodes']);be=be['filter'](bh=>{var bi=aJ['localChangeBlocks']['find'](bj=>bj['id']===bh);return!bi||!(!0x1===bi['active']||bi['parent_id']&&bi['parent_id']!==aY['id']);});var bf=bd['filter'](bh=>{var bi=aJ['localChangeBlocks']['find'](bj=>bj['id']===bh);return!bi||!bi['parent_id'];});aY['sub_nodes']=aY['sub_nodes']['filter'](bh=>!bf['includes'](bh)),be['forEach'](bh=>{var bi=aZ['sub_nodes']['indexOf'](bh);aY['sub_nodes']['splice'](bi,0x0,bh);});}if(aZ['workspace_id']&&aZ['workspace_id']!==b0['workspace_id'])for(var bg of aJ['localChangeBlocks']){(yield aJ['isParentId'](b0['id'],bg['id']))&&(bg['workspace_id']=aZ['workspace_id']);}b0['active']&&!0x1===aZ['active']&&aY['parent_id']&&(aY['active']=!0x0),aM['push'](aY),aY['type']&&!aY['init']&&aY['type']!==aZ['type']&&aL['block']['update'](aY['id'],ap['Db'],[],{'type':aY['type']});},aO=0x0;aO<this['localChangeBlocks']['length'];aO++)yield*aN(aO);for(var aP=function(aX){var aY=aJ['localChangeWorkspaces'][aX],aZ=aJ['cloudChangeWorkspaces']['find'](b1=>b1['id']===aY['id']);if(aZ){var b0=JSON['parse'](aZ['pages']);a0()(b0,aY['pages'])['forEach'](b1=>{var b2=b0['indexOf'](b1);aY['pages']['splice'](b2,0x0,b1);});}},aQ=0x0;aQ<this['localChangeWorkspaces']['length'];aQ++)aP(aQ);var aR=[];for(var aS of aM){var aT=yield this['getData'](aS['id']);if(aT){if(aT['page_id']&&!aR['includes'](aT['page_id']))(yield this['getData'](aT['page_id'],!0x0))&&aR['push'](aT['page_id']);else!aT['page_id']&&!aR['includes'](aT['id'])&&((yield this['getData'](aT['id'],!0x0))&&aR['push'](aT['id']));}}var aU=[yield this['submitChangeData'](aK,aM),yield this['computePageIdChangeData'](),aL];for(var aV of(aR['length']&&(yield Object(ak['a'])({'pageIds':aR,'isFlight':!0x0})),aU))aV['operations']['length']&&(yield Object(aj['nb'])([aV]['map'](aX=>({'id':aX['id'],'operations':aX['operations']})),{'ignoreFlyMode':!0x0}));try{var aW=yield aG['dirtyBlockDB']['toArray']();window['interop']&&window['interop']['saveSnapshot']&&window['interop']['saveSnapshot'](aW);}catch(aX){}yield aG['dirtyBlockDB']['bulkDelete'](aM['map'](aY=>aY['id'])),this['conflictIds']['length']&&(yield aG['dirtyBlockDB']['bulkDelete'](this['conflictIds'])),yield aG['dirtyWorkspaceDB']['bulkDelete'](this['localChangeWorkspaces']['map'](aY=>aY['id']));}});}['checkReference'](aJ,aK,aL){return aE(this,null,function*(){var aM=this,aN=[];aJ['forEach'](aR=>{var aS=aR[0x1]&&aR[0x1]['find'](aT=>'BiLink'===aT[0x0]);aS&&aN['push'](aS);});var aO=function*(aR){var aS=aR[0x1]&&aR[0x1]['find'](aU=>'BiLink'===aU[0x0]);if(aS){var aT=aN['findIndex'](aU=>aU[0x1]===aS[0x1]);aT>=0x0?aN['splice'](aT,0x1):yield aM['updateReference'](aS[0x1],{'workspace_id':aL,'active':!0x0});}};for(var aP of aK)yield*aO(aP);for(var aQ of aN)yield this['updateReference'](aQ[0x1],{'workspace_id':aL,'active':!0x1});});}['syncReferenceChangeData'](){return aE(this,null,function*(){for(var aJ=this['spaceStore']['workspaces'],aK=[],aL=0x0;aL<aJ['length'];aL++){var aM=yield aG['referenceDB']['where']({'workspace_id':aJ[aL]['id']})['toArray']();aK['push'](...aM);}if(aK['length']){var aN=new as['a']();aK['forEach'](aO=>{if(aO['init'])aO['active']&&(delete aO['init'],aN['reference']['createReference'](aO['id'],aO));else{var aP=aO,{id:aQ}=aP,aR=aC(aP,['id']);aN['reference']['updateReference'](aO['id'],aR);}}),yield Object(aj['nb'])([aN]['map'](aO=>({'id':aO['id'],'operations':aO['operations']})),{'ignoreFlyMode':!0x0}),yield aG['referenceDB']['bulkDelete'](aK['map'](aO=>aO['id']));}});}['syncToBlockDB'](aJ){return aE(this,null,function*(){if(ap['gb']){var aK=Array['isArray'](aJ)?aJ:[aJ];aK=aK['map'](aL=>{var aM=a2()(aL);return delete aM['version'],delete aM['isLoading'],aM['source_id']&&(aM['attributes']={},aM['setting']={},aM['sub_nodes']=[],aM['type']=ap['y']['TEXT']),aM;})['filter'](aL=>aL['id']&&!aL['id']['startsWith']('ref-'));try{aK['forEach'](aL=>{aL['source_id']||(ar['a']['index']['contain'](aL['id'])?ar['a']['index']['update'](aL['id'],this['blockAPI']['getTitlePlainTextByTitle'](aL['attributes']['title'])):ar['a']['index']['add'](aL['id'],this['blockAPI']['getTitlePlainTextByTitle'](aL['attributes']['title'])));}),yield aG['dirtyBlockDB']['bulkPut'](aK['map'](aL=>({'id':aL['id'],'page_id':aL['page_id'],'workspace_id':aL['workspace_id'],'data':aa['a']['encrypt'](JSON['stringify'](aL),aL['id']['substr'](0x0,0xa))['toString']()})));}catch(aL){}}});}['syncToWorkspaceDB'](aJ){return aE(this,null,function*(){if(ap['gb']){var aK=Array['isArray'](aJ)?aJ:[aJ];try{yield aG['dirtyWorkspaceDB']['bulkPut'](aK['map'](aL=>({'id':aL['id'],'pages':Object(ae['toJS'])(aL['pages'])})));}catch(aL){}}});}['createReference'](aJ){return aE(this,null,function*(){var {blockId:aK,pageId:aL,referencedBlockId:aM,workspaceId:aN}=aJ,aO=yield this['getData'](aM),aP={'id':Object(ag['b'])(),'workspace_id':aN,'page_id':aL,'block_id':aK,'referenced_workspace_id':aO['workspace_id'],'referenced_page_id':aO['type']===ap['y']['PAGE']?aO['id']:aO['page_id'],'referenced_block_id':aM,'created_by':this['userStore']['userId'],'created_time':new Date()['getTime'](),'edited_by':this['userStore']['userId'],'edited_time':new Date()['getTime'](),'active':!0x0,'init':!0x0};return yield aG['referenceDB']['put'](aP),aP['id'];});}['updateReference'](aJ,aK){return aE(this,null,function*(){0x0===(yield aG['referenceDB']['update'](aJ,aK))&&(yield aG['referenceDB']['put'](aB({'id':aJ},aK)));});}['getData'](aJ,aK){return aE(this,null,function*(){var aL;aL='string'==typeof aJ?[aJ]:aJ;var aM=yield aG['blockDB']['bulkGet'](aL),aN=[];aK||(aN=yield aG['dirtyBlockDB']['bulkGet'](aL));var aO=this['getLatestBlocks'](aM,aN);return'string'==typeof aJ?aO[0x0]:aO;});}['isParentId'](aJ,aK){return aE(this,null,function*(){var aL=yield this['getData'](aK);if(!aL)return!0x1;for(var aM=[];aL['parent_type']!==ap['y']['PAGE']&&'workspace'!==aL['parent_type']&&aL['parent_id']!==aJ&&!aM['includes'](aL['parent_id']);)aM['push'](aL['parent_id']),aL=yield this['getData'](aL['parent_id']);return aL['parent_id']===aJ;});}['getParentIds'](aJ){return aE(this,null,function*(){for(var aK=yield this['getData'](aJ),aL=[];'workspace'!==aK['parent_type']&&!aL['includes'](aK['parent_id']);)aL['push'](aK['parent_id']),aK=yield this['getData'](aK['parent_id']);return aL;});}['getLatestBlocks'](){var aJ=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},aK=[...arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],...arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[]],aL={};return aK['forEach'](aM=>{aM&&aM['id']&&(aL[aM['id']]=aM);}),aK=Object['values'](aL),aJ['noParse']?aK:aK=aK['map'](aM=>aM['id']?this['parseData'](aM):null);}['parseData'](aJ){if(aJ&&aJ['data']){var aK=aa['a']['decrypt'](aJ['data'],aJ['id']['substr'](0x0,0xa));return JSON['parse'](aK['toString'](ad['a']));}return aJ;}}aD([al['b']],aH['prototype'],'editorUI',0x2),aD([al['b']],aH['prototype'],'blockAPI',0x2),aD([al['b']],aH['prototype'],'userStore',0x2),aD([al['b']],aH['prototype'],'pageStore',0x2),aD([al['b']],aH['prototype'],'spaceStore',0x2),aD([al['b']],aH['prototype'],'blockStore',0x2),aD([al['b']],aH['prototype'],'workspaceStore',0x2);var aI=new aH();Q['a']=aI;},'Yuzn':function(b,f,g){'use strict';g['d'](f,'a',function(){return q;});var h=g('BkRI'),j=g['n'](h),k=g('kYPY'),l=g('OIS1'),m=g('f9x4'),p=g('Rsoz');function q(u,v){var w=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},x=(null==w?void 0x0:w['properties'])?j()(null==w?void 0x0:w['properties']):u['properties']['map'](y=>({'id':y['id'],'hidden':!0x1,'format':[m['p']['Select'],m['p']['MultiSelect']]['includes'](y['type'])?m['q']['Drop']:void 0x0}));return x['forEach'](y=>{var z=u['properties']['find'](A=>A['id']===y['id']);m['a']['includes'](z['type'])?y['hidden']=!0x0:y['hidden']=!0x1,y['editable']=!0x0,y['visible']=!0x0;}),{'properties':x,'block_id':w['block_id']||v,'table_id':u['table_id']||(null==w?void 0x0:w['table_id'])||'','sorters':w['sorters']||[],'view_id':(null==w?void 0x0:w['view_id'])||Object(l['b'])(),'visit_id':(null==w?void 0x0:w['visit_id'])||'','permission':(null==w?void 0x0:w['permission'])||m['g']['WorkspaceUser'],'describe':(null==w?void 0x0:w['describe'])||[['']],'filters':w['filters']||{'logical':m['l']['Or'],'filters':[]},'settings':Object['assign']({'page_size':0x32},null==w?void 0x0:w['settings']),'aggregation':(null==w?void 0x0:w['aggregation'])||{},'type':m['h']['Form'],'title':Object(k['b'])(p['a']['t']('stores.database.form.defaultTitle','表单视图',{'ns':'editor'}),w),'version':0x0};}},'Z8Lu':function(a,b,c){a['exports']={'toastRoot':'_3GlUG','pointsSpace':'_1rEUP','points':'_3frKl'};},'ZmYm':function(a,b,c){var d={'./en/editor.json':['4TEm',0x3f],'./zh/editor.json':['6m4U',0x40]};function f(g){if(!c['o'](d,g))return Promise['resolve']()['then'](function(){var k=new Error('Cannot\x20find\x20module\x20\x27'+g+'\x27');throw k['code']='MODULE_NOT_FOUND',k;});var h=d[g],j=h[0x0];return c['e'](h[0x1])['then'](function(){return c['t'](j,0x3);});}f['keys']=function(){return Object['keys'](d);},f['id']='ZmYm',a['exports']=f;},'Zwcd':function(a,b,c){a['exports']={'avatar':'YoLsm','cursorPointer':'_2YE2z','defaultAvatar':'_36qoq','defaultNameAvatar':'_2zJMs','alphaBorder':'_2z0Nd','betaBorder':'_2mozX'};},'aD9L':function(f,g,j){'use strict';j['d'](g,'g',function(){return q;}),j['d'](g,'j',function(){return v;}),j['d'](g,'h',function(){return w;}),j['d'](g,'i',function(){return x;}),j['d'](g,'f',function(){return y;}),j['d'](g,'d',function(){return z;}),j['d'](g,'e',function(){return A;}),j['d'](g,'c',function(){return B;}),j['d'](g,'b',function(){return C;}),j['d'](g,'a',function(){return D;});var k=j('b6Qr'),m=j('qX4z'),q=()=>k['isMacOs'],v=()=>k['isWindows'];function w(){var E=Object(m['b'])('appType');return'tablet'!==E&&(k['isMobileOnly']||'mobile'===E);}function x(){var {isAndroid:E,isMobileOnly:F}=k,G=k['isTablet'];return!G&&E&&F&&(document['body']['clientHeight']>=0x3e8||document['body']['clientWidth']>=0x3e8)&&(G=!0x0),G||'tablet'===Object(m['b'])('appType');}var y=()=>k['isIOS'],z=()=>k['isAndroid'],A=()=>k['isElectron']&&window['interop'];function B(){var E=navigator['userAgent'];return E['indexOf']('Opera')>-0x1||E['indexOf']('OPR')>-0x1?'Opera':E['indexOf']('compatible')>-0x1&&E['indexOf']('MSIE')>-0x1?'IE':E['indexOf']('Edge')>-0x1?'Edge':E['indexOf']('Firefox')>-0x1?'Firefox':E['indexOf']('Safari')>-0x1&&-0x1===E['indexOf']('Chrome')?'Safari':E['indexOf']('Chrome')>-0x1&&E['indexOf']('Safari')>-0x1?'Chrome':Boolean(window['ActiveXObject'])||'ActiveXObject'in window?'IE':'';}function C(){return w()?'h5':x()?'tablet':k['isBrowser']?'web':k['isElectron']?'desktop':'others';}function D(){return q()?'mac':v()?'win':y()?'ios':z()?'android':'others';}},'aKiu':function(a,b,c){'use strict';var d=c('q1tI'),f=c('DUqV');b['a']=g=>{var {width:h,height:j,theme:k}=g;return'dark'!==k?d['createElement'](f['a'],{'width':h,'height':j,'src':c('JnOM')}):d['createElement'](f['a'],{'width':h,'height':j,'src':c('OUb6')});};},'aRQO':function(j,k,q){'use strict';q['d'](k,'a',function(){return N;});var w=q('Wgwc'),x=q['n'](w),z=q('BkRI'),A=q['n'](z),B=q('mwIZ'),C=q['n'](B),D=q('2vnA'),E=q('odX6'),F=q('f9x4'),G=q('5mAU'),H=q('OIS1'),I=q('5Tgv'),J=q('Rsoz'),K=Object['defineProperty'],L=Object['getOwnPropertyDescriptor'],M=(O,P,Q,R)=>{for(var S,T=R>0x1?void 0x0:R?L(P,Q):P,U=O['length']-0x1;U>=0x0;U--)(S=O[U])&&(T=(R?S(P,Q,T):S(T))||T);return R&&T&&K(P,Q,T),T;};class N{constructor(O,P){this['formulaProperties']=new Map(),this['getFormulaProperty']=Q=>this['formulaProperties']['get'](Q)||[['']],this['table']=O,this['table_id']=O['id'],this['block_id']=P;}get['isLoading'](){var O;return(null==(O=this['data'])?void 0x0:O['isLoading'])||!0x1;}get['data'](){return this['dataStore']['getDataRow'](this['table_id'],this['block_id']);}get['properties'](){var O={};return this['table']['properties']['forEach'](P=>{var Q=this['getProperty'](P['id']);O[P['id']]=Q;}),O;}get['created_by'](){var O;return null==(O=this['data'])?void 0x0:O['created_by'];}get['version'](){var O;return(null==(O=this['data'])?void 0x0:O['version'])||0x0;}get['created_time'](){var O;return null==(O=this['data'])?void 0x0:O['created_time'];}get['edited_by'](){var O;return null==(O=this['data'])?void 0x0:O['edited_by'];}get['edited_time'](){var O;return null==(O=this['data'])?void 0x0:O['edited_time'];}get['template'](){var O;return null==(O=this['data'])?void 0x0:O['template'];}['getData'](){return Object(D['toJS'])(this['data']);}['getProperty'](O){var P,Q=this['table']['getProperty'](O);if(Q['type']===F['p']['CreatedBy']){var R=this['publicUserStore']['users']['get'](this['created_by']);return[[(null==R?void 0x0:R['username'])||'',[['Mention','member',this['created_by']]]]];}if(Q['type']===F['p']['CreatedTime']){var S=x()(this['created_time']);return[[x()(this['created_time'])['format']('YYYY/MM/DD\x20HH:mm'),[['Mention','date',{'start_date':S['format']('YYYY/MM/DD'),'start_time':S['format']('HH:mm'),'type':'datetime'}]]]];}if(Q['type']===F['p']['LastEditedBy']){var T=this['publicUserStore']['users']['get'](this['edited_by']);return[[(null==T?void 0x0:T['username'])||'',[['Mention','member',this['edited_by']]]]];}if(Q['type']===F['p']['LastEditedTime']){var U=x()(this['edited_time']);return[[x()(this['edited_time'])['format']('YYYY/MM/DD\x20HH:mm'),[['Mention','date',{'start_date':U['format']('YYYY/MM/DD'),'start_time':U['format']('HH:mm'),'type':'datetime'}]]]];}if([F['p']['Select'],F['p']['MultiSelect'],F['p']['People'],F['p']['Checkbox']]['includes'](Q['type'])){var V=new G['a'](this['table_id'],this['data']);V['parse'](O);var W=V['convert'](O);if(W)return W;}var X=(null==(P=this['data'])?void 0x0:P['properties'])?this['data']['properties'][O]:'';return X&&X[0x0]&&!X[0x0]['length']?[['']]:X;}['formatPropertyValue'](O){var P=this['properties'][O],Q=this['blockAPI']['getTitlePlainTextByTitle'](P),R=this['table']['getProperty'](O);if(!R)return{'value':Q};if(R['type']===F['p']['Number']){var S=I['a']['filterNumber'](Q),T=parseFloat(S);return Number['isNaN'](T)?{'value':''}:{'value':Number(S)};}if(R['type']===F['p']['Checkbox'])return{'value':'True'===Q};if([F['p']['Date'],F['p']['CreatedTime'],F['p']['LastEditedTime']]['includes'](R['type'])){var U;return P&&P['some'](V=>{var W=C()(V,'[1]',null);if(W){var X=W['find'](Y=>'Mention'===Y[0x0]&&'date'===Y[0x1]);if(X)return U=C()(X,'2',{}),!0x0;}return!0x1;}),{'value':Q['startsWith']('@')?Q['substr'](0x1):Q,'extend':U};}return{'value':Q};}['formatFormulaValue'](O,P,Q){var {value:R,extend:S}=O,T=[['']];return T=P===F['p']['Date']?R&&(null==S?void 0x0:S['start_date'])?[[R,[['Mention','date',S]]]]:[['']]:P===F['p']['Checkbox']?R?[['True']]:[['False']]:[[''['concat'](R)]],this['formulaProperties']['set'](Q,T),T;}['duplicate'](O,P){var Q=J['a']['t']('stores.database.copySuffix','_副本',{'ns':'editor'}),R=A()(this['getData']());R['block_id']=O||Object(H['b'])();var S=R['properties'][this['table']['primaryId']],T=C()(S,'[0][0]','');if(P||!T||'string'!=typeof T||T['endsWith'](Q)||(T=''['concat'](T)['concat'](Q),R['properties'][this['table']['primaryId']]=[[T]]),this['template']){R['properties'][this['table']['primaryId']]=this['editorStore']['handleTitleVariable'](S||[['']]);var U=new Date()['toISOString']();R['created_time']=U,R['edited_time']=U,R['created_by']=this['userStore']['userId'],R['edited_by']=this['userStore']['userId'];}return R['version']=this['version']||0x1,R;}}M([E['b']],N['prototype'],'dataStore',0x2),M([E['b']],N['prototype'],'publicUserStore',0x2),M([E['b']],N['prototype'],'editorStore',0x2),M([E['b']],N['prototype'],'userStore',0x2),M([E['b']],N['prototype'],'blockAPI',0x2),M([D['computed']],N['prototype'],'isLoading',0x1),M([D['computed']],N['prototype'],'data',0x1),M([D['computed']],N['prototype'],'properties',0x1),M([D['computed']],N['prototype'],'created_by',0x1),M([D['computed']],N['prototype'],'version',0x1),M([D['computed']],N['prototype'],'created_time',0x1),M([D['computed']],N['prototype'],'edited_by',0x1),M([D['computed']],N['prototype'],'edited_time',0x1),M([D['computed']],N['prototype'],'template',0x1);},'amhU':function(j,q,w){'use strict';var x=w('mwIZ'),z=w['n'](x),A=w('OIS1'),B=w('Rqgu'),C=w('sA5H'),D=w('odX6'),F=w('9rbq'),G=w('F4U0'),H=w('5D19'),J=Object['defineProperty'],K=Object['defineProperties'],L=Object['getOwnPropertyDescriptor'],M=Object['getOwnPropertyDescriptors'],N=Object['getOwnPropertySymbols'],P=Object['prototype']['hasOwnProperty'],Q=Object['prototype']['propertyIsEnumerable'],R=(Z,a0,a1)=>a0 in Z?J(Z,a0,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a1}):Z[a0]=a1,T=(Z,a0)=>{for(var a1 in a0||(a0={}))P['call'](a0,a1)&&R(Z,a1,a0[a1]);if(N){for(var a1 of N(a0))Q['call'](a0,a1)&&R(Z,a1,a0[a1]);}return Z;},U=(Z,a0)=>K(Z,M(a0)),V=(Z,a0,a1,a2)=>{for(var a3,a4=a2>0x1?void 0x0:a2?L(a0,a1):a0,a5=Z['length']-0x1;a5>=0x0;a5--)(a3=Z[a5])&&(a4=(a2?a3(a0,a1,a4):a3(a4))||a4);return a2&&a4&&J(a0,a1,a4),a4;},W=(Z,a0,a1)=>new Promise((a2,a3)=>{var a4=a7=>{try{a6(a1['next'](a7));}catch(a8){a3(a8);}},a5=a7=>{try{a6(a1['throw'](a7));}catch(a8){a3(a8);}},a6=a7=>a7['done']?a2(a7['value']):Promise['resolve'](a7['value'])['then'](a4,a5);a6((a1=a1['apply'](Z,a0))['next']());}),X=[F['Y']['IMAGE'],F['Y']['FILE'],F['Y']['VIDEO'],F['Y']['AUDIO']];class Y{constructor(){this['generateFormData']=function(){var Z=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},a0=arguments['length']>0x1?arguments[0x1]:void 0x0,a1=a0||new FormData();for(var a2 in Z)Z[a2]&&a1['append'](a2,Z[a2]);return a1;},this['export4Download']=Z=>W(this,[Z],function*(a0){var {filename:a1,bucket:a2,table:a3}=a0,a4=this['generateFormData']({'filename':a1,'bucket':a2,'table':a3}),a5=yield B['a']['getSignedDownloadUrl'](a4);a5&&Object(G['e'])(''['concat'](a5,'&response-content-disposition=attachment'),!0x1,'_blank');}),this['postFileToOSS']=Z=>{var {file:a0,blockId:a1,key:a2,assetType:a3,unsigned:a4,onPrepare:a5,onBeforeUpload:a6,onUploadProgress:a7,OSSPath:a8,ext:a9,computedSize:aa}=Z;return new Promise((ab,ac)=>W(this,null,function*(){try{a1=this['dataStore']['getSourceId'](a1),X['includes'](a3)&&this['workspaceStore']['changeUploadFileCount']('add',a1);var ad=Object(A['b'])(),{name:ae='',size:af,type:ag}=a0,ah=aa||af,ai=ae['split']('.')['length']>0x1?ae['split']('.')['slice'](0x0,-0x1)['join']('.'):ae,aj=ae?a9?''['concat'](ai,'.')['concat'](a9):ae:''['concat'](Object(A['b'])())['concat'](a9),ak=''['concat'](a8,'/')['concat'](ad,'/')['concat'](aj);a5&&a5(ak);var {spaceId:al}=this['spaceStore'],am=yield B['a'][a4?'getUnsignedPostUrl':'getSignedPostUrl']({'spaceId':al,'fileSize':ah,'blockId':a1,'type':a3,'fileName':aj}),{policyData:an={}}=am||{},{url:ao,formData:ap,bucket:aq}=an;aq||ac(new Error('bucket\x20not\x20exist')),a6&&a6(an);var ar={'id':ad,'type':a3,'fileName':aj['replace'](/(\.[^.]+)$/,as=>as['toLowerCase']()),'fileSize':ah,'contentType':ag,'bucket':aq,'fileUrl':ak};a3!==F['Y']['IMPORT']&&(yield Object(C['b'])(this['generateFormData'](U(T(T({},ar),a1?{'blockId':a1}:{}),{'unsigned':a4})))),yield Object(H['d'])(ao,this['generateFormData'](U(T({},ap),{'key':ak,'success_action_status':'200','file':a0})),{'headers':{'Content-Type':'application/octet-stream'},'onUploadProgress':a7}),X['includes'](a3)&&this['workspaceStore']['changeUploadFileCount']('remove',a1),ab({'fileUrl':ak,'fileName':aj,'fileSize':ah,'bucket':aq,'recordData':ar});}catch(as){X['includes'](a3)&&this['workspaceStore']['changeUploadFileCount']('remove',a1),ac(as);}}));},this['canvas']=Z=>new Promise((a0,a1)=>{if(!Z)return a1(new Error('no\x20file'));var a2=new Image();a2['src']=Z,a2['onerror']=a1,a2['onload']=()=>{var a3=document['createElement']('canvas'),a4=a3['getContext']('2d'),a5=a2['width'],a6=a2['height'];a3['width']=a5,a3['height']=a6,a4['drawImage'](a2,0x0,0x0,a5,a6),a0(a3);};}),this['postBase64ImageToOSS']=Z=>{var {base64:a0,blockId:a1}=Z;return new Promise(a2=>W(this,null,function*(){var a3='.'['concat']('image/png'['split']('/')[0x1]);(yield this['canvas'](a0))['toBlob'](a4=>W(this,null,function*(){return a2(yield this['postFileToOSS']({'assetType':F['Y']['IMAGE'],'file':a4,'OSSPath':'static','blockId':a1,'ext':a3}));}),'image/png');}));},this['readDataUrl']=Z=>new Promise((a0,a1)=>{if(!Z)return a1(new Error('no\x20file'));var a2=new FileReader();a2['onload']=a3=>a0(a3['target']['result']),a2['onerror']=a1,a2['readAsDataURL'](Z);}),this['readMediaDataUrl']=Z=>URL['createObjectURL'](Z),this['revokeMediaDataUrl']=Z=>URL['revokeObjectURL'](Z),this['readJPGDataUrl']=Z=>new Promise((a0,a1)=>W(this,null,function*(){if(!Z)return a1(new Error('no\x20file'));var a2=(yield this['canvas'](yield this['readDataUrl'](Z)))['toDataURL']('image/jpeg');a0(a2);})),this['readImageFileType']=Z=>new Promise(a0=>{var a1=z()(Z,'clipboardData.items[0]',{});'string'===a1['kind']&&a1['getAsString']?a1['getAsString'](a2=>{a0(a2&&a2['split']('.')['slice'](-0x1)[0x0]);}):a0('');});}}V([D['b']],Y['prototype'],'spaceStore',0x2),V([D['b']],Y['prototype'],'dataStore',0x2),V([D['b']],Y['prototype'],'workspaceStore',0x2),q['a']=Y;},'amk+':function(a,b,c){'use strict';b['a']=()=>c['e'](0x2)['then'](c['bind'](null,'2WNV'));},'b/CI':function(f,g,j){'use strict';var k=j('sEfC'),m=j['n'](k),q=j('2vnA'),v=j('bXzw'),w=Object['defineProperty'],x=Object['getOwnPropertyDescriptor'],y=Object['getOwnPropertySymbols'],z=Object['prototype']['hasOwnProperty'],A=Object['prototype']['propertyIsEnumerable'],B=(E,F,G)=>F in E?w(E,F,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':G}):E[F]=G,C=(E,F,G,H)=>{for(var I,J=H>0x1?void 0x0:H?x(F,G):F,K=E['length']-0x1;K>=0x0;K--)(I=E[K])&&(J=(H?I(F,G,J):I(J))||J);return H&&J&&w(F,G,J),J;};class D{constructor(){this['mainCursor']={},this['mainCursorBlockInfo']=null,this['mainSelection']=[],this['originSelection']={},this['highLightStyle']=[],this['enabledStyle']={},this['setMainSelection']=m()(E=>{this['mainSelection']=E;},0x11);}get['hasSelection'](){return this['mainSelection']['length']>0x1;}get['hasCursor'](){return this['mainSelection']['length']>0x0&&document['activeElement']!==document['body'];}['setMainCursor'](E){this['mainCursor']=((F,G)=>{for(var H in G||(G={}))z['call'](G,H)&&B(F,H,G[H]);if(y){for(var H of y(G))A['call'](G,H)&&B(F,H,G[H]);}return F;})({},E);}['setOriginSelection'](E){this['originSelection']=E;}['setMainCursorBlockInfo'](E){this['mainCursorBlockInfo']=E;}['setHighLightStyle'](E){this['highLightStyle']=E;}['setEnabledStyle'](E){this['enabledStyle']=E;}}C([q['observable']],D['prototype'],'mainCursor',0x2),C([q['observable']],D['prototype'],'mainCursorBlockInfo',0x2),C([q['observable']],D['prototype'],'mainSelection',0x2),C([q['observable']],D['prototype'],'originSelection',0x2),C([q['observable']],D['prototype'],'highLightStyle',0x2),C([q['observable']],D['prototype'],'enabledStyle',0x2),C([q['computed']],D['prototype'],'hasSelection',0x1),C([q['computed']],D['prototype'],'hasCursor',0x1),C([q['action']],D['prototype'],'setMainCursor',0x1),C([q['action']],D['prototype'],'setMainSelection',0x2),C([q['action']['bound']],D['prototype'],'setOriginSelection',0x1),C([q['action']],D['prototype'],'setMainCursorBlockInfo',0x1),C([q['action']],D['prototype'],'setHighLightStyle',0x1),C([q['action']],D['prototype'],'setEnabledStyle',0x1),g['a']=Object(v['a'])(D);},'b4JY':function(b,c,d){'use strict';d['d'](c,'b',function(){return g;}),d['d'](c,'a',function(){return h;});var f=d('5D19'),g=(j,k)=>Object(f['i'])(Object(f['p'])('changelog/getUpdates',{'pageId':j,'lastSequence':k}),f['h'],!0x0),h=j=>Object(f['n'])(Object(f['p'])('changelog/getChangelogs'),{'changelogIds':j},f['h'],!0x0);},'bXzw':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=Symbol('SINGLETON_KEY');function f(g){return class extends g{static['getInstance'](){if(!this[d]){for(var h=arguments['length'],j=new Array(h),k=0x0;k<h;k++)j[k]=arguments[k];this[d]=new this(...j);}return this[d];}};}},'bue9':function(b,c,d){'use strict';var f=d('odX6'),g=d('f9x4'),h=d('llz1'),j=class{static['validate'](l,m,p){var q=j['actuators'][m];return q||console['error']('未实现成员类型'['concat'](m,'操作符')),q(l,p);}static['convert'](l,m,p){if(j['actuators'][m]||console['error']('未实现成员类型'['concat'](m,'操作符')),!j['validate'](l,m,p)){var q=j['convertors'][m];q||console['error']('未实现成员类型\x20'['concat'](m,'\x20转换')),q(l,p);}}},k=j;k['operators']=[g['k']['Contain'],g['k']['NotContain'],g['k']['Empty'],g['k']['NotEmpty']],k['actuators']={[g['k']['Contain']]:(l,m)=>{var p=Object(f['b'])('userStore');return l['has']('me'===m?p['userId']:m);},[g['k']['NotContain']]:(l,m)=>{var p=Object(f['b'])('userStore');return!l['has']('me'===m?p['userId']:m);},[g['k']['Empty']]:l=>0x0===l['size'],[g['k']['NotEmpty']]:l=>0x0!==l['size']},k['convertors']={[g['k']['Contain']]:(l,m)=>{var p=Object(f['b'])('userStore');l['add']('me'===m?p['userId']:m);},[g['k']['NotContain']]:()=>{},[g['k']['Empty']]:()=>{},[g['k']['NotEmpty']]:l=>{if(!l['size']){var m=Object(f['b'])('userStore');l['add'](m['userId']);}}},h['a']['registerValidator'](g['p']['People'],k),h['a']['registerValidator'](g['p']['CreatedBy'],k),h['a']['registerValidator'](g['p']['LastEditedBy'],k);},'cKhP':function(b,c,d){'use strict';d['d'](c,'b',function(){return j;}),d['d'](c,'a',function(){return k;});var f=d('9rbq'),g=d('uMVv'),h={'light':[{'value':'black','color':'#000000'},{'value':'dark_gray','color':'#495057'},{'value':'red','color':'#CF5659'},{'value':'orange','color':'#D88552'},{'value':'yellow','color':'#E8CD4D'},{'value':'green','color':'#49BD97'},{'value':'blue','color':'#567ECF'},{'value':'purple','color':'#A856CF'}],'dark':[{'value':'black','color':'rgba(255,\x20255,255,0.7)'},{'value':'dark_gray','color':'#8c97a4'},{'value':'red','color':'#CF5659'},{'value':'orange','color':'#D88552'},{'value':'yellow','color':'#E8CD4D'},{'value':'green','color':'#49BD97'},{'value':'blue','color':'#567ECF'},{'value':'purple','color':'#A856CF'}]},j=l=>{var m=l||g['a'](f['sc'],!0x0)||'light';return h[m]||h['light'];},k=l=>'dark'===(l||g['a'](f['sc'],!0x0))?h['dark']:h['light'];},'cWEG':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('ipy7'),g=(j,k,l)=>new Promise((m,p)=>{var q=w=>{try{v(l['next'](w));}catch(x){p(x);}},u=w=>{try{v(l['throw'](w));}catch(x){p(x);}},v=w=>w['done']?m(w['value']):Promise['resolve'](w['value'])['then'](q,u);v((l=l['apply'](j,k))['next']());}),h=()=>g(void 0x0,null,function*(){yield Promise['all']([g(void 0x0,null,function*(){void 0x0===window['IntersectionObserver']&&(yield d['e'](0x3c)['then'](d['t']['bind'](null,'Wr5T',0x7)));}),g(void 0x0,null,function*(){if(!window['ResizeObserver']){var j=yield d['e'](0x4d)['then'](d['bind'](null,'bdgK'));window['ResizeObserver']=j['default'];}}),g(void 0x0,null,function*(){void 0x0===window['DOMRect']&&(yield d['e'](0x35)['then'](d['bind'](null,'gcAm')));}),Object(f['a'])()]);});},'eBiW':function(f,j,k){'use strict';k['r'](j),(k('4Brf'),k('tjZM'),k('KhsS'),k('gOCb'),k('a57n'),k('I1Gw'),k('BIHw'),k('XbcX'),k('4mDm'),k('E9XD'),k('9N29'),k('Junv'),k('ToJy'),k('QGkA'),k('c9m3'),k('wZ/5'),k('rOQg'),k('QFcT'),k('w1rZ'),k('JevA'),k('toAj'),k('zKZe'),k('Eqjn'),k('5xtp'),k('wfmh'),k('v5b1'),k('W/eh'),k('rNhl'),k('4l63'),k('5s+n'),k('p532'),k('ftMj'),k('TWNs'),k('rB9j'),k('U3f4'),k('JfAA'),k('inlA'),k('JTJg'),k('Rm1S'),k('hDyC'),k('TZCg'),k('UxlC'),k('hByQ'),k('EnZy'),k('LKBx'),k('SYor'),k('HiXI'),k('7ueG'),k('z8NH'),k('SpvK'),k('/Yfv'),k('iwkZ'),k('FDzp'),k('XMab'),k('ilnZ'),k('hMMk'),k('+ywr'),k('IL/d'),k('7JcK'),k('IZzc'),k('s5qe'),k('3bBZ'),k('Ew+T'),k('n5b4'),k('Kz25'),k('vxnP'),k('mGGf'),k('jY8L'));var q,v,w,x=k('q1tI'),y=k('Hip5'),z=k('i8i4'),A=k('NKQG'),B=k('LhCv'),C=(k('aI3+'),k('kHGe')),D=k('+tG8'),E=k('Rsoz'),F=k('cWEG'),G=k('/P4t'),H=(k('9rbq'),k('qX4z'));Object(H['h'])(),q=void 0x0,v=null,w=function*(){yield Object(E['b'])();var I=Object(B['a'])();yield Object(F['a'])(),G['a']['getInstance']()['syncHistoryWithStore'](I),z['render'](x['createElement'](C['a'],{'theme':D['a']},x['createElement'](A['a'],{'maxSnack':0x3,'preventDuplicate':!0x0,'hideIconVariant':!0x0,'anchorOrigin':{'vertical':'top','horizontal':'center'}},x['createElement'](y['a'],{'history':I}))),document['getElementById']('root'));},new Promise((I,J)=>{var K=N=>{try{M(w['next'](N));}catch(O){J(O);}},L=N=>{try{M(w['throw'](N));}catch(O){J(O);}},M=N=>N['done']?I(N['value']):Promise['resolve'](N['value'])['then'](K,L);M((w=w['apply'](q,v))['next']());});},'eNwR':function(b,f,g){'use strict';var h=g('odX6'),j=g('nH7k'),k=g('v6je'),m=g('LxEI'),p=g('K8K1'),q=g('amhU'),u=g('qeIj'),v={'blockAPI':new j['a'](),'cursorAPI':new k['a'](),'domAPI':new m['a'](),'scrollAPI':new p['a'](),'kitAPI':new q['a'](),'aliOssAPI':new u['a']()};Object(h['d'])(v);},'eYb8':function(b,f,g){'use strict';g['d'](f,'a',function(){return x;});var h=g('2vnA'),j=g('kcif'),k=g['n'](j),m=g('m+4M'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],v=(y,z,A,B)=>{for(var C,D=B>0x1?void 0x0:B?q(z,A):z,E=y['length']-0x1;E>=0x0;E--)(C=y[E])&&(D=(B?C(z,A,D):C(D))||D);return B&&D&&p(z,A,D),D;},w=(y,z,A)=>new Promise((B,C)=>{var D=G=>{try{F(A['next'](G));}catch(H){C(H);}},E=G=>{try{F(A['throw'](G));}catch(H){C(H);}},F=G=>G['done']?B(G['value']):Promise['resolve'](G['value'])['then'](D,E);F((A=A['apply'](y,z))['next']());});class x{constructor(y){this['viewId']=y,this['pending']=!0x1,this['loading']=!0x1,this['search']='',this['records']=h['observable']['map'](),this['viewId']=y;}['changeSearch'](y){this['search']=y;}['add'](y,z){this['records']['has'](''['concat'](y))||this['records']['set'](''['concat'](y),new m['a'](this['viewId'],''['concat'](y),z));}['set'](y,z){this['records']['has'](''['concat'](y))||this['records']['set'](''['concat'](y),z);}['get'](y){return this['records']['get'](''['concat'](y));}['has'](y){return this['records']['has'](''['concat'](y));}['clear'](){this['records']['clear']();}['forEach'](){this['records']['forEach'](...arguments);}['keys'](){return this['records']['keys']();}['values'](){return this['records']['values']();}get['size'](){return this['records']['size'];}['pagination'](){return w(this,null,function*(){this['loading']=!0x0,this['pending']=!0x0;var y=k()([...this['records']['values']()],0xa),z=()=>w(this,null,function*(){var A=y['shift']()||[];yield Promise['all'](A['map'](B=>B['pagination'](this['search']))),y['length']&&(yield new Promise(B=>{window['requestAnimationFrame'](()=>w(this,null,function*(){yield z(),B('');}));}));});yield z(),this['loading']=!0x1,this['pending']=!0x1;});}['reFresh'](y,z){return w(this,null,function*(){this['pending']=!0x0;var A=k()([...this['records']['values']()],0xa),B=()=>w(this,null,function*(){var C=A['shift']()||[];yield Promise['all'](C['map'](D=>D['reFresh'](y,z,this['search']))),A['length']&&(yield new Promise(D=>{window['requestAnimationFrame'](()=>w(this,null,function*(){yield B(),D('');}));}));});yield B(),this['pending']=!0x1;});}}v([h['observable']],x['prototype'],'pending',0x2),v([h['observable']],x['prototype'],'loading',0x2),v([h['observable']],x['prototype'],'records',0x2);},'ei3D':function(b,d,f){'use strict';var g=f('ijCd'),h=f['n'](g),j=f('f9x4'),k=f('llz1'),l=class{static['validate'](p,q,u){var v=l['actuators'][q];return v||console['error']('未实现多选类型'['concat'](q,'操作符')),v(p,u);}static['convert'](p,q,u){if(l['actuators'][q]||console['error']('未实现多选类型'['concat'](q,'操作符')),!l['validate'](p,q,u)){var v=l['convertors'][q];v||console['error']('未实现多选类型\x20'['concat'](q,'\x20转换')),v(p,u);}}},m=l;m['operators']=[j['k']['Contain'],j['k']['NotContain'],j['k']['Empty'],j['k']['NotEmpty']],m['actuators']={[j['k']['Contain']]:(p,q)=>{var {value:u}=p['values']()['next']();return h()(u,q);},[j['k']['NotContain']]:(p,q)=>{var {value:u}=p['values']()['next']();return!h()(u,q);},[j['k']['Empty']]:p=>0x0===p['size'],[j['k']['NotEmpty']]:p=>0x0!==p['size']},m['convertors']={[j['k']['Contain']]:(p,q)=>{p['clear'](),p['add'](q);},[j['k']['NotContain']]:()=>{},[j['k']['Empty']]:p=>{p['clear']();},[j['k']['NotEmpty']]:()=>{}},k['a']['registerValidator'](j['p']['MultiSelect'],m);},'f9x4':function(J,Q,Z){'use strict';Z['d'](Q,'v',function(){return a3;}),Z['d'](Q,'l',function(){return a4;}),Z['d'](Q,'r',function(){return a5;}),Z['d'](Q,'t',function(){return a6;}),Z['d'](Q,'s',function(){return a7;}),Z['d'](Q,'p',function(){return a8;}),Z['d'](Q,'h',function(){return a9;}),Z['d'](Q,'k',function(){return aa;}),Z['d'](Q,'j',function(){return ab;}),Z['d'](Q,'i',function(){return ac;}),Z['d'](Q,'z',function(){return an;}),Z['d'](Q,'A',function(){return ao;}),Z['d'](Q,'y',function(){return at;}),Z['d'](Q,'f',function(){return au;}),Z['d'](Q,'c',function(){return av;}),Z['d'](Q,'e',function(){return aw;}),Z['d'](Q,'x',function(){return ax;}),Z['d'](Q,'d',function(){return ay;}),Z['d'](Q,'b',function(){return az;}),Z['d'](Q,'n',function(){return aA;}),Z['d'](Q,'B',function(){return aB;}),Z['d'](Q,'m',function(){return aC;}),Z['d'](Q,'g',function(){return aD;}),Z['d'](Q,'o',function(){return aE;}),Z['d'](Q,'q',function(){return aF;}),Z['d'](Q,'u',function(){return aG;}),Z['d'](Q,'C',function(){return aH;}),Z['d'](Q,'D',function(){return aI;}),Z['d'](Q,'a',function(){return aJ;}),Z['d'](Q,'w',function(){return aK;});var a0=Z('44Ds'),a1=Z['n'](a0),a2=Z('Rsoz'),a3=(aL=>(aL['SwitchRow']='switch_row',aL['UpdateRow']='update_row',aL['InsertRow']='insert_row',aL['DeleteRow']='delete_row',aL['UpdateCell']='update_cell',aL['InsertTemplateRow']='insert_template_row',aL['UpdateTemplateRow']='update_template_row',aL['DeleteTemplateRow']='delete_template_row',aL['SwitchColumn']='switch_column',aL['DeleteColumn']='delete_column',aL))(a3||{}),a4=(aL=>(aL['Or']='or',aL['And']='and',aL))(a4||{}),a5=(aL=>(aL['Asc']='asc',aL['Desc']='desc',aL))(a5||{}),a6=(aL=>(aL['ViewOperate']='view_operate',aL['ViewList']='view_list',aL['PropertyOperate']='property_operate',aL['CalculateOperate']='calculate_operate',aL['TagOperate']='tag_operate',aL['PropertyConfig']='property_config',aL['GroupByConfig']='group_by_config',aL['Filter']='filter',aL['Sort']='sort',aL['Menu']='menu',aL['Template']='template',aL['Number']='number',aL['ShareForm']='share_form',aL['FormulaOperate']='formula_operate',aL['GroupConfig']='group_config',aL))(a6||{}),a7=(aL=>(aL['None']='none',aL['Sum']='sum_value',aL['Average']='average_value',aL['Median']='median_value',aL['Max']='max_value',aL['Min']='min_value',aL['Range']='range_value',aL['CountAll']='count_all',aL['CountValues']='count_values',aL['CountUniqueValues']='count_unique_values',aL['CountNotEmpty']='count_not_empty',aL['CountEmpty']='count_empty',aL['PercentEmpty']='count_empty_percent',aL['percentNotEmpty']='count_not_empty_percent',aL['EarliestDate']='earliest_date',aL['LatestDate']='latest_date',aL['DateRange']='count_date_range',aL['Checked']='count_checked',aL['Unchecked']='count_unchecked',aL['PercentChecked']='count_checked_percent',aL['PercentUnchecked']='count_unchecked_percent',aL))(a7||{}),a8=(aL=>(aL['Primary']='primary',aL['Text']='text',aL['Number']='number',aL['Checkbox']='checkbox',aL['Select']='select',aL['MultiSelect']='multi_select',aL['Date']='date',aL['People']='people',aL['Relation']='relation',aL['Rollup']='rollup',aL['CreatedTime']='created_time',aL['CreatedBy']='created_by',aL['LastEditedTime']='edited_time',aL['LastEditedBy']='edited_by',aL['Url']='url',aL['Email']='email',aL['Phone']='phone',aL['File']='file',aL['SN']='sn',aL['Formula']='formula',aL))(a8||{}),a9=(aL=>(aL['Board']='board',aL['Table']='table',aL['List']='list',aL['Gallery']='gallery',aL['Form']='form',aL))(a9||{}),aa=(aL=>(aL['In']='in',aL['NotIn']='nin',aL['Equal']='eq',aL['NotEqual']='neq',aL['StartWith']='start_with',aL['EndWith']='end_with',aL['Contain']='contain',aL['NotContain']='not_contain',aL['Empty']='empty',aL['NotEmpty']='not_empty',aL['LessThan']='lt',aL['LessOrEqual']='lte',aL['GreaterThan']='gt',aL['GreaterOrEqual']='gte',aL['WithIn']='with_in',aL['FileNameContain']='file_name_contain',aL['FileTypeContain']='file_type_contain',aL['NumberEqual']='number_equal',aL['NumberNotEqual']='number_not_equal',aL['NumberLessThan']='number_less_than',aL['NumberLessOrEqual']='number_less_or_equal',aL['NumberGreaterThan']='number_greater_then',aL['NumberGreaterOrEqual']='number_greater_or_equal',aL))(aa||{}),ab={'eq':{'label':a1()(()=>a2['a']['t']('database.filterCondition.equal','等于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':()=>'=','operator':'eq'},'neq':{'label':a1()(()=>a2['a']['t']('database.filterCondition.notEqual','不等于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':()=>'≠','operator':'neq'},'start_with':{'label':a1()(()=>a2['a']['t']('database.filterCondition.startWith','开头为',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'start_with'},'end_with':{'label':a1()(()=>a2['a']['t']('database.filterCondition.endWith','结尾为',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'end_with'},'contain':{'label':a1()(()=>a2['a']['t']('database.filterCondition.contain','包含',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'contain'},'not_contain':{'label':a1()(()=>a2['a']['t']('database.filterCondition.notContain','不包含',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'not_contain'},'empty':{'label':a1()(()=>a2['a']['t']('database.filterCondition.empty','为空',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':a1()(()=>a2['a']['t']('database.filterCondition.empty','为空',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'empty'},'not_empty':{'label':a1()(()=>a2['a']['t']('database.filterCondition.notEmpty','不为空',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':a1()(()=>a2['a']['t']('database.filterCondition.notEmpty','不为空',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'not_empty'},'lt':{'label':a1()(()=>a2['a']['t']('database.filterCondition.lessThan','早于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':()=>'<','operator':'lt'},'gt':{'label':a1()(()=>a2['a']['t']('database.filterCondition.greaterThan','晚于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':()=>'>','operator':'gt'},'lte':{'label':a1()(()=>a2['a']['t']('database.filterCondition.lessOrEqual','早于等于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':()=>'≤','operator':'lte'},'gte':{'label':a1()(()=>a2['a']['t']('database.filterCondition.greaterOrEqual','晚于等于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'numberLabel':()=>'≥','operator':'gte'},'with_in':{'label':a1()(()=>a2['a']['t']('database.filterCondition.withIn','位于',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'with_in'},'number_equal':{'label':()=>'=','operator':'eq'},'number_not_equal':{'label':()=>'≠','operator':'neq'},'number_less_than':{'label':()=>'<','operator':'lt'},'number_greater_then':{'label':()=>'>','operator':'gt'},'number_less_or_equal':{'label':()=>'≤','operator':'lte'},'number_greater_or_equal':{'label':()=>'≥','operator':'gte'},'file_name_contain':{'label':a1()(()=>a2['a']['t']('database.filterCondition.fileNameContain','文件名包含',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'file_name_contain'},'file_type_contain':{'label':a1()(()=>a2['a']['t']('database.filterCondition.fileTypeContain','文件类型包含',{'ns':'editor'}),()=>a2['a']['isInitialized']),'operator':'file_type_contain'}},ac={'today':{'label':a1()(()=>a2['a']['t']('database.filterCondition.today','今天',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'today','type':'relative'},'tomorrow':{'label':a1()(()=>a2['a']['t']('database.filterCondition.tomorrow','明天',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'tomorrow','type':'relative'},'yesterday':{'label':a1()(()=>a2['a']['t']('database.filterCondition.yesterday','昨天',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'yesterday','type':'relative'},'oneWeekAgo':{'label':a1()(()=>a2['a']['t']('database.filterCondition.oneWeekAgo','一周前',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'oneWeekAgo','type':'relative'},'oneWeekFromNow':{'label':a1()(()=>a2['a']['t']('database.filterCondition.oneWeekFromNow','一周后',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'oneWeekFromNow','type':'relative'},'oneMonthAgo':{'label':a1()(()=>a2['a']['t']('database.filterCondition.oneMonthAgo','一个月前',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'oneMonthAgo','type':'relative'},'oneMonthFromNow':{'label':a1()(()=>a2['a']['t']('database.filterCondition.oneMonthFromNow','一个月后',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'oneMonthFromNow','type':'relative'},'last7Days':{'label':a1()(()=>a2['a']['t']('database.filterCondition.last7Days','最近7天',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'last7Days','type':'relative'},'last30Days':{'label':a1()(()=>a2['a']['t']('database.filterCondition.last30Days','最近30天',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'last30Days','type':'relative'},'thisWeek':{'label':a1()(()=>a2['a']['t']('database.filterCondition.thisWeek','本周',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'thisWeek','type':'relative'},'lastWeek':{'label':a1()(()=>a2['a']['t']('database.filterCondition.lastWeek','上周',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'lastWeek','type':'relative'},'nextWeek':{'label':a1()(()=>a2['a']['t']('database.filterCondition.nextWeek','下周',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'nextWeek','type':'relative'},'thisMonth':{'label':a1()(()=>a2['a']['t']('database.filterCondition.thisMonth','本月',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'thisMonth','type':'relative'},'lastMonth':{'label':a1()(()=>a2['a']['t']('database.filterCondition.lastMonth','上月',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'lastMonth','type':'relative'},'nextMonth':{'label':a1()(()=>a2['a']['t']('database.filterCondition.nextMonth','下月',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'nextMonth','type':'relative'},'thisYear':{'label':a1()(()=>a2['a']['t']('database.filterCondition.thisYear','今年',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'thisYear','type':'relative'},'lastYear':{'label':a1()(()=>a2['a']['t']('database.filterCondition.lastYear','去年',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'lastYear','type':'relative'},'nextYear':{'label':a1()(()=>a2['a']['t']('database.filterCondition.nextYear','明年',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'nextYear','type':'relative'},'customDate':{'label':a1()(()=>a2['a']['t']('database.filterCondition.customDate','具体日期',{'ns':'editor'}),()=>a2['a']['isInitialized']),'value':'customDate','type':'customDate'}},ad=[ab['eq'],ab['neq'],ab['start_with'],ab['end_with'],ab['contain'],ab['not_contain'],ab['empty'],ab['not_empty']],ae=[ab['number_equal'],ab['number_not_equal'],ab['number_less_than'],ab['number_greater_then'],ab['number_less_or_equal'],ab['number_greater_or_equal'],ab['empty'],ab['not_empty']],af=[ab['contain'],ab['not_contain'],ab['empty'],ab['not_empty']],ag=[ab['eq'],ab['neq'],ab['empty'],ab['not_empty']],ah=[ab['eq'],ab['neq']],ai=[ab['empty'],ab['not_empty']],aj=[ab['empty'],ab['not_empty']],ak=[ab['contain'],ab['not_contain'],ab['empty'],ab['not_empty']],al=[ab['eq'],ab['neq'],ab['lt'],ab['gt'],ab['lte'],ab['gte'],ab['with_in'],ab['empty'],ab['not_empty']],am=[ab['contain'],ab['not_contain'],ab['empty'],ab['not_empty']],an=aL=>['lt','gt','lte','gte','eq','neq']['includes'](aL)?[ac['customDate'],ac['today'],ac['yesterday'],ac['tomorrow'],ac['oneWeekAgo'],ac['oneWeekFromNow'],ac['oneMonthAgo'],ac['oneMonthFromNow']]:['with_in']['includes'](aL)?[ac['customDate'],ac['last7Days'],ac['last30Days'],ac['thisWeek'],ac['lastWeek'],ac['nextWeek'],ac['thisMonth'],ac['lastMonth'],ac['nextMonth'],ac['thisYear'],ac['lastYear'],ac['nextYear']]:[],ao=aL=>['primary','text','email','phone','url']['includes'](aL)?ad:'number'===aL?ae:'file'===aL?aj:'select'===aL?ag:'multi_select'===aL?af:'checkbox'===aL?ah:['date','created_time','edited_time']['includes'](aL)?al:['people','created_by','edited_by']['includes'](aL)?ak:'formula'===aL?ai:['relation','rollup']['includes'](aL)?am:[],ap=a1()(()=>[{'label':a2['a']['t']('database.basicCalcList.noneLabel','无',{'ns':'editor'}),'key':'none','type':'none'},{'label':a2['a']['t']('database.basicCalcList.countLabel','总行数',{'ns':'editor'}),'key':'count_all','type':'count_all','text':a2['a']['t']('database.basicCalcList.countText','总数',{'ns':'editor'})},{'label':a2['a']['t']('database.basicCalcList.countValueLabel','填写的值',{'ns':'editor'}),'key':'count_values','type':'count_values','text':a2['a']['t']('database.basicCalcList.countValueText','数量',{'ns':'editor'})},{'label':a2['a']['t']('database.basicCalcList.uniqueLabel','唯一值',{'ns':'editor'}),'key':'count_unique_values','type':'count_unique_values','text':a2['a']['t']('database.basicCalcList.uniqueText','唯一值',{'ns':'editor'})},{'label':a2['a']['t']('database.basicCalcList.emptyLabel','未填写',{'ns':'editor'}),'key':'count_empty','type':'count_empty','text':a2['a']['t']('database.basicCalcList.emptyText','未填写',{'ns':'editor'})},{'label':a2['a']['t']('database.basicCalcList.filledLabel','已填写',{'ns':'editor'}),'key':'count_not_empty','type':'count_not_empty','text':a2['a']['t']('database.basicCalcList.filledText','已填写',{'ns':'editor'})},{'label':a2['a']['t']('database.basicCalcList.emptyRateLabel','未填写占比',{'ns':'editor'}),'key':'count_empty_percent','type':'count_empty_percent','text':a2['a']['t']('database.basicCalcList.emptyRateText','未填写',{'ns':'editor'})},{'label':a2['a']['t']('database.basicCalcList.filledRateLabel','已填写占比',{'ns':'editor'}),'key':'count_not_empty_percent','type':'count_not_empty_percent','text':a2['a']['t']('database.basicCalcList.filledRateText','已填写',{'ns':'editor'})}],()=>a2['a']['isInitialized']),aq=a1()(()=>[{'label':a2['a']['t']('database.numberCalcList.sumLabel','求和',{'ns':'editor'}),'key':'sum_value','type':'sum_value','text':a2['a']['t']('database.numberCalcList.sumText','总和',{'ns':'editor'})},{'label':a2['a']['t']('database.numberCalcList.averageLabel','平均值',{'ns':'editor'}),'key':'average_value','type':'average_value','text':a2['a']['t']('database.numberCalcList.averageText','平均值',{'ns':'editor'})},{'label':a2['a']['t']('database.numberCalcList.medianLabel','中位数',{'ns':'editor'}),'key':'median_value','type':'median_value','text':a2['a']['t']('database.numberCalcList.medianText','中位数',{'ns':'editor'})},{'label':a2['a']['t']('database.numberCalcList.maxLabel','最大值',{'ns':'editor'}),'key':'max_value','type':'max_value','text':a2['a']['t']('database.numberCalcList.maxText','最大值',{'ns':'editor'})},{'label':a2['a']['t']('database.numberCalcList.minLabel','最小值',{'ns':'editor'}),'key':'min_value','type':'min_value','text':a2['a']['t']('database.numberCalcList.minText','最小值',{'ns':'editor'})},{'label':a2['a']['t']('database.numberCalcList.rangeLabel','范围',{'ns':'editor'}),'key':'range_value','type':'range_value','text':a2['a']['t']('database.numberCalcList.rangeText','范围',{'ns':'editor'})}],()=>a2['a']['isInitialized']),ar=a1()(()=>[{'label':a2['a']['t']('database..dateCalcList.earliestLabel','最早时间',{'ns':'editor'}),'key':'earliest_date','type':'earliest_date','text':a2['a']['t']('database..dateCalcList.earliestText','最早距今',{'ns':'editor'})},{'label':a2['a']['t']('database..dateCalcList.latestLabel','最晚时间',{'ns':'editor'}),'key':'latest_date','type':'latest_date','text':a2['a']['t']('database..dateCalcList.latestText','最晚距今',{'ns':'editor'})},{'label':a2['a']['t']('database..dateCalcList.rangeLabel','日期范围',{'ns':'editor'}),'key':'count_date_range','type':'count_date_range','text':a2['a']['t']('database..dateCalcList.rangeText','范围',{'ns':'editor'})}],()=>a2['a']['isInitialized']),as=a1()(()=>[{'label':a2['a']['t']('database.checkboxCalcList.noneLabel','无',{'ns':'editor'}),'key':'none','type':'none','text':''},{'label':a2['a']['t']('database.checkboxCalcList.doneLabel','已完成',{'ns':'editor'}),'key':'count_checked','type':'count_checked','text':a2['a']['t']('database.checkboxCalcList.doneText','已完成',{'ns':'editor'})},{'label':a2['a']['t']('database.checkboxCalcList.notDoneLabel','未完成',{'ns':'editor'}),'key':'count_unchecked','type':'count_unchecked','text':a2['a']['t']('database.checkboxCalcList.notDoneText','未完成',{'ns':'editor'})},{'label':a2['a']['t']('database.checkboxCalcList.percentCheckedLabel','已完成占比',{'ns':'editor'}),'key':'count_checked_percent','type':'count_checked_percent','text':a2['a']['t']('database.checkboxCalcList.percentCheckedText','已完成',{'ns':'editor'})},{'label':a2['a']['t']('database.checkboxCalcList.percentUncheckedLabel','未完成占比',{'ns':'editor'}),'key':'count_unchecked_percent','type':'count_unchecked_percent','text':a2['a']['t']('database.checkboxCalcList.percentUncheckedText','未完成',{'ns':'editor'})}],()=>a2['a']['isInitialized']),at=aL=>['primary','text','select','multi_select','people','file','url','email','phone','created_by','edited_by']['includes'](aL)?ap():['number','formula']['includes'](aL)?ap()['concat'](aq()):['date','created_time','edited_time']['includes'](aL)?ap()['concat'](ar()):'checkbox'===aL?as():[],au=new Map(ap()['concat'](aq(),ar(),as())['map'](aL=>[aL['type'],aL])),av=(aL=>(aL['Small']='small',aL['Normal']='normal',aL['Large']='large',aL))(av||{}),aw=(aL=>(aL['None']='none',aL['Cover']='cover',aL['Content']='content',aL))(aw||{}),ax=aL=>{switch(aL){case'small':return a2['a']['t']('database.boardColumnSizeText.small','小',{'ns':'editor'});case'normal':return a2['a']['t']('database.boardColumnSizeText.normal','中',{'ns':'editor'});case'large':return a2['a']['t']('database.boardColumnSizeText.large','大',{'ns':'editor'});default:return'';}},ay={'small':'176','normal':'256','large':'336'},az={'small':0x6c,'normal':0xa0,'large':0xd6},aA=(aL=>(aL['Number']='number',aL['Percent']='percent',aL['Progress']='progress',aL['Yuan']='yuan',aL['Dollar']='dollar',aL['Euro']='euro',aL['Yen']='yen',aL['Float']='float',aL['Integer']='integer',aL['Thousandth']='thousandth',aL['Vnd']='vnd',aL['Hkd']='hkd',aL))(aA||{}),aB=aL=>{switch(aL){case'number':return a2['a']['t']('database.numberFormateText.number','数字',{'ns':'editor'});case'percent':return a2['a']['t']('database.numberFormateText.percent','百分比',{'ns':'editor'});case'progress':return a2['a']['t']('database.numberFormateText.progress','进度条',{'ns':'editor'});case'yuan':return a2['a']['t']('database.numberFormateText.yuan','人民币',{'ns':'editor'});case'dollar':return a2['a']['t']('database.numberFormateText.dollar','美元',{'ns':'editor'});case'euro':return a2['a']['t']('database.numberFormateText.euro','欧元',{'ns':'editor'});case'yen':return a2['a']['t']('database.numberFormateText.yen','日元',{'ns':'editor'});case'float':return a2['a']['t']('database.numberFormateText.float','两位小数',{'ns':'editor'});case'integer':return a2['a']['t']('database.numberFormateText.integer','整数',{'ns':'editor'});case'thousandth':return a2['a']['t']('database.numberFormateText.thousandth','千分位',{'ns':'editor'});case'vnd':return a2['a']['t']('database.numberFormateText.vnd','越南盾',{'ns':'editor'});case'hkd':return a2['a']['t']('database.numberFormateText.hkd','港元',{'ns':'editor'});default:return'';}},aC=['yuan','dollar','euro','yen','vnd','hkd'],aD=(aL=>(aL['AllUser']='all_user',aL['WorkspaceUser']='workspace_user',aL['RegisteredUser']='registered_user',aL))(aD||{}),aE=(aL=>(aL['URL']='jump_url',aL['BUTTON']='show_button',aL['REFRESH']='refresh',aL))(aE||{}),aF=(aL=>(aL['List']='list',aL['Drop']='drop',aL))(aF||{}),aG=(aL=>(aL['Single']='single',aL['Multiple']='multiple',aL))(aG||{}),aH=aL=>{switch(aL){case'drop':return a2['a']['t']('database.selectFormatText.drop','下拉列表',{'ns':'editor'});case'list':return a2['a']['t']('database.selectFormatText.list','选项列表',{'ns':'editor'});default:return'';}},aI=aL=>{switch(aL){case'single':return a2['a']['t']('database.textFormatText.single','单行文本',{'ns':'editor'});case'multiple':return a2['a']['t']('database.textFormatText.multiple','多行文本',{'ns':'editor'});default:return'';}},aJ=['created_time','created_by','edited_time','edited_by','formula'],aK=a1()(()=>[{'type':'image','accept':'image/*','label':a2['a']['t']('database.allowFileTypes.image','图片',{'ns':'editor'})},{'type':'video','accept':'video/*','label':a2['a']['t']('database.allowFileTypes.video','视频',{'ns':'editor'})},{'type':'audio','accept':'audio/*','label':a2['a']['t']('database.allowFileTypes.audio','音频',{'ns':'editor'})},{'type':'text','accept':'text/*','label':a2['a']['t']('database.allowFileTypes.text','文本',{'ns':'editor'})},{'type':'word','accept':'.doc,.docx,.dot,.dotx,.docm,.dotm,.odt,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document','label':'Word'},{'type':'excel','accept':'.xlsx,.xls,.csv,.xltx,.xlt,.xlsm,.xlsb,.xltm,/xlam,.xla,.ods,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet','label':'Excel'},{'type':'powerpoint','accept':'.ppt,.pptx,.pot,.potx,.odp,.ppsx,.pps,.pptm,.potm,.ppsm,application/vnd.ms-powerpoint','label':'PowerPoint'},{'type':'pdf','accept':'.pdf,application/pdf','label':'PDF'},{'type':'pages','accept':'.pages','label':'Pages'},{'type':'numbers','accept':'.numbers','label':'Numbers'},{'type':'keynote','accept':'.key','label':'Keynote'}]);},'fAci':function(f,g,j){'use strict';var k=j('sEfC'),m=j['n'](k),q=j('Y+p1'),v=j['n'](q),w=j('2vnA'),x=j('9rbq'),y=j('odX6'),z=j('bXzw'),A=Object['defineProperty'],B=Object['getOwnPropertyDescriptor'],C=(E,F,G,H)=>{for(var I,J=H>0x1?void 0x0:H?B(F,G):F,K=E['length']-0x1;K>=0x0;K--)(I=E[K])&&(J=(H?I(F,G,J):I(J))||J);return H&&J&&A(F,G,J),J;};Object(w['configure'])({'enforceActions':'never'});class D{constructor(){this['hoverOccurrenceTimer']=null,this['externalOccurrences']=new Map(),this['membersToClean']=[],this['setOccurrence']=m()(E=>{v()(this['occurrence'],E)||(this['occurrence']=E);},0x1f4),this['setHoverOccurrence']=E=>{this['hoverOccurrenceTimer']&&(clearTimeout(this['hoverOccurrenceTimer']),this['hoverOccurrenceTimer']=null),this['hoverOccurrenceTimer']=window['setTimeout'](()=>{var F;if((null==(F=this['editorUI']['hoverItem'])?void 0x0:F['id'])===E){var G=this['dataStore']['getBlockValue'](E),{parent_id:H,parent_type:I}=G;this['setOccurrence']({'blockId':E,'databaseBlockId':I===x['y']['DATABASE']?H:''});}this['hoverOccurrenceTimer']=null;},0x3e8);},this['setExternalOccurrence']=(E,F)=>{var G=F;G['pageId']===this['pageStore']['pageId']&&(G['lastSeenAt']=Date['now'](),G['inactive']=!0x1,this['externalOccurrences']['set'](E,G),this['membersToClean']=[],this['externalMembers']=Array['from'](Array['from'](this['externalOccurrences']['values']())),(this['memberStore']['currentWorkspaceMembers']['get'](E)||this['guestMemberStore']['members']['get'](E))&&this['screenStore']['mainScreen']['visitor']['addVisitor'](E));},this['touchExternalOccurrence']=E=>{this['externalOccurrences']['set'](E['userId'],E),this['externalMembers']=Array['from'](Array['from'](this['externalOccurrences']['values']()));},this['cleanExternalOccurrences']=()=>{var E=[],F=[];this['externalOccurrences']['forEach']((G,H)=>{!G['lastSeenAt']||Date['now']()-G['lastSeenAt']>0xea60?(this['externalOccurrences']['delete'](H),E['push'](H),F['push'](H)):!G['idle']&&G['startOffset']>=0x0&&G['endOffset']>=0x0&&G['lastSeenAt']&&Date['now']()-G['lastSeenAt']>0x7530?(G['idle']=!0x0,E['push'](H)):!G['inactive']&&G['startOffset']>=0x0&&G['endOffset']>=0x0&&G['lastSeenAt']&&Date['now']()-G['lastSeenAt']>0xbb8&&(G['inactive']=!0x0,E['push'](H));}),0x0!==E['length']&&(this['membersToClean']=F,this['externalMembers']=Array['from'](Array['from'](this['externalOccurrences']['values']())),this['screenStore']['mainScreen']['visitor']['setExpiredVisitorsOffline']());};}}C([w['observable']],D['prototype'],'occurrence',0x2),C([w['observable']],D['prototype'],'externalOccurrences',0x2),C([w['observable']],D['prototype'],'externalMembers',0x2),C([w['observable']],D['prototype'],'membersToClean',0x2),C([y['b']],D['prototype'],'pageStore',0x2),C([y['b']],D['prototype'],'editorUI',0x2),C([y['b']],D['prototype'],'dataStore',0x2),C([y['b']],D['prototype'],'screenStore',0x2),C([y['b']],D['prototype'],'memberStore',0x2),C([y['b']],D['prototype'],'guestMemberStore',0x2),C([w['action']],D['prototype'],'setOccurrence',0x2),C([w['action']],D['prototype'],'setHoverOccurrence',0x2),C([w['action']],D['prototype'],'setExternalOccurrence',0x2),C([w['action']],D['prototype'],'touchExternalOccurrence',0x2),C([w['action']],D['prototype'],'cleanExternalOccurrences',0x2),g['a']=Object(z['a'])(D);},'fZkv':function(a0,a1,a2){'use strict';a2['d'](a1,'I',function(){return ar;}),a2['d'](a1,'t',function(){return as;}),a2['d'](a1,'i',function(){return at;}),a2['d'](a1,'C',function(){return au;}),a2['d'](a1,'H',function(){return av;}),a2['d'](a1,'F',function(){return aw;}),a2['d'](a1,'B',function(){return ax;}),a2['d'](a1,'D',function(){return ay;}),a2['d'](a1,'e',function(){return az;}),a2['d'](a1,'O',function(){return aA;}),a2['d'](a1,'v',function(){return aB;}),a2['d'](a1,'j',function(){return aC;}),a2['d'](a1,'x',function(){return aM;}),a2['d'](a1,'p',function(){return aN;}),a2['d'](a1,'Q',function(){return aO;}),a2['d'](a1,'R',function(){return aP;}),a2['d'](a1,'M',function(){return aQ;}),a2['d'](a1,'r',function(){return aW;}),a2['d'](a1,'f',function(){return aX;}),a2['d'](a1,'m',function(){return aY;}),a2['d'](a1,'n',function(){return b0;}),a2['d'](a1,'q',function(){return b1;}),a2['d'](a1,'A',function(){return b2;}),a2['d'](a1,'l',function(){return b3;}),a2['d'](a1,'k',function(){return b5;}),a2['d'](a1,'b',function(){return b6;}),a2['d'](a1,'s',function(){return b7;}),a2['d'](a1,'y',function(){return b8;}),a2['d'](a1,'a',function(){return b9;}),a2['d'](a1,'u',function(){return bc;}),a2['d'](a1,'c',function(){return bd;}),a2['d'](a1,'E',function(){return bf;}),a2['d'](a1,'P',function(){return bg;}),a2['d'](a1,'h',function(){return bh;}),a2['d'](a1,'S',function(){return bi;}),a2['d'](a1,'z',function(){return bj;}),a2['d'](a1,'N',function(){return bk;}),a2['d'](a1,'g',function(){return bl;}),a2['d'](a1,'d',function(){return bm;}),a2['d'](a1,'K',function(){return bn;}),a2['d'](a1,'o',function(){return bo;}),a2['d'](a1,'G',function(){return bp;}),a2['d'](a1,'J',function(){return bq;}),a2['d'](a1,'L',function(){return br;}),a2['d'](a1,'w',function(){return bs;});var a3=a2('vN+2'),a4=a2['n'](a3),a5=a2('mwIZ'),a6=a2['n'](a5),a7=a2('ELx6'),a8=a2('Wgwc'),a9=a2('odX6'),aa=a2('iHkl'),ab=a2('Usk8'),ac=a2('OIS1'),ad=a2('lDk4'),af=a2('4Ljp'),ag=a2('paMO'),ah=a2('0W19'),ai=a2('7+vZ'),aj=a2('9rbq'),ak=a2('sA5H'),al=a2('mFjg'),am=a2('Ko11'),an=a2('hcfp'),ao=(bt,bu,bv)=>new Promise((bw,bx)=>{var by=bB=>{try{bA(bv['next'](bB));}catch(bC){bx(bC);}},bz=bB=>{try{bA(bv['throw'](bB));}catch(bC){bx(bC);}},bA=bB=>bB['done']?bw(bB['value']):Promise['resolve'](bB['value'])['then'](by,bz);bA((bv=bv['apply'](bt,bu))['next']());}),ap=window||{},aq=(bt,bu)=>{var bv=Object(a9['b'])('domAPI'),bw=Object(a9['b'])('editorStore'),bx=Object(a9['b'])('blockAPI'),by=Object(a9['b'])('cursorAPI');bw['addMissionExecuteAfterRender'](()=>{var bz=bx['getNodeContentDom'](bt);bz&&(bz['focus'](),by['moveCursor']({'id':bt,'position':bu,'noScroll':!0x0})),setTimeout(()=>{if(by['moveCursor']({'id':bt,'position':bu,'noScroll':!0x0}),ap['MockFocuse']){var {xPos:bA,yPos:bB}=bv['getSelectionCoords']();ap['MockFocuse']['postMessage'](JSON['stringify']({'x':bA,'y':bB}));}},0xa);});},ar=(bt,bu)=>{var bv=Object(a9['b'])('domAPI'),bw=Object(a9['b'])('dataStore'),bx=Object(a9['b'])('userStore'),by=Object(a9['b'])('popperStore');if(!bx['userId'])return null;if(0x0===bu&&by['modalStatus']['app-action-bar-wrapper'])ab['b']['emit']('destroyAppActionBar');else{if(bu>0x2c){var {anchorNode:bz}=document['getSelection']();if(!bz)return;var bA=bv['getNodeIdByElement'](bz),{cellId:bB}=bv['getCellDataProps']();by['modalStatus']['app-action-bar-wrapper']?ab['b']['emit']('renderAppActionBar',{'nodeId':bA,'cellId':bB,'node':bw['getBlockValue'](bA),'style':{'top':bu-0x2c,'left':bt},'data':{'keyboardX':bt,'keyboardY':bu}}):ab['b']['emit']('openAppActionBar',{'nodeId':bA,'cellId':bB,'node':bw['getBlockValue'](bA),'style':{'top':bu-0x2c,'left':bt},'data':{'keyboardX':bt,'keyboardY':bu}});}}},as=()=>{var bt=Object(a9['b'])('userStore'),bu=Object(a9['b'])('popperStore');if(!bt['userId'])return!0x0;var bv=Object(a9['b'])('editorUI');if(bv['sideBarVisible'])return bv['hideSideBar'](),!0x1;if(bu['modalStatus']['icon-menu-wrapper'])return ab['b']['emit']('closeIconModal'),!0x1;if(bu['modalStatus']['block-type-wrapper'])return ab['b']['emit']('destroyBlockTypeListModal'),!0x1;var bw=document['querySelector']('.moreMenuList'),bx=document['querySelector']('#wolai-header-bar'),by=document['querySelector']('.shareMenu');return bw&&bx&&bx['onTriggerCloseMenuModal']&&'function'==typeof bx['onTriggerCloseMenuModal']?(bx['onTriggerCloseMenuModal'](),!0x1):!(by&&bx&&bx['onTriggerCloseShareModal']&&'function'==typeof bx['onTriggerCloseShareModal'])||(bx['onTriggerCloseShareModal'](),!0x1);},at=()=>{ap['ClickNavigate']&&ap['ClickNavigate']['postMessage']('');},au=bt=>{var bu=Object(a9['b'])('workspaceStore');(bt&&bt['toLowerCase']())!==bu['theme']&&bu['toggleTheme'](!0x0);},av=()=>ao(void 0x0,null,function*(){ah['a']['track']('click_need_help_kf5'),yield af['a']['getInstance']()['open']();}),aw=bt=>{Object(a9['b'])('workspaceStore')['setInApp'](bt);},ax=bt=>{try{if(bt){var bu=JSON['parse'](bt),bv=Object(a9['b'])('workspaceStore');bu['version']&&bv['setAppVersion'](bu['version']),bu['device']&&bv['setAppDevice'](bu['device']);}}catch(bw){}},ay=bt=>{Object(a9['b'])('workspaceStore')['setDisableUpdate'](bt);},az=bt=>{ap['CopyToClipBoard']&&ap['CopyToClipBoard']['postMessage'](bt);},aA=()=>ap['CloseSearch']&&ap['CloseSearch']['postMessage'](''),aB=()=>ao(void 0x0,null,function*(){var bt=Object(a9['b'])('routerStore'),bu=Object(a9['b'])('editorUI');bu['sideBarVisible']&&bu['hideSideBar']();var bv=yield Object(a7['a'])();bv['isShow']()||bv['open']({'history':bt['history'],'enableKeyDownEvent':!0x1,'style':{'overflow':'auto','display':'flex','flexDirection':'column','overflowX':'hidden'}});}),aC=()=>ao(void 0x0,null,function*(){(yield Object(a7['a'])())['close']();}),aD='SHIFTTAB',aE='DOTAB',aF='DOUNDO',aG='DOREDO',aH='INSERTPICTURE',aI='PASTE',aJ='TRASH',aK='HIDEKEYBOARD',aL='MENTION',aM=bt=>{Object(a9['b'])('domAPI')['isSelectionRange']()||ap['FocuseDomShowKeyboard']&&ap['FocuseDomShowKeyboard']['postMessage'](aZ(bt));},aN=bt=>{ap['RecordHideToolbarType']&&ap['RecordHideToolbarType']['postMessage'](bt);},aO=bt=>{ap['TriggerSelectText']&&ap['TriggerSelectText']['postMessage'](JSON['stringify'](bt));},aP=()=>{ap['TriggerUnselectText']&&ap['TriggerUnselectText']['postMessage']('');},aQ=bt=>{var {type:bu,operate:bv}=bt,bw=Object(a9['a'])('biLink');['B','i','U','S','<>','Equation']['includes'](bu)?aV([bu],bv):'BiLink'===bu&&bw['toggleBiLinkByRange']();},aR=(bt,bu,bv,bw)=>{var {startTotalOffset:bx,endTotalOffset:by,filterReg:bz}=bw,bA=Object(a9['b'])('domAPI'),bB=Object(a9['b'])('blockAPI'),bC=[],{cellId:bD,codeId:bE}=bA['getCellDataProps'](),bF=bE?bB['getCaptionById'](bE):bD?bB['getCellNodeTitle'](bt,bD):bB['getNodeTitle'](bt),[bG,bH,bI]=bB['sliceTitle'](bF,bx,by);return bC['push'](...bG),bH&&(bH['forEach'](bJ=>{bz&&(bJ[0x0]=bJ[0x0]['replace'](bz,'')),aS(bJ,bu,bv);}),bC['push'](...bH)),bC['push'](...bI),bB['rearrangeNodeTitle'](bC);},aS=(bt,bu,bv)=>{'add'===bv?aT(bt,bu):'remove'===bv&&aU(bt,bu);},aT=(bt,bu)=>{bt[0x1]=bt[0x1]||[];var bv=!0x1,bw=-0x1;if(bt[0x1]['forEach']((by,bz)=>{'h'===by[0x0]&&(bw=bz),by[0x0]===bu[0x0]&&(bv=!0x0,Object['assign'](by,bu));}),bv||bt[0x1]['push'](bu),bw>-0x1){var bx=[...bt[0x1][bw]];bt[0x1]['splice'](bw,0x1),bt[0x1]['push'](bx);}},aU=(bt,bu)=>{bt[0x1]=bt[0x1]||[];var bv=-0x1;bt[0x1]['forEach']((bw,bx)=>{var by=bw[0x0];['Link','h']['includes'](by)?by===bu[0x0]&&(bv=bx):JSON['stringify'](bw)===JSON['stringify'](bu)&&(bv=bx);}),-0x1!==bv&&bt[0x1]['splice'](bv,0x1),bt[0x1]['length']||bt['splice'](0x1,0x1);},aV=function(bt){var bu=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'',bv=Object(a9['b'])('domAPI'),bw=Object(a9['b'])('blockAPI'),bx=Object(a9['b'])('editorStore'),by=Object(a9['b'])('cursorAPI'),[bz,bA]=bv['getSelection']();if(bz&&bA){var bB=bz['nodeId'],{cellId:bC}=bv['getCellDataProps'](),bD=bz['totalOffset'],bE=bA['totalOffset'],[,bF]=bw['sliceTitle'](bB,bD,bE),bG=(bF||[])['reduce']((bJ,bK)=>bJ+bK[0x0]['length'],0x0),bH=bu,bI=aR(bB,bt,bH,{'startTotalOffset':bD,'endTotalOffset':bE,'filterReg':''});bC?bx['modifyCellContentText'](bB,bC,bI):bx['modifyContentText'](bB,bI),bx['invokeObserver'](),bx['addMissionExecuteAfterRender'](()=>{try{var bJ=bw['getNodeContentDom'](bC||bB);['Link']['includes'](bt[0x0])||'Equation'===bt[0x0]&&'add'===bH?by['moveCursor']({'id':bB,'cellId':bC,'position':{'offset':'Equation'===bt[0x0]?bD+0x1:bE}}):(by['setRangePos']({'id':bB,'cellId':bC,'pos':{'start':bD,'end':'Equation'===bt[0x0]?bD+bG:bE}}),bJ&&bJ['focus']());}catch(bK){}});}},aW=()=>Boolean(window&&window['ShareManager']),aX=bt=>{ap['ShareManager']&&ap['ShareManager']['postMessage'](JSON['stringify'](bt));},aY=()=>{var bt=Object(a9['b'])('domAPI'),bu=Object(a9['b'])('editorStore'),bv=Object(a9['b'])('cursorAPI'),{xPos:bw,yPos:bx}=bt['getSelectionCoords']();return setTimeout(()=>{var by='',{anchorNode:bz}=document['getSelection']();bz&&(by=bt['getNodeIdByElement'](bz)),bv['setCursorXPosition'](),bu['setBackupBlockText'](by);}),JSON['stringify']({'x':bw,'y':bx});},aZ=bt=>{var bu=0x0;switch(bt){case aa['k']['TEXT']:bu=0x0;break;case aa['k']['TODO_LIST']:bu=0x1;break;case aa['k']['HEADER_H1']:bu=0x2;break;case aa['k']['HEADER_H2']:bu=0x3;break;case aa['k']['HEADER_H3']:bu=0x4;break;case aa['k']['HEADER_H4']:bu=0x5;break;case aa['k']['PAGE']:bu=0x6;break;case aa['k']['BULLET_LIST']:bu=0x7;break;case aa['k']['ENUM_LIST']:bu=0x8;break;case aa['k']['TOGGLE_LIST']:bu=0x9;break;case aa['k']['QUOTE']:bu=0xa;break;case aa['k']['CALLOUT']:bu=0xb;break;case aa['k']['CODE']:bu=0xc;break;case aa['k']['BLOCK_EQUATION']:bu=0xd;break;case'SEARCH':bu=0xe;break;case aa['k']['IMAGE']:bu=-0x1;break;case aa['k']['TODO_LIST_PRO']:bu=0xf;break;case aa['k']['TOGGLE_HEADER_H1']:bu=0x10;break;case aa['k']['TOGGLE_HEADER_H2']:bu=0x11;break;case aa['k']['TOGGLE_HEADER_H3']:bu=0x12;break;case aa['k']['TOGGLE_HEADER_H4']:bu=0x13;break;case aa['k']['TOGGLE_TODO_LIST']:bu=0x14;break;case aa['k']['TOGGLE_TODO_LIST_PRO']:bu=0x15;break;default:bu=0x0;}return bu;},b0=()=>ap['HideBarPop']&&ap['HideBarPop']['postMessage'](''),b1=()=>{var bt=Object(a9['b'])('userStore');return Boolean(bt['userId']);},b2=bt=>ao(void 0x0,null,function*(){var bu=Object(a9['a'])('edit'),bv=Object(a9['a'])('undoRedo'),bw=Object(a9['b'])('editorStore'),bx=Object(a9['b'])('domAPI'),by=Object(a9['b'])('dataStore'),bz=Object(a9['b'])('editorUI'),bA=Object(a9['b'])('cursorAPI'),bB=Object(a9['b'])('blockStore'),bC=Object(a9['b'])('blockAPI'),bD=Object(a9['b'])('screenStore'),bE='';if(bz['selectedNode']['length'])bE=bz['selectedNode'][0x0];else{var {anchorNode:bF}=document['getSelection']();if(!bF)return;bE=bx['getNodeIdByElement'](bF);}if(bE){var bG=by['getBlockValue'](bE);if(bG['id']){var bH={'preventDefault':a4['a'],'stopPropagation':a4['a'],'noScroll':!0x0};if(bt===aD)bu['onShiftTab'](bH),aq(bG['id'],bz['cursorPos']['pos']);else{if(bt===aE)bu['onTab'](bH),aq(bG['id'],bz['cursorPos']['pos']);else{if(bt===aF)bv['onUndo'](bH);else{if(bt===aG)bv['onRedo'](bH);else{if(bt===aH)bw['inputConversionCreate']({'id':bE,'parent_id':bG['parent_id'],'cellId':'','extend':void 0x0},aa['k']['IMAGE'],!0x0);else{if(bt===aI)bw['batchCopyBlocks']({'targetNodeId':bE,'menuCopy':!0x0});else{if(bt===aJ){var bI,bJ=bD['nodeIdList'],bK=bJ['indexOf'](bE);bK>0x0?bI=bJ[bK-0x1]:0x0===bK&&(bI=bB['pageId']),bz['setSelectedNode'](bE),bw['batchDeleteSelectedNode'](),bI&&bA['moveCursor']({'id':bI,'position':'persist-bottom','noScroll':!0x0});}else{if(bt===aK){var bL=bC['getNodeContentDom'](bE);bL&&bL['blur']();}else bt===aL&&(bw['setBackupBlockText'](bE),(yield Object(am['a'])())['open']({'model':{'id':bE}}));}}}}}}}}}}),b3=()=>{var bt=Object(a9['b'])('editorUI'),bu=document['activeElement'];bu&&bu['blur']&&bu['blur'](),setTimeout(()=>{bt['debounceRecalculateBlockPosition']();},0x64);},b4=bt=>{var bu=aa['k']['TEXT'];switch(bt){case'TEXT':bu=aa['k']['TEXT'];break;case'TODO_LIST':bu=aa['k']['TODO_LIST'];break;case'TODO_LIST_PRO':bu=aa['k']['TODO_LIST_PRO'];break;case'TOGGLE_TODO_LIST':bu=aa['k']['TOGGLE_TODO_LIST'];break;case'TOGGLE_TODO_LIST_PRO':bu=aa['k']['TOGGLE_TODO_LIST_PRO'];break;case'HEADER_H1':bu=aa['k']['HEADER_H1'];break;case'HEADER_H2':bu=aa['k']['HEADER_H2'];break;case'HEADER_H3':bu=aa['k']['HEADER_H3'];break;case'HEADER_H4':bu=aa['k']['HEADER_H4'];break;case'TOGGLE_HEADER_H1':bu=aa['k']['TOGGLE_HEADER_H1'];break;case'TOGGLE_HEADER_H2':bu=aa['k']['TOGGLE_HEADER_H2'];break;case'TOGGLE_HEADER_H3':bu=aa['k']['TOGGLE_HEADER_H3'];break;case'TOGGLE_HEADER_H4':bu=aa['k']['TOGGLE_HEADER_H4'];break;case'PAGE':bu=aa['k']['PAGE'];break;case'BULLET_LIST':bu=aa['k']['BULLET_LIST'];break;case'ENUM_LIST':bu=aa['k']['ENUM_LIST'];break;case'TOGGLE_LIST':bu=aa['k']['TOGGLE_LIST'];break;case'QUOTE':bu=aa['k']['QUOTE'];break;case'CALLOUT':bu=aa['k']['CALLOUT'];break;case'CODE':bu=aa['k']['CODE'];break;case'BLOCK_EQUATION':bu=aa['k']['BLOCK_EQUATION'];break;default:bu=aa['k']['TEXT'];}return bu;},b5=bt=>{var bu=Object(a9['b'])('editorStore'),bv=Object(a9['b'])('domAPI'),bw=Object(a9['b'])('editorUI'),bx=Object(a9['b'])('blockAPI'),by='';if(bw['selectedRootNode']['length'])by=bw['selectedRootNode'][0x0];else{var {anchorNode:bz}=document['getSelection']();bz&&(by=bv['getNodeIdByElement'](bz));}if(by){var [bA]=bv['getSelection'](),bB={'offset':0x0};bB=bA?{'offset':bA['totalOffset']}:bw['cursorPos']['pos'];var bC=b4(bt);bu['turnInto']({'nodeId':by,'type':bC,'restoreTitle':!0x0,'resetSelectedNodes':!0x1}),bC!==aa['k']['PAGE']&&aq(by,bB),bt===aa['k']['BLOCK_EQUATION']&&setTimeout(()=>{var bD=bx['getTitlePlainTextById'](by);ab['b']['emit']('openEquation',{'type':'block','nodeId':by,'mathText':bD,'isInline':!0x1,'equationIndex':0x0});},0x12c);}},b6=bt=>ao(void 0x0,null,function*(){var bu=Object(a9['b'])('editorStore'),bv=Object(a9['b'])('blockStore'),bw=Object(a9['b'])('blockAPI'),bx=bu['globalItem'],by=b4(bt);if(bx['key']&&bx['key']!==bv['pageId']){var bz=bx['type']===aa['k']['TEXT']&&bw['getTitlePlainTextById'](bx['key'])||'',bA=(!bz||'/'===bz)&&bx['type']===aa['k']['TEXT'];bA&&by!==aa['k']['PAGE']?bu['inputConversionInline']({'restoreTitle':!0x0,'nodeId':bx['key'],'type':by,'resetSelectedNodes':!0x1}):(yield bu['inputConversionCreate']({'id':bx['key'],'parent_id':bx['parent_id'],'cellId':bx['cellId'],'extend':void 0x0},by),bA&&by===aa['k']['PAGE']&&bu['deleteNode'](bx['type']));}}),b7=()=>ap['Logout']&&ap['Logout']['postMessage'](''),b8=bt=>{var bu=bt&&JSON['stringify'](bt)||'';ap['UpdateVersion']&&ap['UpdateVersion']['postMessage'](bu);},b9=()=>{ao(void 0x0,null,function*(){var bt=Object(a9['b'])('spaceStore'),bu=Object(a9['b'])('routerStore'),bv=Object(a9['b'])('notificationStore');if(bt['isSpaceGuest']())bv['enqueueSnackbar']({'message':'当前不支持创建今日速记页面','options':{'autoHideDuration':0x5dc}});else{ah['a']['track']('daily',{'trigger_method':'click_it_in_app_action_bar'});var bw=a6()(bt,'currentWorkspace.date_format_type','yyyymmdd_slash'),{format:bx}=aj['L']['find'](bA=>{var {value:bB}=bA;return bB===bw;})||{},by=a8()['format'](bx),bz=yield Object(ak['t'])(bt['spaceId'],by);bz['time']===by?bu['history']['push']('/'['concat'](bz['pageId'])):bb('private_permission',by,'day');}});},ba=new Date()['getTime'](),bb=(bt,bu,bv)=>ao(void 0x0,null,function*(){var bw=Object(a9['b'])('pageStore'),bx=Object(a9['b'])('spaceStore'),by=Object(a9['b'])('dataStore'),bz=Object(a9['b'])('screenStore'),bA=Object(a9['b'])('editorStore'),bB=Object(a9['b'])('routerStore');if(bx['blockCountLimit']())Object(al['c'])('block');else{if(!(new Date()['getTime']()-ba<0x1f4)){ba=new Date()['getTime']();var bC,bD=new ag['a']({'immediate':!0x0,'ignoreLock':!0x0}),bE=Object(ac['b'])();'space_permission'===bt?bC=bw['setWorkspacePermission']():'private_permission'===bt&&(bC=bw['setPrivatePermission']());var bF={},bG={};'day'===bv&&(bF=yield by['getSpaceReferencePropsBlock']('today_new_page_location'),bG=yield by['getSpaceReferencePropsBlock']('today_new_page_template'),yield Object(ak['kb'])({'pageId':bE,'workspaceId':bx['spaceId'],'time':bu})),bG['id']&&bw['setConfirmOpen']({'contents':'正在创建今日速记页面中，请稍等...','hideButton':!0x0});var bH={'id':bE,'parent_id':bF['id']||bx['spaceId'],'parent_type':bF['type']||'workspace','type':aa['k']['PAGE'],'active':!0x0,'permissions':bF['id']?[]:bC,'sub_nodes':[],'page_id':bF['id']||'','attributes':{},'workspace_id':bx['spaceId']};bu&&(bH['attributes']={'title':[[bu]]}),bF['type']===aa['k']['DATABASE']?bw['addNewDatabasePage'](bD,bH,Boolean(bG['id'])):bw['addNewPage'](bD,bH,Boolean(bG['id'])),bD['commit'](()=>ao(this,null,function*(){var bI;if(bF['type']===aa['k']['DATABASE']&&bF['database_id']&&(yield Object(ai['a'])({'table_id':bF['database_id'],'block_id':bE,'primary_title':(null==(bI=bH['attributes'])?void 0x0:bI['title'])||[['']]})),bG['id']){bw['setConfirmOpen']({'contents':'正在复制模板中，请稍等...','hideButton':!0x0,'adjustMobile':!0x0});try{var bJ=by['getBlockValue'](bE)['version']||0x0;yield Object(an['b'])({'oldPageId':bG['id'],'newPageId':bE,'newSpaceId':bx['currentWorkspace']['id'],'newPageTitle':bu,'newParentId':bF['id']||bx['currentWorkspace']['id'],'newPagePermissions':bH['permissions'],'newVersion':bJ+0x1,'preserveRef':!0x0}),bB['history']['push'](bE),yield bz['currentScreen']['fetchPageData'](bE,0x0,{'forceFetch':!0x0}),bw['setConfirmOpen'](),bz['setMainScreen'](bE,!0x0),bA['invokeObserver']();}catch(bK){bB['history']['push'](bE),bw['setConfirmOpen'](),bz['setMainScreen'](bE,!0x0);}}}));}}}),bc=()=>ao(void 0x0,null,function*(){var bt=Object(a9['b'])('spaceStore'),bu=Object(a9['b'])('routerStore'),bv=a6()(bt,'currentWorkspace.date_format_type','yyyymmdd_slash'),{format:bw}=aj['L']['find'](bz=>{var {value:bA}=bz;return bA===bv;})||{},bx=a8()['format'](bw),by=yield Object(ak['t'])(bt['spaceId'],bx);by['time']===bx?bu['history']['push']('/'['concat'](by['pageId'])):bb('private_permission',bx,'day');}),bd=()=>{var bt=Object(a9['b'])('domAPI'),bu=Object(a9['b'])('blockAPI'),bv=Object(a9['b'])('editorStore'),bw=Object(a9['b'])('blockStore'),bx=Object(a9['b'])('cursorAPI'),by=Object(a9['b'])('dataStore'),{anchorNode:bz}=document['getSelection']();if(bz){var bA=bt['getNodeIdByElement'](bz),{cellId:bB}=bt['getCellDataProps'](),bC=by['getBlockProperty'](bA,'type'),[bD,bE]=bt['getSelection']();bv['setBackupBlockText'](bA);var bF=new ag['a'](),{totalOffset:bG}=bD,{totalOffset:bH}=bE,[bI,,bJ]=bu['sliceTitle'](bA,bG,bH),bK=[];bK['push'](...bI),bK['push'](['/']),bK['push'](...bJ),bB?bv['updateTableCells'](bA,bB,bK,bF):bw['setBlockText'](bF,bA,bK),bv['invokeObserver'](bF),bv['addMissionExecuteAfterRender'](()=>{bx['moveCursor']({'id':bA,'cellId':bB,'position':{'offset':bG+0x1},'noScroll':!0x0}),setTimeout(()=>{var bL,bM,{xPos:bN,yPos:bO}=bt['getSelectionCoords']();bL={'x':bN,'y':bO,'blockType':bC,'editBlockAction':'ADDNEWBLOCK'},bM=Object(a9['b'])('workspaceStore'),bL['blockType']=aZ(bL['blockType']),ap['InsertEditBarPop']&&(bM['setAppConvertModal'](!0x0),ap['InsertEditBarPop']['postMessage'](JSON['stringify'](bL)));},0x64);});}},bf=bt=>{var bu=Object(a9['b'])('screenStore'),bv=Object(a9['b'])('editorUI'),bw=Object(a9['b'])('workspaceStore');[0x0,0x1]['includes'](bt)?'horizontal'!==bw['appOrientation']&&(bw['appOrientation']='horizontal',bu['mainScreen']['readOnly']?bv['setShareSideBarHidden']():bv['hideSideBar']()):'vertical'!==bw['appOrientation']&&(bw['appOrientation']='vertical',bu['mainScreen']['readOnly']?bv['setShareSideBarVisible']():bv['showSideBar']());},bg=function(){var bt=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'';ap['toggleMediaActions']&&ap['toggleMediaActions']['postMessage'](bt);},bh=bt=>{var bu=Object(a9['b'])('domAPI'),bv=Object(a9['b'])('blockAPI'),{anchorNode:bw}=document['getSelection']();if(bw){var bx=bu['getNodeIdByElement'](bw),{cellId:by}=bu['getCellDataProps'](),bz=bv['getNodeContentDom'](by?[bx,by]:bx);bz&&(bz['style']['user-select']=bt,bz['style']['-webkit-touch-callout']=bt,bz['style']['-webkit-user-select']=bt);}},bi=()=>{var bt=Object(a9['b'])('noticeStore');return a6()(bt,'allSpaceUserNotice.unreadCount',0x0);},bj=bt=>{var bu=Object(a9['b'])('routerStore');Object(ad['c'])(),bu['history']['push'](bt);},bk=()=>ap['CloseNotificationCenter']&&ap['CloseNotificationCenter']['postMessage'](''),bl=bt=>{ap['BeforeOpenPage']&&ap['BeforeOpenPage']['postMessage'](bt);},bm=bt=>{ap['AfterClosePage']&&ap['AfterClosePage']['postMessage'](bt);},bn=()=>{ap['StartDownloadWebResource']&&ap['StartDownloadWebResource']['postMessage']();},bo=()=>{ap['HideAppNavigationBar']&&ap['HideAppNavigationBar']['postMessage']('');},bp=()=>{ap['ShowAppNavigationBar']&&ap['ShowAppNavigationBar']['postMessage']('');},bq=bt=>{ap['SpotlightOperate']&&ap['SpotlightOperate']['postMessage'](JSON['stringify'](bt));},br=bt=>{ap['SyncLastVisitPage']&&ap['SyncLastVisitPage']['postMessage'](JSON['stringify'](bt));},bs=bt=>{var bu=window['innerWidth'],bv=window['innerHeight'],bw=bJ=>bJ['forEach'](bK=>bK&&bK['remove']()),bx=bJ=>{if(bJ['endsWith']('px')||!isNaN(Number(bJ)))return parseInt(bJ,0xa);if(bJ['endsWith']('vh')&&bJ['length']>0x2)return Number(bJ['slice'](0x0,-0x2))*bv/0x64;if(bJ['endsWith']('vw')&&bJ['length']>0x2)return Number(bJ['slice'](0x0,-0x2))*bu/0x64;throw new Error('func\x20toPixel::Unsupported\x20size\x20type:\x20'['concat'](bJ));},by=document['documentElement'],bz=by['cloneNode'](!0x0),bA=((bJ,bK)=>{var bL=bJ['querySelector']('#editorRoot'),bM=bJ['querySelector']('#id-editor-box'),bN=bL['scrollHeight']-(bM?bM['getBoundingClientRect']()['height']:0x0);if(bN<=bK)return{'blockIdx':-0x1,'height':bN};var bO=bJ['querySelector']('#wolai-main-editor')['childNodes'],bP=Array['from'](bO)['findIndex'](bQ=>bQ['getBoundingClientRect']()['top']>bK);return-0x1===bP?{'blockIdx':-0x1,'height':bN}:{'blockIdx':bP,'height':bO[bP]['getBoundingClientRect']()['top']};})(by,bt?bx(bt):0x1/0x0),bB=-0x1!==bA['blockIdx'];bB&&function(bJ){var bK=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:-0x1;if(bK>-0x1){var bL=Array['from'](bJ['querySelector']('#wolai-main-editor')['childNodes'])['filter']((bM,bN)=>bN>bK);bw(bL);}}(bz,bA['blockIdx']);var bC,bD,bE,bF,bG,bH=bB?bx(bt):bA['height'];((bJ,bK)=>{var bL=bJ['querySelector']('#editorRoot'),bM=bL['style']['cssText'];bM+=bK?'overflow:\x20hidden;\x20height:\x20'['concat'](bK,'px;'):'overflow:\x20visible;\x20height:\x20auto\x20!important;',bL['setAttribute']('style',bM);for(var bN=bL['parentElement'];bN;){var bO=''['concat'](bN['style']['cssText'],'\x20height:\x20auto\x20!important;');bN['setAttribute']('style',bO),bN=bN['parentElement'];}bJ['style']['width']='100vw',bJ['style']['overflowX']='hidden',bJ['style']['overflowY']='auto',bJ['style']['pointerEvents']='none';var bP=bJ['ownerDocument']['createElement']('style');bP['innerText']='*\x20{\x20user-select:\x20none\x20!important;\x20-webkit-user-select:\x20none\x20!important;\x20}',bJ['querySelector']('head')['appendChild'](bP);})(bz,bH+0x84),bC=bz,bD=by,bE={'height':['#page_cover'],'marginTop':['#pageRoot']},Object['keys'](bE)['forEach'](bJ=>{bE[bJ]['forEach'](bK=>{var bL=bD['querySelector'](bK),bM=bC['querySelector'](bK);if(bL&&bM){var bN=window['getComputedStyle'](bL);bM['style'][bJ]=bN[bJ];}});}),function(bJ){var bK=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'light';bJ['theme']=bK;}(bz,'light'),((bJ,bK,bL)=>{var bM=bJ['querySelector']('#editorRoot'),bN=document['createElement']('div');Object['assign'](bN['style'],{'position':'absolute','top':''['concat'](bK,'px'),'height':''['concat'](0x84,'px'),'background':'var(--color-basic-50)','width':'100%','z-index':0x1,'padding-top':'32px','text-align':'center'});var bO=document['createElement']('img');if(bO['src']='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAqCAMAAAAtf4EzAAAAQlBMVEUAAACysrKvr6+xsbGzs7Ovr6+zs7Ovr6+zs7Ozs7OysrKxsbGzs7Ozs7Ozs7Ozs7OysrK1tbWvr6+zs7O0tLSzs7P78/NFAAAAFXRSTlMAYCCAvxDvQECf35Bwz6/fUDAwkHBcWTU3AAADq0lEQVRYw+2Y6bKbMAyF8Yo3DPSW93/VeuXgGEimbabtNPpxJ1bE8SdZCG6Gj33s/7KR0OHdRk0y/btg2LZtbniz0S0Z/3UYyEnROv8UtHgRZk1q74YWWntAP8nthQYxIWwa3m/0lfaYQtD8ihiX/Elu74cGzBZg/h7L0P+YfaAv7C+ApmOyb2WZV3T3U0QKYjX3dhH92Gpjv+EjxMvaemO4J/QOenTac83Guu5hNIY7Rj3b/aTGEb4Vk+wRmpRYaNhGTlcas1XT9AJaMFlj5hWPQ2zwOrTAdoDooLGaz6AtFApRD73IY9DyS9ADjyWetM/1dnfQvj67AA1mqZ1jPH1aW+gDgPHaGzy3e+hVTSFtVRSECpl6RaNf6UOckqxwmCjWQlP1FdHKDjKlBTmu0pUuur9EVosiszhrD85J9n9P1asbAAZpqLpYDgt2jBM7oTx5CVDB50vjhpx2iHGXoAYMWPXQAlxwA2YPO6rp0o+I68yeuU1A3RWWdLA1FoWb2yyluB15QkbNKxiOLwUa9hKawN1mogq+HCYs6gGYx02x7qFxyQk0slYAoj8DrepxrRHTlqFH0R3HO6G2uL2H5nfQg9yv93dtNDoWjFi4Ww1eYEhMYW5rMD6CrdXRQ1PCgrnlotJwSIHKnMZRjQnaQ6N7ecKUGZbvNAR3KkjnM2jCsc0d9Fr7gxShPs5VZED3/bEkgCmeWL412ieOfgFaAPkeGhXhjTJr99y4IyrYwd33GAl/c5Pw3BP0BnpqoPEQs2RRwcw9tMv9QbEJ4rp7n1xOwjmVWMWCJUENmBWMmODHnob2VBGeQAuZjpNAuI1bcKtfQquUscwzIg89g0Dx+E+yPZ0ePIk8g4YETzuRDrp++nYNjcTHoFMFbTk44LCHIaw6aFM/3UOjTAKb/Ax0bAYfWEkVnMrBYS5L2mjPQwctcck9dD1OZsu90se5Q5nEdAFNApWpaYu4/fF1UBi0a4yFSFtpZDZeTw/4pnCFQu1ZeoP0jKnckZLk7cyW3OS0P1A+/vjrikrfkhTJ8MIqGLPxC8ZYwqiZCZsEGFsbmKX72akd0tWi2Ff61msvq5c3wODUaAccNRSjyJSzwyt3sT1xrvWER0IDo/sd3RW0gMjMTqDBqXDmeTzAvssNxsVwAj2siPkyT6EVTrOHxloyQTro07FmcPPiVWBHDigddF7zUhs1XELDCCHLcGN0YdoScReyHCVUEOzzCiLauvVOZXVWOzV87GMf+5vtB0vdcJCAdW+8AAAAAElFTkSuQmCC',bO['style']['height']='16px',bN['appendChild'](bO),bL){var bP=document['createElement']('div');Object['assign'](bP['style'],{'position':'absolute','width':'100%','height':'100px','top':'-100px','background-image':'linear-gradient(#0000,var(--color-basic-50))'}),bN['appendChild'](bP);}bM['appendChild'](bN);})(bz,bH,bB),bG=(bF=bz)['querySelector']('#wolai-header-bar'),bw([bG]),bw(Array['from'](bF['querySelectorAll']('[role=\x22presentation\x22]'))),bw(Array['from'](bF['querySelectorAll']('script'))),bw([bF['querySelector']('.kf5-support-chat')]),bw([bF['querySelector']('#wolai-main-editor\x20+\x20div')]),bw([bF['querySelector']('#id-editor-box')]),bw(bF['querySelectorAll']('.realtime-member-list')),bw(bF['querySelectorAll']('.block-tooltip')),bw([bF['querySelector']('.noTitle')]),bw([bF['querySelector']('.MuiTooltip-popper')]),bw(bF['querySelectorAll']('noscript')),(bJ=>{var bK=bJ['querySelectorAll']('.wolai-code-wrapper\x20>\x20.content-editable');bK&&Array['from'](bK)['forEach'](bN=>bN['style']['height']='auto');var bL=bJ['querySelectorAll']('.wolai-code-wrapper\x20>\x20.lineNumber');bL&&Array['from'](bL)['forEach'](bN=>bN['style']['height']='auto');var bM=bJ['querySelectorAll']('.table-cell\x20>\x20div');bM&&Array['from'](bM)['forEach'](bN=>bN['style']['height']='auto');})(bz),(bJ=>{var bK=bJ['querySelector']('.title-operate-bar'),bL=bK['textContent'];bL['includes']('题头图')&&bL['includes']('图标')&&(bK['style']['display']='none');})(bz),(bJ=>{var bK=bJ['querySelector']('#page_comment_area\x20.comment_input_area');bK&&bK['remove']();})(bz);var bI=bz['outerHTML'];ap['OpenSnapshotPage']&&ap['OpenSnapshotPage']['postMessage'](bI);};},'fbxU':function(b,f,g){'use strict';g['d'](f,'a',function(){return q;});var h=g('Wgwc'),j=g['n'](h),k=g('C8q+'),l=g('f9x4'),m=g('CqhU'),p=g('OIS1');class q{constructor(u,v){this['tableId']=u,this['dataSource']=v,this['formulaAccessor']=v['formulaAccessor'],this['dateFunction']=['DATEFORMAT','DATEADD','NOW','TODAY','DATEDIFF','DATEFORMAT','DAY','HOUR','MINUTE','YEAR','MONTH','WEEKNUM','WEEKDAY','ENDTIME','STARTTIME','TODATE','NOWDIFF','ISDATE','ISBEFORE','ISAFTER','ISSAME','TIMESTAMP'];}['evaluate'](u,v,w,x,y){switch(v['type']){case'constants':return{'value':v['value']};case'symbol':switch(v['value']){case'e':return{'value':Math['E']};case'pi':return{'value':Math['PI']};case'error':return{'value':k['b']['VALUE']};default:return{'value':v['value']};}case'operator':case'function':if(this['formulaAccessor']['hasCacheValue'](u))return this['formulaAccessor']['getCacheValue'](u);if(['CREATEDTIME','UPDATEDTIME','ROWID','ID']['includes'](v['name']))return this['evaluatePropertyFunction'](v,y);var z=this['formulaAccessor']['getFunction'](v);return z?this['runFunction'](u,z,this['dateFunction']['includes'](v['name'])||(null==v?void 0x0:v['returnType'])===l['p']['Date']?x:w,v):new k['a'](k['d']['NAME'],k['c']['Function'](v['name']));case'property':return this['evaluateProperty'](u,v,y);default:return'';}}['evaluatePropertyFunction'](u,v){var w=this['dataSource']['getRow'](v['blockId']);if('CREATEDTIME'===u['name']){var x=j()(w['created_time']);return{'value':x['format']('YYYY/MM/DD\x20HH:mm'),'extend':{'type':'datetime','start_date':x['format']('YYYY/MM/DD'),'allUser':!0x1,'start_time':x['format']('HH:mm')}};}if('UPDATEDTIME'===u['name']){var y=j()(w['edited_time']);return{'value':y['format']('YYYY/MM/DD\x20HH:mm'),'extend':{'type':'datetime','start_date':y['format']('YYYY/MM/DD'),'allUser':!0x1,'start_time':y['format']('HH:mm')}};}return'ROWID'===u['name']?{'value':w['block_id']}:'ID'===u['name']?{'value':Object(p['b'])()}:void 0x0;}['evaluateProperty'](u,v,w){var x=v['id'],y=this['dataSource']['getProperty'](x);if((null==y?void 0x0:y['type'])===l['p']['Formula']){var z=m['a']['generator'](y['formula'],{'propertyId':y['id'],'id':this['dataSource']['block_id'],'rowBlockId':w['blockId']},!0x0);if(z['error'])throw new k['a'](k['d']['ERROR'],'formulaParser\x20error');return z;}return this['dataSource']['getRow'](w['blockId'])['formatPropertyValue'](x);}['runFunction'](u,v,w,x){var y,z=v(...w);return y=this['dateFunction']['includes'](null==x?void 0x0:x['name'])||(null==x?void 0x0:x['returnType'])===l['p']['Date']?z:{'value':z},['NOW','TODAY','TIMESTAMP','ID']['includes'](null==x?void 0x0:x['name'])||this['formulaAccessor']['setCacheValue'](u,y),y;}}},'foLq':function(b,f,g){'use strict';g['d'](f,'a',function(){return j;}),g['d'](f,'b',function(){return k;}),g['d'](f,'c',function(){return z;});var h=g('Drme'),j=(A=>(A['All']='all',A['None']='none',A['Disabled']='disabled',A['Public']='read',A['Readable']='readable',A['Writable']='writable',A['Commentable']='commentable',A['DbRowEditable']='rowEditable',A))(j||{});class k{constructor(A){for(var B in(this['roleLimit']=0x0,this['name']=A,this['definedLimit']=new Set(),h['a'])){if(h['a']['hasOwnProperty'](B))Number['parseInt'](B,0xa)&&this['definedLimit']['add'](Number(B));}}static['weight'](A){switch(A){case'all':return 0xb;case'none':return 0xa;case'readable':return 0x9;case'writable':return 0x8;case'rowEditable':return 0x7;case'commentable':return 0x6;default:return 0x0;}}static['compare'](A,B){return this['weight'](A)-this['weight'](B);}get['limit'](){return this['roleLimit'];}['addLimit'](A){if(!Number['isInteger'](A))throw new Error('limit\x20is\x20not\x20integer');if(!this['definedLimit']['has'](A))throw new Error('limit\x20is\x20not\x20define');this['roleLimit']|=A;}['delLimit'](A){if(!Number['isInteger'](A))throw new Error('limit\x20is\x20not\x20integer');if(!this['definedLimit']['has'](A))throw new Error('limit\x20is\x20not\x20define');this['roleLimit']^=A;}['hasLimit'](A){return(this['roleLimit']&A)===A;}['toJSON'](){return{'name':this['name'],'limit':this['roleLimit']};}}class m extends k{constructor(){super('none');}}class q extends k{constructor(){super('readable'),this['addLimit'](h['a']['ViewPage']),this['addLimit'](h['a']['ReadComment']);}}class v extends k{constructor(){super('commentable'),this['addLimit'](h['a']['ViewPage']),this['addLimit'](h['a']['ReadComment']),this['addLimit'](h['a']['EditComment']),this['addLimit'](h['a']['CreateComment']);}}class w extends k{constructor(){super('rowEditable'),this['addLimit'](h['a']['ViewPage']),this['addLimit'](h['a']['EditPage']),this['addLimit'](h['a']['ReadComment']),this['addLimit'](h['a']['EditComment']),this['addLimit'](h['a']['CreateComment']),this['addLimit'](h['a']['RemoveComment']);}}class x extends k{constructor(){super('writable'),this['addLimit'](h['a']['ViewPage']),this['addLimit'](h['a']['EditPage']),this['addLimit'](h['a']['ReadComment']),this['addLimit'](h['a']['EditComment']),this['addLimit'](h['a']['CreateComment']),this['addLimit'](h['a']['RemoveComment']),this['addLimit'](h['a']['EditDatabaseMeta']);}}class y extends k{constructor(){super('all'),this['addLimit'](h['a']['EditPermission']),this['addLimit'](h['a']['ViewPage']),this['addLimit'](h['a']['EditPage']),this['addLimit'](h['a']['MovePage']),this['addLimit'](h['a']['SharePage']),this['addLimit'](h['a']['RemovePage']),this['addLimit'](h['a']['ReadComment']),this['addLimit'](h['a']['EditComment']),this['addLimit'](h['a']['CreateComment']),this['addLimit'](h['a']['RemoveComment']),this['addLimit'](h['a']['EditDatabaseMeta']);}}class z{static['create'](A){switch(A){case'readable':return new q();case'commentable':return new v();case'writable':return new x();case'rowEditable':return new w();case'none':return new m();case'all':return new y();default:return new q();}}}},'fuoB':function(b,f,g){'use strict';var j=g('odX6'),k=g('oYhM'),m=g('Rsoz'),q=g('YfBr'),v=Object['defineProperty'],w=Object['getOwnPropertyDescriptor'],x=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?w(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&v(D,E,H),H;},y=(C,D,E)=>new Promise((F,G)=>{var H=K=>{try{J(E['next'](K));}catch(L){G(L);}},I=K=>{try{J(E['throw'](K));}catch(L){G(L);}},J=K=>K['done']?F(K['value']):Promise['resolve'](K['value'])['then'](H,I);J((E=E['apply'](C,D))['next']());}),z=k['a']['getInstance']();class A{constructor(){this['callbacks']={},this['waitTime']=0x12c,this['submitting']=!0x1,this['timerId']='';}['addTransaction'](C,D){return y(this,null,function*(){if(C['operations']['length']){this['saveUndoRedo']([C]),D&&'function'==typeof D&&(this['callbacks'][C['id']]=D);try{yield z['db']['add']({'id':C['id'],'operations':C['operations'],'userId':this['userStore']['userId'],'createTime':C['createTime'],'groupId':this['userStore']['sessionId']});}catch(F){var E=F;throw F['toString']()['includes']('QuotaExceededError')&&(E=m['a']['t']('services.transaction.transactionCache.quotaExceededError','可能原因为存储空间不足/无痕模式访问/windows微信访问等情况，请检查！',{'ns':'editor'})),this['pageStore']['setConfirmOpen']({'type':'alert','title':'','contents':m['a']['t']('services.transaction.transactionCache.syncLocalDbError','同步本地数据库异常，请刷新重试。({{errorText}})',{'errorText':E,'ns':'editor'}),'singleButton':!0x0,'success':()=>{window['location']['reload']();}}),window['__bl']&&window['__bl']['error'](F),F;}}C['options']['immediate']?(this['timerId']&&(clearTimeout(this['timerId']),this['timerId']=''),this['submit']()):this['timerId']||(this['timerId']=setTimeout(()=>{this['timerId']='',this['submit']();},this['waitTime']));});}['saveUndoRedo'](C){this['undoRedo']&&this['undoRedo']['savePageShot'](C),setTimeout(()=>{this['dataStore']['sync']();});}['sendRequest'](){return y(this,null,function*(){var C=[];if(this['userStore']&&this['userStore']['sessionId'])try{this['submitting']=!0x0,C=yield q['a']['submitIndexedDB'](this['userStore']['sessionId']);}catch(D){throw q['a']['startPing'](),D;}finally{this['submitting']=!0x1,Object['keys'](this['callbacks'])['forEach'](E=>{C&&C['find'](F=>F['id']===E)&&(this['callbacks'][E](),this['callbacks'][E]=null,delete this['callbacks'][E]);});}});}['submit'](){return y(this,null,function*(){this['submitting']?this['timerId']=setTimeout(()=>{this['timerId']='',this['submit']();},0x64):yield this['sendRequest']();});}}x([j['a']],A['prototype'],'undoRedo',0x2),x([j['b']],A['prototype'],'pageStore',0x2),x([j['b']],A['prototype'],'dataStore',0x2),x([j['b']],A['prototype'],'userStore',0x2),x([j['b']],A['prototype'],'notificationStore',0x2);var B=new A();f['a']=B;},'fwMJ':function(b,f,g){'use strict';g['d'](f,'b',function(){return j;}),g['d'](f,'c',function(){return m;}),g['d'](f,'a',function(){return v;});var h=g('foLq'),j=(w=>(w['User']='user',w['Group']='group',w['Space']='workspace',w['Public']='public',w))(j||{});class k{constructor(w){this['type']=w['type'],this['target']=w['target'],this['mobile']=w['mobile'],this['blockId']=w['blockId'],this['override']=w['override'],this['index']=w['index'],this['role']=h['c']['create'](w['role']);}['equal'](w){return this['role']['name']===w['role']&&(this['target']===w['target']&&this['type']===w['type']);}['priority'](){var w,x=null!=(w=this['index'])?w:0x0;switch(this['type']){case'user':return 0x3e8+x;case'group':return 0x384+x;case'workspace':return 0x320+x;case'public':return 0x2bc+x;default:return 0x64+x;}}['toPermission'](){return{'type':this['type'],'role':this['role']['name'],'target':this['target'],'mobile':this['mobile'],'blockId':this['blockId'],'override':this['override'],'index':this['index']};}}class m extends k{constructor(w){var x,y;super({'type':'user','target':w['userId'],'role':w['role'],'blockId':w['blockId'],'mobile':w['mobile'],'override':null!=(x=w['override'])?x:'','index':null!=(y=w['index'])?y:0x0});}['toPagePermission'](){return{'type':'user','role':this['role']['name'],'user_id':this['target'],'user_mobile':this['mobile']};}}class p extends k{constructor(w){var x,y;super({'type':'group','target':w['groupId'],'role':w['role'],'blockId':w['blockId'],'override':null!=(x=w['override'])?x:'','index':null!=(y=w['index'])?y:0x0});}['toPagePermission'](){return{'type':'group','role':this['role']['name'],'group_id':this['target']};}}class q extends k{constructor(w){var x,y;super({'type':'workspace','target':w['spaceId'],'role':w['role'],'blockId':w['blockId'],'override':null!=(x=w['override'])?x:'','index':null!=(y=w['index'])?y:0x0});}['toPagePermission'](){return{'type':'workspace','role':this['role']['name'],'workspace_id':this['target']};}}class u extends k{constructor(w){var x,y,z;super({'type':'public','target':'','blockId':w['blockId'],'override':null!=(x=w['override'])?x:'','index':null!=(y=w['index'])?y:0x0,'role':null!=(z=w['role'])?z:h['a']['Readable']});}['toPagePermission'](){return{'type':'public','role':this['role']['name']};}}class v{static['fromPermission'](w){var x,y,z,A,B,C,D,E;switch(w['type']){case'user':return new m({'userId':w['target'],'role':w['role'],'blockId':w['blockId'],'mobile':w['mobile'],'override':null!=(x=w['override'])?x:'','index':null!=(y=w['index'])?y:0x0});case'group':return new p({'groupId':w['target'],'blockId':w['blockId'],'role':w['role'],'override':null!=(z=w['override'])?z:'','index':null!=(A=w['index'])?A:0x0});case'workspace':return new q({'spaceId':w['target'],'blockId':w['blockId'],'role':w['role'],'override':null!=(B=w['override'])?B:'','index':null!=(C=w['index'])?C:0x0});case'public':return new u({'blockId':w['blockId'],'role':w['role'],'override':null!=(D=w['override'])?D:'','index':null!=(E=w['index'])?E:0x0});default:console['error'](new Error('unknown\x20permission\x20type\x20'['concat'](w['type'])));}}static['fromBlockPermission'](w){var x,y,z,A,B,C,D,E,F=w;switch(w['type']){case'user':return new m({'userId':F['user_id'],'role':w['role'],'blockId':w['blockId'],'mobile':F['user_mobile'],'override':null!=(x=w['override'])?x:'','index':null!=(y=w['index'])?y:0x0});case'group':return new p({'groupId':F['group_id'],'blockId':w['blockId'],'role':w['role'],'override':null!=(z=w['override'])?z:'','index':null!=(A=w['index'])?A:0x0});case'workspace':return new q({'spaceId':F['workspace_id'],'role':w['role'],'blockId':w['blockId'],'override':null!=(B=w['override'])?B:'','index':null!=(C=w['index'])?C:0x0});case'public':return new u({'role':w['role'],'blockId':w['blockId'],'override':null!=(D=w['override'])?D:'','index':null!=(E=w['index'])?E:0x0});default:console['error'](new Error('unknown\x20permission\x20type\x20'['concat'](F['type'])));}}}},'gpxL':function(b,c,d){'use strict';d['d'](c,'a',function(){return g;}),d['d'](c,'b',function(){return h;});var f='https://www.wolai.com',g={'CODE':''['concat'](f,'/wolai/qEtKSrn7fjrGhmambwb3Sr'),'TABLE':''['concat'](f,'/wolai/aePRtbQTE1Ppoozpx2CFfP'),'UNIVERSAL_EMBED':''['concat'](f,'/wolai/eQQ3SwsFXCkjLW6HzTvgiR'),'NETEASE_MUSIC':''['concat'](f,'/wolai/c5jsqcbHmogjMtCmvRxGKE'),'EMBED':''['concat'](f,'/wolai/go85vJpt3wDwrid7DfCZcE'),'IMAGE':''['concat'](f,'/wolai/j8en3Y2QvdHUkYAGjUcYmS'),'BOOKMARK':''['concat'](f,'/wolai/cot7W6UQnzetuhUeYJXdra'),'FILE':''['concat'](f,'/wolai/cgnExsGdHkTPRLmzzWzYuB'),'LATEX':''['concat'](f,'/wolai/a5KTwFQhRkyxMmCyb1LNDK'),'TEMPLATE':''['concat'](f,'/wolai/kXcmwRTxtTtPv4qJoAW8E6'),'INVITE_CODE':''['concat'](f,'/wolai/vtbA1eaAc1xihsy3RWDqxs'),'CREDITS':''['concat'](f,'/wolai/rHcLFBrQia1RH8uDfZJih9'),'RANDOM_PAGE':''['concat'](f,'/wolai/2bmKVwSDNcKL7XV4bkVYwA'),'VIDEO':''['concat'](f,'/wolai/p8PgzozxENusHGErR2Kjzo'),'AUDIO':''['concat'](f,'/wolai/b68UTPYeSjPP1eyVj1zzdk'),'DIAGRAM':''['concat'](f,'/wolai/ipygGPjLvTLMYYPyW2RDw6'),'PERMISSION':''['concat'](f,'/wolai/rMnSw1JTt6EhRq5U6xmxYz'),'BILINK':''['concat'](f,'/wolai/i1eTuzCbCDV4ymqaDPRN5w'),'PROGRESS':''['concat'](f,'/wolai/mb8U7ai5NQdzd6LDKxUC5m'),'COLLABORATION':''['concat'](f,'/wolai/7TAksv5x4ncBwxGUunJNkq'),'FLYMODE':''['concat'](f,'/wolai/kuSVcECD8Q1P32Ls1JJ8'),'SPACE_GUEST_HELP':''['concat'](f,'/wolai/8XtDuVgByhv7SDKAykmJDj'),'LOCK_SCREEN':''['concat'](f,'/wolai/w5frxDLKSxTZE3pdE7GA4f'),'MEMBER_PERMISSION':''['concat'](f,'/wolai/rMnSw1JTt6EhRq5U6xmxYz'),'GUEST_PERMISSION':''['concat'](f,'/wolai/8XtDuVgByhv7SDKAykmJDj'),'DATABASE':''['concat'](f,'/wolai/sLEwZTNMRcAxQ1JCk1jNpe'),'DATABASE_VIEW_PROPERTY':''['concat'](f,'/wolai/od8aEZ8crgsANKYjntF2dj'),'DATABASE_FILTER':''['concat'](f,'/wolai/9UmA9a3ZDRRdkbJh8iuaE5'),'DATABASE_SORT':''['concat'](f,'/wolai/beCAAPx7s1RKETkTGLCcFf'),'DATABASE_TEMPLATE':''['concat'](f,'/wolai/khobXi33iXSNixiWvCG7G1'),'DATABASE_FORM':''['concat'](f,'/wolai/64JUKq4eLeEswDbvk4XBhH'),'SPACE_SETTING':''['concat'](f,'/wolai/gUmtdLHWWVD3gbiv1zYcRQ'),'DATABASE_FORMULA':''['concat'](f,'/wolai/qMWvKpn5Cn76tnhnkAy59H'),'DATABASE_VIEW_GROUP':''['concat'](f,'/wolai/uLq3rkf1AKVKWF4gRg9u2b#3ENxuyePFELThwgsgkM2Hp')},h={'VIRUS':''['concat'](f,'/wolai/xnH65XcZmpZqxqdQ9XWUJG'),'APPEAL_DOCUMENT':''['concat'](f,'/f/ja9FQc4vjgkzychoHS5nJh'),'SERVICE_DOCUMENT':''['concat'](f,'/wolai/q5eyV15yEQPxBhjnFXyWtL'),'PRIVACY_DOCUMENT':''['concat'](f,'/wolai/az7AzNBmrPRjVZtdTVNi77'),'TEMPLATE_DOCUMENT':''['concat'](f,'/wolai/8iKRWYnzpP4YZTbAHCyzLw'),'TEMPLATE_CONTRIBUTE_FORM':''['concat'](f,'/f/mCRC7dwdWzg3E43vWNdzuj'),'BLOCK_HISTORY':''['concat'](f,'/wolai/pxAPNPcXbZV2eMGWn8S6cw'),'QUICK_START':''['concat'](f,'/wolai/veSZ7eYZp48cCxLzH2Uwqt'),'FAQ':''['concat'](f,'/wolai/mhvv1bPZkitmQt58NzJVDa'),'HELP_CENTER':''['concat'](f,'/wolai/xhqeop8UHpVTMUSVmgz8nq'),'NEWS':''['concat'](f,'/wolai/k1Qgi1J2L9vWBQkkJz8j82'),'SHORTCUTS':''['concat'](f,'/wolai/osK1ovehJ28QXqc4h4EMUk'),'USER_GROUP':''['concat'](f,'/wolai/6Zz7Ap5Fit62kLWS367SAL'),'PAY_AGREEMENT':''['concat'](f,'/wolai/fTajCK6jQ6HFxjnvPnwxe7'),'PRICING':''['concat'](f,'/wolai/7TAksv5x4ncBwxGUunJNkq'),'CONTACT_HELP':''['concat'](f,'/f/3oBeSqPRHj9V4sqthjJqDm')};},'gqFJ':function(b,c,d){'use strict';d['d'](c,'a',function(){return k;});var f=d('fZkv'),g=d('odX6'),h=(l,m,p)=>new Promise((q,u)=>{var v=y=>{try{x(p['next'](y));}catch(z){u(z);}},w=y=>{try{x(p['throw'](y));}catch(z){u(z);}},x=y=>y['done']?q(y['value']):Promise['resolve'](y['value'])['then'](v,w);x((p=p['apply'](l,m))['next']());}),j=window,k=(l,m)=>h(void 0x0,null,function*(){if(Object(g['b'])('workspaceStore')['inApp'])Object(f['e'])(l);else try{navigator['clipboard']&&window['ClipboardItem']?yield(p=>navigator['clipboard']['writeText'](p))(l):j['clipboardData']&&j['clipboardData']['setData']?yield(p=>j['clipboardData']['setData']('Text',p))(l):document['queryCommandSupported']&&document['queryCommandSupported']('copy')&&(yield(p=>h(void 0x0,null,function*(){yield new Promise(u=>setTimeout(u));var q=document['getElementById']('copyTextarea');q||((q=document['createElement']('textarea'))['id']='copyTextarea',q['style']['position']='fixed',document['body']['appendChild'](q)),q['textContent']=p,q['select']();try{return document['execCommand']('copy');}catch(u){return console['warn']('Copy\x20to\x20clipboard\x20failed.',u),!0x1;}finally{document['body']['removeChild'](q);}}))(l));}catch(p){console['error']('Async:\x20Could\x20not\x20copy\x20text:\x20'['concat'](JSON['stringify'](p)));}m&&m();});},'h16Y':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('q1tI'),g=d['n'](f),h=(j,k)=>{var l=g['a']['useRef'](()=>0x0);g['a']['useEffect'](()=>{var m,n,p;return m=void 0x0,n=null,p=function*(){l['current']=yield j();},new Promise((q,u)=>{var v=y=>{try{x(p['next'](y));}catch(z){u(z);}},w=y=>{try{x(p['throw'](y));}catch(z){u(z);}},x=y=>y['done']?q(y['value']):Promise['resolve'](y['value'])['then'](v,w);x((p=p['apply'](m,n))['next']());}),l['current'];},k);};},'h8Y8':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('5D19'),f=g=>{return h=void 0x0,j=null,k=function*(){return yield Object(d['n'])(Object(d['p'])('publicUser/getPublicUsers'),g,d['h']);},new Promise((l,m)=>{var p=v=>{try{u(k['next'](v));}catch(w){m(w);}},q=v=>{try{u(k['throw'](v));}catch(w){m(w);}},u=v=>v['done']?l(v['value']):Promise['resolve'](v['value'])['then'](p,q);u((k=k['apply'](h,j))['next']());});var h,j,k;};},'hDSJ':function(a,b,c){'use strict';var d=c('fuoB'),f=new class{constructor(){this['transactions']=[];}['commit'](g,h){d['a']['addTransaction'](g,h);}}();b['a']=f;},'hK2u':function(f,g,j){'use strict';var k=j('BkRI'),m=j['n'](k),q=j('2vnA'),v=j('Rsoz'),w=j('wK8x'),x=j('odX6'),y=j('bXzw'),z=Object['defineProperty'],A=Object['getOwnPropertyDescriptor'],B=(E,F,G,H)=>{for(var I,J=H>0x1?void 0x0:H?A(F,G):F,K=E['length']-0x1;K>=0x0;K--)(I=E[K])&&(J=(H?I(F,G,J):I(J))||J);return H&&J&&z(F,G,J),J;},C=(E,F,G)=>new Promise((H,I)=>{var J=M=>{try{L(G['next'](M));}catch(N){I(N);}},K=M=>{try{L(G['throw'](M));}catch(N){I(N);}},L=M=>M['done']?H(M['value']):Promise['resolve'](M['value'])['then'](J,K);L((G=G['apply'](E,F))['next']());});class D{constructor(){this['init']=()=>{this['pageSnapshotList']=[],this['currentSnapshot']={},this['selectedSnapshotId']='',this['loadingCurrentSnapshot']=!0x0,this['loadingSnapshotList']=!0x0,this['restoringFromSnapshot']=!0x1,this['isRestored']=!0x1,this['isLoadFinished']=!0x1;},this['resetCurrentSnapshot']=()=>{this['currentSnapshot']={};},this['markCurrentSnapshotAsLoaded']=()=>{this['loadingCurrentSnapshot']=!0x1;},this['markCurrentSnapshotAsLoading']=()=>{this['loadingCurrentSnapshot']=!0x0;},this['markSnapshotListAsLoading']=()=>{this['loadingSnapshotList']=!0x0;},this['markSnapshotListAsLoaded']=()=>{this['loadingSnapshotList']=!0x1;},this['updateCurrentSnapshotByEditTime']=E=>C(this,null,function*(){this['selectedSnapshotId']=E,this['markCurrentSnapshotAsLoading']();var F=yield Object(w['c'])(this['screenStore']['currentScreen']['id']||this['pageStore']['pageId'],E);return this['currentSnapshot']=F,this['currentSnapshotBlocks']=F['block'],this['screenStore']['setPageHistoryScreen'](this['screenStore']['currentScreen']['id']||this['pageStore']['pageId']),this['markCurrentSnapshotAsLoaded'](),F;}),this['restoreToSelectedSnapshot']=(E,F)=>C(this,null,function*(){if(this['loadingCurrentSnapshot']||this['restoringFromSnapshot']);else{yield new Promise(G=>setTimeout(G,0x0)),E(),this['restoringFromSnapshot']=!0x0;try{yield Object(w['d'])(this['screenStore']['currentScreen']['id']||this['pageStore']['pageId'],this['currentSnapshot']['edited_time_by_minute']);}catch(G){this['pageStore']['setConfirmOpen']({'contents':v['a']['t']('stores.pageHistoryStore.restoreSnapshotFailed','快照恢复错误！',{'ns':'editor'}),'adjustMobile':!0x0,'singleButton':!0x0});}yield new Promise(H=>setTimeout(H,0x3e8)),this['restoringFromSnapshot']=!0x1,F();}}),this['getSnapshotListOfPage']=(E,F)=>C(this,null,function*(){if(this['markSnapshotListAsLoading'](),E){var G=yield Object(w['b'])(E,F);return 0x1e==G['length']?this['pageSnapshotList']=G['concat'](this['pageSnapshotList']):(this['pageSnapshotList']=G['concat'](this['pageSnapshotList']),this['isLoadFinished']=!0x0),this['markSnapshotListAsLoaded'](),this['pageSnapshotList'];}}),this['initSnapshotWindow']=()=>C(this,null,function*(){this['participantInfo']={[this['userStore']['userId']]:{'userName':this['userStore']['userName']}};var E=yield this['getSnapshotListOfPage'](this['screenStore']['currentScreen']['id']||this['pageStore']['pageId'],new Date()['getTime']());if(this['pageStore']&&E['length']&&E[0x0]&&this['spaceStore']['hasPremiumOrTeamPlan'])yield this['updateCurrentSnapshotByEditTime'](E['sort']((F,G)=>G['edited_time_by_minute']-F['edited_time_by_minute'])[0x0]['edited_time_by_minute']);else this['markCurrentSnapshotAsLoaded']();}),this['saveMainScreenPageData']=()=>{this['mainScreenCopy']=m()(this['dataStore']['blocks']);},this['restoreMainScreenPageData']=()=>{this['dataStore']['syncBlockData'](this['mainScreenCopy']);},this['markAsRestored']=()=>{this['isRestored']=!0x0;},this['onLoadMore']=()=>C(this,null,function*(){if(!this['isLoadFinished']){var E=this['pageSnapshotList'][0x0]['page_id'],F=this['pageSnapshotList'][0x0]['edited_time_by_minute'];yield this['getSnapshotListOfPage'](E,F);}}),this['reset']=()=>{this['init']();},this['init']();}}B([q['observable']],D['prototype'],'mainScreenCopy',0x2),B([q['observable']],D['prototype'],'pageHistoryChunksCopy',0x2),B([q['observable']],D['prototype'],'pageSnapshotList',0x2),B([q['observable']],D['prototype'],'currentSnapshot',0x2),B([q['observable']],D['prototype'],'currentSnapshotBlocks',0x2),B([q['observable']],D['prototype'],'selectedSnapshotId',0x2),B([q['observable']],D['prototype'],'participantInfo',0x2),B([q['observable']],D['prototype'],'loadingCurrentSnapshot',0x2),B([q['observable']],D['prototype'],'loadingSnapshotList',0x2),B([q['observable']],D['prototype'],'restoringFromSnapshot',0x2),B([q['observable']],D['prototype'],'isRestored',0x2),B([q['observable']],D['prototype'],'isLoadFinished',0x2),B([x['b']],D['prototype'],'pageStore',0x2),B([x['b']],D['prototype'],'dataStore',0x2),B([x['b']],D['prototype'],'editorStore',0x2),B([x['b']],D['prototype'],'userStore',0x2),B([x['b']],D['prototype'],'screenStore',0x2),B([x['b']],D['prototype'],'blockStore',0x2),B([x['b']],D['prototype'],'spaceStore',0x2),B([q['action']],D['prototype'],'init',0x2),B([q['action']],D['prototype'],'resetCurrentSnapshot',0x2),B([q['action']],D['prototype'],'markCurrentSnapshotAsLoaded',0x2),B([q['action']],D['prototype'],'markCurrentSnapshotAsLoading',0x2),B([q['action']],D['prototype'],'markSnapshotListAsLoading',0x2),B([q['action']],D['prototype'],'markSnapshotListAsLoaded',0x2),B([q['action']],D['prototype'],'updateCurrentSnapshotByEditTime',0x2),B([q['action']],D['prototype'],'restoreToSelectedSnapshot',0x2),B([q['action']],D['prototype'],'getSnapshotListOfPage',0x2),B([q['action']],D['prototype'],'initSnapshotWindow',0x2),B([q['action']],D['prototype'],'saveMainScreenPageData',0x2),B([q['action']],D['prototype'],'restoreMainScreenPageData',0x2),B([q['action']],D['prototype'],'markAsRestored',0x2),B([q['action']],D['prototype'],'onLoadMore',0x2),B([q['action']],D['prototype'],'reset',0x2),g['a']=Object(y['a'])(D);},'hbLi':function(j,k,q){'use strict';q['d'](k,'k',function(){return z;}),q['d'](k,'f',function(){return A;}),q['d'](k,'j',function(){return B;}),q['d'](k,'m',function(){return C;}),q['d'](k,'g',function(){return D;}),q['d'](k,'a',function(){return E;}),q['d'](k,'b',function(){return F;}),q['d'](k,'d',function(){return G;}),q['d'](k,'i',function(){return H;}),q['d'](k,'l',function(){return I;}),q['d'](k,'c',function(){return J;}),q['d'](k,'e',function(){return K;}),q['d'](k,'h',function(){return L;});var v=q('5D19'),w=q('9rbq'),x=(M,N,O)=>new Promise((P,Q)=>{var R=U=>{try{T(O['next'](U));}catch(V){Q(V);}},S=U=>{try{T(O['throw'](U));}catch(V){Q(V);}},T=U=>U['done']?P(U['value']):Promise['resolve'](U['value'])['then'](R,S);T((O=O['apply'](M,N))['next']());}),z=M=>x(void 0x0,null,function*(){var {workspaceId:N,keyword:O,requestId:P}=M;return yield Object(v['n'])(Object(v['p'])('workspace/searchMembers'),{'workspaceId':N,'keyword':O,'requestId':P},v['h'],!0x0);}),A=M=>x(void 0x0,null,function*(){return yield Object(v['n'])(Object(v['p'])('workspace/getSearchKeyword'),{'nickname':M},v['h'],!0x0);}),B=(M,N)=>x(void 0x0,null,function*(){return yield Object(v['n'])(Object(v['p'])('workspace/'['concat'](N,'/removeMember/')['concat'](M)),{},v['h']);}),C=(M,N,O)=>x(void 0x0,null,function*(){return yield Object(v['n'])(Object(v['p'])('workspace/updateMemberRole'),{'userId':M,'role':N,'workspaceId':O},v['h']);}),D=function(M){var N=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x64,O=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:'';return x(void 0x0,null,function*(){var P={'spaceId':M,'limitCount':N,'lastGuestId':O};return yield Object(v['i'])(Object(v['p'])('workspace/guestMember',P),v['h']);});},E=(M=>(M[M['AddMemberSuccess']=0x1]='AddMemberSuccess',M[M['GuestCountLimited']=-0x2]='GuestCountLimited',M[M['CreateGuestFailed']=-0x3]='CreateGuestFailed',M))(E||{}),F=(M,N,O,P)=>x(void 0x0,null,function*(){var Q={'pageId':M,'workspaceId':N,'guestUserMobile':O,'countryCode':P};return yield Object(v['n'])(Object(v['p'])('workspace/guestMember'),Q,v['h']);}),G=(M,N)=>x(void 0x0,null,function*(){var O={'workspaceId':M,'guestUserId':N};return yield Object(v['a'])(Object(v['p'])('workspace/guestMember',O),v['h']);}),H=(M,N)=>x(void 0x0,null,function*(){var O={'spaceId':M,[w['hb']?'userEmail':'userMobile']:N};return yield Object(v['i'])(Object(v['p'])('workspace/spaceMember',O),v['h']);}),I=(M,N)=>x(void 0x0,null,function*(){var O={'spaceId':M,'memberId':N};return yield Object(v['n'])(Object(v['p'])('workspace/spaceMember'),O,v['h']);});function J(M,N,O){return x(this,null,function*(){var P={'pageId':O,'spaceId':M,'guestId':N};return yield Object(v['n'])(Object(v['p'])('block/guestPage'),P,v['h']);});}function K(M,N,O){return x(this,null,function*(){var P={'pageId':N,'spaceId':M,'guestId':O};return yield Object(v['a'])(Object(v['p'])('block/guestPage',P),v['h']);});}function L(M,N){return x(this,null,function*(){var O={'spaceId':M,'guestUserId':N};return yield Object(v['i'])(Object(v['p'])('block/guestPages',O),v['h']);});}},'hcfp':function(b,d,f){'use strict';f['d'](d,'b',function(){return j;}),f['d'](d,'a',function(){return k;}),f['d'](d,'c',function(){return l;}),f['d'](d,'d',function(){return m;});var g=f('5D19'),h=(p,q,u)=>new Promise((v,w)=>{var x=A=>{try{z(u['next'](A));}catch(B){w(B);}},y=A=>{try{z(u['throw'](A));}catch(B){w(B);}},z=A=>A['done']?v(A['value']):Promise['resolve'](A['value'])['then'](x,y);z((u=u['apply'](p,q))['next']());}),j=p=>h(void 0x0,null,function*(){return yield Object(g['n'])(Object(g['p'])('clonePage'),p,g['h']);}),k=p=>h(void 0x0,null,function*(){return yield Object(g['o'])(Object(g['p'])('clonePage'),p,g['h']);}),l=p=>h(void 0x0,null,function*(){return yield Object(g['i'])(Object(g['p'])('page-status/getVisitData/'['concat'](p)),g['h'],!0x0);}),m=p=>h(void 0x0,null,function*(){return yield Object(g['n'])(Object(g['p'])('page-status/updateVisitData'),{'page_id':p},g['h']);});},'hi9k':function(b,f,g){'use strict';var h=g('2vnA'),j=g('h8Y8'),k=g('bXzw'),m=Object['defineProperty'],p=Object['getOwnPropertyDescriptor'],q=(w,x,y,z)=>{for(var A,B=z>0x1?void 0x0:z?p(x,y):x,C=w['length']-0x1;C>=0x0;C--)(A=w[C])&&(B=(z?A(x,y,B):A(B))||B);return z&&B&&m(x,y,B),B;},u=(w,x,y)=>new Promise((z,A)=>{var B=E=>{try{D(y['next'](E));}catch(F){A(F);}},C=E=>{try{D(y['throw'](E));}catch(F){A(F);}},D=E=>E['done']?z(E['value']):Promise['resolve'](E['value'])['then'](B,C);D((y=y['apply'](w,x))['next']());});class v{constructor(){this['users']=new Map(),this['init']=()=>{this['users']=h['observable']['map'](),this['pending']=new Set(),this['pendingState']=!0x1,this['resolves']=[];},this['addUser']=w=>{this['users']['set'](w['id'],w);},this['synchronizedFetch']=()=>u(this,null,function*(){var w=Array['from'](this['pending']);if(w['length']){var x=(yield Object(j['a'])({'userIds':w}))['publicUsers'];for(var y of x)this['addUser'](y);for(var z of w)this['pending']['delete'](z);this['pending']['size']&&(yield this['synchronizedFetch']());}}),this['fetchUsers']=w=>{if(w['filter'](x=>'all'!==x)['forEach'](x=>{this['users']['has'](x)||this['pending']['add'](x);}),this['pending']['size'])return new Promise(x=>u(this,null,function*(){this['resolves']['push'](x),this['pendingState']||(this['pendingState']=!0x0,yield this['synchronizedFetch'](),this['pendingState']=!0x1,this['resolves']['forEach'](y=>y()),this['resolves']=[]);}));},this['init']();}}q([h['observable']],v['prototype'],'users',0x2),q([h['action']],v['prototype'],'init',0x2),q([h['action']],v['prototype'],'addUser',0x2),f['a']=Object(k['a'])(v);},'hpLR':function(b,c,d){'use strict';d['d'](c,'b',function(){return g;}),d['d'](c,'a',function(){return h;});var f=(j,k,l)=>new Promise((m,p)=>{var q=w=>{try{v(l['next'](w));}catch(x){p(x);}},u=w=>{try{v(l['throw'](w));}catch(x){p(x);}},v=w=>w['done']?m(w['value']):Promise['resolve'](w['value'])['then'](q,u);v((l=l['apply'](j,k))['next']());}),g=j=>new Promise(k=>setTimeout(k,j)),h=function(j){var k=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},{count:l=0x1/0x0,timeout:m=0x1/0x0,interval:p=0x32,validator:q=u=>void 0x0!==u}=k;return new Promise(u=>f(void 0x0,null,function*(){var v,w=Date['now']()+m,x='function'==typeof p?p:()=>p,y=B=>(Boolean(v&&clearTimeout(v)),u(B));m!==0x1/0x0&&(v=setTimeout(()=>y(void 0x0),m));for(var z=0x0;;){if(w<=Date['now']()||l<=z)return y(void 0x0);var A=yield j(z);if(yield q(A))return y(A);yield g(yield x(z++));}}));};},'iHkl':function(q,z,F){'use strict';F['d'](z,'k',function(){return H;}),F['d'](z,'t',function(){return J;}),F['d'](z,'D',function(){return K;}),F['d'](z,'y',function(){return Q;}),F['d'](z,'w',function(){return V;}),F['d'](z,'E',function(){return W;}),F['d'](z,'g',function(){return X;}),F['d'](z,'e',function(){return Y;}),F['d'](z,'l',function(){return Z;}),F['d'](z,'H',function(){return a0;}),F['d'](z,'G',function(){return a1;}),F['d'](z,'v',function(){return a2;}),F['d'](z,'s',function(){return a3;}),F['d'](z,'B',function(){return a4;}),F['d'](z,'q',function(){return a5;}),F['d'](z,'r',function(){return a6;}),F['d'](z,'x',function(){return a7;}),F['d'](z,'F',function(){return a8;}),F['d'](z,'u',function(){return a9;}),F['d'](z,'I',function(){return aa;}),F['d'](z,'c',function(){return ab;}),F['d'](z,'n',function(){return ac;}),F['d'](z,'d',function(){return ad;}),F['d'](z,'m',function(){return ae;}),F['d'](z,'j',function(){return af;}),F['d'](z,'p',function(){return ag;}),F['d'](z,'o',function(){return ah;}),F['d'](z,'i',function(){return ai;}),F['d'](z,'h',function(){return aj;}),F['d'](z,'a',function(){return ak;}),F['d'](z,'z',function(){return al;}),F['d'](z,'A',function(){return am;}),F['d'](z,'C',function(){return an;}),F['d'](z,'J',function(){return ao;}),F['d'](z,'f',function(){return ap;}),F['d'](z,'b',function(){return aq;});var G=F('Rsoz'),H={'TEXT':'text','HEADER_H1':'header','HEADER_H2':'midHeader','HEADER_H3':'subHeader','HEADER_H4':'tinyHeader','TOGGLE_HEADER_H1':'toggleHeader','TOGGLE_HEADER_H2':'toggleMidHeader','TOGGLE_HEADER_H3':'toggleSubHeader','TOGGLE_HEADER_H4':'toggleTinyHeader','BULLET_LIST':'bullList','ENUM_LIST':'enumList','TODO_LIST':'todoList','TODO_LIST_PRO':'todoListPro','TOGGLE_TODO_LIST':'toggleTodoList','TOGGLE_TODO_LIST_PRO':'toggleTodoListPro','TOGGLE_LIST':'toggleList','PAGE':'page','DIVIDER':'divider','QUOTE':'quote','CALLOUT':'callout','IMAGE':'image','BOOKMARK':'bookmark','EMBED':'embed','BILIBILI_VIDEO':'bilibiliVideo','YOUTUBE_VIDEO':'youtubeVideo','YOUKU_VIDEO':'youkuVideo','TENCENT_VIDEO':'tencentVideo','XIGUA_VIDEO':'xiguaVideo','XIAO_HUA_ZHUO':'xiaoHuaZhuo','WE_MEET':'weMeet','MO_DAO':'moDao','LANHU':'lanHu','FIGMA':'figma','MASTERGO':'MasterGo','PROCESSON':'ProcessOn','JINSHUJU':'Jinshuju','SHIMO':'Shimo','CODEPEN':'codepen','TENCENT_WJ':'tencentWj','AIRTABLE':'airtable','SOHU_VIDEO':'sohuVideo','NETEASE_MUSIC':'neteaseMusic','SEA_TABLE':'seaTable','CODE':'code','FILE':'file','BLOCK_EQUATION':'blockEquation','INLINE_EQUATION':'inlineEquation','TEMPLATE_BUTTON':'templateButton','SIMPLE_TABLE':'simpleTable','INLINE_EMOJI':'inlineEmoji','VIDEO':'video','AUDIO':'audio','INLINE_FONT_AWESOME':'inlineFontAwesome','PROGRESS_BAR':'progressBar','QUICK_SPLIT_COLUMN_2':'quickSplitColumn2','QUICK_SPLIT_COLUMN_3':'quickSplitColumn3','QUICK_SPLIT_COLUMN_4':'quickSplitColumn4','QUICK_SPLIT_COLUMN_5':'quickSplitColumn5','CALLOUT_MARQUEE':'calloutMarquee','DATABASE':'database','DATABASE_BOARD':'databaseBoard','DATABASE_GALLERY':'databaseGallery','DATABASE_FORM':'databaseForm','DATABASE_LIST':'databaseList','CODE_MERMAID':'codeMermaid','CODE_DASHBOARD':'codeDashboard','MEETING':'meeting'},J=[H['QUOTE'],H['CALLOUT'],H['ENUM_LIST'],H['BULLET_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST']],K=[H['HEADER_H1'],H['HEADER_H2'],H['HEADER_H3'],H['HEADER_H4'],H['TOGGLE_HEADER_H1'],H['TOGGLE_HEADER_H2'],H['TOGGLE_HEADER_H3'],H['TOGGLE_HEADER_H4'],H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT'],H['IMAGE']],Q=[H['ENUM_LIST'],H['BULLET_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST']],V=['/','\x5c','、','、','／','＼'],W=['row','column'],X=[H['HEADER_H1'],H['HEADER_H2'],H['HEADER_H3'],H['HEADER_H4'],H['TOGGLE_HEADER_H1'],H['TOGGLE_HEADER_H2'],H['TOGGLE_HEADER_H3'],H['TOGGLE_HEADER_H4']],Y=[...X,H['TEXT'],H['BLOCK_EQUATION']],Z=ar=>{switch(ar){case H['TEXT']:return G['a']['t'](''['concat'](H['TEXT'],'BlockType'),'文本',{'ns':'editor'});case H['HEADER_H1']:return G['a']['t'](''['concat'](H['HEADER_H1'],'BlockType'),'主标题',{'ns':'editor'});case H['HEADER_H2']:return G['a']['t'](''['concat'](H['HEADER_H2'],'BlockType'),'大标题',{'ns':'editor'});case H['HEADER_H3']:return G['a']['t'](''['concat'](H['HEADER_H3'],'BlockType'),'中标题',{'ns':'editor'});case H['HEADER_H4']:return G['a']['t'](''['concat'](H['HEADER_H4'],'BlockType'),'小标题',{'ns':'editor'});case H['TOGGLE_HEADER_H1']:return G['a']['t'](''['concat'](H['TOGGLE_HEADER_H1'],'BlockType'),'折叠主标题',{'ns':'editor'});case H['TOGGLE_HEADER_H2']:return G['a']['t'](''['concat'](H['TOGGLE_HEADER_H2'],'BlockType'),'折叠大标题',{'ns':'editor'});case H['TOGGLE_HEADER_H3']:return G['a']['t'](''['concat'](H['TOGGLE_HEADER_H3'],'BlockType'),'折叠中标题',{'ns':'editor'});case H['TOGGLE_HEADER_H4']:return G['a']['t'](''['concat'](H['TOGGLE_HEADER_H4'],'BlockType'),'折叠小标题',{'ns':'editor'});case H['BULLET_LIST']:return G['a']['t'](''['concat'](H['BULLET_LIST'],'BlockType'),'列表',{'ns':'editor'});case H['ENUM_LIST']:return G['a']['t'](''['concat'](H['ENUM_LIST'],'BlockType'),'数字列表',{'ns':'editor'});case H['TODO_LIST']:return G['a']['t'](''['concat'](H['TODO_LIST'],'BlockType'),'待办列表',{'ns':'editor'});case H['TODO_LIST_PRO']:return G['a']['t'](''['concat'](H['TODO_LIST_PRO'],'BlockType'),'待办列表\x20-\x20高级',{'ns':'editor'});case H['TOGGLE_TODO_LIST']:return G['a']['t'](''['concat'](H['TOGGLE_TODO_LIST'],'BlockType'),'折叠待办列表',{'ns':'editor'});case H['TOGGLE_TODO_LIST_PRO']:return G['a']['t'](''['concat'](H['TOGGLE_TODO_LIST_PRO'],'BlockType'),'折叠待办列表\x20-\x20高级',{'ns':'editor'});case H['TOGGLE_LIST']:return G['a']['t'](''['concat'](H['TOGGLE_LIST'],'BlockType'),'折叠列表',{'ns':'editor'});case H['PAGE']:return G['a']['t'](''['concat'](H['PAGE'],'BlockType'),'页面',{'ns':'editor'});case H['DIVIDER']:return G['a']['t'](''['concat'](H['DIVIDER'],'BlockType'),'分割线',{'ns':'editor'});case H['QUOTE']:return G['a']['t'](''['concat'](H['QUOTE'],'BlockType'),'引述文字',{'ns':'editor'});case H['CALLOUT']:return G['a']['t'](''['concat'](H['CALLOUT'],'BlockType'),'着重文字',{'ns':'editor'});case H['CALLOUT_MARQUEE']:return G['a']['t'](''['concat'](H['CALLOUT_MARQUEE'],'BlockType'),'着重文字\x20-\x20跑马灯',{'ns':'editor'});case H['IMAGE']:return G['a']['t'](''['concat'](H['IMAGE'],'BlockType'),'图片',{'ns':'editor'});case H['BOOKMARK']:return G['a']['t'](''['concat'](H['BOOKMARK'],'BlockType'),'网址书签',{'ns':'editor'});case H['BILIBILI_VIDEO']:return G['a']['t'](''['concat'](H['BILIBILI_VIDEO'],'BlockType'),'哔哩哔哩视频',{'ns':'editor'});case H['YOUTUBE_VIDEO']:return G['a']['t'](''['concat'](H['YOUTUBE_VIDEO'],'BlockType'),'YouTube视频',{'ns':'editor'});case H['YOUKU_VIDEO']:return G['a']['t'](''['concat'](H['YOUKU_VIDEO'],'BlockType'),'优酷视频',{'ns':'editor'});case H['XIGUA_VIDEO']:return G['a']['t'](''['concat'](H['XIGUA_VIDEO'],'BlockType'),'西瓜视频',{'ns':'editor'});case H['XIAO_HUA_ZHUO']:return G['a']['t'](''['concat'](H['XIAO_HUA_ZHUO'],'BlockType'),'小画桌',{'ns':'editor'});case H['WE_MEET']:return G['a']['t'](''['concat'](H['WE_MEET'],'BlockType'),'腾讯会议',{'ns':'editor'});case H['MO_DAO']:return G['a']['t'](''['concat'](H['MO_DAO'],'BlockType'),'墨刀',{'ns':'editor'});case H['LANHU']:return G['a']['t'](''['concat'](H['LANHU'],'BlockType'),'蓝湖',{'ns':'editor'});case H['FIGMA']:return G['a']['t'](''['concat'](H['FIGMA'],'BlockType'),'Figma',{'ns':'editor'});case H['MASTERGO']:return G['a']['t'](''['concat'](H['MASTERGO'],'BlockType'),'MasterGo',{'ns':'editor'});case H['PROCESSON']:return G['a']['t'](''['concat'](H['PROCESSON'],'BlockType'),'ProcessOn',{'ns':'editor'});case H['JINSHUJU']:return G['a']['t'](''['concat'](H['JINSHUJU'],'BlockType'),'金数据',{'ns':'editor'});case H['SHIMO']:return G['a']['t'](''['concat'](H['SHIMO'],'BlockType'),'石墨文档',{'ns':'editor'});case H['CODEPEN']:return G['a']['t'](''['concat'](H['CODEPEN'],'BlockType'),'CodePen',{'ns':'editor'});case H['TENCENT_WJ']:return G['a']['t'](''['concat'](H['TENCENT_WJ'],'BlockType'),'腾讯问卷',{'ns':'editor'});case H['AIRTABLE']:return G['a']['t'](''['concat'](H['AIRTABLE'],'BlockType'),'AirTable',{'ns':'editor'});case H['SOHU_VIDEO']:return G['a']['t'](''['concat'](H['SOHU_VIDEO'],'BlockType'),'搜狐视频',{'ns':'editor'});case H['NETEASE_MUSIC']:return G['a']['t'](''['concat'](H['NETEASE_MUSIC'],'BlockType'),'网易云音乐',{'ns':'editor'});case H['EMBED']:return G['a']['t'](''['concat'](H['EMBED'],'BlockType'),'嵌入内容',{'ns':'editor'});case H['TENCENT_VIDEO']:return G['a']['t'](''['concat'](H['TENCENT_VIDEO'],'BlockType'),'腾讯视频',{'ns':'editor'});case H['SEA_TABLE']:return G['a']['t'](''['concat'](H['SEA_TABLE'],'BlockType'),'SeaTable',{'ns':'editor'});case H['FILE']:return G['a']['t'](''['concat'](H['FILE'],'BlockType'),'文件',{'ns':'editor'});case H['CODE']:return G['a']['t'](''['concat'](H['CODE'],'BlockType'),'代码片段',{'ns':'editor'});case H['BLOCK_EQUATION']:return G['a']['t'](''['concat'](H['BLOCK_EQUATION'],'BlockType'),'数学公式',{'ns':'editor'});case H['INLINE_EQUATION']:return G['a']['t'](''['concat'](H['INLINE_EQUATION'],'BlockType'),'行内公式',{'ns':'editor'});case H['TEMPLATE_BUTTON']:return G['a']['t'](''['concat'](H['TEMPLATE_BUTTON'],'BlockType'),'模板按钮',{'ns':'editor'});case H['SIMPLE_TABLE']:return G['a']['t'](''['concat'](H['SIMPLE_TABLE'],'BlockType'),'简单表格',{'ns':'editor'});case H['INLINE_EMOJI']:return G['a']['t'](''['concat'](H['INLINE_EMOJI'],'BlockType'),'Emoji',{'ns':'editor'});case H['VIDEO']:return G['a']['t'](''['concat'](H['VIDEO'],'BlockType'),'视频',{'ns':'editor'});case H['AUDIO']:return G['a']['t'](''['concat'](H['AUDIO'],'BlockType'),'音频',{'ns':'editor'});case H['INLINE_FONT_AWESOME']:return G['a']['t'](''['concat'](H['INLINE_FONT_AWESOME'],'BlockType'),'Font\x20Awesome',{'ns':'editor'});case H['QUICK_SPLIT_COLUMN_2']:return G['a']['t'](''['concat'](H['QUICK_SPLIT_COLUMN_2'],'BlockType'),'两列分栏',{'ns':'editor'});case H['QUICK_SPLIT_COLUMN_3']:return G['a']['t'](''['concat'](H['QUICK_SPLIT_COLUMN_3'],'BlockType'),'三列分栏',{'ns':'editor'});case H['QUICK_SPLIT_COLUMN_4']:return G['a']['t'](''['concat'](H['QUICK_SPLIT_COLUMN_4'],'BlockType'),'四列分栏',{'ns':'editor'});case H['QUICK_SPLIT_COLUMN_5']:return G['a']['t'](''['concat'](H['QUICK_SPLIT_COLUMN_5'],'BlockType'),'五列分栏',{'ns':'editor'});case H['PROGRESS_BAR']:return G['a']['t'](''['concat'](H['PROGRESS_BAR'],'BlockType'),'进度条',{'ns':'editor'});case H['DATABASE']:return G['a']['t'](''['concat'](H['DATABASE'],'BlockType'),'数据表格',{'ns':'editor'});case H['DATABASE_BOARD']:return G['a']['t'](''['concat'](H['DATABASE_BOARD'],'BlockType'),'数据表格\x20-\x20看板视图',{'ns':'editor'});case H['DATABASE_GALLERY']:return G['a']['t'](''['concat'](H['DATABASE_GALLERY'],'BlockType'),'数据表格\x20-\x20画廊视图',{'ns':'editor'});case H['DATABASE_LIST']:return G['a']['t'](''['concat'](H['DATABASE_LIST'],'BlockType'),'数据表格\x20-\x20列表视图',{'ns':'editor'});case H['DATABASE_FORM']:return G['a']['t'](''['concat'](H['DATABASE_FORM'],'BlockType'),'数据表格\x20-\x20表单',{'ns':'editor'});case H['CODE_MERMAID']:return G['a']['t'](''['concat'](H['CODE_MERMAID'],'BlockType'),'Mermaid\x20绘图',{'ns':'editor'});case H['CODE_DASHBOARD']:return G['a']['t'](''['concat'](H['CODE_DASHBOARD'],'BlockType'),'仪表数字',{'ns':'editor'});case H['MEETING']:return G['a']['t'](''['concat'](H['MEETING'],'BlockType'),'会议',{'ns':'editor'});default:return'';}},a0=[H['BILIBILI_VIDEO'],H['YOUKU_VIDEO'],H['YOUTUBE_VIDEO'],H['TENCENT_VIDEO'],H['XIGUA_VIDEO'],H['SOHU_VIDEO']],a1=[H['NETEASE_MUSIC'],H['SEA_TABLE'],H['FIGMA'],H['LANHU'],H['MASTERGO'],H['PROCESSON'],H['XIAO_HUA_ZHUO'],H['MO_DAO'],H['JINSHUJU'],H['SHIMO'],H['CODEPEN'],H['TENCENT_WJ'],H['AIRTABLE']],a2=[H['EMBED'],H['SEA_TABLE'],H['FIGMA'],H['LANHU'],H['MASTERGO'],H['PROCESSON'],H['XIAO_HUA_ZHUO'],H['MO_DAO'],H['JINSHUJU'],H['SHIMO'],H['CODEPEN'],H['TENCENT_WJ'],H['AIRTABLE']],a3=[H['EMBED'],...a1,...a0],a4=[H['PAGE'],H['DIVIDER'],H['IMAGE'],...a3,H['BOOKMARK'],H['FILE'],H['CODE'],H['BLOCK_EQUATION'],H['INLINE_EQUATION'],H['SIMPLE_TABLE'],H['VIDEO'],H['AUDIO'],H['PROGRESS_BAR'],H['DATABASE'],H['MEETING']],a5=[H['SIMPLE_TABLE']],a6=[...X,...a3,H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT'],H['CODE'],H['IMAGE'],H['TEMPLATE_BUTTON'],H['SIMPLE_TABLE'],H['VIDEO'],H['AUDIO'],H['DATABASE']],a7=[H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT']],a8=[...X,H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT'],H['TEMPLATE_BUTTON'],H['SIMPLE_TABLE']],a9=[...X,H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT'],H['CODE']],aa=[H['TOGGLE_LIST'],H['TOGGLE_HEADER_H1'],H['TOGGLE_HEADER_H2'],H['TOGGLE_HEADER_H3'],H['TOGGLE_HEADER_H4'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO']],ab=[...X,H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT']],ac=[H['IMAGE'],H['VIDEO'],H['AUDIO'],...a3],ad={'TURN_INTO':'turn_into','BASIC_BLOCK':'basic_block_list','ADVANCED_BLOCK':'advanced_block_list','QUICK_SPLIT_COLUMN':'quick_split_column','DATABASE':'database','INLINE':'inline','EMBED':'embed','MEDIA':'media','QUICK_INPUT':'quick_input','QUICK_OPEN':'quick_open','REFERENCE_LINK':'reference_link','NOTE':'note','THIRD_PARTY':'third_party'},ae={'LAST_USED':'LAST_USED','COLOR':'COLOR','BACKGROUND':'BACKGROUND'},af={'ACTIVE':0x1,'TRASH':-0x1,'INACTIVE':-0xa,'DELETE':-0x64},ag=[...X,H['DATABASE'],H['PAGE']],ah=[[H['HEADER_H1'],H['TOGGLE_HEADER_H1']],[H['HEADER_H2'],H['TOGGLE_HEADER_H2']],[H['HEADER_H3'],H['TOGGLE_HEADER_H3']],[H['HEADER_H4'],H['TOGGLE_HEADER_H4']],[H['DATABASE'],H['PAGE']]],ai=['BiLink','Equation','Metion','Mention','Note','Footnote'],aj=['BiLink','Equation','FontAwesome','Metion','Mention','Note','Footnote'],ak={'SIMPLE_TABLE_CAPTION':'simple_table_caption','CODE_CAPTION':'code_caption'},al=0x14,am=0x3e8,an=[H['DIVIDER'],H['IMAGE'],H['VIDEO'],H['AUDIO'],H['FILE'],H['TEMPLATE_BUTTON'],H['SIMPLE_TABLE'],H['BOOKMARK'],H['PROGRESS_BAR'],H['DATABASE'],H['MEETING'],...a3],ao=[...X,H['TEXT'],H['BULLET_LIST'],H['ENUM_LIST'],H['TODO_LIST'],H['TODO_LIST_PRO'],H['TOGGLE_TODO_LIST'],H['TOGGLE_TODO_LIST_PRO'],H['TOGGLE_LIST'],H['QUOTE'],H['CALLOUT']],ap=[H['IMAGE'],H['CODE'],H['AUDIO'],H['VIDEO'],ak['SIMPLE_TABLE_CAPTION'],ak['CODE_CAPTION'],...a3],aq=[H['CODE']];},'iXue':function(b,f,g){'use strict';var j=g('2vnA'),k=g('YSNs'),m=g('odX6'),q=g('hbLi'),v=g('bXzw'),w=g('Rsoz'),x=Object['defineProperty'],y=Object['getOwnPropertyDescriptor'],z=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?y(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&x(D,E,H),H;},A=(C,D,E)=>new Promise((F,G)=>{var H=K=>{try{J(E['next'](K));}catch(L){G(L);}},I=K=>{try{J(E['throw'](K));}catch(L){G(L);}},J=K=>K['done']?F(K['value']):Promise['resolve'](K['value'])['then'](H,I);J((E=E['apply'](C,D))['next']());});class B{constructor(){var C=this;this['init']=()=>A(this,null,function*(){this['lastGuestIds']=new Map(),yield this['pagination'](this['spaceStore']['spaceId']);}),this['pagination']=function(D){var E=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'';return A(C,null,function*(){try{var F=yield Object(q['g'])(D,0x3e8,E);E||(this['spaceMemberIds']=j['observable']['map'](),this['members']=j['observable']['map'](),this['pagePermissions']=new Map(),this['spaceLimit']=new Map()),this['lastGuestIds']['set'](D,F['nextGuestId']),Object(j['runInAction'])(()=>{var G;if(null==(G=null==F?void 0x0:F['guests'])?void 0x0:G['length']){var H=this['spaceMemberIds']['get'](D)||new Set(),I=F['guests']['map'](J=>(this['members']['set'](J['userId'],J),H['add'](J['userId']),J['userId']));this['spaceMemberIds']['set'](D,H),this['publicUserStore']['fetchUsers'](I);}this['spaceLimit']['set'](D,F['guestLimit']||0x0);});}catch(G){console['error'](G);}});},this['getPagesByGuestId']=D=>A(this,null,function*(){try{var E=yield Object(q['h'])(this['spaceStore']['spaceId'],D),F=this['members']['get'](D);E&&F&&Object(j['runInAction'])(()=>{var G;null==(G=E['pages'])||G['forEach'](H=>{this['dataStore']['syncBlockData']([{'value':H}]);var I=new k['a']();I['initialize'](H['id']),this['pagePermissions']['set'](H['id'],I);}),F['pages']=E['pages'],this['members']['set'](D,F);});}catch(G){console['error'](G);}}),this['changePagePermission']=D=>{var E=this['pagePermissions']['get'](D['pageId']);E&&E['setPagePermission'](D['permission']);},this['removePagePermission']=D=>A(this,null,function*(){var E=this['pagePermissions']['get'](D['pageId']),F=this['members']['get'](D['guestUserId']);if(F&&E){var G=(F['pages']||[])['filter'](H=>{var {id:I}=H;return D['pageId']!==I;});if(!G['length']){if(!(yield this['pageStore']['openConfirmModal']('',w['a']['t']('stores.guestMember.removePagePermissionConfirm','无任何页面的权限时，该访客将被移除',{'ns':'editor'}))))return;}E['delPagePermission'](D['permission'])&&(yield E['removeGuestPage'](D['guestUserId'])),F['pages']=G,this['members']['set'](D['guestUserId'],F),0x0===G['length']&&(yield this['init']());}}),this['removeGuestMember']=D=>A(this,null,function*(){yield Object(q['d'])(this['spaceStore']['spaceId'],D),this['members']['delete'](D);}),this['searchByMobile']=D=>A(this,null,function*(){var E;try{var F=yield Object(q['i'])(this['spaceStore']['spaceId'],D);this['filterSpaceMemberId']=(null==(E=null==F?void 0x0:F['member'])?void 0x0:E['user_id'])||'';}catch(G){this['filterSpaceMemberId']='',console['error'](G);}}),this['translateGuestToMember']=D=>A(this,null,function*(){var E=this['spaceStore']['spaceId'];yield Object(q['l'])(E,D),yield new Promise(G=>{setTimeout(()=>A(this,null,function*(){yield this['memberStore']['fetchMembersFromWorkspace'](E),G(void 0x0);}),0x7d0);});var F=this['spaceMemberIds']['get'](E);F['delete'](D),this['spaceMemberIds']['set'](E,F);}),this['spaceMemberIds']=j['observable']['map'](),this['members']=j['observable']['map'](),this['lastGuestIds']=new Map(),this['pagePermissions']=new Map(),this['spaceLimit']=new Map();}get['memberIds'](){var C=this['spaceMemberIds']['get'](this['spaceStore']['spaceId']);return C?Array['from'](C):[];}get['filterMemberIds'](){return this['filterSpaceMemberId']?[this['filterSpaceMemberId']]:[];}get['limit'](){return this['spaceLimit']['get'](this['spaceStore']['spaceId'])||0x0;}['getPagePermissionStore'](C){return this['pagePermissions']['get'](C);}['resetFilter'](){this['filterSpaceMemberId']='';}['showLoading'](C){this['spinner']=C;}['hideLoading'](){this['spinner']='';}}z([m['b']],B['prototype'],'spaceStore',0x2),z([m['b']],B['prototype'],'publicUserStore',0x2),z([m['b']],B['prototype'],'dataStore',0x2),z([m['b']],B['prototype'],'pageStore',0x2),z([m['b']],B['prototype'],'memberStore',0x2),z([j['observable']],B['prototype'],'spaceMemberIds',0x2),z([j['observable']],B['prototype'],'spaceLimit',0x2),z([j['observable']],B['prototype'],'filterSpaceMemberId',0x2),z([j['observable']],B['prototype'],'members',0x2),z([j['observable']],B['prototype'],'spinner',0x2),z([j['computed']],B['prototype'],'memberIds',0x1),z([j['computed']],B['prototype'],'filterMemberIds',0x1),z([j['computed']],B['prototype'],'limit',0x1),z([j['action']],B['prototype'],'init',0x2),z([j['action']],B['prototype'],'pagination',0x2),z([j['action']],B['prototype'],'getPagesByGuestId',0x2),z([j['action']],B['prototype'],'changePagePermission',0x2),z([j['action']],B['prototype'],'removePagePermission',0x2),z([j['action']],B['prototype'],'removeGuestMember',0x2),z([j['action']],B['prototype'],'searchByMobile',0x2),f['a']=Object(v['a'])(B);},'ifmF':function(j,q,x){'use strict';var z=x('mwIZ'),A=x['n'](z),B=x('2vnA'),C=x('Rsoz'),D=x('sA5H'),F=x('9rbq'),G=x('paMO'),H=x('OIS1'),J=x('odX6'),K=x('mFjg'),L=x('bXzw'),M=Object['defineProperty'],N=Object['defineProperties'],P=Object['getOwnPropertyDescriptor'],Q=Object['getOwnPropertyDescriptors'],R=Object['getOwnPropertySymbols'],U=Object['prototype']['hasOwnProperty'],V=Object['prototype']['propertyIsEnumerable'],W=(a3,a4,a5)=>a4 in a3?M(a3,a4,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a5}):a3[a4]=a5,X=(a3,a4)=>{for(var a5 in a4||(a4={}))U['call'](a4,a5)&&W(a3,a5,a4[a5]);if(R){for(var a5 of R(a4))V['call'](a4,a5)&&W(a3,a5,a4[a5]);}return a3;},Y=(a3,a4)=>N(a3,Q(a4)),Z=(a3,a4,a5,a6)=>{for(var a7,a8=a6>0x1?void 0x0:a6?P(a4,a5):a4,a9=a3['length']-0x1;a9>=0x0;a9--)(a7=a3[a9])&&(a8=(a6?a7(a4,a5,a8):a7(a8))||a8);return a6&&a8&&M(a4,a5,a8),a8;},a0=(a3,a4,a5)=>new Promise((a6,a7)=>{var a8=ab=>{try{aa(a5['next'](ab));}catch(ac){a7(ac);}},a9=ab=>{try{aa(a5['throw'](ab));}catch(ac){a7(ac);}},aa=ab=>ab['done']?a6(ab['value']):Promise['resolve'](ab['value'])['then'](a8,a9);aa((a5=a5['apply'](a3,a4))['next']());});Object(B['configure'])({'enforceActions':'never'});var a1=[{'page_id':'create-new-page','icon':['link',F['T']],'title':'','level':C['a']['t']('stores.biLinkStore.keydownCreateNewPageTips','按\x20enter\x20键创建新页面',{'ns':'editor'})}];class a2{constructor(){var a3=this;this['editState']={'id':'','offset':0x0,'cellId':'','anchorEl':null,'type':''},this['biLinkRelation']={},this['tableBilinkCell']={},this['init']=()=>{this['reset'](),this['referredBlocks']={},this['referredCount']={},this['showGraph']=!0x1,this['prevId']='';},this['forceUpdate']=()=>{this['referredBlocks']=X({},this['referredBlocks']);},this['reset']=()=>{this['pages']=[],this['selectPageId']='',this['loading']=!0x1,this['noData']=!0x1,this['searchText']='',this['naviInfos']=[];},this['toggleShowGraph']=(a4,a5)=>{this['showGraph']=a4,this['prevId']=a5;},this['searchPages']=Object(B['flow'])(function*(a4,a5){if(a4){this['loading']=!0x0,this['searchText']=a4;var a6={'query':a4,'workspaceId':this['spaceStore']['spaceId'],'fuzzy':'true','titleOnly':a5?'':'true','order':'desc','active':'1'},a7=new Date()['getDate']();this['newTime']=a7;var a8=yield Object(D['c'])(a6),a9=a8&&a8['result']&&a8['result']['items']||[];if(this['searchText']){if(a9=a9['filter'](ab=>ab['id']!==this['editState']['id']),this['naviInfos']=[],a9['length']>0x0){var aa=a9['find'](ab=>ab['title']===a4);this['pages']=aa||a5?a9:a1['concat'](a9),this['noData']=!0x1,this['selectPageId']='block'===a9[0x0]['search_type']?a9[0x0]['id']:a9[0x0]['page_id'];}else this['noData']=!0x0,a5?this['pages']=[]:(this['pages']=a1,this['selectPageId']=this['pages'][0x0]['page_id']);this['getPagesNavi'](this['pages'],[],a7),this['loading']=!0x1;}else this['loading']=!0x1;}else a5?(this['pages']=[],this['naviInfos']=[]):this['getLastViewedPages']();}),this['getPagesNavi']=(a4,a5,a6)=>a0(this,null,function*(){var a7=[],a8=[];if(a4['forEach'](ab=>{ab['page_id']&&(this['dataStore']['getBlockValue'](ab['page_id'])['id']||-0x1===a7['findIndex'](ac=>ac['id']===ab['page_id'])&&a7['push']({'table':F['Db'],'id':ab['page_id']}));}),a7['length']>0x0){var a9=yield Object(D['v'])(a7);this['dataStore']['syncBlockData'](a9);}var aa=!0x1;a4['forEach']((ab,ac)=>{if(!a5[ac]&&(a5[ac]=[]),ab['page_id']){var ad=this['dataStore']['getBlockValue'](ab['page_id']);if(ad['id']&&(a5[ac]['push'](ad),ad['page_id']))return aa=!0x0,void a8['push']({'page_id':ad['page_id']});}a8['push']({});}),aa?this['getPagesNavi'](a8,a5,a6):a6===this['newTime']&&(this['naviInfos']=a5);}),this['setEditState']=a4=>{this['editState']=X(X({},this['editState']),a4);},this['handleLastViewedPages']=()=>a0(this,null,function*(){var a4=yield this['dataStore']['getLastViewedPages']();return this['formatData'](a4||[]);}),this['formatData']=function(){var a4=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],a5=[];return a4['length']&&(a5=(a5=a4['map'](a6=>({'page_id':A()(a6,'value.id'),'title':a3['blockAPI']['getTitlePlainTextByTitle'](A()(a6,'value.attributes.title')),'icon':A()(a6,'value.setting.page_icon'),'level':''})))['reverse']()),a5;},this['getLastViewedPages']=Object(B['flow'])(function*(){this['searchText']='',this['loading']=!0x0,this['pages']=[],this['naviInfos']=[],this['selectPageId']='';var a4=new Date()['getTime']();this['newTime']=a4;var a5=yield this['handleLastViewedPages']();this['searchText']||(this['pages']=a5,this['selectPageId']=a5['length']>0x0?a5[0x0]['page_id']:'',this['noData']=!0x1),this['getPagesNavi'](this['pages'],[],a4),this['loading']=!0x1;}),this['setPages']=a4=>{var a5=new Date()['getTime']();this['newTime']=a5,this['pages']=a4,this['selectPageId']=a4['length']>0x0?a4[0x0]['page_id']:'',this['noData']=!0x1,this['getPagesNavi'](this['pages'],[],a5);},this['moveToSelectPage']=function(a4){if(0x0!==this['pages']['length']){var a5=this['pages']['findIndex'](aa=>'block'===aa['search_type']?aa['id']===this['selectPageId']:aa['page_id']===this['selectPageId']);if('up'===a4){if(0x0===a5){var a6='block'===this['pages'][this['pages']['length']-0x1]['search_type']?this['pages'][this['pages']['length']-0x1]['id']:this['pages'][this['pages']['length']-0x1]['page_id'];this['setSelectPageId'](a6);}else{var a7='block'===this['pages'][a5-0x1]['search_type']?this['pages'][a5-0x1]['id']:this['pages'][a5-0x1]['page_id'];this['setSelectPageId'](a7);}}else{if(a5===this['pages']['length']-0x1){var a8='block'===this['pages'][0x0]['search_type']?this['pages'][0x0]['id']:this['pages'][0x0]['page_id'];this['setSelectPageId'](a8);}else{var a9='block'===this['pages'][a5+0x1]['search_type']?this['pages'][a5+0x1]['id']:this['pages'][a5+0x1]['page_id'];this['setSelectPageId'](a9);}}}},this['setSelectPageId']=a4=>{this['selectPageId']!==a4&&(this['selectPageId']=a4);},this['toBuildBiLink']=()=>{var {cellId:a4,id:a5,offset:a6}=this['editState'],a7=a4?this['blockAPI']['getCellNodeTitle'](a5,a4):this['blockAPI']['getNodeTitle'](a5),a8=this['blockAPI']['getTitlePositionByOffset'](a7,a6);if('create-new-page'===this['selectPageId']){if(this['spaceStore']['blockCountLimit']())return void Object(K['c'])('block');this['createPageAndLink'](this['searchText']['trim']()||C['a']['t'](F['cb']['UNTITLED_PAGE'],'新页面',{'ns':'editor'}),a5,a8,a4);}else this['buildPageBiLink'](a5,this['selectPageId'],a8,a4);},this['createPageAndLink']=(a4,a5,a6,a7)=>a0(this,null,function*(){var {pageStore:a8,spaceStore:a9,blockStore:aa,dataStore:ab}=this,ac=new G['a'](),ad=Object(H['b'])(),ae=a8['setPrivatePermission'](),af=a9['isSpaceGuest']()?ab['getBlockValue'](a8['pageId']):yield ab['getSpaceReferencePropsBlock']('new_page_location'),ag={'id':ad,'parent_id':af['id']||a9['spaceId'],'parent_type':af['type']||'workspace','type':F['y']['PAGE'],'active':!0x0,'permissions':af['id']?[]:ae,'attributes':{'title':[[a4]]},'setting':{},'sub_nodes':[],'page_id':af['id']||'','status':F['w']['ACTIVE']},{currentWorkspace:ah}=a9;ag['page_id']?(ac['page']['addNewSubPage'](ag['id'],ah['id'],ag['parent_id'],ag['parent_type'],ag),a8['adjustPages'](ag['parent_id'],ag['id'],'add')):(this['spaceStore']['updateCurrentSpacePages']([ag['id'],...ah['pages']]),ac['page']['addNewPageInWorkspace'](ad,ah['id'],ag['parent_id'],ag['parent_type'],ag));var ai=a8['getPageDefaultSetting']();ag['setting']=ai,aa['setBlockFormat'](ac,ad,X({},ai)),ac['commit'](()=>{this['buildPageBiLink'](a5,ad,a6,a7);});}),this['fetchReferredBlocks']=Object(B['flow'])(function*(a4){var a5=this,{screen:a6,pageId:a7,blockId:a8}=a4,a9={};if(a8)a9=yield Object(D['H'])({'blockId':a8}),delete this['referredBlocks'][a8],this['referredBlocks']=X(X({},this['referredBlocks']),a9);else{var aa=this['dataStore']['getBlocksByPage'](a7),ab=Object['keys'](aa)['filter'](ak=>this['dataStore']['getBlockProperty'](ak,'type')===F['y']['PAGE']&&this['dataStore']['getSourceId'](ak)===ak&&this['dataStore']['getBlockProperty'](ak,'status')===F['w']['ACTIVE']&&ak!==a7),ac=yield Object(D['H'])({'pageId':a7});a9=X(X({},a9),ac),delete this['referredBlocks'][a7],this['referredBlocks']=X(X({},this['referredBlocks']),a9),ab['length']&&a6['id']===a7&&(ac=yield Object(D['H'])({'blockId':ab}),a9=X(X({},a9),ac),ab['forEach'](ak=>delete this['referredBlocks'][ak]),this['referredBlocks']=X(X({},this['referredBlocks']),a9));}if(Object['keys'](this['referredBlocks'])['forEach'](ak=>{Object['keys'](this['referredBlocks'][ak])['forEach'](al=>{Object['keys'](this['referredBlocks'][ak][al])['forEach'](am=>{var an=this['referredBlocks'][ak][al][am];an['value']['source_id']||this['dataStore']['syncBlockData']([an]);});});}),a7===a6['id']){for(var ad=[],ae=[],af=0x0;af<Object['keys'](a9)['length'];af++){var ag=Object['keys'](a9)[af];ag!==a7&&(ae=ae['concat'](this['setReferredCount'](X(X({},this['referredCount']),{[ag]:Object['values'](a9[ag])['reduce']((ak,al)=>ak+Object['values'](al||{})['filter'](am=>am&&am['value']&&am['value']['type']!==F['y']['PAGE'])['length'],0x0)}))));for(var ah=function(ak){var al=Object['keys'](a9[ag])[ak];al!==a5['blockStore']['pageId']&&(ad=ad['concat'](Object['keys'](a9[ag][al])['filter'](am=>am!==al)));},ai=0x0;ai<Object['keys'](a9[ag])['length'];ai++)ah(ai);}if(ae['length']&&(ae['forEach'](ak=>{var al=this['dataStore']['getBlockValue'](ak);this['blockStore']['setBlockDirty'](this['dataStore']['getBlockValue'](al['parent_id']));}),this['editorStore']['invokeObserver']()),ad['length']){var {blocks:aj={}}=yield Object(D['G'])({'blockIds':ad});this['dataStore']['syncBlockData'](aj),this['forceUpdate']();}}}),this['changeReferredCount']=(a4,a5)=>{var a6=this['referredCount'][a4],a7=[];void 0x0!==a6?a7=this['setReferredCount'](Y(X({},this['referredCount']),{[a4]:a6+a5>=0x0?a6+a5:0x0})):a5>0x0&&(a7=this['setReferredCount'](Y(X({},this['referredCount']),{[a4]:a5}))),a7['length']&&a7['forEach'](a8=>{var a9=this['dataStore']['getBlockValue'](a8);this['blockStore']['setBlockDirty'](this['dataStore']['getBlockValue'](a9['parent_id']));});},this['setReferredCount']=a4=>{var a5=[];return Object['keys'](a4)['forEach'](a6=>{this['referredCount'][a6]=this['referredCount'][a6]||0x0,this['referredCount'][a6]!==a4[a6]&&a5['push'](a6);}),this['referredCount']=a4,a5;},this['searchIfMatch']=a4=>a0(this,null,function*(){var a5={'query':a4,'workspaceId':this['spaceStore']['spaceId'],'fuzzy':'true','titleOnly':'true','order':'desc','active':'1'},a6=yield Object(D['c'])(a5),a7=a6&&a6['result']&&a6['result']['items']||[];if(a7['length']>0x0){var a8=[];return a7['forEach'](a9=>{a9['title']===a4&&a8['push'](a9);}),a8['length']?a8:'';}return'';}),this['copyTitleReference']=(a4,a5)=>{var {spaceId:a6,pageId:a7,blockId:a8,title:a9}=a5,aa=[];return a9['forEach'](ab=>{if(ab[0x1]){var ac=ab[0x1]['findIndex'](af=>'BiLink'===af[0x0]);if(-0x1!==ac){var ad=ab[0x1][ac];if(ad[0x1]){var ae=Object(H['b'])();a4['reference']['copyReference'](ae,ad[0x1],{'workspaceId':a6,'pageId':a7,'blockId':a8}),ab[0x1][ac]=['BiLink',ae,ad[0x2]];}}}aa['push'](ab);}),aa;},this['addPageReference']=(a4,a5)=>a0(this,null,function*(){a5=this['dataStore']['getSourceId'](a5),a4=this['dataStore']['getSourceId'](a4);var a6=this['dataStore']['getBlockValue'](a4);if(a6['id']||(a6=yield Object(D['v'])([{'table':F['Db'],'id':a4}]),this['dataStore']['syncBlockData'](a6),a6=this['dataStore']['getBlockValue'](a4)),a6['id']){if(a6['workspace_id']!==this['spaceStore']['spaceId'])return void this['notificationStore']['enqueueSnackbar']({'message':C['a']['t']('stores.biLinkStore.cannotReferenceAcrossSpaces','无法跨空间进行引用',{'ns':'editor'}),'options':{'variant':'error'}});var {id:a7}=yield Object(D['g'])({'workspaceId':this['dataStore']['getBlockProperty'](a5,'workspace_id'),'pageId':this['dataStore']['getBlockProperty'](a5,'page_id'),'referencedBlockId':a4,'blockId':a5});return a7;}return'';}),this['buildPageBiLink']=(a4,a5,a6,a7)=>a0(this,null,function*(){var a8,a9=this['dataStore']['getSourceId'](a4),aa=this['dataStore']['getSourceId'](a5);if(this['dataStore']['getBlockValue'](aa)['type']===F['y']['DATABASE'])return this['pageStore']['setConfirmOpen']({'contents':C['a']['t']('stores.biLinkStore.databaseNotSupportReference','数据表格暂不支持行内引用',{'ns':'editor'}),'singleButton':!0x0,'adjustMobile':!0x0});if('embedBlock'!==this['editState']['type'])a8=yield this['createReference'](a9,a5);else{var ab=this['selectPageId'],ac=this['dataStore']['getBlockValue'](ab);if(!ac['id']){var ad=yield Object(D['v'])([{'table':F['Db'],'id':ab}]);this['dataStore']['syncBlockData'](ad),ac=this['dataStore']['getBlockValue'](ab);}this['buildEmbedBiLink'](a9,ac);}this['changeTitle'](a8,a5,a4,a6,a7);}),this['createReference']=(a4,a5)=>a0(this,null,function*(){return yield this['addPageReference'](a5,a4);}),this['changeTitle']=(a4,a5,a6,a7,a8)=>{var a9,aa,ab,{blockStore:ac,editorStore:ad,dataStore:ae}=this,af=ae['getSourceId'](a6),ag=a8?this['blockAPI']['getCellNodeTitle'](af,a8):this['blockAPI']['getNodeTitle'](af),ah=ae['getBlockValue'](a5),ai=ah['type']===F['y']['CODE']?this['blockAPI']['getTitlePlainTextByTitle'](A()(ah,'attributes.caption',[[]])):this['blockAPI']['getTitlePlainTextById'](a5),{index:aj,isCopy:ak,isCreate:al}=a7,{offset:am}=a7;if(ag[aj]){var an=ag[aj][0x1]&&ag[aj][0x1]['find'](as=>F['s']['includes'](as[0x0]));an&&(0x0===am?ab=!0x0:(am=ag[aj][0x0]['length'],ab=!0x1));var ao=ag[aj]&&ag[aj][0x0],ap=JSON['parse'](JSON['stringify'](ag[aj]));a9=aj,al||(aa=ak?ao['substr'](0x0,am):'#'===ao[am-0x1]?ao['substr'](0x0,am-0x1):ao['substr'](0x0,am-0x2));var aq=ao['substr'](am);aa||!al&&an&&!ab?(ag[a9][0x0]=aa,ag['splice'](a9+0x1,0x0,a4?[ai,[['BiLink',a4,a5]]]:['']),a9++):ag[a9]=a4?[ai,[['BiLink',a4,a5]]]:[''],(aq||an&&ab)&&(ap[0x0]=ao['substr'](am),ag['splice'](a9+0x1,0x0,ap));var ar=new G['a']();a8?this['editorStore']['updateTableCells'](af,a8,ag,ar):ac['setBlockText'](ar,af,ag),ad['invokeObserver'](ar),'embedBlock'!==this['editState']['type']&&ad['moveCursorAfterRender']({'id':a6,'cellId':a8,'position':{'offset':this['blockAPI']['getTitleCursorOffsetByTitle'](ag,0x0,a9)+0x1}});}},this['buildEmbedBiLink']=function(a4,a5){for(var a6=arguments['length'],a7=new Array(a6>0x2?a6-0x2:0x0),a8=0x2;a8<a6;a8++)a7[a8-0x2]=arguments[a8];return a0(a3,[a4,a5,...a7],function*(a9,aa){var ab=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{};if(this['spaceStore']['blockCountLimit']())Object(K['c'])('block');else{var ac=this['dataStore']['getBlockValue'](a9);if(aa['type']===F['y']['DATABASE'])return this['pageStore']['setConfirmOpen']({'contents':C['a']['t']('stores.biLinkStore.databaseNotSupportReference','数据表格暂不支持行内引用',{'ns':'editor'}),'singleButton':!0x0,'adjustMobile':!0x0});var ad=A()(ac,'setting.block_embed_parent_id','');if(ad){var ae=this['dataStore']['getBlockValue'](ad);if(!ae['id']){var af=yield Object(D['v'])([{'id':ad,'table':F['Db']}]);this['dataStore']['syncBlockData'](af);}}if(aa['workspace_id']===this['spaceStore']['spaceId']){var ag=Object(H['b'])();yield Object(D['g'])({'workspaceId':ac['workspace_id'],'pageId':ab['type']===F['y']['PAGE']?a9:ac['page_id'],'blockId':ag,'referencedBlockId':aa['id']});var ah=new G['a']({'ignoreLock':!0x0});ab['type']===F['y']['PAGE']?'bottom'===ab['position']&&this['blockStore']['createCommonBlock'](ah,ag,ad||a9,'','after')():this['blockStore']['createCommonBlock'](ah,ag,ac['parent_id'],ad||a9,'after')();var ai=aa['type']!==F['y']['PAGE']&&aa['sub_nodes']['length']>0x0;ah['block']['updateBlock'](ag,{'source_id':aa['id'],'isLoading':ai}),this['changeReferredCount'](aa['id'],0x1),this['editorStore']['invokeObserver'](ah),this['editorUI']['setSelectedNode'](ag),ai&&this['getBlockSubNode'](aa['sub_nodes'],ag),this['questStore']['track']('block-action-embed-to');}else this['notificationStore']['enqueueSnackbar']({'message':C['a']['t']('stores.biLinkStore.cannotReferenceAcrossSpaces','无法跨空间进行引用',{'ns':'editor'}),'options':{'variant':'error'}});}});},this['getBlockSubNode']=(a4,a5)=>a0(this,null,function*(){var a6=[];if(a4['forEach'](ab=>{this['dataStore']['getBlockValue'](ab)['id']||a6['push']({'id':ab,'table':F['Db']});}),a6['length']){var a7=yield Object(D['v'])(a6);this['dataStore']['syncBlockData'](a7);var a8=[];a7['forEach'](ab=>{var ac=ab['value'];ac['active']&&ac['type']!==F['y']['PAGE']&&ac['sub_nodes']&&(a8=a8['concat'](ac['sub_nodes']));}),a8=[...new Set(a8)],this['getBlockSubNode'](a8,a5);}else{var a9=this['dataStore']['getBlock'](a5);if(a9['value']['isLoading']){this['dataStore']['updateBlock'](a9['value']['id'],{'isLoading':!0x1});var aa=this['dataStore']['getBlockValue'](a9['value']['parent_id']);this['blockStore']['setBlockDirty'](aa),this['editorStore']['invokeObserver']();}}}),this['addRelation']=(a4,a5,a6)=>{this['biLinkRelation'][a5]=this['biLinkRelation'][a5]||[],this['biLinkRelation'][a5]['includes'](a4)||this['biLinkRelation'][a5]['push'](a4),a6&&(this['tableBilinkCell'][a4]=this['tableBilinkCell'][a4]||{},this['tableBilinkCell'][a4][a5]=this['tableBilinkCell'][a4][a5]||[],this['tableBilinkCell'][a4][a5]['includes'](a6)||this['tableBilinkCell'][a4][a5]['push'](a6));},this['getRelation']=a4=>this['biLinkRelation'][a4]||[],this['getRelationCellList']=(a4,a5)=>{if(a5&&a4!==a5)return[...A()(this['tableBilinkCell'],'['['concat'](a4,'][')['concat'](a5,']'),[])];var a6=[];return Object['keys'](this['tableBilinkCell'][a4]||{})['forEach'](a7=>{a6['push'](...A()(this['tableBilinkCell'],'['['concat'](a4,'][')['concat'](a7,']'),[]));}),a6;},this['init']();}['setSearchText'](a3){this['searchText']=a3;}}Z([J['b']],a2['prototype'],'blockAPI',0x2),Z([J['b']],a2['prototype'],'domAPI',0x2),Z([J['b']],a2['prototype'],'dataStore',0x2),Z([J['b']],a2['prototype'],'spaceStore',0x2),Z([J['b']],a2['prototype'],'pageStore',0x2),Z([J['b']],a2['prototype'],'blockStore',0x2),Z([J['b']],a2['prototype'],'editorStore',0x2),Z([J['b']],a2['prototype'],'editorUI',0x2),Z([J['b']],a2['prototype'],'notificationStore',0x2),Z([J['b']],a2['prototype'],'questStore',0x2),Z([B['observable']],a2['prototype'],'loading',0x2),Z([B['observable']],a2['prototype'],'selectPageId',0x2),Z([B['observable']],a2['prototype'],'pages',0x2),Z([B['observable']],a2['prototype'],'noData',0x2),Z([B['observable']],a2['prototype'],'referredBlocks',0x2),Z([B['observable']],a2['prototype'],'searchText',0x2),Z([B['observable']],a2['prototype'],'showGraph',0x2),Z([B['observable']],a2['prototype'],'prevId',0x2),Z([B['observable']],a2['prototype'],'naviInfos',0x2),Z([B['observable']],a2['prototype'],'editState',0x2),Z([B['action']],a2['prototype'],'init',0x2),Z([B['action']],a2['prototype'],'forceUpdate',0x2),Z([B['action']],a2['prototype'],'reset',0x2),Z([B['action']],a2['prototype'],'setSearchText',0x1),Z([B['action']],a2['prototype'],'toggleShowGraph',0x2),Z([B['action']],a2['prototype'],'searchPages',0x2),Z([B['action']],a2['prototype'],'getPagesNavi',0x2),Z([B['action']],a2['prototype'],'setEditState',0x2),Z([B['action']],a2['prototype'],'getLastViewedPages',0x2),Z([B['action']],a2['prototype'],'setPages',0x2),Z([B['action']],a2['prototype'],'moveToSelectPage',0x2),Z([B['action']],a2['prototype'],'setSelectPageId',0x2),Z([B['action']],a2['prototype'],'toBuildBiLink',0x2),Z([B['action']],a2['prototype'],'createPageAndLink',0x2),Z([B['action']],a2['prototype'],'fetchReferredBlocks',0x2),q['a']=Object(L['a'])(a2);},'igaM':function(a,b,c){'use strict';var d=c('zc9a'),f=c('o08p');b['a']=()=>{d['a']['registryFunction'](f['a']);};},'ipy7':function(b,c,d){'use strict';var f;d['d'](c,'a',function(){return g;}),d['d'](c,'b',function(){return h;});var g=()=>void 0x0!==f?f:new Promise(j=>{var k=new Image();k['src']='data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';var l=()=>{var m=0x2===k['height'];f=m,j(m);};k['onload']=l,k['onerror']=l;}),h=()=>f;},'jUJK':function(f,j,k){'use strict';k['d'](j,'a',function(){return F;}),k['d'](j,'b',function(){return G;}),k['d'](j,'c',function(){return H;});var q=k('5D19'),v=Object['defineProperty'],w=Object['defineProperties'],x=Object['getOwnPropertyDescriptors'],y=Object['getOwnPropertySymbols'],z=Object['prototype']['hasOwnProperty'],A=Object['prototype']['propertyIsEnumerable'],B=(I,J,K)=>J in I?v(I,J,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':K}):I[J]=K,C=(I,J)=>{for(var K in J||(J={}))z['call'](J,K)&&B(I,K,J[K]);if(y){for(var K of y(J))A['call'](J,K)&&B(I,K,J[K]);}return I;},D=(I,J)=>w(I,x(J)),E=(I,J,K)=>new Promise((L,M)=>{var N=Q=>{try{P(K['next'](Q));}catch(R){M(R);}},O=Q=>{try{P(K['throw'](Q));}catch(R){M(R);}},P=Q=>Q['done']?L(Q['value']):Promise['resolve'](Q['value'])['then'](N,O);P((K=K['apply'](I,J))['next']());});function F(I){return E(this,null,function*(){return yield Object(q['n'])(Object(q['p'])('database/aggregateColumnTotal'),D(C({},I),{'timezoneOffset':new Date()['getTimezoneOffset']()}),q['h']);});}function G(I){return E(this,null,function*(){return yield Object(q['i'])(Object(q['p'])('database/sheetView',{'visit_id':I,'timezoneOffset':new Date()['getTimezoneOffset']()}),q['h'],!0x0);});}function H(I){return E(this,null,function*(){return yield Object(q['o'])(Object(q['p'])('database/sheetViewRowData'),D(C({},I),{'timezoneOffset':new Date()['getTimezoneOffset']()}),q['h']);});}},'jY8L':function(a,b,c){a['exports']={'spinner':'_2CPEF','darkBgChange':'MldXb','lightBgChange':'_3QfLm','bounceIn':'_2hO_f','focusBlock':'_23RJV','closeWindow':'_2KDeq','pointFade':'_28Wne'};},'kVqw':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});class d{constructor(f){if('number'!=typeof f)throw TypeError('maxSize\x20needs\x20to\x20be\x20a\x20number');this['maxSize']=f,this['_keys']=new Array(f),this['_next']=new Float64Array(f),this['_prev']=new Float64Array(f),this['_lastKey']=void 0x0,this['clear']();}['_move'](f){var g=this['_head'];if(g!==f){var h=this['_prev'][f],i=this['_next'][f];this['_tail']===f?this['_tail']=h:this['_prev'][i]=h,this['_prev'][g]=f,this['_head']=f,this['_next'][h]=i,this['_next'][f]=g;}}get['size'](){return this['_size'];}get['last'](){return this['_lastKey'];}['get'](f){var g=this['_pointers']['get'](f);if(void 0x0!==g)return this['_move'](g),this['_lastKey']=f,this['_map']['get'](f);}['peek'](f){if(void 0x0!==this['_pointers']['get'](f))return this['_lastKey']=f,this['_map']['get'](f);}['set'](f,g){var h=this['_pointers']['get'](f);return this['_lastKey']=f,void 0x0!==h?(this['_move'](h),this['_map']['set'](f,g),this):(this['_size']<this['maxSize']?h=this['_size']++:(h=this['_tail'],this['_tail']=this['_prev'][h],this['_pointers']['delete'](this['_keys'][h])),this['_pointers']['set'](f,h),this['_keys'][h]=f,this['_map']['set'](f,g),this['_next'][h]=this['_head'],this['_prev'][this['_head']]=h,this['_head']=h,this);}['clear'](){this['_size']=0x0,this['_head']=0x0,this['_tail']=0x0,this['_pointers']=new Map(),this['_map']=new Map();}['delete'](f){var g=this['_pointers']['get'](f);if(void 0x0===g)return!0x1;var h=this['_next'][g],i=this['_prev'][g];return this['_next'][i]=h,this['_prev'][h]=i,this['_pointers']['delete'](f),this['_map']['delete'](f),this['_size']-=0x1,!0x0;}['has'](f){return this['_pointers']['has'](f);}['keys'](){return this['_pointers']['keys']();}['keysAccessed'](){var f=new Set();if(this['_size']){var g=this['_tail'];for(f['add'](this['_keys'][g]);g!==this['_head'];)g=this['_prev'][g],f['add'](this['_keys'][g]);}return f;}['values'](){return this['_map']['values']();}['entries'](){return this['_map']['entries']();}get['forEach'](){var f=this['_map'];return f['forEach']['bind'](f);}[Symbol['iterator']](){return this['_map'][Symbol['iterator']]();}get[Symbol['toStringTag']](){return this['_map'][Symbol['toStringTag']];}}},'kYPY':function(b,d,f){'use strict';f['d'](d,'b',function(){return l;}),f['d'](d,'a',function(){return m;});var g=f('OIS1'),h=f('f9x4'),j=f('9rbq'),k=f('Rsoz');function l(p,q){return(null==q?void 0x0:q['title'])?q['title']:p;}function m(p,q){var u=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},v=(null==u?void 0x0:u['properties'])||p['properties']['map'](w=>({'id':w['id'],'hidden':!0x1}));return v['forEach'](w=>{var x=p['properties']['find'](y=>y['id']===w['id']);(null==x?void 0x0:x['type'])===h['p']['SN']&&(w['hidden']=!0x0,w['width']=0x32);}),{'properties':v,'block_id':u['block_id']||q,'table_id':p['table_id']||(null==u?void 0x0:u['table_id'])||'','sorters':u['sorters']||[],'view_id':(null==u?void 0x0:u['view_id'])||Object(g['b'])(),'filters':u['filters']||{'logical':h['l']['Or'],'filters':[]},'settings':Object['assign']({'page_size':0x32},null==u?void 0x0:u['settings']),'aggregation':(null==u?void 0x0:u['aggregation'])||{},'type':h['h']['Table'],'title':l(k['a']['t'](j['cb']['TABLE_VIEW'],'表格视图',{'ns':'editor'}),u),'version':0x0};}},'l+LR':function(b,d,f){'use strict';f['d'](d,'a',function(){return m;});var g,h,j,k=f('cSmn');function l(p,q){return Math['random']()*(q-p)+p;}var m=function(){var p=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x3e8,q=Date['now']()+p,u={'startVelocity':0x32,'spread':0x12c,'ticks':0x3c},v=document['querySelector']('#confetti');v||((v=document['createElement']('canvas'))['setAttribute']('id','confetti'),Object['assign'](v['style'],{'position':'fixed','top':0x0,'left':0x0,'pointerEvents':'none','width':'100%','height':'100%','zIndex':0x1869f}),document['body']['appendChild'](v)),g||(g=k['a'](v,{'resize':!0x0,'useWorker':!0x0})),h&&clearInterval(h),j&&clearTimeout(j),h=setInterval(()=>{var w=q-Date['now']();if(w<=0x0)return j=setTimeout(()=>{g&&(g['reset'](),g=null,v['remove']());},0x3e8),clearInterval(h);var x=w/p*0xbc;g(Object['assign']({},u,{'particleCount':x,'origin':{'x':l(0.1,0.3),'y':Math['random']()-0.2}})),g(Object['assign']({},u,{'particleCount':x,'origin':{'x':l(0.7,0.9),'y':Math['random']()-0.2}}));},0xfa);};},'lDk4':function(j,q,x){'use strict';x['d'](q,'f',function(){return Y;}),x['d'](q,'d',function(){return a1;}),x['d'](q,'c',function(){return a2;}),x['d'](q,'a',function(){return a3;}),x['d'](q,'b',function(){return a6;}),x['d'](q,'g',function(){return a7;}),x['d'](q,'e',function(){return a8;});var z=x('vN+2'),B=x['n'](z),D=x('q1tI'),F=x('i8i4'),G=x('Ty5D'),H=x('TyAF'),J=x('odX6'),K=x('Usk8'),L=Object['defineProperty'],M=Object['defineProperties'],N=Object['getOwnPropertyDescriptors'],Q=Object['getOwnPropertySymbols'],R=Object['prototype']['hasOwnProperty'],U=Object['prototype']['propertyIsEnumerable'],V=(a9,aa,ab)=>aa in a9?L(a9,aa,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':ab}):a9[aa]=ab,W=(a9,aa)=>{for(var ab in aa||(aa={}))R['call'](aa,ab)&&V(a9,ab,aa[ab]);if(Q){for(var ab of Q(aa))U['call'](aa,ab)&&V(a9,ab,aa[ab]);}return a9;},X=(a9,aa)=>M(a9,N(aa)),Y=function(a9,aa){var ab=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2],ac=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'',ad=Object(J['b'])('editorStore'),{modalStatus:ae}=Object(J['b'])('popperStore');ae[a9]=aa,aa&&ab?ad['preventEditorKeydownAction'](!0x1):ad['preventEditorKeydownAction'](Object['keys'](ae)['filter'](af=>'database-screen-modal'!==af)['some'](af=>ae[af]),ac);},Z=a9=>document['querySelector']('.'['concat'](a9)),a0=a9=>{var aa=Z(a9);if(aa)return aa;var ab=document['createElement']('div');return ab['className']='modal-dialog-wrapper\x20'['concat'](a9),ab;},a1=a9=>()=>{var {modalStatus:aa,modalData:ab}=Object(J['b'])('popperStore');setTimeout(()=>{if(delete ab[a9],aa[a9]){Y(a9,!0x1),K['b']['emit']('modalStatusChange',{'type':'destroy','className':a9});var ac=Z(a9);ac&&(F['unmountComponentAtNode'](ac),ac['remove']());}},0x0);},a2=()=>{var {modalData:a9}=Object(J['b'])('popperStore');Object['keys'](a9)['forEach'](aa=>a1(aa)());},a3=a9=>()=>{var {modalData:aa}=Object(J['b'])('popperStore');delete aa[a9],K['b']['emit']('modalStatusChange',{'type':'close','className':a9}),Y(a9,!0x1);var ab=Z(a9);ab&&(ab['style']['display']='none');},a4=(a9,aa,ab)=>{var ac=Object(J['b'])('rootStore'),ad=Object(J['b'])('routerStore'),ae=a0(ab);K['b']['emit']('modalStatusChange',W({'type':'open','className':ab},aa['data']||{})),F['render'](D['createElement'](G['c'],{'history':ad['history']},D['createElement'](H['a'],{'rootStore':ac},D['createElement'](a9,W({},aa)))),ae);},a5=(a9,aa,ab,ac)=>ad=>{var ae=Object(J['b'])('domAPI'),af=Object(J['b'])('editorStore');ad['target']&&ae['hasClass'](ad['target'],'wolaiModal')&&(ab?ab(ad):aa?a3(a9)():a1(a9)(),ac&&af['moveCursorAfterRender'](ac));},a6=(a9,aa,ab)=>{var {modalStatus:ac,modalData:ad}=Object(J['b'])('popperStore');return{get 'container'(){return document['querySelector']('.'['concat'](aa));},'id':aa,'modalStatus':ac,'modalData':ad,'isShow':()=>Boolean(ac[aa]),'render'(ae){a4(a9,ae,aa);},'open'(){var ae=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},af=ab&&ab['style']?ab['style']:ab,ag=ab&&ab['closeLayer'],ah=ab&&ab['isClose'],ai=ae['closeFunc'],aj=ae['cursorInfo'],ak=ae['prepend'];Y(aa,!0x0,ae['enableKeyDownEvent'],ae['enableKeyDownEventId']);var al=Z(aa),am=a0(aa);if(ad[aa]=ae['data'],al&&(al['style']['display']=''),ag&&(am['removeEventListener']('mousedown',a5(aa,ah,ai,aj)),am['addEventListener']('mousedown',a5(aa,ah,ai,aj))),af){for(var an in(am['style']['transition']=am['style']['transition']?am['style']['transition']:'background\x20200ms',af))am['style'][an]=af[an];}var ao=(ap=>document['querySelector'](ap['container']||'body'))(ae);return ak?ao['prepend'](am):ao['appendChild'](am),a4(a9,ae,aa),am;},'destroy':()=>(a1(aa)(),B['a']),'close':()=>(a3(aa)(),B['a']),'parent':a9};},a7=function(a9){var aa=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{'isAddMask':!0x0,'isPreventKeydown':!0x0};D['useEffect'](()=>{var ab,ac=Object(J['b'])('domAPI'),ad=Object(J['b'])('editorStore');return aa['isAddMask']&&(ab=ac['createBackdrop'](a9)),aa['isPreventKeydown']&&ad['preventEditorKeydownAction'](!0x0),()=>{aa['isPreventKeydown']&&ad['preventEditorKeydownAction'](!0x1),a9&&ab['removeEventListener']('click',a9),aa['isAddMask']&&ab['remove']();};},[]);},a8=function(a9){var aa=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{'eventRegistry':!0x1};return ab=>{var ac=a6(ab,a9,{'style':{'position':'fixed','top':0x0,'left':0x0,'z-index':0x514,'width':'100%','height':'100%','backgroundColor':'var(--wolai-modal-bg)','overflowY':'auto','webkitOverflowScrolling':'touch'}});return aa['eventRegistry']&&(K['b']['on']('open-'['concat'](a9),ad=>ac['open'](ad)),K['b']['on']('render-'['concat'](a9),ad=>ac['render'](ad)),K['b']['on']('close-'['concat'](a9),()=>ac['close']()()),K['b']['on']('destroy-'['concat'](a9),()=>ac['destroy']()())),X(W({},ac),{'modalPageId':a9});};};},'lfnQ':function(f,g,j){'use strict';j['d'](g,'a',function(){return D;});var k=j('Rsoz'),m=j('kYPY'),q=j('f9x4'),v=Object['defineProperty'],w=Object['defineProperties'],x=Object['getOwnPropertyDescriptors'],y=Object['getOwnPropertySymbols'],z=Object['prototype']['hasOwnProperty'],A=Object['prototype']['propertyIsEnumerable'],B=(E,F,G)=>F in E?v(E,F,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':G}):E[F]=G,C=(E,F)=>{for(var G in F||(F={}))z['call'](F,G)&&B(E,G,F[G]);if(y){for(var G of y(F))A['call'](F,G)&&B(E,G,F[G]);}return E;};function D(E,F,G){var H,I,J=C({},G);return J['settings']=Object['assign']({'size':q['c']['Normal'],'page_cover':q['e']['Content']},J['settings']),J['properties']=J['properties']||E['properties']['map'](K=>({'id':K['id']})),J['grouping']={'property':''},J['columns']=[],H=C({},Object(m['a'])(E,F,J)),I={'type':q['h']['Gallery'],'title':Object(m['b'])(k['a']['t']('stores.database.board.defaultGalleryViewTitle','画廊视图',{'ns':'editor'}),J),'grouping':J['grouping'],'columns':J['columns'],'version':J['version']||0x0},w(H,x(I));}},'llz1':function(j,q,x){'use strict';x['d'](q,'a',function(){return a6;});var z=x('0+S8'),B=x('2vnA'),C=x('O7iK'),D=x['n'](C),F=x('xweI'),G=x['n'](F),H=x('J2iB'),J=x['n'](H),K=x('xkGU'),L=x['n'](K),M=x('bt/X'),N=x['n'](M),Q=x('odX6'),R=x('f9x4'),U=x('5mAU'),V=Object['defineProperty'],W=Object['defineProperties'],X=Object['getOwnPropertyDescriptor'],Y=Object['getOwnPropertyDescriptors'],Z=Object['getOwnPropertySymbols'],a0=Object['prototype']['hasOwnProperty'],a1=Object['prototype']['propertyIsEnumerable'],a2=(a7,a8,a9)=>a8 in a7?V(a7,a8,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a9}):a7[a8]=a9,a3=(a7,a8,a9,aa)=>{for(var ab,ac=aa>0x1?void 0x0:aa?X(a8,a9):a8,ad=a7['length']-0x1;ad>=0x0;ad--)(ab=a7[ad])&&(ac=(aa?ab(a8,a9,ac):ab(ac))||ac);return aa&&ac&&V(a8,a9,ac),ac;};function a4(a7){return!J()(a7)&&('string'!=typeof a7||0x0!==a7['length']);}var a5=class{static['registerValidator'](a7,a8){this['validators'][a7]=a8;}get['viewFilter'](){var a7=this['getView'](),a8=Object['assign']({'logical':R['l']['Or']},a7['filters']);if(a8['filters']=a8['filters']||[],a8['logical']===R['l']['And']){var a9=D()([R['k']['EndWith'],R['k']['Contain'],R['k']['StartWith']]['map']((ab,ac)=>[ab,ac])),aa=G()(a8['filters'],ab=>a9[ab['operator']]);a8['filters']=aa;}return a8;}constructor(a7,a8){this['tableId']=a7,this['viewId']=a8;}['getRenderPropertyType'](a7){var a8,a9=a7['type'];return a9===R['p']['Formula']&&(a9=a7['formula']?null==(a8=a7['formula'])?void 0x0:a8['returnType']:R['p']['Text']),a9;}['validate'](a7){try{var a8=new U['a'](this['tableId'],a7),a9=this['getTable']();return this['execute'](aa=>{var ab=a9['getProperty'](aa['property_id']);a8['parse'](aa['property_id']);var ac=a8['getOptionIds'](aa['property_id']),ad=this['getRenderPropertyType'](ab);return a5['validators'][ad]['validate'](ac,aa['operator'],aa['value']);});}catch(aa){console['error'](aa);}return!0x0;}['convert'](a7){try{var {filters:a8,logical:a9}=this['viewFilter'];return a8?((aa,ab)=>W(aa,Y(ab)))(((aa,ab)=>{for(var ac in ab||(ab={}))a0['call'](ab,ac)&&a2(aa,ac,ab[ac]);if(Z){for(var ac of Z(ab))a1['call'](ab,ac)&&a2(aa,ac,ab[ac]);}return aa;})({},a7),{'properties':Object(B['toJS'])(a9===R['l']['Or']?this['orRow']['properties']:this['newRow']['properties'])}):a7;}catch(aa){console['error'](aa);}return a7;}['getView'](){return this['dataStore']['getDataView'](this['viewId']);}['getTable'](){return this['databaseViewStore']['dataSources']['get'](this['tableId']);}['execute'](a7){var {logical:a8,filters:a9}=this['viewFilter'];return!a9['length']||(a8===R['l']['Or']?a9['some'](a7):a9['every'](a7));}['openDatabaseScreen'](a7){return a8=this,a9=null,aa=function*(){(yield Object(z['a'])())['open']({'pageId':a7,'enableKeyDownEvent':!0x0,'style':{'overflow':'auto','display':'flex','flexDirection':'row','overflowX':'hidden'}});},new Promise((ab,ac)=>{var ad=ag=>{try{af(aa['next'](ag));}catch(ah){ac(ah);}},ae=ag=>{try{af(aa['throw'](ag));}catch(ah){ac(ah);}},af=ag=>ag['done']?ab(ag['value']):Promise['resolve'](ag['value'])['then'](ad,ae);af((aa=aa['apply'](a8,a9))['next']());});var a8,a9,aa;}get['newRow'](){var a7=this['viewFilter'],a8=this['getTable'](),a9={},aa=new U['a'](this['tableId'],{'properties':a9}),ab=N()(a7['filters'],ad=>ad['property_id']),ac=!0x1;return L()(ab,(ad,ae)=>{var af=a8['getProperty'](ae),ag=this['getRenderPropertyType'](af);aa['parse'](ae);var ah=aa['getOptionIds'](ae);if(![R['p']['CreatedBy'],R['p']['CreatedTime'],R['p']['LastEditedTime'],R['p']['LastEditedBy']]['includes'](ag)){var ai={},aj=[];return L()(ad,ak=>{var [al,am]=aj,an=a5['validators'][ag];if(ak['operator']===R['k']['Empty'])return ac=!0x0,!0x1;if(ak['operator']!==R['k']['NotEmpty']||!ah['size']){if(ak['operator']===R['k']['NotEqual']&&a4(ak['value'])&&an['validate'](ah,R['k']['Equal'],ak['value']))return ac=!0x0,!0x1;if(ak['operator']===R['k']['NotContain']&&a4(ak['value'])&&an['validate'](ah,R['k']['Contain'],ak['value']))return ac=!0x0,!0x1;if(ak['operator']===R['k']['Equal']&&a4(ak['value'])){if(aj['length']){if(al&&!an['validate'](new Set([ak['value']]),al['operator'],al['value']))return ac=!0x0,!0x1;if(am&&!an['validate'](new Set([ak['value']]),am['operator'],am['value']))return ac=!0x0,!0x1;}return ai[ak['operator']]=ak,an['convert'](ah,ak['operator'],ak['value']),a9[ak['property_id']]=aa['reBuild'](ak['property_id']),!0x1;}if([R['k']['LessThan'],R['k']['LessOrEqual']]['includes'](ak['operator'])&&a4(ak['value'])){if(al&&!an['validate'](new Set([ak['value']]),al['operator'],al['value']))return ac=!0x0,!0x1;if(!am)return aj[0x1]=ak,ai[ak['operator']]=ak,an['convert'](ah,ak['operator'],ak['value']),void(a9[ak['property_id']]=aa['reBuild'](ak['property_id']));var ao=ak;return ao=an['validate'](new Set([ak['value']]),R['k']['Equal'],am['value'])?ak['operator']===R['k']['LessThan']?ak:am:an['validate'](new Set([ak['value']]),R['k']['LessThan'],am['value'])?ak:am,aj[0x1]=ao,ai[ao['operator']]=ao,an['convert'](ah,ao['operator'],ao['value']),void(a9[ao['property_id']]=aa['reBuild'](ao['property_id']));}if([R['k']['GreaterThan'],R['k']['GreaterOrEqual']]['includes'](ak['operator'])&&a4(ak['value'])){if(am&&!an['validate'](new Set([ak['value']]),am['operator'],am['value']))return ac=!0x0,!0x1;if(!al)return aj[0x0]=ak,ai[ak['operator']]=ak,an['convert'](ah,ak['operator'],ak['value']),void(a9[ak['property_id']]=aa['reBuild'](ak['property_id']));var ap=ak;return ap=an['validate'](new Set([ak['value']]),R['k']['Equal'],al['value'])?ak['operator']===R['k']['LessOrEqual']?ak:al:an['validate'](new Set([ak['value']]),R['k']['GreaterThan'],al['value'])?ak:al,aj[0x0]=ap,ai[ap['operator']]=ap,an['convert'](ah,ap['operator'],ap['value']),void(a9[ap['property_id']]=aa['reBuild'](ap['property_id']));}an['convert'](ah,ak['operator'],ak['value']),a9[ak['property_id']]=aa['reBuild'](ak['property_id']);}}),!ac&&void 0x0;}}),{'properties':a9};}get['orRow'](){var {filters:a7,logical:a8}=this['viewFilter'],a9=this['getTable'](),aa={},ab=new U['a'](this['tableId'],{'properties':aa});return L()(a7,ac=>{var ad=a9['getProperty'](ac['property_id']),ae=this['getRenderPropertyType'](ad);if(![R['p']['CreatedBy'],R['p']['CreatedTime'],R['p']['LastEditedTime'],R['p']['LastEditedBy']]['includes'](ae)){ab['parse'](ac['property_id']);var af=ab['getOptionIds'](ac['property_id']);if(a5['validators'][ae]['convert'](af,ac['operator'],ac['value']),aa[ac['property_id']]=ab['reBuild'](ac['property_id']),a8===R['l']['Or'])return!0x1;}}),{'properties':aa};}},a6=a5;a6['validators']={},a3([Q['b']],a6['prototype'],'dataStore',0x2),a3([Q['b']],a6['prototype'],'databaseViewStore',0x2),a3([B['computed']],a6['prototype'],'viewFilter',0x1),a3([B['computed']],a6['prototype'],'newRow',0x1),a3([B['computed']],a6['prototype'],'orRow',0x1);},'m+4M':function(j,q,x){'use strict';x['d'](q,'a',function(){return a0;});var z=x('2vnA'),A=x('kcif'),B=x['n'](A),C=x('O7iK'),D=x['n'](C),F=x('xweI'),G=x['n'](F),H=x('odX6'),J=x('7+vZ'),K=x('5mAU'),L=x('f9x4'),M=Object['defineProperty'],N=Object['defineProperties'],P=Object['getOwnPropertyDescriptor'],Q=Object['getOwnPropertyDescriptors'],R=Object['getOwnPropertySymbols'],T=Object['prototype']['hasOwnProperty'],U=Object['prototype']['propertyIsEnumerable'],V=(a1,a2,a3)=>a2 in a1?M(a1,a2,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a3}):a1[a2]=a3,W=(a1,a2)=>{for(var a3 in a2||(a2={}))T['call'](a2,a3)&&V(a1,a3,a2[a3]);if(R){for(var a3 of R(a2))U['call'](a2,a3)&&V(a1,a3,a2[a3]);}return a1;},X=(a1,a2)=>N(a1,Q(a2)),Y=(a1,a2,a3,a4)=>{for(var a5,a6=a4>0x1?void 0x0:a4?P(a2,a3):a2,a7=a1['length']-0x1;a7>=0x0;a7--)(a5=a1[a7])&&(a6=(a4?a5(a2,a3,a6):a5(a6))||a6);return a4&&a6&&M(a2,a3,a6),a6;},Z=(a1,a2,a3)=>new Promise((a4,a5)=>{var a6=a9=>{try{a8(a3['next'](a9));}catch(aa){a5(aa);}},a7=a9=>{try{a8(a3['throw'](a9));}catch(aa){a5(aa);}},a8=a9=>a9['done']?a4(a9['value']):Promise['resolve'](a9['value'])['then'](a6,a7);a8((a3=a3['apply'](a1,a2))['next']());});class a0{constructor(a1,a2,a3){this['sortedIds']=[],this['rowIds']=z['observable']['set'](),this['stashRefresh']=[],this['pending']=!0x1,this['loadNext']=0x0,this['viewId']=a1,this['columnId']=a2,Object(z['reaction'])(()=>{var a4;return null==(a4=this['popperStore']['tableEditorState'])?void 0x0:a4['anchorEl'];},a4=>{!a4&&this['stashRefresh']['length']&&this['stashRefresh']['shift']()();}),this['disableGroup']=a3;}get['ids'](){var a1=[...this['rowIds']],a2=this['sortedIds']['slice'](),a3=D()(a2['map']((a4,a5)=>[a4,a5]));return G()(a1,a4=>a3[a4]);}get['view'](){return this['dataStore']['getDataView'](this['viewId']);}get['table'](){return this['dataStore']['getDataTable'](this['view']['table_id']);}get['peopleSet'](){var a1=new Set();return this['table']['properties']['forEach'](a2=>{[L['p']['People'],L['p']['CreatedBy'],L['p']['LastEditedBy']]['includes'](a2['type'])&&a1['add'](a2['id']);}),a1;}get['pageSize'](){var a1,a2;return this['screenStore']['currentScreen']['id']===this['table']['block_id']?0x32:(null==(a2=null==(a1=this['view'])?void 0x0:a1['settings'])?void 0x0:a2['page_size'])||0x32;}get['loader'](){var a1=this['view'],a2={'table_id':a1['table_id'],'view_id':a1['view_id'],'limit':this['pageSize'],'value':'','offset':0x0,'disableGroup':!0x1,'filters':a1['filters'],'sorters':a1['sorters']};return this['view']['type']===L['h']['Board']&&(a2['value']='undefined'===this['columnId']?void 0x0:this['columnId']),[L['h']['List'],L['h']['Gallery']]['includes'](this['view']['type'])&&(a2['value']='undefined'===this['columnId']?void 0x0:this['columnId'],a2['disableGroup']=this['disableGroup'],this['disableGroup']&&delete a2['value']),a2;}['fetch'](){return Z(this,arguments,function*(){var a1,a2,a3=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:this['pageSize'],a4=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],a5=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2],a6=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'';if(!(null==(a1=this['popperStore']['tableEditorState'])?void 0x0:a1['anchorEl'])){var a7=this['loader'];this['pending']=!0x0;var a8=yield Object(J['e'])(this['view']['type'],X(W(W({},a7),a5?{'refresh':!0x0}:{}),{'search':a6||'','limit':a3<this['pageSize']?this['pageSize']:a3}));if(this['shouldDropSync'])return this['shouldDropSync']=!0x1,void(this['pending']=!0x1);var a9=B()(a8['rows']['slice'](),(null==(a2=this['sortedIds'])?void 0x0:a2['length'])?a8['rows']['length']:0x32),aa=()=>{var ab=a9['shift']()||[];this['dataStore']['syncDataRows'](this['view']['table_id'],a8['rows']);var ac=ab['map'](ad=>ad['block_id']);this['rowIds']=z['observable']['set'](a4?ac:[...this['rowIds'],...ac]),a4&&(a4=!0x1),this['parseUser'](this['table']['table_id'],ac),a9['length']&&window['requestAnimationFrame'](aa);};return this['table']&&Object(z['runInAction'])(()=>{this['dataStore']['syncBlockData'](a8['blocks']);var ab=a8['total']-a8['rows']['length']>0x0?a8['total']-a8['rows']['length']:0x0;this['loadNext']=ab>this['pageSize']?this['pageSize']:ab,this['sortedIds']=a8['ids']['slice'](),this['total']=a8['total'],this['pending']=!0x1,aa();}),a8;}this['stashRefresh']=[()=>Z(this,null,function*(){yield this['fetch'](a3,a4,a5,a6);})];});}['pagination'](a1){return Z(this,null,function*(){if(!(0x0===this['total']||this['total']<=this['ids']['length']))try{var a2=Math['ceil']((this['ids']['length']+this['pageSize'])/this['pageSize'])*this['pageSize'];yield this['fetch'](a2,!0x1,!0x1,a1);}catch(a3){console['error'](a3),this['pending']=!0x1;}});}['reFresh'](a1,a2,a3){return Z(this,null,function*(){var a4=a1||this['ids']['length'];try{yield this['fetch'](a4,!0x0,a2,a3);}catch(a5){console['error'](a5),this['pending']=!0x1;}});}['deleteRow'](a1){this['rowIds']['delete'](a1)&&(this['total']=(this['total']||0x0)-0x1<=0x0?0x0:(this['total']||0x0)-0x1);}['clearRows'](){this['rowIds']['clear']();}['addRow'](a1){this['rowIds']['add'](a1);}['insertRow'](a1,a2){this['pending']&&(this['shouldDropSync']=!0x0),this['rowIds']['add'](a1);var a3=this['sortedIds']['slice'](),a4=new Set(a3);a4['delete'](a1);var a5=Array['from'](a4),a6=a5['indexOf'](a2);-0x1===a6?a2?a5['push'](a1):a5['unshift'](a1):a5['splice'](a6+0x1,0x0,a1),this['sortedIds']=a5,this['total']=(this['total']||0x0)+0x1;}['parseUser'](a1,a2){if(Array['isArray'](a2)&&a2['length']){var a3=new Set();a2['forEach'](a4=>{var a5=this['dataStore']['getDataRow'](a1,a4);if((null==a5?void 0x0:a5['created_by'])&&!a3['has'](a5['created_by'])&&a3['add'](a5['created_by']),(null==a5?void 0x0:a5['edited_by'])&&!a3['has'](a5['edited_by'])&&a3['add'](a5['edited_by']),null==a5?void 0x0:a5['properties'])try{var a6=new K['a'](a1,a5);Object['keys'](a5['properties'])['forEach'](a7=>{if(this['peopleSet']['has'](a7)){a6['parse'](a7);var a8=a6['getOptionIds'](a7);a8['size']&&a8['forEach'](a9=>{a3['has'](a9)||a3['add'](a9);});}});}catch(a7){}}),this['publicUserStore']['fetchUsers'](Array['from'](a3));}}}Y([z['observable']],a0['prototype'],'sortedIds',0x2),Y([z['observable']],a0['prototype'],'rowIds',0x2),Y([H['b']],a0['prototype'],'dataStore',0x2),Y([H['b']],a0['prototype'],'screenStore',0x2),Y([H['b']],a0['prototype'],'publicUserStore',0x2),Y([H['b']],a0['prototype'],'popperStore',0x2),Y([z['observable']['shallow']],a0['prototype'],'stashRefresh',0x2),Y([z['observable']],a0['prototype'],'pending',0x2),Y([z['observable']],a0['prototype'],'loadNext',0x2),Y([z['computed']],a0['prototype'],'ids',0x1),Y([z['observable']],a0['prototype'],'total',0x2),Y([z['computed']],a0['prototype'],'view',0x1),Y([z['computed']],a0['prototype'],'table',0x1),Y([z['computed']],a0['prototype'],'peopleSet',0x1),Y([z['computed']],a0['prototype'],'pageSize',0x1),Y([z['computed']],a0['prototype'],'loader',0x1);},'mBFf':function(q,z,F){'use strict';var H=F('Wgwc'),J=F('Rsoz'),K=F('mwIZ'),Q=F['n'](K),X=F('gtzJ'),Y=F('2vnA'),Z=F('aD9L'),a0=F('qX4z'),a1=F('OIS1'),a2=F('Usk8'),a3=F('x9Bn'),a4=F('s7Ic'),a5=F('o6JS'),a6=F('MUmR'),a7=F('sA5H'),a8=F('uMVv'),a9=F('YfBr'),aa=F('0W19'),ab=F('4Ljp'),ac=F('38Rj'),ad=F('uidj'),ae=F('odX6'),af=F('RG8n'),ag=F('oYhM'),ah=F('KQwE'),ai=F('bXzw'),aj=F('9rbq'),ak=Object['defineProperty'],al=Object['getOwnPropertyDescriptor'],am=Object['getOwnPropertySymbols'],an=Object['prototype']['hasOwnProperty'],ao=Object['prototype']['propertyIsEnumerable'],ap=(ax,ay,az)=>ay in ax?ak(ax,ay,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':az}):ax[ay]=az,aq=(ax,ay)=>{for(var az in ay||(ay={}))an['call'](ay,az)&&ap(ax,az,ay[az]);if(am){for(var az of am(ay))ao['call'](ay,az)&&ap(ax,az,ay[az]);}return ax;},ar=(ax,ay,az,aA)=>{for(var aB,aC=aA>0x1?void 0x0:aA?al(ay,az):ay,aD=ax['length']-0x1;aD>=0x0;aD--)(aB=ax[aD])&&(aC=(aA?aB(ay,az,aC):aB(aC))||aC);return aA&&aC&&ak(ay,az,aC),aC;},as=(ax,ay,az)=>new Promise((aA,aB)=>{var aC=aF=>{try{aE(az['next'](aF));}catch(aG){aB(aG);}},aD=aF=>{try{aE(az['throw'](aF));}catch(aG){aB(aG);}},aE=aF=>aF['done']?aA(aF['value']):Promise['resolve'](aF['value'])['then'](aC,aD);aE((az=az['apply'](ax,ay))['next']());}),at=F('82qo'),au=ag['a']['getInstance'](),av=ah['a']['getInstance']();Object(Y['configure'])({'enforceActions':'never'});class aw{constructor(){var ax=this;this['userEditLocked']=null,this['registerMethod']='',this['wechatInfo']={},this['checkEduEmail']=()=>as(this,null,function*(){if(this['userId']){var ay=yield Object(a4['d'])();ay&&(ay['isEdu']?(this['isEduEmail']=!0x0,this['eduDiscount']=0xa*Number(ay['discount']||0.63),this['eduEmailName']=ay['name'],this['eduEmailBlocked']=!0x1):(this['isEduEmail']=!0x1,this['eduDiscount']='',this['eduEmailName']='',this['eduEmailBlocked']=ay['isBlocked']));}}),this['initUserInfo']=ay=>as(this,null,function*(){var az;if(ay){if(az=ay,!ay['userId'])return void(yield this['initUserInfo']());this['initUserInfo']();}else{if(!(az=yield Object(a3['o'])()))return;this['checkEduEmail']();}var {userId:aA,mobile:aB,countryCode:aC,isNewUser:aD,email:aE,emailVerified:aF,userName:aG,password:aH,pin:aI,registerTime:aJ,recommendCode:aK,avatar:aL,inviteRemainingCount:aM,invitedUserCount:aN,userUnshareable:aO,creditUnavailable:aP,isEligibleForEducationDiscount:aQ,wechatOpenId:aR,wechatUnionId:aS,wechatWebsiteOpenId:aT,wemeetOpenId:aU,dingtalkUserId:aV,dingtalkUnionId:aW,disableKefu:aX,registerMethod:aY}=az;return this['email']=aF?aE:'',this['userId']=aA,this['userName']=aG,this['countryCode']=aC,this['isNewUser']=aD,this['recommendCode']=aK,this['avatar']=aL||'',this['inviteRemainingCount']=aM||0x0,this['invitedUserCount']=aN||0x0,this['registerTime']=H(aJ)['format']('YYYY/MM/DD\x20HH:mm'),this['registerTimeSrc']=aJ,this['version']=af['a'],this['userUnshareable']=aO,this['creditUnavailable']=aP,this['hasPassword']=Boolean(aH),this['hasPin']=Boolean(aI),this['isEligibleForEducationDiscount']=aQ,this['wechatOpenId']=aR,this['wechatUnionId']=aS,this['wechatWebsiteOpenId']=aT,this['wemeetOpenId']=aU,this['dingtalkUserId']=aV,this['dingtalkUnionId']=aW,this['disableKefu']=aX,this['registerMethod']=aY,aB&&0x2===aB['length']&&(this['mobile']=''['concat'](aB[0x0],'****')['concat'](aB[0x1])),this['isNewUser']||(aA&&a8['c'](ac['WOLAI_USER_ID'],aA,!0x0),aA&&a8['c'](ac['WOLAI_USER_INFO'],az,!0x0)),az;}),this['getUserInfo']=ay=>as(this,null,function*(){yield au['init'](),yield av['init']();var az=a8['a'](ac['WOLAI_USER_INFO'],!0x0),aA=az;if(ay&&az?yield this['initUserInfo'](az):aA=yield this['initUserInfo'](),!this['userId']&&ac['IS_FLY_MODE']&&(Object(Z['e'])()?window['interop']&&window['interop']['setAirplaneModeStatus']&&window['interop']['setAirplaneModeStatus'](!0x1):a8['c'](ac['WOLAI_FLY_MODE'],!0x1,!0x0),window['location']['reload']()),!this['sessionId']){try{yield a9['a']['allSubmitIndexedDB']();}catch(aC){}this['sessionId']=Object(a1['b'])();}var aB={'wolai_container':Object(Z['a'])(),'wolai_device':Object(Z['b'])(),'wolai_version':this['version']};return this['userId']&&(aB['user_id']=this['userId'],aB['crm_id']=this['userId']),window['dataLayer']['push'](aB),ac['IS_FLY_MODE']||(X['a']({'id':this['userId'],'username':this['userName'],'email':this['email'],'release':af['a'],'environment':Object(a0['d'])()}),at['singleton']({'pid':'irxqyzfvu1@0a53196afb7512a','appType':'web','uid':this['userId'],'imgUrl':'https://arms-retcode.aliyuncs.com/r.png?','setUsername':()=>this['userName'],'release':af['a'],'environment':Object(a0['d'])(),'disableHook':!0x0,'ignore':{'ignoreErrors':[function(aD){return aD&&['window.GM_getTab','Network\x20Error','Request\x20failed','Script\x20error','ResizeObserver','timeout\x20of\x200ms\x20exceeded']['some'](aE=>aD['indexOf'](aE)>=0x0);}]}})),this['pageGray']=a8['a'](ac['WOLAI_EDITOR_BLOCK_BACKGROUND']),this['headerLevelPrompt']=!0x0,this['listLevelAlignment']=!0x0,this['blankLinePrompt']=!0x1,this['spellCheck']=a8['a'](ac['WOLAI_SPELL_CHECK'])||!0x1,this['latexTooltip']=a8['a'](ac['WOLAI_LATEX_TOOLTIP']),this['codeTooltip']=a8['a'](ac['WOLAI_CODE_TOOLTIP']),this['simpleTableTooltip']=a8['a'](ac['WOLAI_SIMPLE_TABLE_TOOLTIP']),this['diagramTooltip']=a8['a'](ac['WOLAI_DIAGRAM_TOOLTIP']),this['screenLocked']=a8['a'](ac['WOLAI_SCREEN_LOCKED'],!0x0),!0x1===a8['a'](ac['WOLAI_SIDEBAR_VISIBLE'])||this['workspaceStore']['isPdf']?this['editorUI']['hideSideBar']():this['editorUI']['showSideBar'](),!0x1!==a8['a'](ac['WOLAI_SHARE_SIDEBAR_VISIBLE'])?this['editorUI']['setShareSideBarVisible']():this['editorUI']['setShareSideBarHidden'](),this['leadEnabled']=a8['a'](ac['WOLAI_LEAD_ENABLED']),window['sessionStorage']['setItem']('firstEntryUrl',window['location']['href']),aA;}),this['fetchUserCredit']=()=>as(this,null,function*(){if(this['userId']){var {creditBalance:ay,creditIncome:az,transactions:aA}=yield Object(a5['a'])();return this['creditBalance']=ay,this['totalCreditIncome']=az,this['recentCreditTransactions']=aA,{'balance':ay,'total':az,'transactions':aA};}}),this['setNewUser']=ay=>{this['isNewUser']=ay;},this['fetchUserOrders']=()=>as(this,null,function*(){if(this['userId']){var {orders:ay}=yield Object(a6['f'])();return this['orders']=ay,{'orders':ay};}}),this['isSpaceGuest']=ay=>{var az=this['spaceStore']['currentWorkspace']['members']||[],aA=new Set();return az['forEach'](aB=>{'string'==typeof aB?aA['add'](aB):aB['user_id']&&aA['add'](aB['user_id']);}),!aA['has'](ay);},this['setPageGray']=ay=>{this['questStore']['track']('page-setting-page-gray'),a8['c'](ac['WOLAI_EDITOR_BLOCK_BACKGROUND'],ay),this['pageGray']=ay;},this['setHeaderLevelPrompt']=ay=>{a8['c'](ac['WOLAI_HEADER_LEVEL_PROMPT'],ay),this['headerLevelPrompt']=ay;},this['setListLevelAlignment']=ay=>{a8['c'](ac['WOLAI_LIST_LEVEL_ALIGNMENT'],ay),this['listLevelAlignment']=ay;},this['setBlankLinePrompt']=ay=>{a8['c'](ac['WOLAI_BLANK_LINE_PROMPT'],ay),this['blankLinePrompt']=ay;},this['setSpellCheck']=ay=>{this['questStore']['track']('page-setting-spellcheck'),a8['c'](ac['WOLAI_SPELL_CHECK'],ay),this['spellCheck']=ay;},this['setSimpleTableTooltip']=ay=>{a8['c'](ac['WOLAI_SIMPLE_TABLE_TOOLTIP'],ay),this['simpleTableTooltip']=ay;},this['setCodeTooltip']=ay=>{a8['c'](ac['WOLAI_CODE_TOOLTIP'],ay),this['codeTooltip']=ay;},this['setDiagramTooltip']=ay=>{a8['c'](ac['WOLAI_DIAGRAM_TOOLTIP'],ay),this['diagramTooltip']=ay;},this['setLatexTooltip']=ay=>{a8['c'](ac['WOLAI_LATEX_TOOLTIP'],ay),this['latexTooltip']=ay;},this['setPin']=()=>{this['hasPin']=!0x0;},this['setScreenLocked']=function(){var ay=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];return as(ax,null,function*(){if(!Q()(this['screenStore'],['currentScreen','readOnly'])){if(ay){var az=this['spaceStore']['workspaces']['some'](aE=>{var {id:aF}=aE;return this['spaceStore']['getTargetSpacePremium'](aF);}),aA=this['hasPin'];if(az){if(aA){var aB=a8['a'](ac['WOLAI_SCREEN_LOCKED'],!0x0);if(aB)this['screenLocked']=aB;else{var aC=a8['a'](ac['WOLAI_USER_INFO'],!0x0),aD=Q()(this['pageStore'],['pageCover']);yield Object(a4['e'])()['then'](aE=>{a8['b'](ac['WOLAI_USER_ID'],!0x0),a8['b'](ac['WOLAI_USER_DATA'],!0x0),a8['b'](ac['WOLAI_USER_INFO'],!0x0);var aF={'pageCover':aD,'userHash':aE['userHash'],'userInfo':aC};a8['c'](ac['WOLAI_SCREEN_LOCKED'],aF,!0x0),this['screenLocked']=aF;});}}else this['pageStore']['setConfirmOpen']({'contents':J['a']['t']('stores.userStore.toSetPinTips','您当前还未设置锁屏PIN码，请前往“个人设置”面板里设置您的锁屏PIN码。',{'ns':'editor'}),'successText':J['a']['t']('stores.userStore.toSetting','去设置',{'ns':'editor'}),'success':()=>{a2['b']['emit']('openUserSetting',{'type':'user'});}});}else this['pageStore']['setConfirmOpen']({'contents':J['a']['t']('stores.userStore.lockFeatureUseTips','您必须拥有或加入至少一个专业版及以上版本空间才能使用屏幕锁定功能',{'ns':'editor'}),'successText':J['a']['t'](aj['cb']['TO_UPGRADE'],'去升级',{'ns':'editor'}),'success':()=>{a2['b']['emit']('openUserSetting',{'type':'plan'});}});}else this['screenLocked']&&(a8['b'](ac['WOLAI_SCREEN_LOCKED'],!0x0),this['screenLocked']=ay);}});},this['setLeadEnabled']=(ay,az)=>{this['leadEnabled']=ay,ay?(aa['a']['track']('open_tour',{'from':az}),a8['c'](ac['WOLAI_LEAD_ENABLED'],!0x0)):a8['b'](ac['WOLAI_LEAD_ENABLED']);},this['updateUserInfo']=ay=>{for(var az in ay)this[az]=ay[az];this['memberStore']['changeMemberAvatar'](this['userId'],ay);},this['getWechatConfig']=()=>as(this,null,function*(){if(Object(Z['h'])()){var ay=window['location']['href']['split']('#')[0x0];if(Object(Z['f'])()&&window['sessionStorage']['getItem']('firstEntryUrl')&&(ay=window['sessionStorage']['getItem']('firstEntryUrl')['split']('#')[0x0]),window['wx']){var az=yield Object(a7['V'])(encodeURIComponent(ay),window['location']['href']['split']('#')[0x0]),{appId:aA,timestamp:aB,nonceStr:aC,signature:aD,info:aE}=az;window['wx']['config']({'appId':aA,'timestamp':aB,'nonceStr':aC,'signature':aD,'jsApiList':['updateTimelineShareData','updateAppMessageShareData']}),window['wx']['error'](aF=>{}),this['wechatInfo']=aE,this['shareToWeixin']();}}}),this['setWechatConfig']=()=>{Object(Z['h'])()&&window['wx']&&window['wx']['ready'](()=>{this['shareToWeixin']();});},this['updateWechatInfo']=(ay,az)=>{Object(Z['h'])()&&(this['wechatInfo'][ay]||(this['wechatInfo'][ay]=az),this['shareToWeixin']());},this['initSupportBox']=function(){var ay=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};Object(Z['i'])()&&ab['a']['getInstance']()['config']({'iframe':!0x0}),ab['a']['getInstance']()['identify']({'name':ax['userName'],'email':ax['email'],'phone':ax['mobile'],'metadata':[{'name':'版本','value':ax['version']},{'name':'注册时间','value':ax['registerTime']},{'name':'用户ID','value':ax['userId']},aq({},ay)]});},this['hasPremiumSpace']=()=>this['spaceStore']['workspaces']['some'](ay=>![ad['d']['FREE'],ad['d']['TEAM_FREE']]['includes'](this['spaceStore']['getSpacePlan'](ay['id']))),this['setCsOnline']=ay=>{this['csOnline']=ay;},this['setEditLocked']=ay=>{this['userEditLocked']=ay;},this['initUserStore']();}get['showTour'](){var ax,ay,az;return!(null==(ax=this['screenStore'])?void 0x0:ax['mainScreen']['loading'])&&this['leadEnabled']&&!(null==(az=null==(ay=this['screenStore'])?void 0x0:ay['mainScreen'])?void 0x0:az['readOnly'])&&!Object(Z['h'])();}['initUserStore'](){this['orders']=[],this['isEduEmail']=!0x1,this['eduDiscount']='';}get['role'](){return this['isGuest']?'guest':this['isAdmin']?'admin':'member';}get['isLogin'](){return Boolean(this['userId']);}get['isGuest'](){var ax=this['spaceStore']['currentWorkspace']['members']||[];return!!ax['length']&&ax['every'](ay=>'string'==typeof ay?ay!==this['userId']:ay['user_id']!==this['userId']);}get['isMember'](){var ax=this['spaceStore']['currentWorkspace']['members']||[];return!!ax['length']&&ax['some'](ay=>'string'==typeof ay?ay===this['userId']:ay['user_id']===this['userId']);}get['isOwner'](){return this['spaceStore']['currentWorkspace']['created_by']===this['userId'];}get['isAdmin'](){return this['isSpaceAdmin'];}get['isSpaceAdmin'](){return(this['spaceStore']['currentWorkspace']['members']||[])['some'](ax=>'string'!=typeof ax&&(ax['user_id']===this['userId']&&'admin'===ax['role']))||this['isOwner'];}get['disableShare'](){return this['spaceStore']['isEnterprisePlan']()&&this['spaceStore']['currentWorkspace']['disable_share_page']&&!this['isAdmin'];}get['disableMove'](){return this['spaceStore']['isEnterprisePlan']()&&this['spaceStore']['currentWorkspace']['disable_move_page'];}get['disableImport'](){return this['spaceStore']['isEnterprisePlan']()&&this['spaceStore']['currentWorkspace']['disable_import_page'];}get['showWatermark'](){return this['spaceStore']['isEnterprisePlan']()&&this['spaceStore']['currentWorkspace']['show_watermark'];}get['disableChange'](){return this['spaceStore']['isEnterprisePlan']()&&this['spaceStore']['currentWorkspace']['disable_change_public_top_page']&&!this['isAdmin'];}['shareToWeixin'](){var {title:ax,imageUrl:ay,desc:az}=this['wechatInfo'];window['wx']['updateTimelineShareData']&&window['wx']['updateTimelineShareData']({'title':ax||document['title'],'link':''['concat'](window['location']['href']['split']('#')[0x0],'?theme=')['concat'](this['workspaceStore']['theme']),'imgUrl':ay||''['concat']('https://cdn.wostatic.cn','/wolai/wolai_og_icon.png')}),window['wx']['updateAppMessageShareData']&&window['wx']['updateAppMessageShareData']({'title':ax||document['title'],'desc':az||J['a']['t']('stores.userStore.createByWolai','创作于\x20wolai.com',{'ns':'editor'}),'link':''['concat'](window['location']['href']['split']('#')[0x0],'?theme=')['concat'](this['workspaceStore']['theme']),'imgUrl':ay||''['concat']('https://cdn.wostatic.cn','/wolai/wolai_og_icon.png')});}get['availableLoginTypes'](){var ax=[];return this['mobile']&&ax['push']('mobile'),(this['wechatOpenId']||this['wechatUnionId']||this['wechatWebsiteOpenId'])&&ax['push']('wechat'),(this['dingtalkUserId']||this['dingtalkUnionId'])&&ax['push']('dingtalk'),this['wemeetOpenId']&&ax['push']('wemeet'),ax;}}ar([ae['b']],aw['prototype'],'editorUI',0x2),ar([ae['b']],aw['prototype'],'workspaceStore',0x2),ar([ae['b']],aw['prototype'],'invitationStore',0x2),ar([ae['b']],aw['prototype'],'spaceStore',0x2),ar([ae['b']],aw['prototype'],'memberStore',0x2),ar([ae['b']],aw['prototype'],'screenStore',0x2),ar([ae['b']],aw['prototype'],'blockStore',0x2),ar([ae['b']],aw['prototype'],'pageStore',0x2),ar([ae['b']],aw['prototype'],'questStore',0x2),ar([Y['observable']],aw['prototype'],'userId',0x2),ar([Y['observable']],aw['prototype'],'userName',0x2),ar([Y['observable']],aw['prototype'],'mobile',0x2),ar([Y['observable']],aw['prototype'],'countryCode',0x2),ar([Y['observable']],aw['prototype'],'isNewUser',0x2),ar([Y['observable']],aw['prototype'],'email',0x2),ar([Y['observable']],aw['prototype'],'isEduEmail',0x2),ar([Y['observable']],aw['prototype'],'eduDiscount',0x2),ar([Y['observable']],aw['prototype'],'eduEmailName',0x2),ar([Y['observable']],aw['prototype'],'eduEmailBlocked',0x2),ar([Y['observable']],aw['prototype'],'recommendCode',0x2),ar([Y['observable']],aw['prototype'],'pageGray',0x2),ar([Y['observable']],aw['prototype'],'avatar',0x2),ar([Y['observable']],aw['prototype'],'invitedUserCount',0x2),ar([Y['observable']],aw['prototype'],'inviteRemainingCount',0x2),ar([Y['observable']],aw['prototype'],'headerLevelPrompt',0x2),ar([Y['observable']],aw['prototype'],'listLevelAlignment',0x2),ar([Y['observable']],aw['prototype'],'blankLinePrompt',0x2),ar([Y['observable']],aw['prototype'],'spellCheck',0x2),ar([Y['observable']],aw['prototype'],'latexTooltip',0x2),ar([Y['observable']],aw['prototype'],'codeTooltip',0x2),ar([Y['observable']],aw['prototype'],'diagramTooltip',0x2),ar([Y['observable']],aw['prototype'],'simpleTableTooltip',0x2),ar([Y['observable']],aw['prototype'],'creditBalance',0x2),ar([Y['observable']],aw['prototype'],'orders',0x2),ar([Y['observable']],aw['prototype'],'recentCreditTransactions',0x2),ar([Y['observable']],aw['prototype'],'totalCreditIncome',0x2),ar([Y['observable']],aw['prototype'],'userUnshareable',0x2),ar([Y['observable']],aw['prototype'],'creditUnavailable',0x2),ar([Y['observable']],aw['prototype'],'screenLocked',0x2),ar([Y['observable']],aw['prototype'],'hasPassword',0x2),ar([Y['observable']],aw['prototype'],'hasPin',0x2),ar([Y['observable']],aw['prototype'],'leadEnabled',0x2),ar([Y['observable']],aw['prototype'],'isEligibleForEducationDiscount',0x2),ar([Y['observable']],aw['prototype'],'wechatOpenId',0x2),ar([Y['observable']],aw['prototype'],'wechatUnionId',0x2),ar([Y['observable']],aw['prototype'],'wechatWebsiteOpenId',0x2),ar([Y['observable']],aw['prototype'],'wemeetOpenId',0x2),ar([Y['observable']],aw['prototype'],'dingtalkUserId',0x2),ar([Y['observable']],aw['prototype'],'dingtalkUnionId',0x2),ar([Y['observable']],aw['prototype'],'disableKefu',0x2),ar([Y['observable']],aw['prototype'],'csOnline',0x2),ar([Y['observable']],aw['prototype'],'userEditLocked',0x2),ar([Y['observable']],aw['prototype'],'registerMethod',0x2),ar([Y['computed']],aw['prototype'],'showTour',0x1),ar([Y['action']],aw['prototype'],'initUserStore',0x1),ar([Y['action']],aw['prototype'],'checkEduEmail',0x2),ar([Y['action']],aw['prototype'],'initUserInfo',0x2),ar([Y['action']],aw['prototype'],'getUserInfo',0x2),ar([Y['action']],aw['prototype'],'fetchUserCredit',0x2),ar([Y['computed']],aw['prototype'],'role',0x1),ar([Y['computed']],aw['prototype'],'isLogin',0x1),ar([Y['computed']],aw['prototype'],'isGuest',0x1),ar([Y['computed']],aw['prototype'],'isMember',0x1),ar([Y['computed']],aw['prototype'],'isOwner',0x1),ar([Y['computed']],aw['prototype'],'isAdmin',0x1),ar([Y['computed']],aw['prototype'],'isSpaceAdmin',0x1),ar([Y['computed']],aw['prototype'],'disableShare',0x1),ar([Y['computed']],aw['prototype'],'disableMove',0x1),ar([Y['computed']],aw['prototype'],'disableImport',0x1),ar([Y['computed']],aw['prototype'],'showWatermark',0x1),ar([Y['computed']],aw['prototype'],'disableChange',0x1),ar([Y['action']],aw['prototype'],'setNewUser',0x2),ar([Y['action']],aw['prototype'],'fetchUserOrders',0x2),ar([Y['action']],aw['prototype'],'isSpaceGuest',0x2),ar([Y['action']],aw['prototype'],'setPageGray',0x2),ar([Y['action']],aw['prototype'],'setHeaderLevelPrompt',0x2),ar([Y['action']],aw['prototype'],'setListLevelAlignment',0x2),ar([Y['action']],aw['prototype'],'setBlankLinePrompt',0x2),ar([Y['action']],aw['prototype'],'setSpellCheck',0x2),ar([Y['action']],aw['prototype'],'setSimpleTableTooltip',0x2),ar([Y['action']],aw['prototype'],'setCodeTooltip',0x2),ar([Y['action']],aw['prototype'],'setDiagramTooltip',0x2),ar([Y['action']],aw['prototype'],'setLatexTooltip',0x2),ar([Y['action']],aw['prototype'],'setPin',0x2),ar([Y['action']],aw['prototype'],'setScreenLocked',0x2),ar([Y['action']],aw['prototype'],'setLeadEnabled',0x2),ar([Y['action']],aw['prototype'],'updateUserInfo',0x2),ar([Y['action']],aw['prototype'],'setCsOnline',0x2),ar([Y['action']],aw['prototype'],'setEditLocked',0x2),ar([Y['computed']],aw['prototype'],'availableLoginTypes',0x1),z['a']=Object(ai['a'])(aw);},'mFjg':function(a0,a1,a2){'use strict';a2['d'](a1,'a',function(){return ar;}),a2['d'](a1,'b',function(){return as;}),a2['d'](a1,'f',function(){return ax;}),a2['d'](a1,'t',function(){return az;}),a2['d'](a1,'n',function(){return aA;}),a2['d'](a1,'r',function(){return aB;}),a2['d'](a1,'s',function(){return aC;}),a2['d'](a1,'i',function(){return aD;}),a2['d'](a1,'g',function(){return aE;}),a2['d'](a1,'h',function(){return aF;}),a2['d'](a1,'m',function(){return aG;}),a2['d'](a1,'l',function(){return aH;}),a2['d'](a1,'j',function(){return aI;}),a2['d'](a1,'o',function(){return aJ;}),a2['d'](a1,'d',function(){return aK;}),a2['d'](a1,'p',function(){return aL;}),a2['d'](a1,'k',function(){return aM;}),a2['d'](a1,'q',function(){return aN;}),a2['d'](a1,'w',function(){return aO;}),a2['d'](a1,'v',function(){return aP;}),a2['d'](a1,'x',function(){return aQ;}),a2['d'](a1,'u',function(){return aR;}),a2['d'](a1,'e',function(){return aS;}),a2['d'](a1,'c',function(){return aT;});var a3=a2('vN+2'),a4=a2['n'](a3),a5=a2('9rbq'),a6=a2('odX6'),a7=a2('0W19'),a8=a2('aD9L'),a9=a2('Usk8'),aa=a2('uidj'),ab=a2('l+LR'),ac=a2('o6JS'),ad=a2('Rsoz'),ae=Object['defineProperty'],af=Object['defineProperties'],ag=Object['getOwnPropertyDescriptors'],ah=Object['getOwnPropertySymbols'],ai=Object['prototype']['hasOwnProperty'],aj=Object['prototype']['propertyIsEnumerable'],ak=(aU,aV,aW)=>aV in aU?ae(aU,aV,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aW}):aU[aV]=aW,al=(aU,aV)=>{for(var aW in aV||(aV={}))ai['call'](aV,aW)&&ak(aU,aW,aV[aW]);if(ah){for(var aW of ah(aV))aj['call'](aV,aW)&&ak(aU,aW,aV[aW]);}return aU;},am=(aU,aV)=>af(aU,ag(aV)),an=(aU,aV,aW)=>new Promise((aX,aY)=>{var aZ=b2=>{try{b1(aW['next'](b2));}catch(b3){aY(b3);}},b0=b2=>{try{b1(aW['throw'](b2));}catch(b3){aY(b3);}},b1=b2=>b2['done']?aX(b2['value']):Promise['resolve'](b2['value'])['then'](aZ,b0);b1((aW=aW['apply'](aU,aV))['next']());}),{setIntervalAsync:ao,clearIntervalAsync:ap}=a2('brEN'),aq=aU=>{var aV=Object(a6['b'])('spaceStore'),aW=Object(a6['b'])('pageStore'),aX=Object(a6['b'])('userStore');aV['setInitialTabToPlan'](),aW['setConfirmOpen']({'contents':aU['freePlanContent'],'title':aU['title'],'showEduTips':aX['isEduEmail']||!a5['P']['test'](aX['email']),'successText':aU['successText']||ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}),'successButtonId':'open-workspace-btn','success':()=>{a7['a']['track']('upgrade_guide',{'trigger_source':aU['source'],'next_action':Object(a8['h'])()||Object(a8['i'])()?'移动端关闭':'付费升级','current_workspace_plan':aV['getSpacePlan'](),'is_edu_email':aX['isEduEmail']});},'cancel':()=>{a7['a']['track']('upgrade_guide',{'trigger_source':aU['source'],'next_action':'关闭','current_workspace_plan':aV['getSpacePlan'](),'is_edu_email':aX['isEduEmail']});},'tooltipType':aU['tooltipType'],'showTooltip':aU['showTooltip'],'footnote':aU['freePlanFootnote'],'adjustMobile':!0x0,'mobileSingleButton':!0x0,'agree':aU['agree'],'agreeText':aU['agreeText'],'singleButton':aU['singleButton'],'extendText':aU['extendText']});},ar=aU=>{var aV=Object(a6['b'])('spaceStore'),aW=Object(a6['b'])('workspaceStore'),aX=aV['getSpacePlan'](),aY=aW['getSecureConfigByKey'](a5['X'][aX])||a5['W'];return'unlimited'===aY||aY>=aU['size'];},as=aU=>{var aV=Object(a6['b'])('spaceStore'),aW=Object(a6['b'])('workspaceStore'),aX=aV['planType'],aY=aW['getSecureConfigByKey'](a5['bb'][aX])||a5['W'];return'unlimited'===aY||aY>=aU['size'];},at=aU=>aU>=0x40000000?''['concat'](Math['round'](aU/0x400/0x400/0x400),'GB'):''['concat'](Math['round'](aU/0x400/0x400),'MB'),au=(aU,aV)=>an(void 0x0,null,function*(){var aW=Object(a6['b'])('userStore'),aX=Object(a6['b'])('pageStore'),aY=Object(a6['b'])('spaceStore');aY['setInitialTabToPlan']();var aZ=0x0;if(aW['creditBalance']>=0x0)aZ=aW['creditBalance'];else{var b0=yield aW['fetchUserCredit']();aZ=(null==b0?void 0x0:b0['balance'])||0x0;}if(aU===aa['d']['FREE']&&aZ<0x5a&&(aV['freePlanContent']=ad['a']['t']('base.common.upgradeProPlan.upgradeTitle','使用积分免费兑换或付费升级空间',{'ns':'editor'}),aV['agree']=()=>{setTimeout(()=>{a9['b']['emit']('openUserSetting',{'type':'invite'});},0x190);},aV['successText']=ad['a']['t']('base.common.upgradeProPlan.payUpgrade','付费升级',{'ns':'editor'}),aV['agreeText']=ad['a']['t']('base.common.upgradeProPlan.earnCredits','赚取积分',{'ns':'editor'}),aV['singleButton']=!0x0,aV['extendText']=ad['a']['t'](a5['cb']['CANCEL'],'取消',{'ns':'editor'})),aU===aa['d']['FREE']&&aZ>=0x5a){var b1;aV['successText']=ad['a']['t']('base.common.upgradeProPlan.upgradeImmediately','立即升级',{'ns':'editor'}),0x5a===aZ?(aV['successText']=ad['a']['t']('base.common.upgradeProPlan.upgradeImmediately','立即升级',{'ns':'editor'}),b1='quarter'):(aV['successText']=ad['a']['t']('base.common.upgradeProPlan.upgradeThreeMonths','升级三个月',{'ns':'editor'}),b1='quarter');var b2='<div>当前可用积分\x20<span\x20style=\x22color:\x20#cf5659;\x20font-weight:\x20bold;\x22>'['concat'](aZ,'</span>，可兑换\x20<span\x20style=\x22color:\x20#cf5659;\x20font-weight:\x20bold;\x22>',0x3,'</span>\x20个月个人专业版</div>');aV['footnote']='<div\x20style=\x22color:\x20var(--color-basic-800);\x22>\x0a\x20\x20\x20\x20'['concat'](b2,'\x0a\x20\x20\x20\x20<div>你也可用前往\x20<span\x20id=\x22open-workspace-btn\x22\x20style=\x22cursor:\x20pointer;\x20border-bottom:\x201px\x20solid\x20var(--color-basic-600);\x22>空间升级</span>\x20查看所有空间计划</div>\x0a\x20\x20</div>'),aX['setConfirmOpen']({'title':aV['freePlanContent'],'contents':aV['footnote'],'successText':aV['successText'],'agree':aV['agree'],'agreeText':aV['agreeText'],'showEduTips':aW['isEduEmail']||!a5['P']['test'](aW['email']),'success':()=>{setTimeout(()=>{a7['a']['track']('upgrade_guide',{'next_action':'积分兑换','trigger_source':aV['source'],'current_workspace_plan':aU,'is_edu_email':aW['isEduEmail']}),aX['setConfirmOpen']({'title':ad['a']['t']('base.common.upgradeProPlan.upgradeConfirmTitle','确定要将空间“{{currentWorkspaceName}}升级到{{workspacePlan}}吗？',{'currentWorkspaceName':aY['currentWorkspace']['name'],'workspacePlan':Object(aa['c'])(aa['d']['PERSONAL_PRO']),'ns':'editor'}),'contents':'<div>你将使用\x20<span\x20style=\x22color:\x20#cf5659\x22>'['concat'](0x5a,'</span>\x20积分兑换\x20<span\x20style=\x22color:\x20#cf5659\x22>',0x3,'</span>\x20个月个人专业版</div>'),'successText':ad['a']['t']('base.common.upgradeProPlan.upgradeConfirm','确定升级',{'ns':'editor'}),'success':()=>{av(b1);}});},0x190);},'cancel':()=>{a7['a']['track']('upgrade_guide',{'next_action':'关闭','trigger_source':aV['source'],'current_workspace_plan':aU,'is_edu_email':aW['isEduEmail']});}});}else aq(aV);}),av=aU=>an(void 0x0,null,function*(){if('quarter'===aU){var aV=Object(a6['b'])('spaceStore'),aW=aV['plan'],aX=!0x1;aw('WAITING');var aY=aV['spaceId'],aZ=ao(()=>an(this,null,function*(){(yield aV['checkIfPlanHasBeenUpdated'](aY,aW))&&!aX&&(aX=!0x0,aw('UPGRADE_SUCCESS'),ap(aZ));}),0x3e8);try{if(yield Object(ac['c'])('REDEEM_PRO_PLAN_THREE_MONTHS',aV['spaceId']),(yield aV['checkIfPlanHasBeenUpdated'](aY,aW))&&!aX)return aX=!0x0,aw('UPGRADE_SUCCESS'),void ap(aZ);}catch(b0){aX=!0x0,ap(aZ),setTimeout(()=>{aw('FAILURE',b0['message']);},0x3e8);}}}),aw=function(aU){var aV=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:null,aW=Object(a6['b'])('userStore'),aX=Object(a6['b'])('spaceStore');aX['updateSpaceSetting']({'plan':aX['plan']}),aW['fetchUserCredit'](),['UPGRADE_SUCCESS','EXTEND_SUCCESS','UPGRADE_PAYMENT_SUCCESS','EXTENSION_PAYMENT_SUCCESS']['includes'](aU)&&Object(ab['a'])(0x7d0),a9['b']['emit']('openPlanUpgradeModal',am(al({},aV?{'content':aV}:{}),{'enableKeyDownEvent':!0x1,'type':aU,'style':{'overflow':'auto','display':'flex','flexDirection':'column','overflowX':'hidden'},'closeFunc':a4['a']}));},ax=()=>{var aU=Object(a6['b'])('spaceStore'),aV=Object(a6['b'])('workspaceStore'),aW=aU['getSpacePlan'](),aX=aU['getNextSpacePlan'](),aY=aV['getSecureConfigByKey'](a5['X'][aW])||a5['W'],aZ=Object(aa['c'])(aW);if(Object(a8['h'])()||Object(a8['i'])())return aq({'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedImageTitle','图片大小超限',{'ns':'editor'}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedImageDesc','{{typeName}}空间上传单个图片不能超过{{fileSize}}',{'ns':'editor','typeName':aZ,'fileSize':at(aY)}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'图片大小超限'});au(aW,{'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedImageWebTitle','此空间为{{typeName}}，上传单个图片大小不能超过{{fileSize}}',{'ns':'editor','typeName':aZ,'fileSize':at(aY)}),'freePlanContent':aX?ad['a']['t']('base.common.upgradeProPlan.uploadOversizedImageWebDesc','升级空间计划，以提升单个图片上传大小限制',{'ns':'editor'}):'','successText':aX?ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.action.ok','确定',{'ns':'editor'}),'source':'图片大小超限'});},ay=()=>{var aU=Object(a6['b'])('spaceStore'),aV=Object(a6['b'])('workspaceStore'),aW=aU['getSpacePlan'](),aX=aU['getNextSpacePlan'](),aY=aV['getSecureConfigByKey'](a5['X'][aW])||a5['W'],aZ=Object(aa['c'])(aW);if(Object(a8['h'])()||Object(a8['i'])())return aq({'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedFileTitle','文件大小超限',{'ns':'editor'}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedFileDesc','{{typeName}}空间上传单个文件不能超过{{fileSize}}',{'ns':'editor','typeName':aZ,'fileSize':at(aY)}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'文件大小超限'});au(aW,{'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedFileWebTitle','此空间为{{typeName}}，上传单个文件大小不能超过{{fileSize}}',{'ns':'editor','typeName':aZ,'fileSize':at(aY)}),'freePlanContent':aX?ad['a']['t']('base.common.upgradeProPlan.uploadOversizedFileWebDesc','升级空间计划，以提升单个文件上传大小限制',{'ns':'editor'}):'','successText':aX?ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.action.ok','确定',{'ns':'editor'}),'source':'文件大小超限'});},az=()=>{aH('','文字翻译');},aA=()=>{aH('','FontAwesome');},aB=()=>{aH('','手气不错');},aC=()=>{aH('','最近上传图片');},aD=()=>{aH('','动态图标');},aE=()=>{aH('','块历史');},aF=()=>{aH('','数据表格搜索');},aG=()=>{aH('','文件预览');},aH=function(){var aU=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',aV=arguments['length']>0x1?arguments[0x1]:void 0x0,aW=arguments['length']>0x2?arguments[0x2]:void 0x0,aX=Object(a6['b'])('spaceStore'),aY=aX['getSpacePlan'](),aZ=Object(aa['c'])(aY);if(aU||(aU=ad['a']['t']('base.common.upgradeProPlan.disableUseFeature','此空间为{{typeName}}，无法使用该功能',{'ns':'editor','typeName':aZ})),Object(a8['h'])()||Object(a8['i'])())return aq({'source':aV,'freePlanContent':aU,'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'})});au(aY,{'title':aU,'source':aV,'freePlanContent':aW?ad['a']['t']('base.common.upgradeProPlan.disableUseDescTeamPlan','升级为团队空间计划，即可使用',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.disableUseDesc','升级为专业版及以上版本空间计划，即可使用',{'ns':'editor'}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'})});},aI=()=>{var aU=Object(a6['b'])('spaceStore')['getSpacePlan'](),aV=Object(aa['c'])(aU);if(Object(a8['h'])()||Object(a8['i'])())return aq({'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseFormSubmitBtn','此空间为{{typeName}}，无法自定义按钮文案',{'ns':'editor','typeName':aV}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'表单'});au(aU,{'title':ad['a']['t']('base.common.upgradeProPlan.disableUseFormSubmitBtn','此空间为{{typeName}}，无法自定义按钮文案',{'ns':'editor','typeName':aV}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseDesc','升级为专业版及以上版本空间计划，即可使用',{'ns':'editor'}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}),'source':'表单'});},aJ=()=>{var aU=Object(a6['b'])('spaceStore')['getSpacePlan'](),aV=aa['c'][aU];if(Object(a8['h'])()||Object(a8['i'])())return aq({'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseFormula','此空间为{{typeName}}，公式列不能超过1个',{'ns':'editor','typeName':aV}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'公式列'});au(aU,{'title':ad['a']['t']('base.common.upgradeProPlan.disableUseFormula','此空间为{{typeName}}，公式列不能超过1个',{'ns':'editor','typeName':aV}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseFormulaDesc','升级为付费空间计划，公式列将不受个数限制',{'ns':'editor'}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}),'source':'公式列'});},aK=()=>{var aU=Object(a6['b'])('spaceStore'),aV=aU['getSpacePlan'](),aW=aU['getNextSpacePlan'](),aX=Object(aa['c'])(aV),aY=Object(a6['b'])('workspaceStore')['getSecureConfigByKey'](a5['wb'][aV])||0x0;return[aa['d']['FREE']]['includes'](aV)?Object(a8['h'])()||Object(a8['i'])()?aq({'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUsePageHistory','此空间为{{typeName}}，不能查看和恢复历史版本',{'ns':'editor','typeName':aX}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'页面历史'}):void au(aV,{'title':ad['a']['t']('base.common.upgradeProPlan.disableUsePageHistory','此空间为{{typeName}}，不能查看和恢复历史版本',{'ns':'editor','typeName':aX}),'freePlanContent':aW?ad['a']['t']('base.common.upgradeProPlan.disableUsePageHistoryDesc','升级以查看和恢复历史版本',{'ns':'editor'}):'','successText':aW?ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.action.ok','确定',{'ns':'editor'}),'source':'页面历史'}):Object(a8['h'])()||Object(a8['i'])()?aq({'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUsePageHistoryLimit','此空间为{{typeName}}，最多可查看{{days}}天页面历史',{'ns':'editor','typeName':aX,'days':aY}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'})}):aq({'title':ad['a']['t']('base.common.upgradeProPlan.disableUsePageHistoryLimit','此空间为{{typeName}}，最多可查看{{days}}天页面历史',{'ns':'editor','typeName':aX,'days':aY}),'freePlanContent':aW?ad['a']['t']('base.common.upgradeProPlan.disableUsePageHistoryLimitDesc','升级以查看更多页面历史',{'ns':'editor'}):'','successText':aW?ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.action.ok','确定',{'ns':'editor'})});},aL=aU=>{var aV=Object(a6['b'])('spaceStore')['getSpacePlan'](),aW=Object(aa['c'])(aV);if(Object(a8['h'])()||Object(a8['i'])())return aq({'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseProgressConfig','此空间为{{typeName}}，无法使用该配置',{'ns':'editor','typeName':aW}),'source':aU,'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'})});au(aV,{'title':ad['a']['t']('base.common.upgradeProPlan.disableUseProgressConfig','此空间为{{typeName}}，无法使用该配置',{'ns':'editor','typeName':aW}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseDesc','升级为专业版及以上版本空间计划，即可使用',{'ns':'editor'}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}),'source':aU});},aM=aU=>{var aV=Object(a6['b'])('spaceStore')['getSpacePlan'](),aW=Object(aa['c'])(aV);if(Object(a8['h'])()||Object(a8['i'])())return aq({'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.disableUseProgressConfig','此空间为{{typeName}}，无法使用该配置',{'ns':'editor','typeName':aW}),'source':aU,'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'})});au(aV,{'title':ad['a']['t']('base.common.upgradeProPlan.disableUseProgressConfig','此空间为{{typeName}}，无法使用该配置',{'ns':'editor','typeName':aW}),'freePlanContent':ad['a']['t']('base.common.upgradeEnterprisePlan.disableUseDesc','升级为企业版空间计划，即可使用',{'ns':'editor'}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}),'source':aU});},aN=()=>{var aU=Object(a6['b'])('spaceStore'),aV=Object(a6['b'])('pageStore'),aW=aU['getSpacePlan']();if(aU['isTeamPlan']()||aW===aa['d']['PERSONAL_FAMILY']){var aX=Object(aa['c'])(aW);aV['setConfirmOpen']({'contents':'此空间为'['concat'](aX,'，无法使用积分进行升级'),'title':'','successText':'好的','success':a4['a'],'singleButton':!0x0});}else au(aW,{'source':'新手任务'});},aO=(aU,aV)=>!!ar(aU)||(!aV&&ax(),!0x1),aP=(aU,aV)=>!!ar(aU)||(!aV&&ay(),!0x1),aQ=(aU,aV)=>!!ar(aU)||(!aV&&(()=>{var aW=Object(a6['b'])('spaceStore'),aX=Object(a6['b'])('workspaceStore'),aY=aW['getSpacePlan'](),aZ=aW['getNextSpacePlan'](),b0=aX['getSecureConfigByKey'](a5['X'][aY])||a5['W'],b1=Object(aa['c'])(aY);if(Object(a8['h'])()||Object(a8['i'])())return aq({'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedVideoTitle','视频大小超限',{'ns':'editor'}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedVideoDesc','{{typeName}}空间上传单个视频不能超过{{fileSize}}',{'ns':'editor','typeName':b1,'fileSize':at(b0)}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'视频大小超限'});au(aY,{'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedVideoWebTitle','此空间为{{typeName}}，上传单个视频大小不能超过{{fileSize}}',{'ns':'editor','typeName':b1,'fileSize':at(b0)}),'freePlanContent':aZ?ad['a']['t']('base.common.upgradeProPlan.uploadOversizedVideoWebDesc','升级空间计划，以提升单个视频上传大小限制',{'ns':'editor'}):'','successText':aZ?ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.action.ok','确定',{'ns':'editor'}),'source':'视频大小超限'});})(),!0x1),aR=(aU,aV)=>!!ar(aU)||(!aV&&(()=>{var aW=Object(a6['b'])('spaceStore'),aX=Object(a6['b'])('workspaceStore'),aY=aW['getSpacePlan'](),aZ=aW['getNextSpacePlan'](),b0=aX['getSecureConfigByKey'](a5['X'][aY])||a5['W'],b1=Object(aa['c'])(aY);if(Object(a8['h'])()||Object(a8['i'])())return aq({'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedAudioTitle','音频大小超限',{'ns':'editor'}),'freePlanContent':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedAudioDesc','{{typeName}}空间上传单个音频不能超过{{fileSize}}',{'ns':'editor','typeName':b1,'fileSize':at(b0)}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.gotIt','知道了',{'ns':'editor'}),'source':'音频大小超限'});au(aY,{'title':ad['a']['t']('base.common.upgradeProPlan.uploadOversizedAudioWebTitle','此空间为{{typeName}}，上传单个音频大小不能超过{{fileSize}}',{'ns':'editor','typeName':b1,'fileSize':at(b0)}),'freePlanContent':aZ?ad['a']['t']('base.common.upgradeProPlan.uploadOversizedAudioWebDesc','升级空间计划，以提升单个音频上传大小限制',{'ns':'editor'}):'','successText':aZ?ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}):ad['a']['t']('base.common.upgradeProPlan.action.ok','确定',{'ns':'editor'}),'source':'音频大小超限'});})(),!0x1),aS=aU=>{var aV=Object(a6['b'])('pageStore');Object(a6['b'])('workspaceStore')['inApp']?aV['setConfirmOpen']({'contents':ad['a']['t']('base.common.upgradeProPlan.exceedMemberLimit','当前空间的人数已抵达上限',{'ns':'editor'}),'adjustMobile':!0x0,'mobileSingleButton':!0x0}):aV['setConfirmOpen']({'contents':ad['a']['t']('base.common.upgradeProPlan.exceedMemberLimit','当前空间的人数已抵达上限',{'ns':'editor'}),'successText':ad['a']['t']('base.common.upgradeProPlan.action.upgrade','升级',{'ns':'editor'}),'successButtonId':aU?'':'open-workspace-btn','success':aU,'adjustMobile':!0x0,'mobileSingleButton':!0x0});},aT=(aU,aV)=>{var aW=Object(a6['b'])('spaceStore');Object(a6['b'])('popperStore')['modalStatus']['block-count-limit-wrapper']||(a7['a']['track']('open_block_count_limit_dialog'),a9['b']['emit']('openBlockCountLimitModal',{'enableKeyDownEvent':!0x1,'type':aU,'spaceId':aV||aW['spaceId']}));};},'mNfa':function(b,f,g){'use strict';g['d'](f,'b',function(){return m;}),g['d'](f,'a',function(){return q;}),g['d'](f,'c',function(){return v;}),g['d'](f,'d',function(){return w;}),g['d'](f,'e',function(){return x;}),g['d'](f,'g',function(){return y;}),g['d'](f,'f',function(){return z;});var h=g('Rsoz'),j='EMPTY_ERROR_TYPE',k='FORMAT_ERROR_TYPE',m=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:'86',D='';B&&!A?D=j:0x56===Number(C)?A['length']&&!/^[1]([1-9])[0-9]{9}$/['test'](A)&&(D=k):0x56!==Number(C)&&A['length']&&!/^[0-9]+$/['test'](A)&&(D=k);var E={[j]:h['a']['t']('validate.error.phoneNumberCannotBeEmpty','手机号不能为空'),[k]:h['a']['t']('validate.error.enterCorrectPhoneNumber','请输入正确的手机号')};return{'errorType':D,'message':E[D]};},q=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C='';B&&!A?C=j:A['length']&&!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/['test'](A)&&(C=k);var D={[j]:h['a']['t']('validate.error.emailCannotBeEmpty','邮箱地址不能为空'),[k]:h['a']['t']('validate.error.enterCorrectEmail','请输入正确的邮箱地址')};return{'errorType':C,'message':D[C]};},v=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C='';B&&!A?C=j:A['length']>=0x10?C='':A['length']&&!/^.{8,}$/['test'](A)&&(C=k);var D={[j]:h['a']['t']('validate.error.passwordCannotBeEmpty','密码不能为空'),[k]:h['a']['t']('validate.error.enterCorrectPassword','密码格式不正确，密码至少8位，建议包含大小写字母和数字')};return{'errorType':C,'message':D[C]};},w=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C='';B&&!A?C=j:/^\d{6}$/['test'](A)||(C=k);var D={[j]:h['a']['t']('validate.error.pinCannotBeEmpty','PIN码不能为空'),[k]:h['a']['t']('validate.error.enterCorrectPin','PIN码格式不正确，请确保PIN码为6位数字')};return{'errorType':C,'message':D[C]};},x=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C='';B&&!A?C=j:A['length']&&!/^[^\f\n\r\t\v]{2,20}$/['test'](A)&&(C=k);var D={[j]:h['a']['t']('validate.error.nicknameCannotBeEmpty','昵称不能为空'),[k]:h['a']['t']('validate.error.enterCorrectNickname','昵称格式不正确，应为2-20个字符，请勿输入空白字符')};return{'errorType':C,'message':D[C]};},y=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C='';B&&!A?C=j:A['length']&&!/^[^\f\n\r\t\v]{1,30}$/['test'](A)&&(C=k);var D={[j]:h['a']['t']('validate.error.workspaceCannotBeEmpty','工作空间不能为空'),[k]:h['a']['t']('validate.error.enterCorrectWorkspace','工作空间格式不正确，应为1-30个字符')};return{'errorType':C,'message':D[C]};},z=function(){var A=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',B=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],C='';B&&!A?C=j:A['length']&&!/^[a-zA-Z]{1}[a-z0-9A-Z_-]{3,14}$/['test'](A)&&(C=k);var D={[j]:h['a']['t']('validate.error.domainCannotBeEmpty','域名不能为空'),[k]:h['a']['t']('validate.error.enterCorrectDomain','域名格式不正确，需为字母开头，字母、数字、下划线和横线的组合，长度为4-15个字符。')};return{'errorType':C,'message':D[C]};};},'mkDC':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=(f=>(f['String']='string',f['Number']='number',f['Date']='date',f['Boolean']='boolean',f['WLDate']='wldate',f))(d||{});},'mley':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;}),d['d'](c,'b',function(){return j;});var f=d('5D19'),g=(k,l,m)=>new Promise((p,q)=>{var u=x=>{try{w(m['next'](x));}catch(y){q(y);}},v=x=>{try{w(m['throw'](x));}catch(y){q(y);}},w=x=>x['done']?p(x['value']):Promise['resolve'](x['value'])['then'](u,v);w((m=m['apply'](k,l))['next']());}),h=k=>g(void 0x0,null,function*(){return yield Object(f['i'])(Object(f['p'])('embed/iframely',{'url':k}));}),j=k=>g(void 0x0,null,function*(){var l={};return k['includes']('wolai.com')&&(l=yield Object(f['n'])(''['concat'](Object(f['p'])('transaction/getPreviewInfo')),{'pageUrl':k},f['h'])),l;});},'nH7k':function(f,j,k){'use strict';var m=k('BkRI'),q=k['n'](m),v=k('mwIZ'),w=k['n'](v),x=k('D1y2'),y=k['n'](x),z=k('odX6'),A=k('9rbq'),B=k('uMVv'),C=Object['defineProperty'],D=Object['getOwnPropertyDescriptor'],E=(G,H,I,J)=>{for(var K,L=J>0x1?void 0x0:J?D(H,I):H,M=G['length']-0x1;M>=0x0;M--)(K=G[M])&&(L=(J?K(H,I,L):K(L))||L);return J&&L&&C(H,I,L),L;};class F{constructor(){var G=this;this['filterTitle']=H=>{if(H&&Array['isArray'](H)){var I=H['filter'](J=>J[0x0]||J[0x1])['map'](J=>{var K=JSON['parse'](JSON['stringify'](J));return K[0x0]=''['concat'](K[0x0]||'')['replace'](/\r\n/g,'\x0a'),K;});return I['length']?I:[['']];}},this['getDeletePositionId']=H=>{var {attributes:I,type:J}=w()(this['dataStore']['getBlock'](H),'value',{});return J!==A['y']['TEXT']||this['getTitlePlainTextByTitle'](w()(I,'title'))?null:H;},this['blockIdIndex']=H=>{var {parent_id:I}=this['dataStore']['getBlockValue'](H),{sub_nodes:J=[]}=this['dataStore']['getBlockValue'](I);return{'index':J['indexOf'](H),'sub_nodes':J};},this['previousBlockId']=H=>{if(H!==this['blockStore']['pageId']){var {index:I,sub_nodes:J}=this['blockIdIndex'](H);return I?J[I-0x1]:void 0x0;}},this['nextBlockId']=H=>{if(H!==this['blockStore']['pageId']){var {index:I,sub_nodes:J}=this['blockIdIndex'](H);return I<J['length']-0x1?J[I+0x1]:void 0x0;}},this['nthLevelId']=function(H){var I=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,{sub_nodes:J=[],type:K}=G['dataStore']['getBlockValue'](H),L=J['slice'](-0x1)[0x0];if(!J['length']||I<0x2||K===A['y']['PAGE']||K===A['y']['TOGGLE_LIST']){var M=G['dataStore']['getBlockValue'](H);return{'id':H,'sub':!A['Bb']['includes'](K)&&I>0x1&&![...A['pb'],A['y']['TEXT']]['includes'](M['type'])||A['Bb']['includes'](K)&&J['length']&&'yes'===G['getNodeProperty'](H,'toggled')&&I>0x1};}return G['nthLevelId'](L,I-0x1);},this['nextEditableBlockId']=H=>{var {nodeIdList:I}=this['screenStore'],J=I['indexOf'](H);if(J<I['length']-0x1){var K=I[J+0x1];return this['dataStore']['getBlockProperty'](K,'source_id')?this['nextEditableBlockId'](K):K;}},this['prevEditableBlockId']=H=>{var {allTypeNodeIdList:I,nodeIdList:J}=this['screenStore'],{pageId:K}=this['blockStore'],L=J['indexOf'](H),M='';if(-0x1===L){var N=I['indexOf'](H);0x0===N?M=K:N>0x0&&(M=J['includes'](I[N-0x1])?I[N-0x1]:this['prevEditableBlockId'](I[N-0x1]));}else 0x0===L?M=K:L>0x0&&(M=J[L-0x1]);return M?this['dataStore']['getBlockProperty'](M,'source_id')?M===this['dataStore']['getEmbedId'](H)?M:this['prevEditableBlockId'](M):this['dataStore']['getEmbedId'](H)!==this['dataStore']['getEmbedId'](M)?this['prevEditableBlockId'](this['previousBlockId'](H)):M:'';},this['currentNodeIsChildOfTargetNode']=function(H,I){var J=!(arguments['length']>0x2&&void 0x0!==arguments[0x2])||arguments[0x2],K=G['dataStore']['getSourceId'](H),L=G['dataStore']['getSourceId'](I);if(!J&&K===L)return!0x0;var M=G['dataStore']['getBlockValue'](K),N=G['dataStore']['getBlockValue'](L);return M['page_id']===N['page_id']?'page'!==M['parent_type']&&(M['parent_id']===L||G['currentNodeIsChildOfTargetNode'](M['parent_id'],L,!0x1)):!!M['id']&&(!G['dataStore']['isTopPage'](M)&&(M['page_id']===L||G['currentNodeIsChildOfTargetNode'](M['page_id'],L,!0x1)));},this['findSubKey']=(H,I)=>{if(!H||!I)return!0x1;if(H===I)return!0x0;var J=this['dataStore']['getBlock'](I);return!!J&&this['findSubKey'](H,J['value']['parent_id']);},this['findFarthestKey']=H=>{if(!this['dataStore']['getBlock'](H))return'';var I=this['dataStore']['getBlockValue'](H);return H!==this['blockStore']['pageId']&&(I['type']===A['y']['PAGE']||I['type']===A['y']['DATABASE']||I['type']===A['y']['TEMPLATE_BUTTON']||A['Bb']['includes'](I['type'])&&'no'===this['getNodeProperty'](I['id'],'toggled'))||!I['sub_nodes']||!I['sub_nodes']['length']?I['id']:this['findFarthestKey'](I['sub_nodes']['slice'](-0x1)[0x0]);},this['findWorkspaceSubNodesByPermission']=(H,I)=>{var J=[];if(I){var {favoritePages:K}=this['pageStore'];K['forEach'](M=>{var N=this['dataStore']['getBlockValue'](M);N['active']&&J['push'](N['id']);});}else{var L=this['pageStore']['isPrivatePermission'](H['id'])||!0x1;this['spaceStore']['currentWorkspace']['pages']['forEach'](M=>{var N=this['dataStore']['getBlockValue'](M);N['active']&&(L?this['pageStore']['isPrivatePermission'](N['id'])&&J['push'](N['id']):this['pageStore']['isWorkspacePermission'](N['id'])&&J['push'](N['id']));});}return{'sub_nodes':J};},this['filterPageNode']=H=>{var I=[];return H['forEach'](J=>{var K=this['dataStore']['getBlockValue'](J);K['active']&&[A['y']['PAGE'],A['y']['DATABASE']]['includes'](K['type'])&&I['push'](J);}),I;},this['findTopParentNode']=H=>{var {dataStore:I}=this,J=[],K=L=>{if(J['includes'](L['id']))return null;if(J['push'](L['id']),L['parent_id']&&[A['y']['PAGE'],A['y']['DATABASE']]['includes'](L['parent_type']))return L;var M=I['getBlockValue'](L['parent_id']);return M['id']?K(M):null;};return K(H);},this['findNearestSiblingKey']=function(H){var I=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],J=arguments['length']>0x2?arguments[0x2]:void 0x0,K=arguments['length']>0x3?arguments[0x3]:void 0x0,L=G['dataStore']['getBlockValue'](H),M=L['parent_id'],{sub_nodes:N=[]}=G['dataStore']['isTopPage'](L)||K?G['findWorkspaceSubNodesByPermission'](L,K):J?G['pageStore']['pages'][L['page_id']]&&{'sub_nodes':G['pageStore']['pages'][L['page_id']]}||w()(G['dataStore']['blocks'][L['page_id']],'value'):w()(G['dataStore']['blocks'][M],'value')||{};J&&!G['dataStore']['isTopPage'](L)&&(N=G['filterPageNode'](N));var O=N['indexOf'](H);return I?0x0===O?'':N[O-0x1]:O===N['length']-0x1?'':N[O+0x1];},this['findNearestAuxiliaryLineId']=function(H){var I=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1],J=arguments['length']>0x2?arguments[0x2]:void 0x0,K=arguments['length']>0x3?arguments[0x3]:void 0x0,L=G['findNearestSiblingKey'](H,I,J,K);if(L){var {type:M,parentType:N,parent_id:O,sub_nodes:P}=G['dataStore']['getBlockValue'](L);return'column'===M?G['findNearestSiblingKey'](O,I):N===A['y']['PAGE']&&0x1===P['length']?P[0x0]:L;}},this['findNextSiblingKey']=H=>{var I=this['dataStore']['getBlockValue'](H)['parent_id'],J=this['dataStore']['getBlockValue'](I),K=J['sub_nodes']['indexOf'](H);return K===J['sub_nodes']['length']-0x1?'':J['sub_nodes'][K+0x1];},this['getSimpleTableCaption']=H=>{var I=this['dataStore']['getBlockValue'](H);return I['id']&&Array['isArray'](w()(I,['attributes','title',0x0]))?w()(I,['attributes','title']):[['']];},this['getSimpleTableCaptionPlainText']=H=>{var I=this['getSimpleTableCaption'](H);return this['getTitlePlainTextByTitle'](I);},this['getNodeTitle']=(H,I)=>{var J=this['dataStore']['getBlockValue'](H);if(J['id']){var {cellId:K,codeId:L}=this['domAPI']['getCellDataProps']();if(K&&J['type']===A['y']['SIMPLE_TABLE']){var M=this['getTableCells'](J),N=[['']];return M['forEach'](O=>{var P=O['column']['find'](Q=>Q['id']===K);P&&(N=w()(P,'attributes.title')||[['']]);}),q()(N);}if(!I&&L&&J['type']===A['y']['CODE']){if(Array['isArray'](w()(J,['attributes','caption',0x0])))return q()(w()(J,['attributes','caption']));}else{if(Array['isArray'](w()(J,['attributes','title',0x0])))return q()(w()(J,['attributes','title']));}}return[['']];},this['getTableCells']=(H,I)=>{var J=w()(H,['attributes','cells']),K=[];return J&&('string'==typeof J?((K=(K=JSON['parse'](J))['filter'](L=>Boolean(L)))['forEach'](L=>L['column']=L['column']['filter'](M=>Boolean(M))),y()(H,['attributes','cells'],K)):K=J),I?q()(K):K;},this['getTableFirstCellId']=H=>{var I=this['getTableCells'](H);return w()(I,'[0].column[0].id');},this['getCellNodeTitle']=(H,I)=>{var J=this['dataStore']['getBlockValue'](H);if(J['id']){var K=this['getTableCells'](J),L=[['']];return K['some'](M=>{var N=M['column']['find'](O=>O['id']===I);return!!N&&(L=w()(N,'attributes.title')||[['']],!0x0);}),q()(L);}return[['']];},this['getCellNodeSetting']=(H,I)=>{var J=this['dataStore']['getBlockValue'](H);if(J['id']){var K=this['getTableCells'](J),L={};return K['some'](M=>{var N=M['column']['find'](O=>O['id']===I);return!!N&&(L=w()(N,'setting')||{},!0x0);}),L;}return{};},this['getCellNodeAttributes']=(H,I)=>{var J=this['dataStore']['getBlockValue'](H);if(J['id']){var K=this['getTableCells'](J),L={};return K['some'](M=>{var N=M['column']['find'](O=>O['id']===I);return!!N&&(L=w()(N,'attributes')||{},!0x0);}),L;}return{};},this['getLastCellData']=(H,I)=>{var J=this['dataStore']['getBlockValue'](H);if(J['id']){var K=this['getTableCells'](J);if(!K['length'])return[['']];var L=K[K['length']-0x1]['column'];return w()(L[L['length']-0x1],I)||[['']];}return[['']];},this['getCellPlainTextById']=(H,I)=>{var J=this['getCellNodeTitle'](H,I);return this['getTitlePlainTextByTitle'](J);},this['getCellTitleByDomId']=(H,I)=>{var J=this['getNodeContentDom']([H,I]),K=this['getCellNodeTitle'](H,I);return this['handleTitleFromDom'](J,K);},this['rearrangeNodeTitle']=H=>{H=this['filterTitle'](H);for(var I=[],J=0x0;J<H['length'];J++)if(J<H['length']-0x1){var K=[];for(K[0x0]=H[J][0x0],H[J][0x1]&&H[J][0x1]['length']&&(K[0x1]=H[J][0x1]);J<H['length']-0x1&&this['isTitleEqual'](K[0x1],H[J+0x1][0x1]);)K[0x0]+=H[J+0x1][0x0],J+=0x1;I['push'](K);}else I['push'](H[J]);var L=I[I['length']-0x1][0x0]['replace'](/↵/g,'\x0a'),M=L['length'];return 0x1===I['length']&&'\x0a'===L?I=[['']]:'\x0a'===L?I['pop']():'\x0a'===L[M-0x1]&&'\x0a'!==L[M-0x2]&&(I[I['length']-0x1][0x0]=L['substr'](0x0,L['length']-0x1)),I;},this['getTitlePlainTextById']=function(H){var I=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],J=G['getNodeTitle'](H);return G['getTitlePlainTextByTitle'](J,I);},this['getTitlePlainTextByTitle']=function(H){var I=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],J='';return H||(H=[['']]),H['forEach'](K=>{var L=K[0x0]||'',M=K[0x1]||[],N=M['findIndex'](P=>'BiLink'===P[0x0]),O=M['findIndex'](P=>['Metion','Equation','Mention','Note','Footnote']['includes'](P[0x0]));N>=0x0&&I&&(L='\x20'),O>=0x0&&I&&(L='\x20'),J+=L;}),J;},this['getTitleDiscussIds']=function(){var H=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[['']],I=new Set();return H['forEach'](J=>{if(J['length']>0x1){var K=J[0x1];K&&Array['isArray'](K)&&K['forEach'](L=>{L[0x0]&&'comment'===L[0x0]['toLowerCase']()&&I['add'](L[0x2]);});}}),Array['from'](I);},this['getTitleCursorOffsetById']=H=>{var I=w()(this['dataStore']['blocks'][H],'value.attributes.title')||[['']];return this['getTitleCursorOffsetByTitle'](I);},this['getCodeCaptionCursorOffsetById']=H=>{var I=w()(this['dataStore']['blocks'][H],'value.attributes.caption')||[['']];return this['getTitleCursorOffsetByTitle'](I);},this['getCaptionById']=H=>w()(this['dataStore']['blocks'][H],'value.attributes.caption')||[['']],this['getCellTitleCursorOffsetById']=(H,I)=>{var J=this['getCellNodeTitle'](H,I);return this['getTitleCursorOffsetByTitle'](J);},this['getTitleCursorOffsetByTitle']=function(){var H=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[['']],I=arguments['length']>0x1?arguments[0x1]:void 0x0,J=arguments['length']>0x2?arguments[0x2]:void 0x0,K=0x0;return I=void 0x0===I?0x0:I,J=void 0x0===J?H['length']:J,H['forEach']((L,M)=>{if(M>=I&&M<J){if(L[0x1]&&L[0x1]['find'](O=>A['r']['includes'](O[0x0])))K+=0x1;else{var N=L[0x0]||'';K+=N['length'];}}}),K;},this['sliceTitle']=(H,I,J)=>{var K;void 0x0===J&&(J=I),K='string'==typeof H?this['getNodeTitle'](H):H;var {index:L,offset:M}=this['getTitlePositionByOffset'](H,I),{index:N,offset:O}=this['getTitlePositionByOffset'](H,J),P=[],Q=L!==N||M!==O?[]:null,R=[],S=T=>T&&T[0x1]&&T[0x1]['find'](U=>A['r']['includes'](U[0x0]));return K['forEach']((T,U)=>{if(U<L)P['push'](T);else{if(U===L){if(S(T))M>0x0?P['push'](JSON['parse'](JSON['stringify'](T))):0x0===M&&Q&&Q['push'](JSON['parse'](JSON['stringify'](T)));else{var V=JSON['parse'](JSON['stringify'](T)),W=JSON['parse'](JSON['stringify'](T));V[0x0]=T[0x0]['substr'](0x0,M),V[0x0]&&P['push'](V),Q&&(W[0x0]=L===N?T[0x0]['substring'](M,O):T[0x0]['substr'](M),W[0x0]&&Q['push'](W));}}}}),K['forEach']((T,U)=>{U>L&&U<N&&Q&&Q['push'](JSON['parse'](JSON['stringify'](T)));}),K['forEach']((T,U)=>{if(U===N){if(S(T))0x0===O&&R['push'](JSON['parse'](JSON['stringify'](T))),L!==N&&0x1===O&&Q&&Q['push'](JSON['parse'](JSON['stringify'](T)));else{var V=JSON['parse'](JSON['stringify'](T)),W=JSON['parse'](JSON['stringify'](T));Q&&L!==N&&(V[0x0]=T[0x0]['substr'](0x0,O),V[0x0]&&Q['push'](V)),W[0x0]=T[0x0]['substr'](O),W[0x0]&&R['push'](W);}}else U>N&&R['push'](T);}),[P,Q,R];},this['getTitleByDomId']=H=>{var I=this['getNodeContentDom'](H),J=this['getNodeTitle'](H);return this['handleTitleFromDom'](I,J);},this['getCaptionByDomId']=H=>{var I=this['getCodeCaptionContentDom'](H),J=this['getCaptionById'](H);return this['handleTitleFromDom'](I,J);},this['handleTitleFromDom']=(H,I)=>{for(var J=[],K=0x0;K<H['childNodes']['length'];K++){var L=H['childNodes'][K];if(L['nodeType']===Node['TEXT_NODE'])J['push']([L['nodeValue']]);else{if('BR'!==L['nodeName']){var M=[L];'DIV'===L['nodeName']&&(M=L['childNodes']);for(var N=0x0;N<M['length'];N++){var O=M[N],P=this['domAPI']['getTitleIndexByElement'](O),Q=JSON['parse'](JSON['stringify'](I[P]||['']));if(!Q[0x1]||!Q[0x1]['find'](T=>A['s']['includes'](T[0x0]))){var R='';if(O['nodeType']===Node['TEXT_NODE'])R=O['nodeValue'];else{for(var S=0x0;S<O['childNodes']['length'];S++)this['domAPI']['hasClass'](O['childNodes'][S],'emoji-node')?R+=O['childNodes'][S]['alt']:R+=O['childNodes'][S]['nodeValue']||O['childNodes'][S]['innerText'];}R?Q[0x0]=R:Q=[R];}J['push'](Q);}}}}return J['length']||J['push'](['']),this['rearrangeNodeTitle'](J);},this['getIconFromHeaderBlock']=H=>this['dataStore']['getBlockProperty'](H,'setting.page_icon')||'',this['getNodeProperty']=function(H,I){var J=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:{},{valueRoot:K=!0x1}=J,L=G['dataStore']['getBlockValue'](H),M=[I];if(K||M['unshift']('attributes'),L['id']){if('toggled'===I){var N=B['a'](A['uc']),O=N&&Array['isArray'](N)?N:[],P=O['find'](R=>R['id']===H);Array['isArray'](N)||B['c'](A['uc'],[]);var Q=P&&P['toggled']||'no';return Q;}return w()(L,M)||'';}return'';},this['changeToggleProperty']=(H,I)=>{var J=B['a'](A['uc']),K=J&&Array['isArray'](J)?J:[],L=K['findIndex'](O=>O['id']===H),M=L>-0x1?K[L]['toggled']:'no';if(M=I||('yes'===M?'no':'yes'),L>-0x1)K[L]['toggled']=M;else{var N={'id':H,'toggled':M};K['length']>0x3e8&&K['shift'](),K['push'](N);}B['c'](A['uc'],K);},this['updateDatabaseView']=(H,I)=>{var J=B['a'](A['Lb']),K=J&&Array['isArray'](J)?J:[],L=K['findIndex'](N=>N['id']===H);if(L>-0x1)K[L]['viewId']=I;else{var M={'id':H,'viewId':I};K['length']>0x3e8&&K['shift'](),K['push'](M);}B['c'](A['Lb'],K);},this['getDatabaseViewId']=H=>{var I=B['a'](A['Lb']),J=(I&&Array['isArray'](I)?I:[])['find'](K=>K['id']===H);return Array['isArray'](I)||B['c'](A['Lb'],[]),J&&J['viewId']||'';},this['findContents']=H=>this['dataStore']['getBlockProperty'](H,'sub_nodes')||[],this['getNodeContentDom']=(H,I)=>{var J,K=this['blockStore']['pageId'];if(Array['isArray'](H)){var L=H['map'](M=>'#id-'['concat'](M))['join']('\x20');J=document['querySelectorAll']('#screen-'['concat'](this['screenStore']['screenId'],'\x20#editorRoot\x20')['concat'](L,'\x20.content-editable'));}else J=H!==K?document['querySelectorAll']('#screen-'['concat'](this['screenStore']['screenId'],'\x20#editorRoot\x20#id-')['concat'](H,'>[contenteditable]')):document['querySelectorAll']('#screen-'['concat'](this['screenStore']['screenId'],'\x20#editorRoot\x20#id-')['concat'](H));return J&&J['length']&&J[J['length']-0x1]||(I?null:document['createElement']('span'));},this['getMarqueeNodeContentDom']=(H,I)=>{var J=document['querySelectorAll']('#screen-'['concat'](this['screenStore']['screenId'],'\x20#editorRoot\x20#id-')['concat'](H,'\x20[contenteditable]'));return J&&J['length']&&J[J['length']-0x1]||(I?null:document['createElement']('span'));},this['getCodeCaptionContentDom']=(H,I)=>document['querySelector']('#screen-'['concat'](this['screenStore']['screenId'],'\x20#id-caption-')['concat'](H,'\x20[contenteditable]'))||(I?null:document['createElement']('span')),this['isTitleEqual']=function(){var H=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],I=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[];if(H['length']!==I['length'])return!0x1;if(H['find'](M=>A['r']['includes'](M[0x0]))||I['find'](M=>A['r']['includes'](M[0x0])))return!0x1;H['sort'](),I['sort']();for(var J=0x0;J<H['length'];J++){var K=H[J],L=I[J];if(JSON['stringify'](K)!==JSON['stringify'](L))return!0x1;}return!0x0;},this['concatNodeTitle']=(H,I)=>this['rearrangeNodeTitle'](H['concat'](I)),this['isFirtNodeWithoutTemplateButton']=(H,I)=>{var J=0x0;return I['forEach'](K=>{if(0x0===J){var L=this['dataStore']['getBlockValue'](K);L['type']!==A['y']['TEMPLATE_BUTTON']&&(J=L['id']===H?0x1:0x2);}}),0x1===J;},this['isFirstNode']=(H,I)=>{var J=this['dataStore']['getBlockValue'](H),K=this['dataStore']['getBlockValue'](this['blockStore']['pageId']),L=this['dataStore']['getBlockValue'](J['parent_id']);return'column'===L['type']?I?this['isFirtNodeWithoutTemplateButton'](H,L['sub_nodes']):0x0===L['sub_nodes']['indexOf'](H):!(!J['id']||!K['id'])&&(I?this['isFirtNodeWithoutTemplateButton'](H,K['sub_nodes']):0x0===K['sub_nodes']['indexOf'](H));},this['subordinateFrom']=(H,I)=>{var J=this['dataStore']['getBlockProperty'](H,'sub_nodes')||[];return J['includes'](I)||J['some'](K=>(this['dataStore']['getBlockProperty'](K,'sub_nodes')||[])['includes'](I)||this['subordinateFrom'](K,I));},this['findSingleRowId']=()=>{for(var {sub_nodes:H=[]}=this['dataStore']['getBlockValue'](this['blockStore']['pageId']),I=0x0;I<H['length'];I++){var J=this['dataStore']['getBlockValue'](H[I]);if(J['id']&&('row'===J['type']&&J['sub_nodes']['length']<=0x1))return J['id'];}return'';},this['findDistanceBetweenNodeId']=(H,I)=>{if(H===I)return 0x0;for(var J=0x1,K=this['dataStore']['getBlockValue'](H);K['id']&&K['parent_id']!==I;)K=this['dataStore']['getBlockValue'](K['parent_id']),J+=0x1;return K['id']?J:-0x1;},this['findAllChildrenNodes']=function(H){var I=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[];return'string'==typeof H?G['findAllChildrenNodes']([H],I):(Array['isArray'](H)&&H['forEach'](J=>{var {type:K,sub_nodes:L=[]}=G['dataStore']['getBlockValue'](J);if(J&&!I['includes'](J)){if(K===A['y']['DATABASE']){var M=G['databaseViewStore']['getDataView'](J);M&&M['page_sort']&&M['page_sort']['length']&&I['push'](...M['page_sort']);}A['vb']['includes'](K)||I['push'](J),L['length']&&K!==A['y']['PAGE']&&L['forEach'](N=>{G['findAllChildrenNodes']([N],I);});}}),I||[]);},this['getContentAttributes']=H=>{var I={};return['title','img','source','embedLink','rich_media','bucket','dimensions','original','alias','file','size','language','lineBreak','ligatures','line_number','cells','tableHeader','caption','video','audio','align','progress','associationMode','hiddenNumber','border','marquee','cellAlign','previewFormat']['forEach'](J=>{void 0x0!==H[J]&&(I[J]=H[J]);}),I;},this['getAttribute']=(H,I,J)=>{for(var K=H[I],L=0x0;L<J;L++)Array['isArray'](K)&&(K=K['length']>0x0&&K[0x0]);return K;},this['isImage']=H=>A['y']['IMAGE']===this['dataStore']['getBlockProperty'](H,'type'),this['hasImageUrl']=H=>{var I=this['dataStore']['getBlockProperty'](H,'attributes')||{},J=this['getAttribute'](I,'source',0x1),K=this['getAttribute'](I,'img',0x2),L=this['getAttribute'](I,'bucket',0x2);return J||K&&L;},this['getNextEditableId']=(H,I)=>{var J,K='next'===I?0x1:-0x1,L=this['screenStore']['nodeIdList'],M=L['indexOf'](H);if(H===this['blockStore']['pageId']&&'next'===I)return L[0x0];if(0x0===M&&'prev'===I)return this['blockStore']['pageId'];for(;M>=0x0&&M<L['length'];){var N=M+K,O=L[N];if(O){var {type:P}=w()(this['dataStore']['blocks'][O],'value')||{};if(A['K']['includes'](P)&&!this['getTitlePlainTextByTitle'](this['getNodeTitle'](O))){M=N;continue;}J=O;}break;}return J;},this['findAllSubPageNode']=function(H){var I=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[],{id:J,sub_nodes:K=[]}=G['dataStore']['getBlockValue'](H);return J&&K['length']?K['reduce']((L,M)=>{var N=G['dataStore']['getBlockValue'](M);return N['active']&&[A['y']['PAGE'],A['y']['DATABASE']]['includes'](N['type'])?[...L,M,...G['findAllSubPageNode'](M)]:L;},I):I;};}['getTitlePositionByOffset'](G,H){var I,J,K=[['']];K='string'==typeof G?this['getNodeTitle'](G):G;for(var L=0x0;L<K['length'];L++){var M=K[L];if(M[0x1]&&M[0x1]['find'](N=>A['s']['includes'](N[0x0]))){if(0x0===H){I=L,J=0x0;break;}if(0x0===(H-=0x1)){I=L<K['length']-0x1?L+0x1:L,J=L<K['length']-0x1?0x0:0x1;break;}}else H-=M[0x0]['length'];if(H<=0x0){I=L,J=M[0x0]['length']+H;break;}}return{'index':I,'offset':J};}['getCoverFromHeaderBlock'](G){return this['dataStore']['getBlockProperty'](G,'setting.page_cover')||'';}['getCoverPositionFromHeaderBlock'](G){return this['dataStore']['getBlockProperty'](G,'setting.page_cover_position')||0x0;}}E([z['b']],F['prototype'],'blockStore',0x2),E([z['b']],F['prototype'],'screenStore',0x2),E([z['b']],F['prototype'],'dataStore',0x2),E([z['b']],F['prototype'],'domAPI',0x2),E([z['b']],F['prototype'],'spaceStore',0x2),E([z['b']],F['prototype'],'pageStore',0x2),E([z['b']],F['prototype'],'databaseViewStore',0x2),j['a']=F;},'nMYx':function(b,f,g){'use strict';g['d'](f,'a',function(){return q;});var h=g('xFgN'),j=g('Barg'),k=g('RG8n'),l=g('OIS1'),m=g('9rbq'),p=g('9RiG');class q{constructor(){this['connected']=!0x1,this['callbacks']=new j['a'](this),this['channels']=new Map(),q['realtimeSessionId']=Object(l['b'])();}['start'](){var u=''['concat'](h['a'],'?ver=')['concat'](k['a'],'&realtimeSessionId=')['concat'](q['realtimeSessionId']);this['primus']=p(u,{'manual':!0x0,'reconnect':{'min':0x1f4,'max':0x7d0,'retries':0x1/0x0}}),this['primus']['on']('open',()=>{this['connected']=!0x0,this['callbacks']['consumeOnConnected']();}),this['primus']['on']('data',v=>{this['onMessage'](v);}),this['primus']['on']('reconnect',()=>{this['resubscribePrevChannels']();}),this['primus']['open']();}['dispose'](){this['connected']=!0x1,this['callbacks']['clear'](),this['primus']&&this['primus']['destroy'](),this['primus']=null;}['send'](u){this['primus']['write'](u);}['onMessage'](u){var v,w;switch(u['type']){case'confirm_subscription':var x=u['payload']['channel'];return void(null==(v=this['channels']['get'](x))||v['emitSubscribed']());case'broadcast':var y=u['payload']['channel'];return void(null==(w=this['channels']['get'](y))||w['emitData'](u['payload']['data']));default:console['warn']('REALTIME:\x20unrecognized\x20msg:\x20',u);}}['waitTillConnected'](u){m['gb']||this['callbacks']['registerOnConnected'](u);}['unsubscribeChannels'](u){this['channels']['forEach']((v,w,x)=>{v instanceof u&&(v['unsubscribe'](),x['delete'](w));});}['resubscribePrevChannels'](){this['channels']['forEach']((u,v,w)=>{u['subscribe']();});}}},'o08p':function(b,d,f){'use strict';var g=f('TdTt'),h=f('odc3'),j=f('7L2d'),k=f('3rJR'),l=f('SM6B'),m={'DateFunctionPlugin':g['a'],'MathFunctionPlugin':h['a'],'LogicFunctionPlugin':j['a'],'TextFunctionPlugin':k['a'],'OperatorFunctionPlugin':l['a']};d['a']=m;},'o6JS':function(b,c,d){'use strict';d['d'](c,'c',function(){return h;}),d['d'](c,'a',function(){return j;}),d['d'](c,'b',function(){return k;});var f=d('5D19'),g=(l,m,p)=>new Promise((q,u)=>{var v=y=>{try{x(p['next'](y));}catch(z){u(z);}},w=y=>{try{x(p['throw'](y));}catch(z){u(z);}},x=y=>y['done']?q(y['value']):Promise['resolve'](y['value'])['then'](v,w);x((p=p['apply'](l,m))['next']());}),h=(l,m)=>g(void 0x0,null,function*(){return yield Object(f['n'])(Object(f['p'])('workspace/redeemProPlan'),{'redeemType':l,'workspaceId':m},f['h'],!0x0);}),j=()=>g(void 0x0,null,function*(){return yield Object(f['i'])(Object(f['p'])('workspace/getCreditIncomeAndBalance'),f['h'],!0x0);}),k=l=>g(void 0x0,null,function*(){return yield Object(f['n'])(Object(f['p'])('workspace/getPlanForWorkspace'),{'workspaceId':l},f['h']);});},'oJnK':function(a,b,c){a['exports']={'pageLoading':'_22LU8'};},'oSi7':function(J,Q,X){'use strict';var Z=X('odX6'),a0=X('bXzw'),a1=X('/P4t'),a2=X('8IDf'),a3=X('mBFf'),a4=X('pbHi'),a5=X('5fcL'),a6=X('rtYl'),a7=X('VsP/'),a8=X('tLNE'),a9=X('Bi12'),aa=X('ifmF'),ab=X('0nhg'),ac=X('SVXG'),ad=X('Rl4f'),ae=X('McM7'),af=X('Qm5M'),ag=X('hK2u'),ah=X('8ebD'),ai=X('NMrn'),aj=X('vXTk'),ak=X('KV4A'),al=X('Airr'),am=X('6VSi'),an=X('3G1M'),ao=X('zBCj'),ap=X('NaIb'),aq=X('hi9k'),ar=X('4Ccx'),as=X('iXue'),at=X('C2Y3'),au=X('p3xe'),av=X('Nkp2'),aw=X('GmfF'),ax=X('WAfk'),ay=X('xWF0'),az=X('BcyR'),aA=X('b/CI'),aB=X('fAci'),aC=X('Gc0+'),aD=X('8JmA'),aE=(X('eNwR'),Object['defineProperty']),aF=Object['getOwnPropertySymbols'],aG=Object['prototype']['hasOwnProperty'],aH=Object['prototype']['propertyIsEnumerable'],aI=(aJ,aK,aL)=>aK in aJ?aE(aJ,aK,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aL}):aJ[aK]=aL;Q['a']=Object(a0['a'])(class{constructor(){this['dataStore']=ac['a']['getInstance'](),this['routerStore']=a1['a']['getInstance'](),this['workspaceStore']=a2['a']['getInstance'](),this['userStore']=a3['a']['getInstance'](),this['pageStore']=a5['a']['getInstance'](),this['blockStore']=a6['a']['getInstance'](),this['spaceStore']=a4['a']['getInstance'](),this['editorStore']=a7['a']['getInstance'](),this['editorUI']=a8['a']['getInstance'](),this['drag']=a9['a']['getInstance'](),this['biLinkStore']=aa['a']['getInstance'](),this['clipboardStore']=ab['a']['getInstance'](),this['noticeStore']=ai['a']['getInstance'](),this['notificationStore']=ad['a']['getInstance'](),this['previewStore']=ae['a']['getInstance'](),this['screenStore']=af['a']['getInstance'](),this['pageHistoryStore']=ag['a']['getInstance'](),this['updatesStore']=am['a']['getInstance'](),this['popperStore']=ah['a']['getInstance'](),this['discussPopperStore']=ao['b']['getInstance'](),this['invitationStore']=aj['a']['getInstance'](),this['memberSearchStore']=ak['a']['getInstance'](),this['pageActionCheckStore']=av['a']['getInstance'](),this['memberStore']=al['a']['getInstance'](),this['mobileUIStore']=an['a']['getInstance'](),this['groupStore']=ap['a']['getInstance'](),this['publicUserStore']=aq['a']['getInstance'](),this['questStore']=ar['a']['getInstance'](),this['guestMemberStore']=as['a']['getInstance'](),this['featureFlag']=at['a']['getInstance'](),this['databaseViewStore']=au['a']['getInstance'](),this['templateStore']=aw['a']['getInstance'](),this['dingtalkStore']=ax['a']['getInstance'](),this['notePopperStore']=ay['a']['getInstance'](),this['toolbarStore']=az['a']['getInstance'](),this['cursorStore']=aA['a']['getInstance'](),this['websocketStore']=aB['a']['getInstance'](),this['wemeetStore']=aC['a']['getInstance'](),this['windowStore']=aD['b']['getInstance']();var aJ={'dataStore':this['dataStore'],'routerStore':this['routerStore'],'workspaceStore':this['workspaceStore'],'userStore':this['userStore'],'pageStore':this['pageStore'],'pageHistoryStore':this['pageHistoryStore'],'updatesStore':this['updatesStore'],'blockStore':this['blockStore'],'spaceStore':this['spaceStore'],'editorStore':this['editorStore'],'editorUI':this['editorUI'],'drag':this['drag'],'biLinkStore':this['biLinkStore'],'clipboardStore':this['clipboardStore'],'noticeStore':this['noticeStore'],'notificationStore':this['notificationStore'],'previewStore':this['previewStore'],'screenStore':this['screenStore'],'popperStore':this['popperStore'],'discussPopperStore':this['discussPopperStore'],'pageActionCheckStore':this['pageActionCheckStore'],'invitationStore':this['invitationStore'],'memberSearchStore':this['memberSearchStore'],'memberStore':this['memberStore'],'mobileUIStore':this['mobileUIStore'],'groupStore':this['groupStore'],'publicUserStore':this['publicUserStore'],'questStore':this['questStore'],'guestMemberStore':this['guestMemberStore'],'featureFlag':this['featureFlag'],'databaseViewStore':this['databaseViewStore'],'templateStore':this['templateStore'],'dingtalkStore':this['dingtalkStore'],'notePopperStore':this['notePopperStore'],'toolbarStore':this['toolbarStore'],'cursorStore':this['cursorStore'],'websocketStore':this['websocketStore'],'wemeetStore':this['wemeetStore'],'windowStore':this['windowStore']};Object(Z['d'])(((aK,aL)=>{for(var aM in aL||(aL={}))aG['call'](aL,aM)&&aI(aK,aM,aL[aM]);if(aF){for(var aM of aF(aL))aH['call'](aL,aM)&&aI(aK,aM,aL[aM]);}return aK;})({'rootStore':aJ},aJ));}});},'oX3D':function(b,c,d){'use strict';var f=d('f9x4'),g=d('llz1'),h=class{static['validate'](k,l,m){var p=h['actuators'][l];return p||console['error']('未实现媒体类型'['concat'](l,'操作符')),p(k,m);}static['convert'](k,l,m){if(h['actuators'][l]||console['error']('未实现媒体类型'['concat'](l,'操作符')),!h['validate'](k,l,m)){var p=h['convertors'][l];p||console['error']('未实现媒体类型\x20'['concat'](l,'\x20转换')),p(k,m);}}},j=h;j['operators']=[f['k']['Empty'],f['k']['NotEmpty']],j['actuators']={[f['k']['Empty']]:k=>0x0===k['size'],[f['k']['NotEmpty']]:k=>0x0!==k['size']},j['convertors']={[f['k']['Empty']]:k=>{k['clear']();},[f['k']['NotEmpty']]:()=>{}},g['a']['registerValidator'](f['p']['File'],j);},'oYhM':function(b,c,d){'use strict';var f=d('Texg'),g=d('bXzw'),h=d('wxQR');c['a']=Object(g['a'])(class{['config'](j){var {version:k}=j;void 0x0!==k&&(this['version']=k||0x1);}['init'](){var j=new f['a'](h['o']);j['version'](this['version'])['stores']({[h['i']]:'++,\x20groupId,\x20userId,\x20&id,\x20createTime',[h['b']]:'++,\x20groupId,\x20userId,\x20&id,\x20createTime'}),this['db']=j[h['i']],this['errorDb']=j[h['b']];}['exportErrorData'](){return j=this,k=null,l=function*(){var m=yield this['errorDb']['toArray']();throw new Error(JSON['stringify'](m));},new Promise((m,p)=>{var q=w=>{try{v(l['next'](w));}catch(x){p(x);}},u=w=>{try{v(l['throw'](w));}catch(x){p(x);}},v=w=>w['done']?m(w['value']):Promise['resolve'](w['value'])['then'](q,u);v((l=l['apply'](j,k))['next']());});var j,k,l;}});},'odX6':function(b,d,f){'use strict';f['d'](d,'d',function(){return j;}),f['d'](d,'c',function(){return k;}),f['d'](d,'b',function(){return l;}),f['d'](d,'a',function(){return m;});var g={},h={},j=p=>{Object['assign'](g,p);},k=(p,q)=>{Object['assign'](h,{[p]:q});},l=function(){for(var p=arguments['length'],q=new Array(p),u=0x0;u<p;u++)q[u]=arguments[u];if(0x1===q['length'])return g[q[0x0]];var v=q[0x0],w=q[0x1],x=()=>g[w];Object['defineProperty'](v,w,{'get':x});},m=function(){for(var p=arguments['length'],q=new Array(p),u=0x0;u<p;u++)q[u]=arguments[u];if(0x1===q['length'])return h[q[0x0]];var v=q[0x0],w=q[0x1],x=()=>h[w];Object['defineProperty'](v,w,{'get':x});};},'odc3':function(j,k,q){'use strict';q['d'](k,'a',function(){return J;});var v=q('mRsi'),w=q['n'](v),x=q('tLB3'),y=q['n'](x),z=q('PtqM'),A=q['n'](z),B=q('UB5X'),C=q['n'](B),D=q('tpxX'),E=q['n'](D),F=q('Iksc'),G=q('M9XF'),H=q('mkDC'),I=q('C8q+');class J extends G['a']{constructor(){super(...arguments),this['ceiling']=function(K){var L=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x1,M=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x1;if(A()(K)||A()(K)||A()(K))return K;if(K=y()(K),L=y()(L),M=y()(M),0x0===L)return 0x0;L=Math['abs'](L);var N=-Math['floor'](Math['log'](L)/Math['log'](0xa));return K>=0x0?E()(Math['ceil'](K/L)*L,N):0x0===M?-E()(Math['floor'](Math['abs'](K)/L)*L,N):-E()(Math['ceil'](Math['abs'](K)/L)*L,N);};}['sum'](){for(var K=arguments['length'],L=new Array(K),M=0x0;M<K;M++)L[M]=arguments[M];var N=w()(L),O=(N=N['filter'](P=>!A()(P)))['reduce']((P,Q)=>{var R=y()(Q);return Number['isNaN'](R)||(P=P['plus'](R)),P;},new F['a'](0x0));return Number(O['valueOf']());}['average'](){for(var K=arguments['length'],L=new Array(K),M=0x0;M<K;M++)L[M]=arguments[M];var N=w()(L);if(0x0===(N=N['filter'](R=>null!=R))['length'])return I['b']['DIV0'];var O=N['find'](R=>A()(R));if(O)return O;var P=N['filter'](R=>C()(R)),Q=P['reduce']((R,S)=>R=R['plus'](S),new F['a'](0x0))['div'](P['length']);return Number(Q['valueOf']());}['max'](){for(var K=arguments['length'],L=new Array(K),M=0x0;M<K;M++)L[M]=arguments[M];var N=w()(L),O=N['find'](Q=>A()(Q));if(O)return O;var P=N['filter'](Q=>C()(Q));return 0x0===P['length']?0x0:Math['max'](...P);}['min'](){for(var K=arguments['length'],L=new Array(K),M=0x0;M<K;M++)L[M]=arguments[M];var N=w()(L),O=N['find'](Q=>A()(Q));if(O)return O;var P=N['filter'](Q=>C()(Q));return 0x0===P['length']?0x0:Math['min'](...P);}['round'](K,L){if(A()(K)||A()(L))return I['b']['VALUE'];var M=Math['pow'](0xa,y()(L||0x0)),N=y()(K),O=[L,K]['find'](P=>A()(P));return O||Math['round'](N*M)/M;}['ceil'](K){return A()(K)?K:Math['ceil'](y()(K));}['floor'](K){return A()(K)?K:Math['floor'](y()(K));}['abs'](K){return A()(K)?K:Math['abs'](y()(K));}['sqrt'](K){if(A()(K))return K;var L=y()(K);if(!Number['isNaN'](L)){var M=new F['a'](L);return Number(M['sqrt']()['valueOf']());}return Math['sqrt'](L);}['cbrt'](K){return A()(K)?K:Math['cbrt'](y()(K));}['even'](K){if(A()(K))return K;var L=Math['ceil'](Math['abs'](y()(K)));return L=0x1&L?L+0x1:L,K>=0x0?L:-L;}['odd'](K){if(A()(K))return K;var L=Math['ceil'](Math['abs'](y()(K)));return L=0x1&L?L:L+0x1,K>=0x0?L:-L;}['sign'](K){return A()(K)?K:Math['sign'](y()(K));}['int'](K){return A()(K)?K:Math['floor'](y()(K));}['isNumber'](K){return C()(K);}['multiply'](K,L){var M=[K,L]['find'](R=>A()(R));if(M)return M;var N=y()(K),O=y()(L);if(Number['isNaN'](N)||Number['isNaN'](O))return N*O;var P=new F['a'](N),Q=new F['a'](O);return Number(P['mul'](Q)['valueOf']());}['mod'](K,L){var M=[K,L]['find'](R=>A()(R));if(M)return M;var N=y()(K),O=y()(L);if(0x0===O)return I['b']['DIV0'];if(Number['isNaN'](N)||Number['isNaN'](O))return N%O;var P=new F['a'](N),Q=new F['a'](O);return Number(P['mod'](Q)['valueOf']());}['divide'](K,L){var M=[K,L]['find'](R=>A()(R));if(M)return M;var N=y()(K),O=y()(L);if(0x0===O)return I['b']['DIV0'];if(Number['isNaN'](N)||Number['isNaN'](O))return N/O;var P=new F['a'](N),Q=new F['a'](O);return Number(P['div'](Q)['valueOf']());}['power'](K,L){var M=[K,L]['find'](S=>A()(S));if(M)return M;var N=y()(K),O=y()(L);if(0x0===N&&0x0===O)return I['b']['NUM'];if(Number['isNaN'](N)||Number['isNaN'](O))return I['b']['NUM'];var P=new F['a'](N),Q=new F['a'](O),R=Number(P['pow'](Q)['valueOf']());return Number['isNaN'](R)?I['b']['NUM']:R;}['exp'](K){if(A()(K))return K;var L=y()(K);if(Number['isNaN'](L))return I['b']['NUM'];var M=new F['a'](L);return Number(M['exp']()['valueOf']());}['log'](K){var L=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0xa,M=[K,L]['find'](R=>A()(R));if(M)return M;var N=y()(K),O=y()(L);if(0x0===N||0x0===O)return I['b']['NUM'];if(Number['isNaN'](N)||Number['isNaN'](O))return I['b']['NUM'];var P=new F['a'](N),Q=new F['a'](O);return Number(P['log'](Q)['valueOf']());}['ln'](K){if(A()(K))return K;var L=y()(K);if(0x0===L)return I['b']['NUM'];if(Number['isNaN'](L))return I['b']['NUM'];var M=new F['a'](L);return Number(M['ln']()['valueOf']());}['toNumber'](K){return A()(K)?K:y()(K);}}J['implementedFunctions']={'SUM':{'method':'sum','valueType':H['a']['Number'],'definition':'将多个数值相加求和','use':'SUM(number1,[number2],...)','useParams':'number…：参与运算的数值参数；可以输入数字、数字类型的字段。','example':()=>'SUM(5，10，15)\x0a=>\x205\x20+\x2010\x20+\x2015\x20=\x2030','parameters':[{'argumentType':[H['a']['Number']]}],'expandRanges':!0x0},'AVERAGE':{'method':'average','valueType':H['a']['Number'],'definition':'计算多个数值的算数平均值','use':'AVERAGE(number1,\x20[number2,\x20…])','useParams':'number…：参与运算的数值参数；可以输入数字、数字类型的字段。','example':()=>'AVERAGE(5，10，15)\x0a=>\x2010','parameters':[{'argumentType':[H['a']['Number']]}],'expandRanges':!0x0},'MAX':{'method':'max','valueType':H['a']['Number'],'definition':'计算多个数值中最大值','use':'MAX(number1,\x20[number2,\x20…])','useParams':'number…：参与运算的数值参数；可以输入数字、数字类型字段；','example':()=>'MAX(5，10，15)\x0a=>\x2015','parameters':[{'argumentType':[H['a']['Number']]}],'expandRanges':!0x0},'MIN':{'method':'min','valueType':H['a']['Number'],'definition':'计算多个数值中最小值','use':'MIN(number1,\x20[number2,\x20…])','useParams':'number…：参与运算的数值参数；可以输入数字、数字类型的字段。','example':()=>'MIN(5，10，15)\x0a=>\x205','parameters':[{'argumentType':[H['a']['Number']]}],'expandRanges':!0x0},'ROUND':{'method':'round','valueType':H['a']['Number'],'definition':'按照指定精度（小数位数）进行四舍五入','use':'ROUND(number，[precision])','useParams':'number：被运算值\x0aprecision：选填项，计算精度。默认为0\x0a如果\x20precision\x20>\x200\x20，则按照精度位数四舍五入；若精度大于原小数位数，则精度等于原小数位数\x0a如果\x20precision\x20=\x200\x20，则按照整数四舍五入\x0a如果\x20precision\x20<\x200\x20，不支持','example':()=>'ROUND(159.56)\x20=\x20160\x0aROUND(159.56,1)\x20=\x20159.6','parameters':[{'argumentType':[H['a']['Number']]},{'argumentType':[H['a']['Number']],'optionalArg':!0x0,'defaultValue':0x0}]},'CEIL':{'method':'ceil','valueType':H['a']['Number'],'definition':'返回\x20number\x20向上取整','use':'CEIL(number)','useParams':'number：被运算值','example':()=>'CEIL(2.5)=3\x20','parameters':[{'argumentType':[H['a']['Number']]}]},'FLOOR':{'method':'floor','valueType':H['a']['Number'],'definition':'返回\x20number\x20向下取整','use':'FLOOR(number)','useParmas':'number：被运算值','example':()=>'FLOOR(1.55)\x20=\x201','parameters':[{'argumentType':[H['a']['Number']]}]},'ABS':{'method':'abs','valueType':H['a']['Number'],'definition':'返回数值的绝对值','use':'ABS(number)','useParams':'number：被运算值','example':()=>'ABS(1.5)\x20=\x201.5\x0aABS(-1.5)\x20=\x201.5','parameters':[{'argumentType':[H['a']['Number']]}]},'SQRT':{'method':'sqrt','valueType':H['a']['Number'],'definition':'返回数值的算术平方根','use':'SQRT(number)','useParams':'number：被运算值','example':()=>'SQRT(144)\x20=\x2012','parameters':[{'argumentType':[H['a']['Number']]}]},'CBRT':{'method':'cbrt','valueType':H['a']['Number'],'definition':'返回数值的算术立方根','use':'CBRT(number)','useParams':'number：被运算值','example':()=>'CBRT(27)\x20=\x203','parameters':[{'argumentType':[H['a']['Number']]}]},'SIGN':{'method':'sign','valueType':H['a']['Number'],'definition':'返回指定数字的符号位，判断一个数字为正数(1)、负数(-1)或0','use':'SIGN(number)','useParams':'number：被运算值','example':()=>'SIGN(-1)\x20=\x20-1','parameters':[{'argumentType':[H['a']['Number']]}]},'EVEN':{'method':'even','valueType':H['a']['Number'],'definition':'返回大于等于给定数字的最小偶数','use':'EVEN(number)','useParams':'number：被运算值','example':()=>'EVEN(1)\x20=\x202','parameters':[{'argumentType':[H['a']['Number']]}]},'ODD':{'method':'odd','valueType':H['a']['Number'],'definition':'返回大于等于给定数字的最小奇数','use':'ODD(number)','useParams':'number：被运算值','example':()=>'ODD(2)\x20=\x203','parameters':[{'argumentType':[H['a']['Number']]}]},'INT':{'method':'int','valueType':H['a']['Number'],'definition':'返回小于或等于给定数字的最大整数','use':'INT(number)','useParams':'number：被运算值','example':()=>'INT(2.2)\x20=\x202','parameters':[{'argumentType':[H['a']['Number']]}]},'ISNUMBER':{'method':'isNumber','valueType':H['a']['Boolean'],'definition':'返回小于或等于给定数字的最大整数','use':'ISNUMBER(value)','useParams':'value：被运算值','example':()=>'isNumber(2.2)\x20=\x202','parameters':[{'argumentType':[H['a']['Number'],H['a']['Date'],H['a']['Boolean'],H['a']['String']]}]},'MOD':{'method':'mod','valueType':H['a']['Number'],'definition':'返回两数值相除的余数','use':'MOD(number1,\x20number2)','useParams':'number1：被除数\x0anumber2：除数，依据除数决定计算结果正负值以及数据精度','example':()=>'MOD(5,\x203)\x20=\x202\x0aMOD(5,\x20-3)\x20=\x20-2','parameters':[{'argumentType':[H['a']['Number']]},{'argumentType':[H['a']['Number']]}]},'DIVIDE':{'method':'divide','valueType':H['a']['Number'],'definition':'返回两数值相除的商','use':'divide(number1,\x20number2)','useParams':'number1：被除数\x0anumber2：除数','example':()=>'divide(6,\x203)\x20=\x202\x0adivide(6,\x20-3)\x20=\x20-2','parameters':[{'argumentType':[H['a']['Number']]},{'argumentType':[H['a']['Number']]}]},'MULTIPLY':{'method':'multiply','valueType':H['a']['Number'],'definition':'返回两数值相乘的积','use':'multiply(number1,\x20number2)','useParams':'number1：被运算值\x0anumber2：被运算值','example':()=>'multiply(3,\x203)\x20=\x209\x0amultiply(3,\x20-3)\x20=\x20-9','parameters':[{'argumentType':[H['a']['Number']]},{'argumentType':[H['a']['Number']]}]},'POWER':{'method':'power','valueType':H['a']['Number'],'definition':'返回数值的乘幂结果','use':'POWER(number，pow)','useParmas':'number：被运算数值\x0apow：乘幂运算的指数','example':()=>'POWER(2,\x2010)\x20=\x201024','parameters':[{'argumentType':[H['a']['Number']]},{'argumentType':[H['a']['Number']]}]},'EXP':{'method':'exp','valueType':H['a']['Number'],'definition':'返回自然常数e的乘幂结果','use':'EXP(power)','useParams':'power：乘幂运算的指数','example':()=>'EXP(1)\x20=\x202.718281828459045','parameters':[{'argumentType':[H['a']['Number']]}]},'LOG':{'method':'log','valueType':H['a']['Number'],'definition':'返回数值的对数','use':'LOG(number,[base])','useParams':'number：被运算数值\x0abase：可选值，底数；默认底数为10','example':()=>'LOG(1000)\x20=\x203\x0aLOG(1024，2)\x20=\x2010','parameters':[{'argumentType':[H['a']['Number']]}]},'LN':{'method':'ln','valueType':H['a']['Number'],'definition':'返回数值的自然对数','use':'LN(number)','useParams':'number：被运算数值','example':()=>'LN(2.7182818)\x20=\x201','parameters':[{'argumentType':[H['a']['Number']]}]},'TONUMBER':{'method':'toNumber','valueType':H['a']['Number'],'definition':'将文本转换为数值类型','use':'TONUMBER(text)','useParams':'text：进行数值类型转换的文本\x0a如果是布尔值，true=1，false=0','example':()=>'TONUMBER(\x2212345\x22)\x20\x20=\x2012345\x0aTONUMBER(\x22123.45\x22)\x20\x20=\x20123.45','parameters':[{'argumentType':[H['a']['String'],H['a']['Boolean'],H['a']['Date'],H['a']['Number']]}]}};},'orCK':function(j,k,q){'use strict';var v=q('Y+p1'),w=q['n'](v),x=q('V99J'),z=q['n'](x),A=q('CGOQ'),B=q['n'](A),C=q('8td1'),D=q['n'](C),E=q('52zT'),F=q['n'](E),G=q('vN+2'),H=q['n'](G),I=q('f9x4'),J=q('llz1'),K=class{static['validate'](M,N,O){var P=K['actuators'][N];return P||console['error']('未实现数字类型'['concat'](N,'操作符')),P(M,O);}static['convert'](M,N,O){if(K['actuators'][N]||console['error']('未实现数字类型'['concat'](N,'操作符')),!K['validate'](M,N,O)){var P=K['convertors'][N];P||console['error']('未实现数字类型\x20'['concat'](N,'\x20转换')),P(M,O);}}},L=K;L['operators']=[I['k']['Equal'],I['k']['NotEqual'],I['k']['Empty'],I['k']['NotEmpty'],I['k']['LessThan'],I['k']['LessOrEqual'],I['k']['GreaterThan'],I['k']['GreaterOrEqual']],L['actuators']={[I['k']['Equal']]:(M,N)=>{var {value:O}=M['values']()['next']();return!N||w()(O,N);},[I['k']['NotEqual']]:(M,N)=>{var {value:O}=M['values']()['next']();return!N||!w()(O,N);},[I['k']['LessThan']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O&&0x0!==O)&&(!N||B()(Number(O),Number(N)));},[I['k']['LessOrEqual']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O&&0x0!==O)&&(!N||z()(Number(O),Number(N)));},[I['k']['GreaterThan']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O&&0x0!==O)&&(!N||D()(Number(O),Number(N)));},[I['k']['GreaterOrEqual']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O&&0x0!==O)&&(!N||F()(Number(O),Number(N)));},[I['k']['Empty']]:M=>{var {value:N}=M['values']()['next']();return 0x0!==Number(N)&&!N;},[I['k']['NotEmpty']]:M=>{var {value:N}=M['values']()['next']();return 0x0===Number(N)||Boolean(N);}},L['convertors']={[I['k']['Equal']]:(M,N)=>{M['clear'](),M['add'](N);},[I['k']['NotEqual']]:()=>{},[I['k']['LessThan']]:(M,N)=>{M['clear'](),M['add'](''['concat'](Number(N)-0x1));},[I['k']['LessOrEqual']]:(M,N)=>{M['clear'](),M['add'](N);},[I['k']['GreaterThan']]:(M,N)=>{M['clear'](),M['add'](''['concat'](Number(N)+0x1));},[I['k']['GreaterOrEqual']]:(M,N)=>{M['clear'](),M['add'](N);},[I['k']['Empty']]:H['a'],[I['k']['NotEmpty']]:M=>{var {value:N}=M['values']()['next']();N||M['add']('0');}},J['a']['registerValidator'](I['p']['Number'],L);},'p3xe':function(j,q,w){'use strict';var x=w('2vnA'),z=w('odX6'),A=w('9rbq'),B=w('Uvkx'),C=w('R1Yf'),D=w('PWoD'),E=w('sA5H'),F=w('bXzw'),G=w('igaM'),H=Object['defineProperty'],J=Object['defineProperties'],K=Object['getOwnPropertyDescriptor'],L=Object['getOwnPropertyDescriptors'],M=Object['getOwnPropertySymbols'],N=Object['prototype']['hasOwnProperty'],O=Object['prototype']['propertyIsEnumerable'],P=(U,V,W)=>V in U?H(U,V,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':W}):U[V]=W,Q=(U,V)=>{for(var W in V||(V={}))N['call'](V,W)&&P(U,W,V[W]);if(M){for(var W of M(V))O['call'](V,W)&&P(U,W,V[W]);}return U;},R=(U,V,W,X)=>{for(var Y,Z=X>0x1?void 0x0:X?K(V,W):V,a0=U['length']-0x1;a0>=0x0;a0--)(Y=U[a0])&&(Z=(X?Y(V,W,Z):Y(Z))||Z);return X&&Z&&H(V,W,Z),Z;};class T{constructor(){this['getDatabase']=U=>{var V=this['dataStore']['getSourceId'](U);if(!this['databases']['has'](V)){var W=this['dataStore']['getBlockValue'](V);if(!(null==W?void 0x0:W['id']))return;var X=this['dataStore']['getDataTable'](W['database_id']);if(!X)return;var Y=new C['a'](X);this['dataSources']['set'](X['table_id'],Y),this['databases']['set'](V,new B['a'](V,Y));}return this['databases']['get'](V);},this['getDataView']=U=>{var V,W=this['dataStore']['getSourceId'](U);return null==(V=this['getDatabase'](W))?void 0x0:V['currentView'];},this['getBoardView']=U=>{var V,W=this['dataStore']['getSourceId'](U);return null==(V=this['getDatabase'](W))?void 0x0:V['currentView'];},this['getGalleryView']=U=>{var V,W=this['dataStore']['getSourceId'](U);return null==(V=this['getDatabase'](W))?void 0x0:V['currentView'];},this['getListView']=U=>{var V,W=this['dataStore']['getSourceId'](U);return null==(V=this['getDatabase'](W))?void 0x0:V['currentView'];},this['getTableView']=U=>{var V,W=this['dataStore']['getSourceId'](U);return null==(V=this['getDatabase'](W))?void 0x0:V['currentView'];},this['getFormView']=U=>{var V,W=this['dataStore']['getSourceId'](U);return null==(V=this['getDatabase'](W))?void 0x0:V['currentView'];},this['databases']=x['observable']['map'](),this['dataSources']=x['observable']['map'](),Object(G['a'])();}['fetchTemplatePages'](U){return V=this,W=null,X=function*(){var Y=this['dataStore']['getSourceId'](U),Z=this['databases']['get'](Y),a0=Z['table_id'],a1=yield Object(D['a'])(a0),a2=[],a3=[];if(a1['templates']['forEach'](a8=>{var a9=this['dataStore']['getBlockValue'](a8['block_id']);(null==a9?void 0x0:a9['id'])||a2['push']({'table':A['Db'],'id':a8['block_id']}),a3['push'](a8['block_id']);}),a2['length']>0x0){var a4=yield Object(E['v'])(a2);this['dataStore']['syncBlockData'](a4);}Z['changeTemplateLoaded'](!0x0),this['dataStore']['syncDataRows'](a0,a1['templates']);var a5,a6,a7=this['dataStore']['getDataTable'](a0);this['dataStore']['syncDataTables']({[a0]:(a5=Q({},a7),a6={'templates':a3},J(a5,L(a6)))});},new Promise((Y,Z)=>{var a0=a3=>{try{a2(X['next'](a3));}catch(a4){Z(a4);}},a1=a3=>{try{a2(X['throw'](a3));}catch(a4){Z(a4);}},a2=a3=>a3['done']?Y(a3['value']):Promise['resolve'](a3['value'])['then'](a0,a1);a2((X=X['apply'](V,W))['next']());});var V,W,X;}}R([z['b']],T['prototype'],'databaseStore',0x2),R([z['b']],T['prototype'],'dataStore',0x2),R([z['b']],T['prototype'],'blockAPI',0x2),R([x['observable']],T['prototype'],'databases',0x2),R([x['observable']],T['prototype'],'views',0x2),R([x['observable']],T['prototype'],'dataSources',0x2),q['a']=Object(F['a'])(T);},'paMO':function(j,k,q){'use strict';var w=q('OIS1'),x=q('yKWy'),z=q('IwaB'),A=q('Sml6'),B=q('30Mb'),C=q('BNZL'),D=q('/LkL'),E=q('ILMx'),F=q('hDSJ'),G=q('odX6'),H=q('23mu'),J=Object['defineProperty'],K=Object['getOwnPropertyDescriptor'],L=Object['getOwnPropertySymbols'],M=Object['prototype']['hasOwnProperty'],N=Object['prototype']['propertyIsEnumerable'],O=(R,T,U)=>T in R?J(R,T,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':U}):R[T]=U,P=(R,T,U,V)=>{for(var W,X=V>0x1?void 0x0:V?K(T,U):T,Y=R['length']-0x1;Y>=0x0;Y--)(W=R[Y])&&(X=(V?W(T,U,X):W(X))||X);return V&&X&&J(T,U,X),X;};class Q{constructor(){var R=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};this['id']=Object(w['b'])(),this['operations']=[],this['undoOperations']=[],this['history']=new H['a'](this['undoOperations']),this['memoryHistory']=[],this['memory']=[],this['page']=new x['a'](this['operations'],this),this['block']=new z['a'](this['operations'],this),this['database']=new E['a'](this['operations'],this),this['userProfile']=new A['a'](this['operations']),this['userWorkspace']=new B['a'](this['operations']),this['workspace']=new C['a'](this['operations']),this['reference']=new D['a'](this['operations']),this['createTime']=new Date()['getTime'](),this['editorUI']['selectedRootNode']&&this['editorUI']['selectedRootNode']['length']?this['selectedNodes']=[...this['editorUI']['selectedRootNode']]:this['cursor']=((T,U)=>{for(var V in U||(U={}))M['call'](U,V)&&O(T,V,U[V]);if(L){for(var V of L(U))N['call'](U,V)&&O(T,V,U[V]);}return T;})({},this['editorUI']['cursorPos']),this['options']=R;}['commit'](R){F['a']['commit'](this,R);}['getValue'](){return{'id':this['id'],'operations':this['operations']};}}P([G['b']],Q['prototype'],'domAPI',0x2),P([G['b']],Q['prototype'],'editorUI',0x2),P([G['b']],Q['prototype'],'blockStore',0x2),k['a']=Q;},'pbHi':function(q,z,F){'use strict';var G=F('sEfC'),H=F['n'](G),J=F('OFL0'),K=F['n'](J),Q=F('mwIZ'),U=F['n'](Q),V=F('2vnA'),W=F('uMVv'),X=F('Mucf'),Y=F('38Rj'),Z=F('9rbq'),a0=F('wAMK'),a1=F('hbLi'),a2=F('sA5H'),a3=F('uidj'),a4=F('OIS1'),a5=F('qX4z'),a6=F('odX6'),a7=F('Wgwc'),a8=F('o6JS'),a9=F('MUmR'),aa=F('hcfp'),ab=F('Bf4v'),ac=F('YfBr'),ad=F('bXzw'),ae=Object['defineProperty'],af=Object['getOwnPropertyDescriptor'],ag=Object['getOwnPropertySymbols'],ah=Object['prototype']['hasOwnProperty'],ai=Object['prototype']['propertyIsEnumerable'],aj=(ap,aq,ar)=>aq in ap?ae(ap,aq,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':ar}):ap[aq]=ar,ak=(ap,aq)=>{for(var ar in aq||(aq={}))ah['call'](aq,ar)&&aj(ap,ar,aq[ar]);if(ag){for(var ar of ag(aq))ai['call'](aq,ar)&&aj(ap,ar,aq[ar]);}return ap;},al=(ap,aq,ar,as)=>{for(var at,au=as>0x1?void 0x0:as?af(aq,ar):aq,av=ap['length']-0x1;av>=0x0;av--)(at=ap[av])&&(au=(as?at(aq,ar,au):at(au))||au);return as&&au&&ae(aq,ar,au),au;},am=(ap,aq,ar)=>new Promise((as,at)=>{var au=ax=>{try{aw(ar['next'](ax));}catch(ay){at(ay);}},av=ax=>{try{aw(ar['throw'](ax));}catch(ay){at(ay);}},aw=ax=>ax['done']?as(ax['value']):Promise['resolve'](ax['value'])['then'](au,av);aw((ar=ar['apply'](ap,aq))['next']());});Object(V['configure'])({'enforceActions':'never'});var an=['你的企业空间信息安全设置将失效','当前空间所享受的部分权益将会受到限制','核心付费功能将无法继续使用'];class ao{constructor(){var ap=this;this['sharePageUserInfo']={},this['initWorkspaces']=()=>{this['workspaces']=[],this['spaceViews']={},this['workspaceSettingInitialTab']='workspace';},this['_refresh']=()=>{this['workspaces']=Object(V['toJS'])(this['workspaces']);},this['refresh']=H()(this['_refresh'],0x1f4),this['setSpaceDomain']=aq=>{this['spaceDomain']=aq;},this['setSpaceId']=aq=>{this['spaceId']=aq,this['workspaceStore']['isPublic']||(this['refreshCurrentPlan'](),this['noticeStore']['initialize'](),this['workspaces']['find'](ar=>ar['id']===aq)&&(W['c'](Y['WOLAI_CURRENT_WORKSPACE'],aq),this['pageStore']['loadFavoritePages'](aq),this['pageStore']['loadSharedPages'](aq),this['dataStore']['getLastViewedPages'](),this['memberStore']['fetchMembersFromWorkspace'](aq),this['groupStore']['refreshGroupList'](),this['questStore']['init'](),this['checkPeriodicPayment']()),Y['IS_FLY_MODE']&&ab['a']['initIndex'](aq));},this['recordSpaceId']=aq=>{W['c'](Y['WOLAI_CURRENT_WORKSPACE'],aq);},this['setSharePageConfig']=aq=>{this['sharePageAd']=aq['showAd'],this['sharePageBottomLogo']=aq['showBottomLogo'],this['sharePageUserInfo']=aq['userInfo']||{},this['sharePagePreview']=aq['showPreview'],this['sharePagePlanType']=aq['plan'];},this['addWorkspacePage']=(aq,ar,as)=>{var at=Object(V['toJS'])(this['workspaces']),au=at['find'](ax=>ax['id']===aq);if(au){var av=[],aw=!0x1;au['pages']['forEach'](ax=>{ax===as&&av['indexOf'](ar)<0x0&&(av['push'](ar),aw=!0x0),av['indexOf'](ax)<0x0&&av['push'](ax);}),!aw&&av['indexOf'](ar)<0x0&&av['unshift'](ar),au['pages']=av,this['workspaces']=at,this['dataStore']['syncSpaceData']();}},this['updateWorkspace']=(aq,ar)=>{var as=this['workspaces']['find'](at=>at['id']===aq);as?Object['assign'](as,ar):this['workspaces']['push'](ar);},this['isPersonalSpace']=()=>{if(this['plan'])switch(this['plan']['type']){case a3['d']['FREE']:case a3['d']['PERSONAL_PRO']:return!0x0;default:return!0x1;}return!0x1;},this['removeWorkspace']=aq=>{this['workspaces'][aq]=null;},this['updateCurrentSpace']=(aq,ar)=>{var {workspaces:as,currentWorkspaceIndex:at,dataStore:au}=this;as[at]=ak(ak({},as[at]),ar),this['workspaces']=as,au['syncSpaceData'](),aq['workspace']['updateWorkspace'](this['spaceId'],ar);},this['updateCurrentSpacePages']=aq=>{this['currentWorkspace']['pages']=aq,Y['IS_FLY_MODE']&&ac['a']['syncToWorkspaceDB'](this['currentWorkspace']);},this['updateSpaceById']=(aq,ar,as)=>{var {workspaces:at,dataStore:au}=this,av=at['findIndex'](aw=>aw['id']===ar);at[av]=ak(ak({},at[av]),as),this['workspaces']=at,au['syncSpaceData'](),aq['workspace']['updateWorkspace'](ar,as);},this['updateWorkspaces']=(aq,ar)=>{this['workspaces']=ar,aq['userWorkspace']['updateUserWorkspace']({'spaces':ar['map'](as=>as['id']),'userId':this['userStore']['userId']});},this['changeWorkspace']=aq=>{if(aq!==this['spaceId']){this['screenStore']['closeSecondScreen'](!0x0),this['setSpaceId'](aq),W['c'](Y['WOLAI_CURRENT_WORKSPACE'],aq);var ar=this['pageStore']['firstPageId'];if(ar){this['pageStore']['setPageId'](ar);var as=Object(a5['a'])();Object(a5['j'])()&&as?this['domainId']?window['location']['href']=''['concat']('https://www.wolai.com','/')['concat'](this['domainId'],'/')['concat'](ar):window['location']['href']=''['concat']('https://www.wolai.com','/')['concat'](ar):this['domainId']?this['routerStore']['history']['push']('/'['concat'](this['domainId'],'/')['concat'](ar)):this['routerStore']['history']['push']('/'['concat'](ar));}else W['c'](''['concat'](Y['WOLAI_CURRENT_PAGE']),''),this['userStore']['isGuest']?(W['b'](Y['WOLAI_CURRENT_WORKSPACE']),this['pageStore']['setConfirmOpen']({'contents':'抱歉，您已没有该空间访客权限，如需访问，请联系管理员添加','successText':'退出该空间','success':()=>am(this,null,function*(){yield Object(a1['j'])(this['userStore']['userId'],aq),yield this['workspaceStore']['getWorkspaceData']();var at=0x0===this['currentWorkspaceIndex']?this['workspaces'][0x1]:this['workspaces'][0x0];at?this['changeWorkspace'](at['id']):window['location']['href']='/';}),'cancel':()=>{var at=0x0===this['currentWorkspaceIndex']?this['workspaces'][0x1]:this['workspaces'][0x0];at?this['changeWorkspace'](at['id']):window['location']['href']='/';}})):this['routerStore']['history']['push']('/');}},this['addFavoritePage']=(aq,ar)=>{var {id:as}=this['spaceViews'][this['spaceId']];this['spaceViews'][this['spaceId']]=this['spaceViews'][this['spaceId']]||{};var {favorite_pages:at=[]}=this['spaceViews'][this['spaceId']];at['includes'](ar)||(at['unshift'](ar),aq['userWorkspace']['addFavoritePage'](as,ar));},this['removeFavoritePage']=(aq,ar)=>{var {id:as}=this['spaceViews'][this['spaceId']];this['spaceViews'][this['spaceId']]=this['spaceViews'][this['spaceId']]||{};var {favorite_pages:at=[]}=this['spaceViews'][this['spaceId']],au=at['indexOf'](ar);au>-0x1&&at['splice'](au,0x1),aq['userWorkspace']['removeFavoritePage'](as,ar);},this['addFavoritePageTemplate']=(aq,ar)=>{var {id:as}=this['spaceViews'][this['spaceId']];this['spaceViews'][this['spaceId']]=this['spaceViews'][this['spaceId']]||{},this['favoritePageTemplates']['includes'](ar)||(this['favoritePageTemplates']['unshift'](ar),aq['userWorkspace']['addFavoritePageTemplate'](as,ar));},this['removeFavoritePageTemplate']=(aq,ar)=>{var {id:as}=this['spaceViews'][this['spaceId']];this['spaceViews'][this['spaceId']]=this['spaceViews'][this['spaceId']]||{};var at=this['favoritePageTemplates']['indexOf'](ar);at>-0x1&&this['favoritePageTemplates']['splice'](at,0x1),aq['userWorkspace']['removeFavoritePageTemplate'](as,ar);},this['updateSpacePreference']=(aq,ar)=>{var {newPageLocation:as,todayPageLocation:at,randomPageRange:au,todayPageTemplate:av,customPageTemplates:aw,openNewPageInRight:ax,blankLinePrompt:ay,spaceNickname:az}=ar,{id:aA}=this['spaceViews'][this['spaceId']];this['spaceViews'][this['spaceId']]=this['spaceViews'][this['spaceId']]||{};var aB={};ar['hasOwnProperty']('newPageLocation')&&(this['spaceViews'][this['spaceId']]['new_page_location']=as,aB['new_page_location']=as),ar['hasOwnProperty']('todayPageLocation')&&(this['spaceViews'][this['spaceId']]['today_new_page_location']=at,aB['today_new_page_location']=at),ar['hasOwnProperty']('openNewPageInRight')&&(this['spaceViews'][this['spaceId']]['open_new_page_in_right']=ax,aB['open_new_page_in_right']=ax),ar['hasOwnProperty']('randomPageRange')&&(this['spaceViews'][this['spaceId']]['random_page_range']=au,aB['random_page_range']=au),ar['hasOwnProperty']('todayPageTemplate')&&(this['spaceViews'][this['spaceId']]['today_new_page_template']=av,aB['today_new_page_template']=av),ar['hasOwnProperty']('customPageTemplates')&&(this['spaceViews'][this['spaceId']]['custom_page_templates']=aw,aB['custom_page_templates']=aw),ar['hasOwnProperty']('spaceNickname')&&(this['spaceViews'][this['spaceId']]['space_nickname']=az,aB['space_nickname']=az),ar['hasOwnProperty']('blankLinePrompt')&&(this['spaceViews'][this['spaceId']]['blank_line_prompt']=ay,aB['blank_line_prompt']=ay),this['spaceViews']=Object(V['toJS'])(this['spaceViews']),aq['userWorkspace']['updateWorkspacePreference'](aA,aB);},this['changeCustomSpaceConfig']=(aq,ar)=>{var as={},at=this['getCurrentSpaceViewProps']('new_page_location');at&&at===ar&&(as['newPageLocation']='');var au=this['getCurrentSpaceViewProps']('today_new_page_location');au&&au===ar&&(as['todayPageLocation']='');var av=this['getCurrentSpaceViewProps']('random_page_range');av&&av===ar&&(as['randomPageRange']='');var aw=this['getCurrentSpaceViewProps']('today_new_page_template');aw&&aw===ar&&(as['todayPageTemplate']='');var ax=this['getCurrentSpaceViewProps']('custom_page_templates');if((ax=ax&&JSON['parse'](ax)||[])['length']&&ax['includes'](ar)){var ay=[];ax['forEach'](aA=>{aA!==ar&&ay['push'](aA);});var az=JSON['stringify'](ay);as['customPageTemplates']=az;}Object['keys'](as)['length']&&this['updateSpacePreference'](aq,as);},this['getCurrentSpaceViewProps']=aq=>this['spaceViews'][this['spaceId']]&&this['spaceViews'][this['spaceId']][aq]||'',this['updateSpaceView']=(aq,ar)=>{var as=this['spaceViews'][aq];Object['assign'](as,ar);},this['updateFavoritePage']=(aq,ar)=>{var {id:as}=this['spaceViews'][this['spaceId']];this['spaceViews'][this['spaceId']]=this['spaceViews'][this['spaceId']]||{},this['spaceViews'][this['spaceId']]['favorite_pages']=ar,aq['userWorkspace']['updateWorkspacePreference'](as,{'favorite_pages':ar});},this['updateSpaceSetting']=aq=>{var {workspaces:ar,currentWorkspaceIndex:as,dataStore:at}=this;ar[as]=ak(ak({},ar[as]),aq);var au=this['pageStore']['pageId'];void 0x0!==aq['domain']&&(aq['domain']?this['routerStore']['history']['push']('/'['concat'](aq['domain'],'/')['concat'](au)):this['routerStore']['history']['push']('/'['concat'](au))),this['workspaces']=ar,at['syncSpaceData']();},this['getPlan']=()=>am(this,null,function*(){var {plan:aq}=yield Object(a8['b'])(this['spaceId']);this['plan']=aq;}),this['refreshCurrentPlan']=()=>{var aq=this['workspaces']['find'](ar=>ar['id']===this['spaceId']);aq&&(this['plan']=aq['plan']);},this['checkIfPlanHasBeenUpdated']=(aq,ar)=>am(this,null,function*(){var {plan:as}=yield Object(a8['b'])(aq);return aq===this['spaceId']&&(this['plan']=as),as['type']!==ar['type']||as['member_count']!==ar['member_count']||as['end_date']!==ar['end_date'];}),this['resetInitialTab']=()=>{this['workspaceSettingInitialTab']='workspace';},this['setInitialTabToPlan']=()=>{this['workspaceSettingInitialTab']='plan';},this['checkOrderStatus']=(aq,ar)=>am(this,null,function*(){this['orderId']=aq;for(var as=au=>new Promise(av=>{setTimeout(av,au);}),at=0x0;at<0x14;at++){if((yield Object(a9['b'])(this['orderId'],ar))['paid']){this['markOrderAsPaid'](),this['orderId']=void 0x0;break;}yield as(0x1f4*at);}}),this['markOrderAsPaid']=()=>{this['isOrderPaid']=!0x0;},this['resetPaymentStatus']=()=>{this['isOrderPaid']=!0x1;},this['applySpaceViews']=aq=>{var ar,as=(av,aw)=>{this['spaceViews'][av]=aw;};for(var [at,au]of(this['spaceViews']=this['spaceViews']||{},Object['entries'](aq))){if(this['spaceViews'][at])((null==(ar=this['spaceViews'][at])?void 0x0:ar['version'])||0x0)<(au['version']||0x0)&&as(at,au);else as(at,au);}},this['getCurrentBlockCountRadio']=()=>{var aq=Number(this['currentWorkspace']['block_count']||0x0)/Number(this['blockLimit'])*0x64;return aq>=0x64?0x64:Math['round'](aq);},this['getTargetSpacePremium']=aq=>{var ar=this['workspaces']['find'](at=>at['id']===aq);if(ar){var {plan:as}=ar;if(K()(as,'type')&&Object['values'](a3['f'])['includes'](as['type'])&&as['end_date']>Date['now']()&&as['start_date']<Date['now']())return!0x0;}return!0x1;},this['isEnterprisePlan']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'],ar=ap['getSpacePlan'](aq);return ar===a3['d']['TEAM_ENTERPRISE']||ar===a3['d']['TEAM_ENTERPRISE_TRYOUT'];},this['isPersonalPlan']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'],ar=ap['getSpacePlan'](aq);return[a3['d']['FREE'],a3['d']['PERSONAL_PRO']]['includes'](ar);},this['isPersonalUsePlan']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'],ar=ap['getSpacePlan'](aq);return[a3['d']['FREE'],a3['d']['PERSONAL_PRO'],a3['d']['PERSONAL_FAMILY']]['includes'](ar);},this['isTeamPlan']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'],ar=ap['getSpacePlan'](aq);return a3['g']['includes'](ar);},this['getSpacePlan']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'],ar=ap['workspaces']['find'](au=>au['id']===aq);if(ar){var {plan:as}=ar,at=U()(as,'type',a3['d']['FREE']);return Object['values'](a3['f'])['includes'](at)?as['end_date']>Date['now']()&&as['start_date']<Date['now']()?at:a3['g']['includes'](at)?a3['d']['TEAM_FREE']:a3['d']['FREE']:at;}return a3['d']['FREE'];},this['getNextSpacePlan']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'],ar=ap['getSpacePlan'](aq);return[a3['d']['FREE']]['includes'](ar)?a3['d']['PERSONAL_PRO']:[a3['d']['TEAM_FREE']]['includes'](ar)?a3['d']['TEAM_STANDARD']:[a3['d']['PERSONAL_PRO'],a3['d']['PERSONAL_FAMILY'],a3['d']['TEAM_STANDARD']]['includes'](ar)?a3['d']['TEAM_PRO']:ar===a3['d']['TEAM_PRO']?a3['d']['TEAM_ENTERPRISE']:'';},this['blockCountLimit']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'];if(Y['IS_FLY_MODE'])return!0x1;var ar=ap['workspaces']['find'](at=>at['id']===aq);if(!ar||'unlimited'===ap['blockLimit'])return!0x1;var as=ap['getTargetSpacePremium'](aq);return!!(ar&&!as&&Number(ar['block_count']||0x0)>=Number(ap['blockLimit']));},this['createFirstSpacePage']=function(){for(var aq=arguments['length'],ar=new Array(aq),as=0x0;as<aq;as++)ar[as]=arguments[as];return am(ap,[...ar],function*(){var at=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:this['spaceId'],au=arguments['length']>0x2?arguments[0x2]:void 0x0,av=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:[],aw=yield Promise['all'](av['map'](ax=>am(this,null,function*(){var ay=Object(a4['b'])();return yield Object(aa['b'])({'oldPageId':ax,'newPageId':ay,'newSpaceId':at}),ay;})));aw['length']&&(yield Object(a2['pb'])({'pages':aw,'workspaceId':at})),au&&au(aw[0x0]||'');});},this['setOfflineIndexing']=aq=>{this['offlineIndexing']=aq;},this['isSpaceGuest']=function(){var aq=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:ap['spaceId'];return ap['spaceViews'][aq]&&ap['spaceViews'][aq]['is_space_guest'];},this['proPlanWillOutdated']=()=>{var aq;if(!this['hasPremiumPlan'])return!0x1;if(null==(aq=this['currentWorkspacePeriodicPayment'])?void 0x0:aq['signed'])return!0x1;var ar=!0x1,as=W['a'](Y['WOLAI_PRO_PLAN_REMINDER_DISMISSED_AT']);return as&&as>a7()['startOf']('day')&&as<a7()['add'](0x1,'day')['endOf']('day')&&(ar=!0x0),this['daysBeforeExpiration']<0x7&&this['daysBeforeExpiration']>0x0&&!ar;},this['showProPlanOneDayReminder']=()=>{if(this['userStore']['isAdmin']&&0x1===this['daysBeforeExpiration']&&this['hasPremiumPlan']){var aq=W['a'](Y['WOLAI_PRO_PLAN_ONE_DAY_REMINDER']);if(aq&&aq===''['concat'](this['spaceId'],'_')['concat'](this['plan']['end_date']))return;this['pageStore']['setConfirmOpen']({'singleButton':!0x0,'title':'空间到期提示','contents':'<div><div\x20style=\x22margin-bottom:8px;\x22>当前的空间计划将于明日到期，到期后空间计划会降级至“'['concat'](this['isPersonalSpace']()?Object(a3['c'])(a3['d']['FREE']):Object(a3['c'])(a3['d']['TEAM_FREE']),'”，付费功能将无法继续使用，以免影响你的使用体验，请及时续费。</div><div\x20style=\x22font-size:12px;color:var(--color-basic-600);\x22>空间到期降级后，在使用上将受到如下影响：')['concat'](an['slice'](this['planType']===a3['d']['TEAM_ENTERPRISE']?0x0:0x1)['map']((ar,as)=>'<div><span\x20style=\x22width:15px;text-align:center;display:inline-block;\x22>'['concat'](as+0x1,'.</span>')['concat'](ar,'</div>'))['join'](''),'</div><div\x20style=\x22font-size:12px;color:var(--color-basic-600);margin-top:10px;\x22>更多详情请查看\x20<a\x20target=\x22_blank\x22\x20style=\x22color:var(--color-basic-900);\x22\x20href=\x22')['concat'](Z['Ob']['PRICING'],'\x22>付费版本定价</a></div></div>')}),W['c'](Y['WOLAI_PRO_PLAN_ONE_DAY_REMINDER'],''['concat'](this['spaceId'],'_')['concat'](this['plan']['end_date']));}},this['joinWorkspace']=aq=>am(this,null,function*(){try{this['pageStore']['setConfirmOpen']({'contents':'正在加入...','hideButton':!0x0,'alignContentsCenter':!0x0}),yield Object(a0['b'])(aq['id']),W['b'](Y['WOLAI_USER_DATA'],!0x0),W['b'](Y['WOLAI_USER_INFO'],!0x0),yield this['workspaceStore']['getWorkspaceData'](),yield this['workspaceStore']['initWorkspacePages'](aq['workspace_id']),'guest'===aq['invitation_type']?(this['changeWorkspace'](aq['workspace_id']),this['pageStore']['setConfirmOpen']({'title':''['concat'](this['userStore']['userName'],'你好，欢迎进入')['concat'](this['currentWorkspace']['name']),'contents':'你在当前空间的身份为「访客」，仅可参与受邀页面的协作。如需访问更多内容，请联系管理员将你升级为「空间成员」。','singleButton':!0x0,'adjustMobile':!0x0})):yield this['createFirstSpacePage'](aq['workspace_id'],this['getSpacePlan'](aq['workspace_id']),()=>{this['changeWorkspace'](aq['workspace_id']);}),yield this['invitationStore']['fetchReceivedInvitations']();}catch(ar){0x3a9e===ar['code']&&this['pageStore']['setConfirmOpen']({'contents':'当前邀请已被撤回','successText':'确定','success':()=>{},'singleButton':!0x0,'footnote':'请与空间\x22'['concat'](aq['workspace']['name'],'\x22的管理员\x22')['concat'](aq['inviter']['userName'],'\x22核实'),'adjustMobile':!0x0,'mobileSingleButton':!0x0});}finally{'guest'!==aq['invitation_type']&&this['pageStore']['setConfirmOpen']();}}),this['checkPeriodicPayment']=()=>am(this,null,function*(){if(this['userStore']['userId']){var aq=this['currentWorkspace']['id'],ar=yield Object(a2['x'])(aq);return this['spacePeriodicPaymentStatus']['set'](aq,ar),ar;}}),this['spacePeriodicPaymentStatus']=new Map(),this['initWorkspaces']();}get['isDingtalkSpace'](){return this['checkDingTalkSpace'](this['currentWorkspace']);}['checkDingTalkSpace'](ap){return Boolean(ap['dingtalk_corp_id']);}get['domainId'](){return this['currentWorkspace']['domain']||'';}get['disableRename'](){return this['currentWorkspace']['disable_rename'];}get['currentWorkspaceIndex'](){return this['workspaces']['findIndex'](ap=>ap['id']===this['spaceId']);}get['currentSpaceView'](){return this['spaceViews'][this['spaceId']];}get['existWorkspace'](){return this['currentWorkspace']&&this['currentWorkspace']['id'];}get['currentWorkspace'](){return this['workspaces']['find'](ap=>ap['id']===this['spaceId'])||{};}get['blockLimit'](){var ap=this['getSpacePlan']();return ap===a3['d']['TEAM_FREE']?this['workspaceStore']['getSecureConfigByKey'](X['b']['FREE_TEAM_WORKSPACE_BLOCK_COUNT_LIMIT'])||'unlimited':ap===a3['d']['FREE']&&this['workspaceStore']['getSecureConfigByKey'](X['b']['FREE_PERSONAL_WORKSPACE_BLOCK_COUNT_LIMIT'])||'unlimited';}get['snapshotTime'](){var ap=this['getSpacePlan']();return X['h'][ap]?this['workspaceStore']['getSecureConfigByKey'](X['h'][ap])||0x1e:0x0;}get['expirationDate'](){return this['expirationDateInMs']?a7(this['expirationDateInMs'])['format']('YYYY/MM/DD'):null;}get['daysBeforeExpiration'](){return this['expirationDateInMs']?a7(this['expirationDateInMs'])['diff'](a7(),'day')+0x1:null;}get['shouldShowExpirationDate'](){return this['plan']['type']&&!0x1!==this['isFreePlan'];}get['isFreePlan'](){return this['plan']?U()(this['plan'],'type')===a3['b']:null;}get['hasDingtalkSpace'](){return this['getAllDingtalkSpace']()['length']>0x0;}get['expirationDateInMs'](){return this['plan']?U()(this['plan'],'end_date'):0x0;}get['hasPremiumPlan'](){var ap=this['workspaces']['find'](ar=>ar['id']===this['spaceId']);if(ap){var {plan:aq}=ap;if(K()(aq,'type')&&Object['values'](a3['f'])['includes'](aq['type'])&&this['expirationDateInMs']>Date['now']()&&aq['start_date']<Date['now']())return!0x0;}return!0x1;}get['hasPremiumOrTeamPlan'](){return this['plan']?this['hasPremiumPlan']||this['isTeamPlan']():this['planType']!==a3['d']['FREE'];}get['hasTeamPlan'](){return this['isTeamPlan']();}get['displayPlanName'](){return this['plan']?this['plan']['end_date']>Date['now']()?Object(a3['c'])(this['plan']['type']):this['plan']['type']['includes']('team')?Object(a3['c'])(a3['d']['TEAM_FREE']):Object(a3['c'])(a3['d']['FREE']):'';}get['favoritePageTemplates'](){return this['spaceViews']?('favorite_page_templates'in this['spaceViews'][this['spaceId']]?'string'==typeof this['spaceViews'][this['spaceId']]['favorite_page_templates']&&(this['spaceViews'][this['spaceId']]['favorite_page_templates']=JSON['parse'](this['spaceViews'][this['spaceId']]['favorite_page_templates'])):this['spaceViews'][this['spaceId']]['favorite_page_templates']=[],this['spaceViews'][this['spaceId']]['favorite_page_templates']):[];}['getDingtalkSpace'](ap){return this['workspaces']['find'](aq=>aq['dingtalk_corp_id']===ap);}['getAllDingtalkSpace'](){return this['workspaces']['filter'](ap=>Boolean(ap['dingtalk_corp_id']));}get['memberCount'](){return this['currentWorkspace']['members']['length'];}get['planType'](){return this['plan']?this['getSpacePlan']():this['sharePagePlanType']||'free';}['shouldShowWorkspacePage'](){return!0x0;}get['isDingTalkPersonalTryout'](){return'dingtalk_personal_tryout'===this['currentWorkspace']['type'];}get['currentWorkspacePeriodicPayment'](){return this['spacePeriodicPaymentStatus']['get'](this['currentWorkspace']['id']);}}al([a6['b']],ao['prototype'],'pageStore',0x2),al([a6['b']],ao['prototype'],'dataStore',0x2),al([a6['b']],ao['prototype'],'blockStore',0x2),al([a6['b']],ao['prototype'],'userStore',0x2),al([a6['b']],ao['prototype'],'noticeStore',0x2),al([a6['b']],ao['prototype'],'routerStore',0x2),al([a6['b']],ao['prototype'],'workspaceStore',0x2),al([a6['b']],ao['prototype'],'memberStore',0x2),al([a6['b']],ao['prototype'],'screenStore',0x2),al([a6['b']],ao['prototype'],'invitationStore',0x2),al([a6['b']],ao['prototype'],'groupStore',0x2),al([a6['b']],ao['prototype'],'questStore',0x2),al([V['observable']],ao['prototype'],'workspaces',0x2),al([V['observable']],ao['prototype'],'spaceViews',0x2),al([V['observable']],ao['prototype'],'spaceId',0x2),al([V['observable']],ao['prototype'],'spaceDomain',0x2),al([V['observable']],ao['prototype'],'plan',0x2),al([V['observable']],ao['prototype'],'workspaceSettingInitialTab',0x2),al([V['observable']],ao['prototype'],'isOrderPaid',0x2),al([V['observable']],ao['prototype'],'orderId',0x2),al([V['observable']],ao['prototype'],'sharePageAd',0x2),al([V['observable']],ao['prototype'],'sharePageBottomLogo',0x2),al([V['observable']],ao['prototype'],'sharePageUserInfo',0x2),al([V['observable']],ao['prototype'],'sharePagePreview',0x2),al([V['observable']],ao['prototype'],'offlineIndexing',0x2),al([V['observable']],ao['prototype'],'sharePagePlanType',0x2),al([V['computed']],ao['prototype'],'existWorkspace',0x1),al([V['computed']],ao['prototype'],'currentWorkspace',0x1),al([V['computed']],ao['prototype'],'hasDingtalkSpace',0x1),al([V['computed']],ao['prototype'],'expirationDateInMs',0x1),al([V['computed']],ao['prototype'],'hasPremiumPlan',0x1),al([V['computed']],ao['prototype'],'hasPremiumOrTeamPlan',0x1),al([V['computed']],ao['prototype'],'hasTeamPlan',0x1),al([V['computed']],ao['prototype'],'displayPlanName',0x1),al([V['computed']],ao['prototype'],'favoritePageTemplates',0x1),al([V['action']],ao['prototype'],'initWorkspaces',0x2),al([V['action']],ao['prototype'],'_refresh',0x2),al([V['action']],ao['prototype'],'setSpaceDomain',0x2),al([V['action']],ao['prototype'],'setSpaceId',0x2),al([V['computed']],ao['prototype'],'memberCount',0x1),al([V['computed']],ao['prototype'],'planType',0x1),al([V['action']],ao['prototype'],'setSharePageConfig',0x2),al([V['action']],ao['prototype'],'addWorkspacePage',0x2),al([V['action']],ao['prototype'],'updateWorkspace',0x2),al([V['action']],ao['prototype'],'removeWorkspace',0x2),al([V['action']],ao['prototype'],'updateCurrentSpace',0x2),al([V['action']],ao['prototype'],'updateCurrentSpacePages',0x2),al([V['action']],ao['prototype'],'updateSpaceById',0x2),al([V['action']],ao['prototype'],'updateWorkspaces',0x2),al([V['action']],ao['prototype'],'changeWorkspace',0x2),al([V['action']],ao['prototype'],'addFavoritePage',0x2),al([V['action']],ao['prototype'],'removeFavoritePage',0x2),al([V['action']],ao['prototype'],'addFavoritePageTemplate',0x2),al([V['action']],ao['prototype'],'removeFavoritePageTemplate',0x2),al([V['action']],ao['prototype'],'updateSpacePreference',0x2),al([V['action']],ao['prototype'],'changeCustomSpaceConfig',0x2),al([V['action']],ao['prototype'],'updateSpaceView',0x2),al([V['action']],ao['prototype'],'updateFavoritePage',0x2),al([V['action']],ao['prototype'],'updateSpaceSetting',0x2),al([V['action']],ao['prototype'],'getPlan',0x2),al([V['action']],ao['prototype'],'refreshCurrentPlan',0x2),al([V['action']],ao['prototype'],'checkIfPlanHasBeenUpdated',0x2),al([V['action']],ao['prototype'],'resetInitialTab',0x2),al([V['action']],ao['prototype'],'setInitialTabToPlan',0x2),al([V['action']],ao['prototype'],'checkOrderStatus',0x2),al([V['action']],ao['prototype'],'markOrderAsPaid',0x2),al([V['action']],ao['prototype'],'resetPaymentStatus',0x2),al([V['action']],ao['prototype'],'applySpaceViews',0x2),al([V['action']],ao['prototype'],'setOfflineIndexing',0x2),al([V['computed']],ao['prototype'],'isDingTalkPersonalTryout',0x1),al([V['action']],ao['prototype'],'checkPeriodicPayment',0x2),al([V['observable']],ao['prototype'],'spacePeriodicPaymentStatus',0x2),al([V['computed']],ao['prototype'],'currentWorkspacePeriodicPayment',0x1),z['a']=Object(ad['a'])(ao);},'q0oU':function(j,k,q){'use strict';var v=q('q1tI'),w=q('TyAF'),x=q('KQwE'),y=q('oYhM'),z=q('odX6'),A=q('PmkI'),B=q('Jzsv'),C=Object['defineProperty'],D=Object['defineProperties'],E=Object['getOwnPropertyDescriptors'],F=Object['getOwnPropertySymbols'],G=Object['prototype']['hasOwnProperty'],H=Object['prototype']['propertyIsEnumerable'],I=(K,L,M)=>L in K?C(K,L,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':M}):K[L]=M,J=y['a']['getInstance']();J['config']({'version':0x2}),B['a']['setItem']('exportErrorData',J['exportErrorData']['bind'](J)),x['a']['getInstance']()['config']({'version':0x2}),k['a']=K=>Object(w['b'])(L=>{var M=Object(z['b'])('userStore'),N=Object(z['b'])('workspaceStore'),[O,P]=v['useState'](!0x0),[Q,R]=v['useState'](!0x1),S=v['useCallback'](()=>{return T=void 0x0,U=null,V=function*(){P(!0x0),R(!0x1);try{yield Object(A['a'])();}catch(W){console['error']('checkAccountStatus:\x20'['concat'](W)),R(!0x0);}P(!0x1);},new Promise((W,X)=>{var Y=a1=>{try{a0(V['next'](a1));}catch(a2){X(a2);}},Z=a1=>{try{a0(V['throw'](a1));}catch(a2){X(a2);}},a0=a1=>a1['done']?W(a1['value']):Promise['resolve'](a1['value'])['then'](Y,Z);a0((V=V['apply'](T,U))['next']());});var T,U,V;},[]);return v['useEffect'](()=>{window['WolaiLoading']['start'](),S();},[]),Q?(window['WolaiLoading']['error'](),null):O?null:(window['WolaiLoading']['finish'](),v['createElement'](K,((T,U)=>D(T,E(U)))(((T,U)=>{for(var V in U||(U={}))G['call'](U,V)&&I(T,V,U[V]);if(F){for(var V of F(U))H['call'](U,V)&&I(T,V,U[V]);}return T;})({},L),{'userId':M['userId'],'inApp':N['inApp']})));});},'qX4z':function(j,k,q){'use strict';q['d'](k,'k',function(){return z;}),q['d'](k,'b',function(){return A;}),q['d'](k,'c',function(){return B;}),q['d'](k,'h',function(){return C;}),q['d'](k,'d',function(){return D;}),q['d'](k,'j',function(){return E;}),q['d'](k,'a',function(){return I;}),q['d'](k,'i',function(){return K;}),q['d'](k,'e',function(){return L;}),q['d'](k,'f',function(){return M;}),q['d'](k,'g',function(){return N;});var w=q('4Dn8'),x=q('z7Vv'),z=(O,P)=>{if(void 0x0!==P){var Q=JSON['parse'](sessionStorage['getItem']('wolai_env_info')||'{}');Q[O]=P,sessionStorage['setItem']('wolai_env_info',JSON['stringify'](Q));}},A=O=>JSON['parse'](sessionStorage['getItem']('wolai_env_info')||'{}')[O],B=()=>JSON['parse'](sessionStorage['getItem']('wolai_env_info')||'{}'),C=function(){var {theme:O,preview:P,expandAll:Q,os:R,pdf:S,inApp:T,appType:U,corpId:V}=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},W=w['a'];z('os',null!=R?R:W('os')),z('corpId',null!=V?V:W('corpId')),z('pdf',null!=S?S:'0615'===W('pdf')||Object(x['e'])(W('pdf'))),z('appType',null!=U?U:W('appType')||['mobile','tablet'][W('isTablet')]),z('inApp',null!=T?T:Object(x['e'])(W('inApp'))),z('preview',null!=P?P:'0615'===W('preview')||Object(x['e'])(W('preview'))),z('expandAll',null!=Q?Q:Object(x['e'])(W('expandAll'))),z('theme',null!=O?O:{'dark':'dark','light':'light'}[W('theme')||W('exportTheme')]);};function D(){if('localhost'===window['location']['hostname'])return'local';var O=F();switch(!0x0){case G(/^www-test\d*/,O):return'test';case G('www-uat',O):return'uat';case G('pre',O):return'pre';default:return'prod';}}function E(){var O=D();return'prod'===O||'uat'===O||'pre'===O;}function F(){var O=window['location']['hostname'];return O['includes']('.wolai.com')?O['replace']('.wolai.com',''):void 0x0;}function G(O,P){return'string'==typeof O?O===P:O['test'](P);}var H=['www',/^www-test\d*/,'www-test1','www-uat','pre','www2','www3'];function I(){var O=F();if(!H['some'](P=>G(P,O)))return O;}var J=()=>/dingtalk/i['test'](window['navigator']['userAgent']),K=()=>J()&&'dingtalk-h5app'===A('appType'),L=()=>Boolean(window['WolaiJsReady'])||A('inApp'),M=()=>/MicroMessenger/i['test'](window['navigator']['userAgent']),N=()=>/tencent_wemeet/i['test'](window['navigator']['userAgent']);},'qeIj':function(j,k,q){'use strict';var v=q('9CMz'),w=q('odX6'),x=q('OIS1'),z=q('sA5H'),A=q('9rbq'),B=q('Wgwc'),C=Object['defineProperty'],D=Object['getOwnPropertyDescriptor'],E=Object['getOwnPropertySymbols'],F=Object['prototype']['hasOwnProperty'],G=Object['prototype']['propertyIsEnumerable'],H=(M,N,O)=>N in M?C(M,N,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':O}):M[N]=O,I=(M,N)=>{for(var O in N||(N={}))F['call'](N,O)&&H(M,O,N[O]);if(E){for(var O of E(N))G['call'](N,O)&&H(M,O,N[O]);}return M;},J=(M,N,O,P)=>{for(var Q,R=P>0x1?void 0x0:P?D(N,O):N,S=M['length']-0x1;S>=0x0;S--)(Q=M[S])&&(R=(P?Q(N,O,R):Q(R))||R);return P&&R&&C(N,O,R),R;},K=(M,N,O)=>new Promise((P,Q)=>{var R=U=>{try{T(O['next'](U));}catch(V){Q(V);}},S=U=>{try{T(O['throw'](U));}catch(V){Q(V);}},T=U=>U['done']?P(U['value']):Promise['resolve'](U['value'])['then'](R,S);T((O=O['apply'](M,N))['next']());});class L{constructor(){this['partSize']=0x100000,this['parallel']=0x3,this['checkpoints']={},this['generateFormData']=function(){var M=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},N=arguments['length']>0x1?arguments[0x1]:void 0x0,O=N||new FormData();for(var P in M)M[P]&&O['append'](P,M[P]);return O;},this['postFileToOSS']=M=>K(this,null,function*(){var {size:N}=M['file'];return N<0x140000000?yield this['kitAPI']['postFileToOSS'](M):yield this['multipartUpload'](M);}),this['cancelUpload']=()=>{Object['getOwnPropertyNames'](this['checkpoints'])['length']&&(this['ossClient']&&this['ossClient']['cancel'](),this['checkpoints']={});},this['ossClient']=null,this['credentials']=null,this['bucket']='wolai-secure-bigfile',this['region']='cn-shanghai',this['partSize']=0xa00000,this['parallel']=0x3,this['checkpoints']={};}['getCredential'](){return K(this,null,function*(){return this['credentials']=yield Object(v['a'])({}),this['credentials'];});}['initOSSClient'](){return K(this,null,function*(){var M=yield this['getCredential'](),{AccessKeyId:N,AccessKeySecret:O,SecurityToken:P,bucket:Q,region:R}=M,S=(yield q['e'](0x23)['then'](q['t']['bind'](null,'mxV5',0x7)))['default'];this['ossClient']=new S({'accessKeyId':N,'accessKeySecret':O,'stsToken':P,'bucket':Q,'region':R,'timeout':0x36ee80});});}['multipartUpload'](M){var {file:N,blockId:O,key:P,assetType:Q,onPrepare:R,onBeforeUpload:S,onUploadProgress:T,OSSPath:U,ext:V,computedSize:W}=M;return new Promise((X,Y)=>K(this,null,function*(){var Z='';try{this['workspaceStore']['changeUploadFileCount']('add',O),this['ossClient']||(yield this['initOSSClient']());var a0=Object(x['b'])(),{name:a1,size:a2,type:a3}=N,a4=W||a2,a5=a1||''['concat'](Object(x['b'])())['concat'](V),a6=''['concat'](U,'/')['concat'](a0,'/')['concat'](a5);R&&R(a6),S&&S(this['credentials']);var {bucket:a7}=this['credentials'],a8={'id':a0,'type':Q,'fileName':a5['replace'](/(\.[^.]+)$/,a9=>a9['toLowerCase']()),'fileSize':a4,'contentType':a3,'bucket':a7,'fileUrl':a6};Q!==A['Y']['IMPORT']&&(yield Object(z['b'])(this['generateFormData'](I(I({},a8),O?{'blockId':O}:{})))),yield this['ossClient']['multipartUpload'](a6,N,{'parallel':this['parallel'],'partSize':this['partSize'],'progress':(a9,aa)=>{Z=aa['uploadId'],this['onMultipartUploadProgress'](a9,aa,{'file':N,'blockId':O,'key':P,'assetType':Q,'onPrepare':R,'onBeforeUpload':S,'onUploadProgress':T,'OSSPath':U,'ext':V,'computedSize':W});}}),Z&&this['checkpoints'][Z]&&delete this['checkpoints'][Z],this['workspaceStore']['changeUploadFileCount']('remove',O),X({'fileUrl':a6,'fileName':a5,'fileSize':a4,'bucket':a7,'recordData':a8});}catch(a9){'Multipart\x20upload\x20'['concat'](N['name'],'\x20failed\x20===\x20'),Z&&this['checkpoints'][Z]&&delete this['checkpoints'][Z],this['workspaceStore']['changeUploadFileCount']('remove',O),Y(a9);}}));}['resumeMultipartUpload'](M){return K(this,null,function*(){this['ossClient']||(yield this['initOSSClient']()),Object['values'](this['checkpoints'])['forEach'](N=>{var {uploadId:O,file:P}=N;this['ossClient']['multipartUpload'](O,P,{'parallel':this['parallel'],'partSize':this['partSize'],'progress':(Q,R)=>{this['onMultipartUploadProgress'](Q,R,M);},'checkpoint':N}),O&&this['checkpoints'][N['uploadId']]&&delete this['checkpoints'][N['uploadId']];});});}['onMultipartUploadProgress'](M,N,O){return K(this,null,function*(){O['onUploadProgress']({'progress':Number(0x64*M)['toFixed'](0x1)}),this['checkpoints'][N['uploadId']]=N;var {Expiration:P}=this['credentials'];P&&B(P)['subtract'](0x1,'minute')['isBefore'](B())&&(this['ossClient']&&this['ossClient']['cancel'](),yield this['getCredential'](),yield this['resumeMultipartUpload'](O));});}}J([w['b']],L['prototype'],'kitAPI',0x2),J([w['b']],L['prototype'],'workspaceStore',0x2),k['a']=L;},'qwOL':function(b,f,g){'use strict';var h=g('2vnA'),j=g('bXzw'),k=g('x9Bn'),m=g('9rbq'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],v=(y,z,A,B)=>{for(var C,D=B>0x1?void 0x0:B?q(z,A):z,E=y['length']-0x1;E>=0x0;E--)(C=y[E])&&(D=(B?C(z,A,D):C(D))||D);return B&&D&&p(z,A,D),D;},w=(y,z,A)=>new Promise((B,C)=>{var D=G=>{try{F(A['next'](G));}catch(H){C(H);}},E=G=>{try{F(A['throw'](G));}catch(H){C(H);}},F=G=>G['done']?B(G['value']):Promise['resolve'](G['value'])['then'](D,E);F((A=A['apply'](y,z))['next']());});Object(h['configure'])({'enforceActions':'never'});class x{constructor(){var y=this;this['accountType']=m['hb']?'email':'mobile',this['pageType']='login',this['mobile']='',this['countryCode']='+86',this['accountVerified']='',this['recommendCode']='',this['loginType']='',this['thirdAuthType']='',this['loginMode']='mobile',this['inInvitationLandingPage']=!0x1,this['secondStep']=!0x1,this['promoInfo']={},this['recommendUserInfo']=null,this['invitationSignup']=!0x1,this['thirdAuthStatus']='auth',this['wechatBindInfo']=null,this['dingtalkBindInfo']=null,this['wemeetBindInfo']=null,this['firstBoundDingTalkUnionId']=!0x1,this['setRecommendCode']=function(){for(var z=arguments['length'],A=new Array(z),B=0x0;B<z;B++)A[B]=arguments[B];return w(y,[...A],function*(){var C=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'',{fetchUserInfo:D=!0x1}=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{};C=C['trim']();try{yield Object(k['g'])(C),D&&(this['recommendUserInfo']=yield Object(k['m'])(C)),this['promoInfo']=yield Object(k['l'])(C),this['recommendCode']=C;}catch(E){console['error']('setRecommendCode:\x20error\x20'['concat'](E));}});};}['setThirdAuthStatus'](y){this['thirdAuthStatus']=y;}['reset'](){this['accountType']=m['hb']?'email':'mobile',this['pageType']='login',this['mobile']='',this['countryCode']='+86',this['accountVerified']='',this['recommendCode']='',this['loginType']='',this['thirdAuthType']='',this['loginMode']='mobile',this['initTheme']='',this['inInvitationLandingPage']=!0x1,this['secondStep']=!0x1,this['promoInfo']={},this['recommendUserInfo']=null,this['invitationSignup']=!0x1,this['thirdAuthStatus']='auth',this['wechatBindInfo']=null,this['dingtalkBindInfo']=null,this['firstBoundDingTalkUnionId']=!0x1;}}v([h['observable']],x['prototype'],'accountType',0x2),v([h['observable']],x['prototype'],'pageType',0x2),v([h['observable']],x['prototype'],'mobile',0x2),v([h['observable']],x['prototype'],'countryCode',0x2),v([h['observable']],x['prototype'],'accountVerified',0x2),v([h['observable']],x['prototype'],'recommendCode',0x2),v([h['observable']],x['prototype'],'loginType',0x2),v([h['observable']],x['prototype'],'thirdAuthType',0x2),v([h['observable']],x['prototype'],'loginMode',0x2),v([h['observable']],x['prototype'],'initTheme',0x2),v([h['observable']],x['prototype'],'inInvitationLandingPage',0x2),v([h['observable']],x['prototype'],'secondStep',0x2),v([h['observable']],x['prototype'],'promoInfo',0x2),v([h['observable']],x['prototype'],'recommendUserInfo',0x2),v([h['observable']],x['prototype'],'invitationSignup',0x2),v([h['observable']],x['prototype'],'thirdAuthStatus',0x2),v([h['observable']],x['prototype'],'wechatBindInfo',0x2),v([h['observable']],x['prototype'],'dingtalkBindInfo',0x2),v([h['observable']],x['prototype'],'wemeetBindInfo',0x2),v([h['observable']],x['prototype'],'firstBoundDingTalkUnionId',0x2),v([h['action']],x['prototype'],'setRecommendCode',0x2),v([h['action']],x['prototype'],'setThirdAuthStatus',0x1),v([h['action']],x['prototype'],'reset',0x1),f['a']=Object(j['a'])(x);},'r0k9':function(j,k,q){'use strict';var v=q('Y+p1'),w=q['n'](v),x=q('Wgwc'),z=q('njAx'),A=q['n'](z),B=q('f9x4'),C=q('llz1'),D=Object['defineProperty'],E=Object['defineProperties'],F=Object['getOwnPropertyDescriptors'],G=Object['getOwnPropertySymbols'],H=Object['prototype']['hasOwnProperty'],I=Object['prototype']['propertyIsEnumerable'],J=(M,N,O)=>N in M?D(M,N,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':O}):M[N]=O;x['locale'](((M,N)=>E(M,F(N)))(((M,N)=>{for(var O in N||(N={}))H['call'](N,O)&&J(M,O,N[O]);if(G){for(var O of G(N))I['call'](N,O)&&J(M,O,N[O]);}return M;})({},A['a']),{'weekStart':0x1}));var K=class{static['validate'](M,N,O){var P=K['actuators'][N];return P||console['error']('未实现日期类型'['concat'](N,'操作符')),P(M,this['formatFilterValue'](O));}static['convert'](M,N,O){if(K['actuators'][N]||console['error']('未实现日期类型'['concat'](N,'操作符')),!K['validate'](M,N,O)){var P=K['convertors'][N];P||console['error']('未实现日期类型\x20'['concat'](N,'\x20转换')),P(M,this['formatFilterValue'](O));}}},L=K;L['operators']=[B['k']['Equal'],B['k']['NotEqual'],B['k']['Empty'],B['k']['NotEmpty'],B['k']['LessThan'],B['k']['LessOrEqual'],B['k']['GreaterThan'],B['k']['GreaterOrEqual'],B['k']['WithIn']],L['formatFilterValue']=M=>{if(!M)return{'start':'','timezone':-0x1e0};if('string'==typeof M)return{'start':M,'timezone':-0x1e0};if('object'==typeof M){if('relative'===M['type']){var {value:N,timezone:O}=M;switch(N){case'today':return{'start':x()['format']('YYYY/MM/DD'),'timezone':O};case'tomorrow':return{'start':x()['add'](0x1,'day')['format']('YYYY/MM/DD'),'end':x()['add'](0x1,'day')['format']('YYYY/MM/DD'),'timezone':O};case'yesterday':return{'start':x()['add'](-0x1,'day')['format']('YYYY/MM/DD'),'end':x()['add'](-0x1,'day')['format']('YYYY/MM/DD'),'timezone':O};case'oneWeekAgo':return{'start':x()['add'](-0x1,'week')['format']('YYYY/MM/DD'),'end':x()['add'](-0x1,'week')['format']('YYYY/MM/DD'),'timezone':O};case'oneWeekFromNow':return{'start':x()['add'](0x1,'week')['format']('YYYY/MM/DD'),'end':x()['add'](0x1,'week')['format']('YYYY/MM/DD'),'timezone':O};case'oneMonthAgo':return{'start':x()['add'](-0x1,'month')['format']('YYYY/MM/DD'),'end':x()['add'](-0x1,'month')['format']('YYYY/MM/DD'),'timezone':O};case'oneMonthFromNow':return{'start':x()['add'](0x1,'month')['format']('YYYY/MM/DD'),'end':x()['add'](0x1,'month')['format']('YYYY/MM/DD'),'timezone':O};case'last7Days':return{'start':x()['add'](-0x7,'day')['format']('YYYY/MM/DD'),'end':x()['format']('YYYY/MM/DD'),'timezone':O};case'last30Days':return{'start':x()['add'](-0x1e,'day')['format']('YYYY/MM/DD'),'end':x()['format']('YYYY/MM/DD'),'timezone':O};case'thisWeek':return{'start':x()['day'](0x0)['format']('YYYY/MM/DD'),'end':x()['day'](0x7)['format']('YYYY/MM/DD'),'timezone':O};case'lastWeek':return{'start':x()['add'](-0x1,'week')['day'](0x0)['format']('YYYY/MM/DD'),'end':x()['add'](-0x1,'week')['day'](0x7)['format']('YYYY/MM/DD'),'timezone':O};case'nextWeek':return{'start':x()['add'](0x1,'week')['day'](0x0)['format']('YYYY/MM/DD'),'end':x()['add'](0x1,'week')['day'](0x7)['format']('YYYY/MM/DD'),'timezone':O};case'thisMonth':return{'start':x()['date'](0x1)['format']('YYYY/MM/DD'),'end':x()['date'](x()['daysInMonth']())['format']('YYYY/MM/DD'),'timezone':O};case'lastMonth':return{'start':x()['add'](-0x1,'month')['date'](0x1)['format']('YYYY/MM/DD'),'end':x()['add'](-0x1,'month')['date'](x()['add'](-0x1,'month')['daysInMonth']())['format']('YYYY/MM/DD'),'timezone':O};case'nextMonth':return{'start':x()['add'](0x1,'month')['date'](0x1)['format']('YYYY/MM/DD'),'end':x()['add'](0x1,'month')['date'](x()['add'](0x1,'month')['daysInMonth']())['format']('YYYY/MM/DD'),'timezone':O};case'thisYear':return{'start':x()['format']('YYYY/01/01'),'end':x()['format']('YYYY/12/31'),'timezone':O};case'lastYear':return{'start':x()['add'](-0x1,'year')['format']('YYYY/01/01'),'end':x()['add'](-0x1,'year')['format']('YYYY/12/31'),'timezone':O};case'nextYear':return{'start':x()['add'](0x1,'year')['format']('YYYY/01/01'),'end':x()['add'](0x1,'year')['format']('YYYY/12/31'),'timezone':O};default:return{'start':x()['format']('YYYY/MM/DD'),'end':x()['format']('YYYY/MM/DD'),'timezone':O};}}else{if('exact'===M['type']){var {value:P}=M,{start:Q,end:R,timezone:S}=P;return{'start':x(Q)['format']('YYYY/MM/DD'),'end':x(R)['format']('YYYY/MM/DD'),'timezone':S};}}}},L['actuators']={[B['k']['Equal']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!N['start']||!O)&&w()(x(O)['format']('YYYY/MM/DD'),x(N['start'])['format']('YYYY/MM/DD'));},[B['k']['NotEqual']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!N['start']||!O)&&!w()(x(O)['format']('YYYY/MM/DD'),x(N['start'])['format']('YYYY/MM/DD'));},[B['k']['LessThan']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O||!N['start'])&&x(O)['isBefore'](x(N['start']));},[B['k']['GreaterThan']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O||!N['start'])&&x(O)['isAfter'](x(N['start']));},[B['k']['LessOrEqual']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O||!N['start'])&&x(O)['isSameOrBefore'](x(N['start']));},[B['k']['GreaterOrEqual']]:(M,N)=>{var {value:O}=M['values']()['next']();return!(!O||!N['start'])&&x(O)['isSameOrAfter'](x(N['start']));},[B['k']['WithIn']]:(M,N)=>{var {value:O}=M['values']()['next']();return!!(O&&N['start']&&N['end'])&&(x(O)['isSameOrAfter'](x(N['start']))&&x(O)['isSameOrBefore'](x(N['end'])));},[B['k']['Empty']]:M=>0x0===M['size'],[B['k']['NotEmpty']]:M=>0x0!==M['size']},L['convertors']={[B['k']['Equal']]:(M,N)=>{M['clear'](),N['start']&&M['add'](x(N['start'])['format']('YYYY/MM/DD'));},[B['k']['NotEqual']]:(M,N)=>{M['clear'](),x()['isBefore'](x(N['start']))?M['add'](x(N['start'])['add'](-0x1,'day')['format']('YYYY/MM/DD')):M['add'](x(N['start'])['add'](0x1,'day')['format']('YYYY/MM/DD'));},[B['k']['LessThan']]:(M,N)=>{M['clear'](),N['start']&&M['add'](x(N['start'])['subtract'](0x1,'day')['format']('YYYY/MM/DD'));},[B['k']['GreaterThan']]:(M,N)=>{M['clear'](),N['start']&&M['add'](x(N['start'])['add'](0x1,'day')['format']('YYYY/MM/DD'));},[B['k']['LessOrEqual']]:(M,N)=>{M['clear'](),N['start']&&M['add'](x(N['start'])['format']('YYYY/MM/DD'));},[B['k']['GreaterOrEqual']]:(M,N)=>{M['clear'](),N['start']&&M['add'](x(N['start'])['format']('YYYY/MM/DD'));},[B['k']['WithIn']]:(M,N)=>{(M['clear'](),N['start']&&N['end'])?Math['abs'](x()['diff'](x(N['start']),'d'))<Math['abs'](x()['diff'](x(N['end']),'d'))?M['add'](x(N['start'])['format']('YYYY/MM/DD')):M['add'](x(N['end'])['format']('YYYY/MM/DD')):N['end']?M['add'](x(N['end'])['format']('YYYY/MM/DD')):M['add'](x(N['start'])['format']('YYYY/MM/DD'));},[B['k']['Empty']]:()=>{},[B['k']['NotEmpty']]:M=>{M['clear'](),M['add'](x(Date['now']())['format']('YYYY/MM/DD'));}},C['a']['registerValidator'](B['p']['Date'],L),C['a']['registerValidator'](B['p']['CreatedTime'],L),C['a']['registerValidator'](B['p']['LastEditedTime'],L);},'reI2':function(j,k,q){'use strict';var w=q('q1tI'),x=q['n'](w),z=q('Ty5D'),A=q('TyAF'),B=q('B5Rq'),C=q('odX6'),D=q('38Rj'),E=Object['defineProperty'],F=Object['defineProperties'],G=Object['getOwnPropertyDescriptors'],H=Object['getOwnPropertySymbols'],I=Object['prototype']['hasOwnProperty'],J=Object['prototype']['propertyIsEnumerable'],K=(O,P,Q)=>P in O?E(O,P,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':Q}):O[P]=Q,L=(O,P)=>{for(var Q in P||(P={}))I['call'](P,Q)&&K(O,Q,P[Q]);if(H){for(var Q of H(P))J['call'](P,Q)&&K(O,Q,P[Q]);}return O;},M=(O,P)=>F(O,G(P)),N=Object(A['b'])(O=>{var P=Object(C['b'])('userStore');x['a']['useEffect'](()=>{function U(V){V['key']===D['WOLAI_SCREEN_LOCKED']&&P['setScreenLocked'](V['newValue']);}return window['addEventListener']('storage',U),()=>window['removeEventListener']('storage',U);},[]);var Q=O,{component:R}=Q,S=((U,V)=>{var W={};for(var X in U)I['call'](U,X)&&V['indexOf'](X)<0x0&&(W[X]=U[X]);if(null!=U&&H){for(var X of H(U))V['indexOf'](X)<0x0&&J['call'](U,X)&&(W[X]=U[X]);}return W;})(Q,['component']),{screenLocked:T}=P;return x['a']['createElement'](z['b'],M(L({},S),{'render':U=>T?x['a']['createElement'](B['a'],M(L({},U),{'component':R})):x['a']['createElement'](R,L({},U))}));});k['a']=N;},'rtYl':function(J,Z,a0){'use strict';var a1=a0('Y+p1'),a2=a0['n'](a1),a3=a0('7tbW'),a4=a0['n'](a3),a5=a0('mwIZ'),a6=a0['n'](a5),a7=a0('BkRI'),a8=a0['n'](a7),a9=a0('1sra'),aa=a0('2vnA'),ab=a0('Rsoz'),ac=a0('sA5H'),ad=a0('9rbq'),ae=a0('Mucf'),af=a0('Rqgu'),ag=a0('paMO'),ah=a0('wxiS'),ai=a0('z7Vv'),aj=a0('OIS1'),ak=a0('OU5U'),al=a0('aD9L'),am=a0('qX4z'),an=a0('odX6'),ao=a0('GT8W'),ap=a0('cKhP'),aq=a0('Usk8'),ar=a0('XKpg'),as=a0('YfBr'),at=a0('KOQ7'),au=a0('O/L+'),av=a0('QrqS'),aw=a0('f9x4'),ax=a0('KiBK'),ay=a0('hcfp'),az=a0('bXzw'),aA=Object['defineProperty'],aB=Object['defineProperties'],aC=Object['getOwnPropertyDescriptor'],aD=Object['getOwnPropertyDescriptors'],aE=Object['getOwnPropertySymbols'],aF=Object['prototype']['hasOwnProperty'],aG=Object['prototype']['propertyIsEnumerable'],aH=(aN,aO,aP)=>aO in aN?aA(aN,aO,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aP}):aN[aO]=aP,aI=(aN,aO)=>{for(var aP in aO||(aO={}))aF['call'](aO,aP)&&aH(aN,aP,aO[aP]);if(aE){for(var aP of aE(aO))aG['call'](aO,aP)&&aH(aN,aP,aO[aP]);}return aN;},aJ=(aN,aO)=>aB(aN,aD(aO)),aK=(aN,aO,aP,aQ)=>{for(var aR,aS=aQ>0x1?void 0x0:aQ?aC(aO,aP):aO,aT=aN['length']-0x1;aT>=0x0;aT--)(aR=aN[aT])&&(aS=(aQ?aR(aO,aP,aS):aR(aS))||aS);return aQ&&aS&&aA(aO,aP,aS),aS;},aL=(aN,aO,aP)=>new Promise((aQ,aR)=>{var aS=aV=>{try{aU(aP['next'](aV));}catch(aW){aR(aW);}},aT=aV=>{try{aU(aP['throw'](aV));}catch(aW){aR(aW);}},aU=aV=>aV['done']?aQ(aV['value']):Promise['resolve'](aV['value'])['then'](aS,aT);aU((aP=aP['apply'](aN,aO))['next']());});Object(aa['configure'])({'enforceActions':'never'});class aM{constructor(){var aN=this;this['shortCutIcon']=ad['kb'],this['setShareTheme']=aP=>{this['shareTheme']=aP;},this['loadBlocksByIds']=Object(aa['flow'])(function*(aP,aQ){var aR=yield Object(ac['v'])(aQ['map'](aS=>({'table':ad['Db'],'id':aS})));this['dataStore']['syncBlockData'](aR);}),this['pullPageData']=function(aP){for(var aQ=arguments['length'],aR=new Array(aQ>0x1?aQ-0x1:0x0),aS=0x1;aS<aQ;aS++)aR[aS-0x1]=arguments[aS];return aL(aN,[aP,...aR],function*(aT){var aU=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,aV=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:[],{block:aW,position:aX,database_tables:aY={},database_views:aZ={}}=yield Object(ac['eb'])({'pageId':aT,'limit':0x12c,'position':{'stack':aV},'chunkNumber':aU});this['dataStore']['syncBlockData'](aW,!0x1),this['dataStore']['syncDataViews'](aZ),this['dataStore']['syncDataTables'](aY),aX['stack']&&aX['stack']['length']&&(yield this['pullPageData'](aT,aU+0x1,aX['stack']));});},this['copyPage']=(aP,aQ)=>aL(this,[aP,aQ],function*(aR,aS){var aT,{prevPageId:aU,newPageId:aV,parentId:aW=aV,spaceId:aX,ignorePageIconPageId:aY}=aR,aZ=this['dataStore']['getSourceId'](aU);aT=aS||new ag['a'](),yield this['pullPageData'](aZ),aT['block']['updateBlock'](aV,{'sub_nodes':[]});var b0=this['dataStore']['getBlockValue'](aZ,!0x0)['sub_nodes'],b1=[],b2=[];b0&&b0['forEach'](b4=>{if(b4!==aV){var b5=Object(aj['b'])(),{type:b6,source_id:b7,sub_nodes:b8,attributes:b9,setting:ba={},workspace_id:bb}=this['dataStore']['getBlockValue'](b4)||{},bc=a8()(ba);delete bc['block_locked'],delete bc['block_locked_by'],this['createCommonBlock'](aT,b5,aW,'','after')(b7?ad['y']['TEXT']:b6);var bd=this['blockAPI']['getNodeTitle'](b4);if(bd=this['copyTitle'](aT,{'spaceId':aX||this['spaceId'],'pageId':aV,'blockId':b5,'title':bd}),aT['block']['updateBlock'](b5,{'page_id':aV,'setting':bc,'attributes':aJ(aI({},b9),{'title':bd})}),b7)return Object(ac['g'])({'workspaceId':bb,'pageId':aV,'blockId':b5,'referencedBlockId':b7}),void aT['block']['updateBlock'](b5,{'source_id':b7});if(b6===ad['y']['PAGE'])this['copyPage']({'prevPageId':b4,'newPageId':b5});else{if(b6===ad['y']['DATABASE']){if(this['dataStore']['updateBlock'](b5,{'isLoading':!0x0}),!aS){var be=this['dataStore']['getBlockValue'](b4),bf=!0x1;if(be['page_id']){var bg=this['dataStore']['getBlockValue'](be['page_id']);bg['status']&&bg['status']!==ad['w']['ACTIVE']||(bf=!0x0);}var bh=this['dataStore']['getSourceId'](b4),bi=this['dataStore']['getSourceId'](aW);b1['push'](aI({'newParentId':bi,'newBlockId':b5,'newSpaceId':this['spaceStore']['spaceId'],'oldBlockId':bh,'newVersion':Number(be['version']||0x0)+0x1},bf?{'enableDeleted':bf}:{}));}}else b2=this['editorStore']['recursiveCopyAction']({'transaction':aT,'children':b8,'newId':b5,'pageId':aV}),b1=b1['concat'](b2),this['bulkModifyingPageId']({'transaction':aT,'id':b5,'pageId':aV});}}});var b3=a6()(this['dataStore']['getBlock'](aZ),['value','setting','page_icon']);b3&&aV!==aY&&aT['block']['updateBlock'](aV,{'page_icon':b3},['setting']),aS||aT['commit'](()=>{var b4=this['dataStore']['getSourceId'](aV),b5=this['dataStore']['getBlock'](b4);if(b5['value']['type']===ad['y']['PAGE']&&b5['value']['isLoading']){this['dataStore']['updateBlock'](b5['value']['id'],{'isLoading':!0x1});var b6=this['dataStore']['getBlockValue'](b5['value']['parent_id']);this['setBlockDirty'](b6),this['editorStore']['invokeObserver']();}b1['length']>0x0&&b1['forEach'](b7=>{var b8=this['dataStore']['getBlockValue'](b7['newBlockId']);Object(ay['a'])(b7)['then'](b9=>{var ba,bb,bc;b8['type']===ad['y']['PAGE']&&this['dataStore']['setPageLoaded'](b7['newBlockId'],!0x1),this['dataStore']['syncBlockData']([null==(ba=null==b9?void 0x0:b9['data'])?void 0x0:ba['newBlock']]),this['dataStore']['syncDataTables'](null==(bb=null==b9?void 0x0:b9['data'])?void 0x0:bb['tableMeta']),this['dataStore']['syncDataViews'](null==(bc=null==b9?void 0x0:b9['data'])?void 0x0:bc['tableViews']),this['dataStore']['updateBlockDirty'](b7['newBlockId'],!0x0),this['setBlockDirty'](b8),this['editorStore']['invokeObserver']();});});});}),this['toSendUserNotice']=(aP,aQ,aR,aS)=>{var aT=this['dataStore']['getBlockProperty'](aQ,'attributes.title',[['']]),aU=this['blockAPI']['getTitlePlainTextByTitle'](aT)||ab['a']['t'](ad['cb']['UNTITLED_PAGE'],'新页面',{'ns':'editor'}),aV={'toSpaceId':aP,'toUserId':aS,'content':{'page_id':aQ,'block_id':aR},'noticeMessage':{'send_user':this['userStore']['userId'],'send_time':new Date(),'type':'mention','send_msg':ab['a']['t']('stores.blockStore.mentionNoticeMessage','{{userName}}\x20在\x20{{content}}\x20页面@你',{'ns':'editor','userName':this['userStore']['userName'],'content':aU}),'ref_block':{'id':aR,'page':aQ,'title':aU}},'noticeType':0x1};Object(ac['jb'])(aV);},this['isTemplateButtonChild']=aP=>{for(var aQ=this['dataStore']['getBlockValue'](aP);(null==aQ?void 0x0:aQ['id'])&&![ad['y']['TEMPLATE_BUTTON'],'workspace']['includes'](aQ['parent_type']);)aQ=this['dataStore']['getBlockValue'](aQ['parent_id']);return(null==aQ?void 0x0:aQ['parent_type'])===ad['y']['TEMPLATE_BUTTON'];},this['emitTitleMentionMsg']=aP=>{var {spaceId:aQ,pageId:aR,blockId:aS,title:aT}=aP,aU=this['pageStore']['isWorkspacePermission'](aR),aV=this['pageStore']['isSharedPermission'](aR);if(aU||aV){var aW=[],aX=!0x1;if(aT['forEach'](b1=>{if(!aX&&b1[0x1]){var b2=b1[0x1]['findIndex'](b6=>'Mention'===b6[0x0]);if(-0x1!==b2){var b3=b1[0x1][b2],b4=b3[0x1],b5=b3[0x2]||'';'member'===b4&&b5&&('all'===b5?aX=!0x0:aW['push'](b5));}}}),!this['isTemplateButtonChild'](aS)&&(aW['length']>0x0||aX)){if(aX){var aY=[],aZ=Object(aa['toJS'])(this['memberStore']['currentWorkspaceMembers']);for(var b0 in aZ)aY['push'](b0);aW=aY;}this['toSendUserNotice'](aQ,aR,aS,aW);}}},this['copyTitle']=(aP,aQ)=>(this['emitTitleMentionMsg'](aQ),this['biLinkStore']['copyTitleReference'](aP,aQ)),this['reconcileBlocks']=aP=>{if(aP['options']['ignoreLock']||!this['screenStore']['pageLocked']){for(var aQ=new Date()['getTime'](),aR=function(aT){var aU=aP['operations'][aT];if(aU['done'])return'continue';var aV=void 0x0;if(aU['table']===ad['Db'])aN['dataStore']['getBlock'](aU['id'])||(aN['dataStore']['blocks'][aU['id']]={'role':'all','active':!0x0,'value':{'id':aU['id'],'attributes':{},'init':!0x0},'isPublic':aN['screenStore']['currentScreen']['isNotInWorkspace']}),(aV=aN['dataStore']['getBlockValue'](aU['id']))['edited_time']=aQ,aV['edited_by']=aN['userStore']['userId'];else{if(aU['table']===ad['yc']){if(!(aV=aN['dataStore']['spaceBlocks'][aU['id']]))return'continue';}else{if(aU['table']===ad['Jb']){if(aV=aN['dataStore']['getDataTable'](aU['id'])){var aW=aN['dataStore']['getDataTable'](aU['id']);Object['assign'](aW,{'last_edit_user':aN['userStore']['userId'],'last_edit_time':aQ});}else aN['dataStore']['syncDataTables']({[aU['id']]:a8()(aU['args'])},!0x1);aV=aN['dataStore']['getDataTable'](aU['id']);}else{if(aU['table']===ad['Lb'])(aV=aN['dataStore']['getDataView'](aU['id']))||aN['dataStore']['syncDataViews']({[aU['id']]:a8()(aU['args'])},!0x1),aV=aN['dataStore']['getDataView'](aU['id']);else{if(aU['table']!==ad['Kb'])return'continue';var {table_id:aX}=aU['extend'];if(0x1!==(null==(aV=aN['dataStore']['getDataRow'](aX,aU['id']))?void 0x0:aV['status'])){var aY=aU['args'],aZ=aJ(aI(aI({},aV||{'created_by':aN['userStore']['userId'],'created_time':aQ}),aY),{'edited_by':aN['userStore']['userId'],'edited_time':aQ});aN['dataStore']['syncDataRows'](aX,[a8()(aZ)]);var {view_id:b0,prev_block_id:b1,isTemplate:b2}=aU['extend'];if(!b2){var b3=aN['dataStore']['getDataView'](b0);aN['databaseViewStore']['getDataView'](b3['block_id'])['insertRow'](aU['id'],b1);}}else{Object['assign'](aV,{'edited_by':aN['userStore']['userId'],'edited_time':aQ});var b4=aN['dataStore']['getDataTable'](aX);Object['assign'](b4,{'last_edit_user':aN['userStore']['userId'],'last_edit_time':aQ});}aV=aN['dataStore']['getDataRow'](aX,aU['id'])||{};}}}}for(var b5=a8()(aU['args']),b6=aU['path']['length']?aU['path'][aU['path']['length']-0x1]:'',b7=0x0;b7<aU['path']['length']-0x1;b7++)aV[aU['path'][b7]]||(aV[aU['path'][b7]]={}),aV=aV[aU['path'][b7]];var b8=[];if([ae['e']['SET'],ae['e']['UPDATE'],ae['e']['UPDATE_COMMENT'],ae['e']['UPDATE_PERMISSION'],ae['e']['UPDATE_TABLE'],ae['e']['DELETE']]['includes'](aU['command'])){if(b6)b8['push'](aV),'attributes'===b6&&Object['keys'](aN['dataStore']['blocks'])['filter'](bk=>aN['dataStore']['getSourceId'](bk)===aN['dataStore']['getSourceId'](aU['id'])&&bk!==aU['id'])['forEach'](bk=>{var bl=aN['dataStore']['getBlockValue'](bk);bl&&b8['push'](bl);}),b8['forEach'](bk=>{Array['isArray'](b5)?bk[b6]=b5:'object'==typeof b5?bk[b6]?Object['assign'](bk[b6],Object(ai['d'])(b5)):bk[b6]=Object(ai['d'])(b5):bk[b6]=b5;});else{if(aU['table']===ad['Kb']?Object['assign'](aV,b5):Object['assign'](aV,Object(ai['d'])(b5)),b5['tableviews'])aN['databaseViewStore']['getDatabase'](aU['id'])['listViewChange'](aV['tableviews']);}if(aU['command']===ae['e']['SET']&&aU['table']===ad['Jb']&&aN['databaseViewStore']['getDatabase'](b5['block_id']),aU['command']===ae['e']['UPDATE']&&aU['table']===ad['Kb']&&0x0===aV['status']){var {view_id:b9,isTemplate:ba}=aU['extend'];if(!ba){var bb=aN['dataStore']['getDataView'](b9);aN['databaseViewStore']['getDataView'](bb['block_id'])['deleteRow'](aU['id']);}}}else{if(aU['command']===ae['e']['LIST_AFTER']&&b6){var bc,bd;if('object'==typeof b5?(bc=b5['after'],bd=b5['id']):bd=b5,bc&&aV[b6]){var be=aV[b6]['indexOf'](bc);aV[b6]['splice'](be+0x1,0x0,bd);}else aV[b6]=aV[b6]||[],aV[b6]['push'](bd);}else{if(aU['command']===ae['e']['LIST_BEFORE']&&b6){var bf,bg;if('object'==typeof b5?(bf=b5['before'],bg=b5['id']):bg=b5,bf){var bh=aV[b6]['indexOf'](bf);aV[b6]['splice'](bh,0x0,bg);}else aV[b6]=aV[b6]||[],aV[b6]['unshift'](bg);}else{if(aU['command']===ae['e']['LIST_REMOVE']&&b6){var bi;if(bi='object'==typeof b5?b5['id']:b5,aV[b6]){var bj=aV[b6]['indexOf'](bi);bj>=0x0&&aV[b6]['splice'](bj,0x1);}}}}}if(aU['done']=!0x0,aU['table']===ad['yc'])aN['spaceStore']['updateWorkspace'](aV['id'],aV);else{if([ad['Kb'],ad['Jb'],ad['Lb']]['includes'](aU['table']))return'continue';b8['length']?(b8['forEach'](bk=>{aN['setBlockDirty'](bk),aN['noticeProgressBar'](bk,aU);}),as['a']['syncToBlockDB'](b8)):(aN['setBlockDirty'](aV),aN['noticeProgressBar'](aV,aU),as['a']['syncToBlockDB'](aV));}},aS=0x0;aS<aP['operations']['length'];aS++)aR(aS);}},this['noticeProgressBar']=(aP,aQ)=>{var {command:aR,args:aS}=aQ,{type:aT,checked:aU,id:aV}=aS||{},{type:aW,parent_id:aX,id:aY}=aP,aZ=this['dataStore']['getBlockProperty'](aY,'type',!0x0),b0=[ad['y']['TODO_LIST'],ad['y']['TODO_LIST_PRO'],ad['y']['TOGGLE_TODO_LIST'],ad['y']['TOGGLE_TODO_LIST_PRO']];if(aW!==ad['y']['PROGRESS_BAR']&&[ae['e']['UPDATE']]['includes'](aR)&&(b0['includes'](aT)||b0['includes'](aZ)||aU)&&!this['dataStore']['isTopPage'](aP)){var b1=this['dataStore']['getSourceId'](aX);aq['b']['emit']('update_progress_'['concat'](b1),{});}if([ae['e']['LIST_BEFORE'],ae['e']['LIST_AFTER'],ae['e']['LIST_REMOVE']]['includes'](aR)&&'workspace'!==aW){var b2=this['dataStore']['getBlockProperty'](aV,'type');if([...b0,ad['y']['PROGRESS_BAR']]['includes'](b2)){var b3=this['dataStore']['getSourceId'](aY);aq['b']['emit']('update_progress_'['concat'](b3),{});}}},this['setBlockDirty']=function(aP){var aQ=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],aR=!(arguments['length']>0x2&&void 0x0!==arguments[0x2])||arguments[0x2],aS=[],aT=function(){var aV=aP['id'];if(aS['push'](aV),aN['dataStore']['updateBlockDirty'](aV,aR),!aQ){var aW=Object['keys'](aN['dataStore']['blocks'])['filter'](aX=>aN['dataStore']['getSourceId'](aX)===aN['dataStore']['getSourceId'](aV)&&aX!==aV);aW['push'](...aN['biLinkStore']['getRelation'](aV)),a4()(aW)['forEach'](aX=>{aS['push'](aX);var aY=aN['dataStore']['getBlockValue'](aX);aN['setBlockDirty'](aY,!0x0);});}if(aS['includes'](aP['parent_id']))return'break';aP=aN['dataStore']['getBlockValue'](aP['parent_id']);};do{var aU=aT();if('break'===aU)break;}while(aP['id']&&aP['type']!==ad['y']['PAGE']);},this['reconstructBlocks']=(aP,aQ)=>{var aR=this['dataStore']['getBlockValue'](aQ),aS=this['dataStore']['getBlockProperty'](this['pageId'],'sub_nodes')['indexOf'](aQ),aT=aR['sub_nodes'][0x0];if(aT){var aU=this['dataStore']['getBlockValue'](aT);if(aU['id'])for(var aV=aU['sub_nodes']['length']-0x1;aV>=0x0;aV--){var aW=aU['sub_nodes'][aV];this['deleteBlock'](aP,aW),this['insertBlock'](aP,this['pageId'],aW,'after',aS);}}aP['block']['deleteBlock'](aQ,this['pageId']);},this['updateBlock']=(aP,aQ,aR)=>{aR['block']['updateBlock'](aP,aQ,[]);},this['updateBlockContent']=(aP,aQ,aR)=>{var aS,aT=this['dataStore']['getBlockValue'](aP);return aT['id']?(aR instanceof ag['a']?(aS=aR)['block']['setBlockContent'](aT['id'],aQ):((aS=new ag['a']())['block']['setBlockContent'](aT['id'],aQ),aS['commit'](aR)),aS):null;},this['updateBlockComment']=(aP,aQ,aR)=>{var aS,aT=this['dataStore']['getBlockValue'](aP);return aT['id']?(aR instanceof ag['a']?(aS=aR)['block']['setBlockComment'](aT['id'],aQ):((aS=new ag['a']())['block']['setBlockComment'](aT['id'],aQ),aS['commit'](aR)),aS):null;},this['updateColumnFlex']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'setting':{'flex':aR}}),this['editorUI']['debounceRecalculateBlockPosition'](this['screenStore']['screenId']);},this['setBlockFormat']=(aP,aQ,aR)=>{aP['block']['setBlockFormat'](aQ,aR);},this['setBlockText']=(aP,aQ,aR)=>{aP['block']['setBlockContent'](aQ,{'title':aR});},this['updateDatabaseBlock']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,aR,[]);},this['createDataTable']=(aP,aQ,aR)=>{var aS=Object(au['a'])(aR['blockId'],aQ,aR['databaseId'],aR['viewId']),aT=Object(av['a'])(aS,aR['blockId'],{'view_id':aR['viewId']},aQ),aU=[];if(aT['type']===aw['h']['Form']){var aV=Object(aj['b'])(),aW=Object(av['a'])(aS,aR['blockId'],{'view_id':aV},aw['h']['Table']);aP['database']['createDataView'](aV,{'view':aW,'block_id':aR['blockId']}),aU['push'](aV);}aU['push'](aR['viewId']),aP['database']['createDataTable'](aR['databaseId'],aS),aP['database']['createDataView'](aR['viewId'],{'view':aT,'block_id':aR['blockId']}),aP['database']['changeDataViewOrder'](aR['blockId'],aU);},this['renameFileName']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'alias':aR},['attributes']);},this['setCodeCaption']=(aP,aQ,aR)=>{aP['block']['setBlockContent'](aQ,{'caption':aR});},this['filterPageBlocks']=function(){var aP=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],aQ=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[];return aP['length']&&aP['forEach'](aR=>{var {type:aS,sub_nodes:aT,id:aU}=aN['dataStore']['getBlockValue'](aR);ad['vb']['includes'](aS)?aN['filterPageBlocks'](aT,aQ):aQ['push'](aU);}),aQ;},this['convertToNoSubNodes']=aP=>{var {transaction:aQ,id:aR,resetSelectedNodes:aS}=aP,aT=this['dataStore']['getBlockValue'](aR),aU=this['dataStore']['getBlockValue'](aT['parent_id']),aV=aU['sub_nodes']['indexOf'](aR);if(aT['sub_nodes']&&aT['sub_nodes']['length'])for(var aW=aT['sub_nodes']['length']-0x1;aW>=0x0;aW--){var aX=aT['sub_nodes'][aW];this['deleteBlock'](aQ,aX),this['insertBlock'](aQ,aU['id'],aX,'after',aV);}aS&&this['editorUI']['setSelectedNode'](aR);},this['convertPageToNormal']=aP=>aL(this,[aP],function*(aQ){var {transaction:aR,id:aS,resetSelectedNodes:aT}=aQ,aU=this['dataStore']['getSourceId'](aS),aV=this['dataStore']['getBlockProperty'](aU,'page_id');if(aV){yield this['pullPageData'](aS);var {sub_nodes:aW}=this['dataStore']['getBlockValue'](aS)||{},aX=this['filterPageBlocks'](aW);aR['block']['updateBlock'](aS,{'sub_nodes':[]}),Object(ak['a'])(...aX['map'](aY=>(aZ,b0)=>b0(this['editorStore']['duplicateBlock']({'nodeId':aY,'parentId':aS,'prevId':aZ['newId'],'extraTrans':aR,'autoHighlight':!0x1,'create':!0x1,'pageId':aV}))),()=>{aT&&this['editorUI']['setSelectedNode'](aS);})({'newId':aS,'childNeedCloneList':[]});}}),this['convertToPage']=aP=>{var {transaction:aQ,id:aR,pageId:aS,resetSelectedNodes:aT}=aP,{bulkModifyingPageId:aU}=this;this['dataStore']['updateBlock'](aR,{'isLoading':!0x0}),aU({'transaction':aQ,'id':aR,'pageId':aS}),aT&&this['editorUI']['setSelectedNode'](aR);},this['convertPageToHeader']=aP=>aL(this,[aP],function*(aQ){var {transaction:aR,id:aS,resetSelectedNodes:aT}=aQ,{sub_nodes:aU,parent_id:aV}=this['dataStore']['getBlockValue'](aS),{type:aW}=this['dataStore']['getBlockValue'](aV),aX=this['dataStore']['getSourceId'](aS),aY=this['dataStore']['getBlockProperty'](aX,'page_id');if(aY){yield this['pullPageData'](aS);var aZ=aW!==ad['y']['PAGE']?this['filterPageBlocks'](aU):aU;aR['block']['updateBlock'](aS,{'sub_nodes':[]}),Object(ak['a'])(...aZ['map'](b0=>(b1,b2)=>b2(this['editorStore']['duplicateBlock']({'nodeId':b0,'parentId':aV,'prevId':b1['newId'],'extraTrans':aR,'autoHighlight':!0x1,'create':!0x1,'pageId':aY}))),()=>{aT&&this['editorUI']['setSelectedNode'](aS);})({'newId':aS,'childNeedCloneList':[]});}}),this['setBlockType']=aP=>aL(this,[aP],function*(aQ){var aR,aS,aT,aU,{transaction:aV,id:aW,type:aX,prevType:aY,resetSelectedNodes:aZ=!0x0,language:b0}=aQ;if(!this['dataStore']['isTopPage'](aW)){if(aV['block']['setBlockType'](aW,aX),[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](aY)&&this['pageStore']['adjustPages'](this['dataStore']['getBlockProperty'](aW,'page_id'),aW,'remove'),[ad['y']['PAGE'],ad['y']['DATABASE']]['includes'](aY)&&this['pageStore']['adjustPages'](this['dataStore']['getBlockProperty'](aW,'page_id'),aW,'add'),!ad['l']['includes'](aX)||aY!==ad['y']['PAGE']){if(aX===ad['y']['CODE']){aY===ad['y']['PAGE']&&(yield this['convertPageToNormal']({'id':aW,'transaction':aV,'resetSelectedNodes':!0x1}));var b1=this['blockAPI']['getNodeTitle'](aW)['map'](b5=>{var b6=b5[0x1]&&b5[0x1]['filter'](b7=>!['BiLink','Equation']['includes'](b7[0x0]));return[b5[0x0],b6||[]];}),b2=b0?Object(ah['a'])(b0):[],b3=(null==(aR=b2[0x0])?void 0x0:aR['name'])?'纯文本'===(null==(aS=b2[0x0])?void 0x0:aS['name'])?'text':'仪表数字'===(null==(aT=b2[0x0])?void 0x0:aT['name'])?'ybsz':null==(aU=b2[0x0])?void 0x0:aU['name']:void 0x0;return aV['block']['setBlockContent'](aW,{'title':b1,'language':b3,'previewFormat':'both'}),this['convertToNoSubNodes']({'transaction':aV,'id':aW,'resetSelectedNodes':aZ});}if(aY===ad['y']['PAGE']&&aX!==aY)return yield this['convertPageToNormal']({'transaction':aV,'id':aW,'resetSelectedNodes':aZ}),void this['pageStore']['removeRelativeRecord'](aV,aW);if(aX===ad['y']['PAGE']&&aX!==aY){var b4=this['pageStore']['getPageDefaultSetting']();return this['setBlockFormat'](aV,aW,aI({},b4)),aV['block']['setBlockContent'](aW,{'title':[[this['blockAPI']['getTitlePlainTextById'](aW)]]}),this['convertToPage']({'transaction':aV,'id':aW,'pageId':aW,'resetSelectedNodes':aZ});}return ad['pb']['includes'](aX)?this['convertToNoSubNodes']({'transaction':aV,'id':aW,'resetSelectedNodes':aZ}):void 0x0;}yield this['convertPageToHeader']({'transaction':aV,'id':aW,'resetSelectedNodes':aZ});}}),this['setCalloutMarquee']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'marquee':aR},['attributes']);},this['checkBlock']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'checked':aR},['attributes']);},this['changeTemplateBtnAddPosition']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'isPrev':aR},['attributes']);},this['changeTemplateBtnColor']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'template_button_color':aR},['setting']);},this['changeTemplateBtnOneTimeConfig']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'oneTime':aR},['attributes']);},this['changeTableCell']=(aP,aQ,aR,aS)=>{var {value:aT,change:aU}=aR,aV=aP||new ag['a']();aS&&aT&&(this['updateTableMentionDate'](aQ,aS,aT),this['updateTableNote'](aQ,aS,aT)),aV['block']['updateTableBlock'](aQ,aT,aU),!aP&&aV['commit']();},this['updateTableNote']=function(aP){var aQ=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[],aR=arguments['length']>0x2?arguments[0x2]:void 0x0;(aQ['length']>0x0?aQ['some'](aS=>{var aT=aN['getCellTitleByCellId'](aR,aS);return aN['notePopperStore']['compareHasChange'](aT,aP,aS);}):aR['some'](aS=>aS['column']['some'](aT=>{var aU=a6()(aT,'attributes.title')||[['']];return aN['notePopperStore']['compareHasChange'](aU,aP,aT['id']);})))&&aN['editorStore']['addMissionExecuteAfterRender'](()=>{aN['editorStore']['invokeObserver'](),aN['editorStore']['moveCursorAfterRender']({'id':aP,'cellId':aN['editorUI']['cursorPos']['cellId'],'isCodeCaption':aN['editorUI']['cursorPos']['isCodeCaption'],'position':aN['editorUI']['cursorPos']['pos']});});},this['updateTableMentionDate']=function(aP){var aQ=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:[],aR=arguments['length']>0x2?arguments[0x2]:void 0x0,aS=!0x1;aQ['length']>0x0?aQ['forEach'](aT=>{if(!aS){var aU=aN['getCellTitleByCellId'](aR,aT);aS=aN['updateCellMentionDate'](aP,aT,aU);}}):aR['forEach'](aT=>{aS||aT['column']['forEach'](aU=>{if(!aS){var aV=a6()(aU,'attributes.title')||[['']];aS=aN['updateCellMentionDate'](aP,aU['id'],aV);}});}),aS&&Object(at['a'])({'blockId':aP,'blockCells':aR});},this['getCellTitleByCellId']=(aP,aQ)=>{var aR=[['']];return aP['forEach'](aS=>{var aT=aS['column']['find'](aU=>aU['id']===aQ);aT&&(aR=a6()(aT,'attributes.title')||[['']]);}),aR;},this['changeTableCellComment']=(aP,aQ,aR)=>{var aS=aP||new ag['a']();aS['block']['updateBlock'](aQ,{'cells':aR},['attributes'],ae['e']['UPDATE_COMMENT']),!aP&&aS['commit']();},this['changeTableWidth']=(aP,aQ,aR)=>{aP['block']['updateBlock'](aQ,{'flex':aR},['setting']);},this['getImageUrl']=(aP,aQ,aR,aS,aT,aU)=>aL(this,null,function*(){var aV=new FormData();if(aV['append']('filename',aP),aQ){aV['append']('bucket',aQ);var aW='';if('wolai-non-secure'===aQ&&(aW=''['concat']('https://non-secure.wostatic.cn','/')['concat'](aP)),aW)return Object(ar['c'])(aW,aR);}return aR&&aV['append']('width',''['concat'](aR*Math['max'](Math['round'](window['devicePixelRatio'])||0x2,0x2))),aS&&aV['append']('blockId',this['dataStore']['getSourceId'](aS)),aT&&aV['append']('uncheckPermission',aT),aU&&aV['append']('returnSource',aU),yield af['a']['getSignedDisplayUrl'](aV);}),this['getDownloadImageUrl']=(aP,aQ,aR)=>aL(this,null,function*(){var aS=new FormData();return aS['append']('filename',aP),aQ&&aS['append']('bucket',aQ),aR&&aS['append']('blockId',aR),yield af['a']['getSignedDownloadUrl'](aS);}),this['getShortCutIcon']=(aP,aQ)=>{var aR=ad['kb'];if(aP&&Array['isArray'](aP)){var aS=aP[0x0]||'',aT=aP[0x1]||'',aU=document['createElement']('canvas');aU['width']=0x14,aU['height']=0x14;var aV=aU['getContext']('2d');if('emoji'===aS||'native'===aS){if(aV['font']='14px\x20Sans-Serif',Object(al['g'])()||Object(al['f'])())aV['fillText'](aT,0x1,0xe),aR=aU['toDataURL']('image/png')||ad['kb'];else{var aW=''['concat'](ad['d'])['concat'](Object(ao['b'])(aT),'.svg');aR=aW||ad['kb'];}this['changeShortCutIcon'](aR);}else{if('fontAwesome'===aS){var aX=aT['split']('-'),aY=aX[0x0],aZ=aX[aX['length']-0x1],b0=aX[aX['length']-0x2],b1=Object(ap['a'])(this['workspaceStore']['theme'])['find'](b5=>b5['value']===aZ||b5['color']===aZ);if(b1?aZ=b1['color']:(aZ['startsWith']('&')&&(b0=aZ),aZ=/#[A-Fa-f0-9]{6}/['test'](aZ)?aZ:'#000000'),!b0)return void(aR=ad['kb']);var b2='Font-Awesome-Brands',b3='400';'fab'===aY?(b2='Font-Awesome-Brands',b3='400'):'fas'===aY?(b2='Font-Awesome-Solid',b3='900'):(b2='Font-Awesome-Regular',b3='400');var b4=document['getElementById']('shortCut');b4||((b4=document['createElement']('div'))['id']='shortCut',document['body']['appendChild'](b4)),b4['innerHTML']=b0,b4['style']['fontFamily']=b2,b4['style']['fontWeight']=b3,b4['style']['display']='none',aV['fillStyle']=aZ,aV['font']=''['concat'](b3,'\x2014px\x20')['concat'](b2),setTimeout(()=>{document['fonts']&&document['fonts']['ready']['then'](()=>{aV['fillText'](b4['innerHTML'],0x1,0xe),aR=aU['toDataURL']('image/png')||ad['kb'],this['changeShortCutIcon'](aR);});},0x0);}else'upload'===aS?this['getImageUrl'](aT[0x0],aT[0x1],0x18,aQ)['then'](b5=>{aR=b5||ad['kb'],this['changeShortCutIcon'](aR);})['catch'](()=>{aR=ad['kb'],this['changeShortCutIcon'](aR);}):(aR=aT||ad['kb'],this['changeShortCutIcon'](aR));}}else aR=ad['kb'],this['changeShortCutIcon'](aR);},this['changeShortCutIcon']=aP=>{this['shortCutIcon']!==aP&&(this['shortCutIcon']=aP,document['head']['querySelectorAll']('link')['forEach'](aQ=>{if('icon'===aQ['rel']){var {link:aR}=Object(a9['a'])(aP,{'spaceId':this['spaceStore']['spaceId'],'userId':this['userStore']['userId']});aQ['href']=aR;}}));},this['changeBlockIcon']=(aP,aQ,aR,aS)=>{var aT=aS?[aR,aS]:'';this['dataStore']['getBlockValue'](aQ)['id']===this['pageId']&&this['getShortCutIcon'](aT,aQ),aP['block']['updateBlock'](aQ,{'page_icon':aT},['setting']);},this['createCommonBlock']=function(aP){for(var aQ=arguments['length'],aR=new Array(aQ>0x1?aQ-0x1:0x0),aS=0x1;aS<aQ;aS++)aR[aS-0x1]=arguments[aS];return aT=>{var aU=aR[0x1],aV=aN['dataStore']['getBlockProperty'](aU,'type');aP['block']['createCommonBlock'](aT,aV,...aR);};},this['createColumnBlock']=function(aP){for(var aQ=arguments['length'],aR=new Array(aQ>0x1?aQ-0x1:0x0),aS=0x1;aS<aQ;aS++)aR[aS-0x1]=arguments[aS];aP['block']['createCommonBlock']('column','row',...aR);},this['createRowBlock']=function(aP){for(var aQ=arguments['length'],aR=new Array(aQ>0x1?aQ-0x1:0x0),aS=0x1;aS<aQ;aS++)aR[aS-0x1]=arguments[aS];aP['block']['createCommonBlock']('row','page',...aR);},this['resetColumnFlex']=(aP,aQ,aR)=>{var {sub_nodes:aS}=this['dataStore']['getBlockValue'](aQ),aT=aR/aS['length'];aS['forEach'](aU=>{var aV=a6()(this['dataStore']['getBlockValue'](aU),'setting.flex')||0x0;this['updateColumnFlex'](aP,aU,aV+aT);});},this['deleteBlock']=(aP,aQ,aR)=>{var aS;if('string'==typeof aQ?aS=this['dataStore']['getBlockValue'](aQ):'object'==typeof aQ&&(aS=aQ),aS&&aS['id']){aS['parent_type']===ad['y']['DATABASE']?aP['block']['deleteDatabaseRowBlock'](aS['id']):aP['block']['deleteBlock'](aS['id'],aS['parent_id']);var aT=this['dataStore']['getBlockValue'](aS['parent_id']);'column'!==aT['type']||0x0!==aT['sub_nodes']['length']||aR||(aP['block']['deleteBlock'](aT['id'],aT['parent_id']),this['resetColumnFlex'](aP,aT['parent_id'],aT['setting']['flex']));}ax['a']['deleteRow'](aS['id'],aP);},this['ifHoistBlock']=(aP,aQ)=>{var aR=this['dataStore']['getBlockValue'](aQ);if(aR['source_id'])return!0x1;var aS=this['dataStore']['getBlockValue'](aR['parent_id']),aT=aS['sub_nodes']['indexOf'](aR['id'])!==aS['sub_nodes']['length']-0x1,aU=!['row','column']['includes'](aS['type']),aV=aR['parent_id']===this['pageId']||'column'===aS['type']||aT&&aU;if(aR['type']===ad['y']['TEXT']&&aV){var aW=aS['sub_nodes']['indexOf'](aQ);if(aR['sub_nodes']&&aR['sub_nodes']['length']){for(var aX=aR['sub_nodes']['length']-0x1;aX>=0x0;aX--){var aY=aR['sub_nodes'][aX];this['deleteBlock'](aP,aY),this['insertBlock'](aP,aS['id'],aY,'after',aW);}return!0x0;}}return!0x1;},this['bulkModifyingPageId']=aP=>{var {transaction:aQ,id:aR,pageId:aS,firstStack:aT=!0x0}=aP,{sub_nodes:aU=[],type:aV}=this['dataStore']['getBlockValue'](aR);aU['length']&&aU['forEach'](aW=>{aT&&aQ['block']['updateBlock'](aW,{'parent_type':aV});var aX=this['dataStore']['getBlockProperty'](aW,'page_id');this['dataStore']['updateBlock'](aW,{'page_id':aS}),aQ['memory']['push']({'id':aW,'page_id':aS}),aQ['memoryHistory']['push']({'id':aW,'page_id':aX}),this['dataStore']['getBlockProperty'](aW,'type')!==ad['y']['PAGE']&&this['bulkModifyingPageId']({'transaction':aQ,'id':aW,'pageId':aS,'firstStack':!0x1});});},this['insertBlock']=(aP,aQ,aR,aS,aT)=>{var aU=this['dataStore']['getBlockValue'](aQ),{type:aV,sub_nodes:aW=[]}=aU,aX=this['dataStore']['getBlockValue'](aR);if(aX['id']){var aY;void 0x0!==aT?aY=aW[aT]:'before'===aS?aY=aW[0x0]:'after'===aS&&(aY=aW[aW['length']-0x1]);var aZ=aU['type']===ad['y']['PAGE']?this['dataStore']['getSourceId'](aU['id']):aU['page_id'];aZ!==aX['page_id']&&(aP['block']['updateBlock'](aX['id'],{'page_id':aZ}),aX['type']!==ad['y']['PAGE']&&this['bulkModifyingPageId']({'transaction':aP,'id':aX['id'],'pageId':aZ})),aP['block']['insertBlock'](aX['id'],aX['parent_id'],{'siblingId':aY,'type':aS,'newParentId':aQ,'newParentType':aV});}},this['moveBlock']=(aP,aQ,aR,aS)=>{var aT=this['dataStore']['getBlockValue'](aR);aT['id']&&(this['deleteBlock'](aP,aR),aQ!==aT['parent_id']&&aQ!==aT['page_id']&&(aP['block']['updateBlock'](aT['id'],{'page_id':aQ}),aT['type']!==ad['y']['PAGE']&&this['bulkModifyingPageId']({'transaction':aP,'id':aT['id'],'pageId':aQ})),aP['block']['insertBlock'](aT['id'],aT['parent_id'],{'siblingId':'','type':aS,'newParentId':aQ,'newParentType':ad['y']['PAGE']}));},this['checkAllRowColumnBlocks']=aP=>{for(var aQ,aR={},aS=0x0;aS<aP['length'];aS++){var aT=aP[aS],aU=this['dataStore']['getBlockValue'](aT);if('column'!==aU['parent_type']){aR={};break;}var aV=aU['parent_id'],aW=this['dataStore']['getBlockProperty'](aV,'parent_id');if(aQ){if(aQ!==aW){aR={};break;}}else aQ=aW;aR[aV]=aR[aV]||[],aR[aV]['push'](aT);}return Object['keys'](aR)['length']>0x1?aR:null;},this['isTemplateArea']=aP=>{var {blockId:aQ}=aP,aR=this['dataStore']['getBlockValue'](aQ);return aR['type']===ad['y']['TEMPLATE_BUTTON']||aR['parent_id']!==this['pageId']&&(aR['parent_id']?this['isTemplateArea']({'blockId':aR['parent_id']}):void 0x0);};var aO=Object(am['b'])('theme');['light','dark']['includes'](aO)&&this['setShareTheme'](aO);}get['pageId'](){return this['screenStore']['currentScreen']['id'];}get['blocks'](){return this['dataStore']['blocks'];}get['spaceId'](){return this['spaceStore']['spaceId'];}['updateCellMentionDate'](aN,aO,aP){var aQ=this['blockAPI']['getCellNodeTitle'](aN,aO),aR=[],aS=[];if(aQ['forEach'](aU=>{var aV=aU[0x1]&&aU[0x1]['find'](aW=>'Mention'===aW[0x0]&&'date'===aW[0x1]);aV&&aR['push'](aV[0x2]);}),aP['forEach'](aU=>{var aV=aU[0x1]&&aU[0x1]['find'](aW=>'Mention'===aW[0x0]&&'date'===aW[0x1]);aV&&aS['push'](aV[0x2]);}),aR['length']!==aS['length'])return!0x0;var aT=!0x1;return aR['forEach']((aU,aV)=>{if(!aT){var aW=aS[aV];a2()(aU,aW)||(aT=!0x0);}}),!!aT;}['changeBlockCover'](aN,aO,aP){var aQ=this['dataStore']['getBlockValue'](aO),aR=aQ&&aQ['setting']?aQ['setting']:{};aN['block']['updateBlock'](aO,{'setting':aJ(aI({},aR),{'page_cover':aP['cover'],'page_cover_position':aP['position']})},[]);}}aK([aa['observable']],aM['prototype'],'shareTheme',0x2),aK([an['b']],aM['prototype'],'blockAPI',0x2),aK([an['b']],aM['prototype'],'dataStore',0x2),aK([an['b']],aM['prototype'],'pageStore',0x2),aK([an['b']],aM['prototype'],'editorStore',0x2),aK([an['b']],aM['prototype'],'databaseViewStore',0x2),aK([an['b']],aM['prototype'],'spaceStore',0x2),aK([an['b']],aM['prototype'],'editorUI',0x2),aK([an['b']],aM['prototype'],'biLinkStore',0x2),aK([an['b']],aM['prototype'],'workspaceStore',0x2),aK([an['b']],aM['prototype'],'screenStore',0x2),aK([an['b']],aM['prototype'],'userStore',0x2),aK([an['b']],aM['prototype'],'memberStore',0x2),aK([an['b']],aM['prototype'],'notePopperStore',0x2),aK([aa['action']],aM['prototype'],'setShareTheme',0x2),aK([aa['action']],aM['prototype'],'reconcileBlocks',0x2),Z['a']=Object(az['a'])(aM);},'s7Ic':function(f,g,j){'use strict';j['d'](g,'j',function(){return q;}),j['d'](g,'d',function(){return v;}),j['d'](g,'h',function(){return w;}),j['d'](g,'b',function(){return x;}),j['d'](g,'a',function(){return y;}),j['d'](g,'i',function(){return z;}),j['d'](g,'f',function(){return A;}),j['d'](g,'g',function(){return B;}),j['d'](g,'e',function(){return C;}),j['d'](g,'c',function(){return D;});var k=j('5D19'),m=(E,F,G)=>new Promise((H,I)=>{var J=M=>{try{L(G['next'](M));}catch(N){I(N);}},K=M=>{try{L(G['throw'](M));}catch(N){I(N);}},L=M=>M['done']?H(M['value']):Promise['resolve'](M['value'])['then'](J,K);L((G=G['apply'](E,F))['next']());}),q=(E,F)=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('transaction/verifyEmail'),{'code':F,'email':E},k['h']);}),v=()=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('transaction/isEduEmail'),{},k['h']);}),w=E=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('transaction/sendEmail'),{'email':E},k['h']);}),x=E=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('transaction/auth/existEmail'),{'email':E},k['h']);}),y=(E,F,G)=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('authentication/user/changeMobile'),{'code':G,'countryCode':E,'mobile':F},k['h']);}),z=E=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('workspace/setUserProfile'),E,k['h']);}),A=E=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('workspace/modifyPassword'),E,k['h']);}),B=E=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('workspace/modifyPin'),E,k['h']);}),C=()=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('authentication/user/lockScreen'),{},k['h']);}),D=E=>m(void 0x0,null,function*(){return yield Object(k['n'])(Object(k['p'])('authentication/user/deleteAccount'),E,k['h']);});},'sA5H':function(a0,a1,a2){'use strict';a2['d'](a1,'o',function(){return ap;}),a2['d'](a1,'n',function(){return aq;}),a2['d'](a1,'p',function(){return ar;}),a2['d'](a1,'m',function(){return as;}),a2['d'](a1,'r',function(){return at;}),a2['d'](a1,'z',function(){return au;}),a2['d'](a1,'Z',function(){return av;}),a2['d'](a1,'Y',function(){return aw;}),a2['d'](a1,'A',function(){return ax;}),a2['d'](a1,'b',function(){return ay;}),a2['d'](a1,'ob',function(){return az;}),a2['d'](a1,'bb',function(){return aA;}),a2['d'](a1,'qb',function(){return aB;}),a2['d'](a1,'O',function(){return aC;}),a2['d'](a1,'T',function(){return aD;}),a2['d'](a1,'N',function(){return aE;}),a2['d'](a1,'M',function(){return aF;}),a2['d'](a1,'nb',function(){return aG;}),a2['d'](a1,'db',function(){return aH;}),a2['d'](a1,'v',function(){return aI;}),a2['d'](a1,'cb',function(){return aJ;}),a2['d'](a1,'S',function(){return aK;}),a2['d'](a1,'a',function(){return aL;}),a2['d'](a1,'P',function(){return aM;}),a2['d'](a1,'L',function(){return aN;}),a2['d'](a1,'ab',function(){return aO;}),a2['d'](a1,'j',function(){return aP;}),a2['d'](a1,'W',function(){return aQ;}),a2['d'](a1,'X',function(){return aR;}),a2['d'](a1,'K',function(){return aS;}),a2['d'](a1,'R',function(){return aT;}),a2['d'](a1,'Q',function(){return aU;}),a2['d'](a1,'u',function(){return aV;}),a2['d'](a1,'e',function(){return aW;}),a2['d'](a1,'D',function(){return aX;}),a2['d'](a1,'E',function(){return aY;}),a2['d'](a1,'eb',function(){return aZ;}),a2['d'](a1,'c',function(){return b0;}),a2['d'](a1,'g',function(){return b1;}),a2['d'](a1,'G',function(){return b2;}),a2['d'](a1,'H',function(){return b3;}),a2['d'](a1,'I',function(){return b4;}),a2['d'](a1,'pb',function(){return b5;}),a2['d'](a1,'U',function(){return b6;}),a2['d'](a1,'l',function(){return b7;}),a2['d'](a1,'y',function(){return b8;}),a2['d'](a1,'w',function(){return b9;}),a2['d'](a1,'q',function(){return ba;}),a2['d'](a1,'k',function(){return bb;}),a2['d'](a1,'F',function(){return bc;}),a2['d'](a1,'V',function(){return bd;}),a2['d'](a1,'h',function(){return bf;}),a2['d'](a1,'d',function(){return bg;}),a2['d'](a1,'J',function(){return bh;}),a2['d'](a1,'s',function(){return bi;}),a2['d'](a1,'i',function(){return bj;}),a2['d'](a1,'B',function(){return bk;}),a2['d'](a1,'hb',function(){return bl;}),a2['d'](a1,'gb',function(){return bm;}),a2['d'](a1,'mb',function(){return bn;}),a2['d'](a1,'fb',function(){return bo;}),a2['d'](a1,'jb',function(){return bp;}),a2['d'](a1,'C',function(){return bq;}),a2['d'](a1,'ib',function(){return br;}),a2['d'](a1,'lb',function(){return bs;}),a2['d'](a1,'t',function(){return bt;}),a2['d'](a1,'kb',function(){return bu;}),a2['d'](a1,'x',function(){return bv;}),a2['d'](a1,'f',function(){return bw;});var a3=a2('OIS1'),a4=a2('Rsoz'),a5=a2('aD9L'),a6=a2('odX6'),a7=a2('5D19'),a8=a2('1htI'),a9=a2('KQwE'),aa=a2('9rbq'),ab=a2('Bf4v'),ac=a2('YfBr'),ad=a2('uMVv'),af=Object['defineProperty'],ag=Object['defineProperties'],ah=Object['getOwnPropertyDescriptors'],ai=Object['getOwnPropertySymbols'],aj=Object['prototype']['hasOwnProperty'],ak=Object['prototype']['propertyIsEnumerable'],al=(bx,by,bz)=>by in bx?af(bx,by,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':bz}):bx[by]=bz,am=(bx,by)=>{for(var bz in by||(by={}))aj['call'](by,bz)&&al(bx,bz,by[bz]);if(ai){for(var bz of ai(by))ak['call'](by,bz)&&al(bx,bz,by[bz]);}return bx;},an=(bx,by)=>ag(bx,ah(by)),ao=(bx,by,bz)=>new Promise((bA,bB)=>{var bC=bF=>{try{bE(bz['next'](bF));}catch(bG){bB(bG);}},bD=bF=>{try{bE(bz['throw'](bF));}catch(bG){bB(bG);}},bE=bF=>bF['done']?bA(bF['value']):Promise['resolve'](bF['value'])['then'](bC,bD);bE((bz=bz['apply'](bx,by))['next']());}),ap=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('exportMarkdown'),bx,a7['h'],!0x0);}),aq=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('exportHtml'),bx,a7['h'],!0x0);}),ar=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('exportWord'),bx,a7['h'],!0x0);}),as=function(bx){var by=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:'page';return ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('exportCsv/'['concat'](by)),bx,a7['h'],!0x0);});},at=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('import/getBatchImportPageData'),bx,a7['h']);}),au=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('import/getImportPageData'),bx,a7['h']);}),av=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('importService/importFile'),bx,a7['h']);}),aw=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('importService/importArchive'),bx,a7['h']);}),ax=bx=>ao(void 0x0,null,function*(){var by=Object(a6['b'])('pageStore');if(aa['gb']){var {blockId:bz}=bx,bA=yield ac['a']['getData'](bz);return bA||by['setConfirmOpen']({'type':'alert','title':'','contents':a4['a']['t']('services.api.work.errorEnteringFlyMode','进入飞行模式出错，请重试',{'ns':'editor'}),'singleButton':!0x0,'success':()=>{Object(a5['e'])()?window['interop']&&window['interop']['setAirplaneModeStatus']&&window['interop']['setAirplaneModeStatus'](!0x1):ad['c'](aa['Sb'],!0x1,!0x0),window['location']['reload']();}}),{'spaceDomain':'','spaceId':bA['workspace_id']};}return yield Object(a7['n'])(Object(a7['p'])('pages/getMetaPageData'),bx,a7['h']);}),ay=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/addFileRecord'),bx,a7['h']);}),az=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/updateFileRecord'),bx,a7['h']);}),aA=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('latexOcr'),bx,a7['h'],!0x0);}),aB=bx=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(Object(a7['p'])('latexOcr',{'workspaceId':bx}),a7['h']);}),aC=bx=>ao(void 0x0,null,function*(){return aa['gb']?(Object(a6['b'])('notificationStore')['enqueueSnackbar']({'message':a4['a']['t'](aa['cb']['FLY_MODE_NO_SUPPORT_UPLOAD_FILE'],'很抱歉，飞行模式无法上传文件',{'ns':'editor'}),'options':{'variant':'error'}}),{}):yield Object(a7['n'])(Object(a7['p'])('file/getSignedPostUrl'),bx,a7['h']);}),aD=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/getUnsignedPostUrl'),bx,a7['h']);}),aE=bx=>ao(void 0x0,null,function*(){return aa['gb']?{}:yield Object(a7['n'])(Object(a7['p'])('file/getSignedDownloadUrl'),bx,a7['h']);}),aF=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/getSignedDisplayUrl'),bx,an(am({},a7['h']),{'ignoreFlyMode':!0x0}),!0x0);}),aG=function(bx){for(var by=arguments['length'],bz=new Array(by>0x1?by-0x1:0x0),bA=0x1;bA<by;bA++)bz[bA-0x1]=arguments[bA];return ao(void 0x0,[bx,...bz],function*(bB){var bC=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:{},bD={'requestId':Object(a3['b'])(),'transactions':bB,'realtimeSessionId':a8['a']['realtimeSessionId']},bE=Object(a6['b'])('workspaceStore');try{var bF=yield Object(a7['n'])(Object(a7['p'])('transaction/updateChanges'),bD,am(am({},a7['h']),bC));return bF;}catch(bG){throw 0xfae!==bG['code']&&0x7d0!==bG['code']||bE['setAccessDenied'](!0x0),bG;}});},aH=()=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/ping'),{},a7['h']);}),aI=bx=>ao(void 0x0,null,function*(){if(aa['gb']){var by=bx['filter'](bA=>bA['table']===aa['Db'])['map'](bA=>bA['id']);return(yield ac['a']['getData'](by))['map'](bA=>{if(bA){var bB={'id':bA['id'],'value':bA,'role':'all'};return bA['type']===aa['y']['PAGE']&&(bB['active']=!bA['status']||bA['status']===aa['w']['ACTIVE']),bB;}return{};});}var bz={'requests':bx};return yield Object(a7['n'])(Object(a7['p'])('pages/getData'),bz,a7['h']);}),aJ=bx=>ao(void 0x0,null,function*(){var by=am({'requestId':Object(a3['b'])()},bx);return yield Object(a7['n'])(Object(a7['p'])('pages/movePageToOtherSpaceTask'),by,a7['h']);}),aK=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/getTaskResultById'),bx,a7['h']);}),aL=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/abortTaskById'),bx,a7['h']);}),aM=bx=>ao(void 0x0,null,function*(){if(aa['gb']){var by=a9['a']['getInstance'](),bz=yield by['blockDB']['where']({'page_id':bx})['toArray'](),bA=yield by['dirtyBlockDB']['bulkGet'](bz['map'](bI=>bI['id'])),bB=yield by['dirtyBlockDB']['where']({'page_id':bx})['toArray'](),bC=yield ac['a']['getLatestBlocks']([...bz,...bA],bB),bD={};bC['filter'](bI=>bI['active'])['forEach'](bI=>bD[bI['id']]=bI);var bE=[],bF=bI=>{for(var bJ=0x0;bJ<bI['length'];bJ++){var bK=bD[bI[bJ]];bK&&(bK['type']!==aa['y']['PAGE']&&bK['sub_nodes']&&bK['sub_nodes']['length']?bF(bK['sub_nodes']):bK['type']===aa['y']['PAGE']&&bE['push'](bK));}},bG=yield ac['a']['getData'](bx);return bF(bG['sub_nodes']),bE;}var bH={'pageId':bx};return yield Object(a7['n'])(Object(a7['p'])('pages/getSubPages'),bH,a7['h']);}),aN=bx=>ao(void 0x0,null,function*(){var by={'pageId':bx};return yield Object(a7['n'])(Object(a7['p'])('pages/getSharedSubPages'),by,a7['h']);}),aO=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/initUserProfile'),bx,a7['h']);}),aP=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/createWorkspace'),bx,a7['h']);}),aQ=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/getWorkspaceData'),{'spaceId':bx},a7['h']);}),aR=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/getWorkspacePages'),{'spaceId':bx},a7['h']);}),aS=bx=>ao(void 0x0,null,function*(){return aa['gb']?{'blocks':{}}:yield Object(a7['n'])(Object(a7['p'])('pages/getSharedPages'),bx,a7['h']);}),aT=function(bx){var by=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,bz=arguments['length']>0x2?arguments[0x2]:void 0x0;return ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/getSyncState'),{'workspaceId':bx,'updateTime':by,'updateEndTime':bz},an(am({},a7['h']),{'ignoreFlyMode':!0x0}));});},aU=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/getSyncBlocks'),bx,a7['h']);}),aV=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/getChangeBlocks'),bx,an(am({},a7['h']),{'ignoreFlyMode':!0x0}));}),aW=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/checkSyncConflict'),bx,an(am({},a7['h']),{'ignoreFlyMode':!0x0}));}),aX=bx=>ao(void 0x0,null,function*(){var by=Object(a6['b'])('dataStore'),bz=Object(a6['b'])('blockStore'),bA=Object(a6['b'])('editorUI');if(bx['pageId']){if(aa['gb']){var bB=a9['a']['getInstance'](),bC=yield bB['blockDB']['where']({'page_id':bx['pageId']})['toArray'](),bD=yield bB['dirtyBlockDB']['bulkGet'](bC['map'](bM=>bM['id'])),bE=yield bB['dirtyBlockDB']['where']({'page_id':bx['pageId']})['toArray'](),bF=yield ac['a']['getLatestBlocks']([...bC,...bD],bE),bG=[],bH=[],bI=bM=>ao(this,null,function*(){var bN=[];if(bM['sub_nodes']){var bO=bM['sub_nodes'];if(!bO['length'])return[];for(var bP=yield ac['a']['getData'](bO),bQ=0x0;bQ<bP['length'];bQ++)if(bN['push'](bP[bQ]),bP[bQ]['type']!==aa['y']['PAGE']){var bR=yield bI(bP[bQ]);bN['push'](...bR);}}return bN;}),bJ=bM=>ao(this,null,function*(){for(var bN=0x0;bN<bM['length'];bN++){var bO=bM[bN];if(bH['push'](bO),bO['source_id']){if(bG['includes'](bO['source_id']))continue;bG['push'](bO['source_id']);var bP=yield ac['a']['getData'](bO['source_id']);bP&&(bH['push'](bP),bP['type']!==aa['y']['PAGE']&&(yield bJ(yield bI(bP))));}}});yield bJ(bF);var bK=yield ac['a']['getData'](bx['pageId']),bL={};return bL[bx['pageId']]={'role':'all','value':bK,'active':bK['status']===aa['w']['ACTIVE']},bF['concat'](bH)['forEach'](bM=>{bL[bM['id']]={'role':'all','value':bM},bM['type']===aa['y']['PAGE']&&(bL[bM['id']]['active']=bM['status']===aa['w']['ACTIVE']);}),{'block':bL,'position':{'stack':[]}};}return by['loadedPages']['includes'](bx['pageId'])&&!bx['forceFetch']?new Promise(bM=>{setTimeout(()=>{bM({'block':{[bx['pageId']]:by['getBlock'](bx['pageId'])},'position':{'stack':[]}});},0x0);}):yield Object(a7['n'])(Object(a7['p'])('pages/getPageChunks'),bx,a7['h'],()=>{bx['pageId']&&bx['pageId']===bz['pageId']&&bA['setPageDisconnect'](!0x0);});}}),aY=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('pages/getPageInfos'),bx,a7['h']);}),aZ=bx=>ao(void 0x0,null,function*(){return aa['gb']?aX(bx):yield Object(a7['n'])(Object(a7['p'])('pages/getPageChunks'),bx,a7['h']);}),b0=bx=>ao(void 0x0,null,function*(){return aa['gb']?yield ab['a']['search'](bx['query'],bx['titleOnly']):yield Object(a7['n'])(Object(a7['p'])('search/advancedSearch'),bx,a7['h']);}),b1=bx=>ao(void 0x0,null,function*(){return aa['gb']?{'id':yield ac['a']['createReference'](bx)}:yield Object(a7['n'])(Object(a7['p'])('pages/createPageReference'),bx,a7['h']);}),b2=bx=>ao(void 0x0,null,function*(){try{return yield Object(a7['n'])(Object(a7['p'])('pages/getReferencePages'),bx,a7['h']);}catch(by){return{};}}),b3=bx=>ao(void 0x0,null,function*(){try{return yield Object(a7['n'])(Object(a7['p'])('pages/getReferredPages'),bx,a7['h']);}catch(by){return{};}}),b4=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/getRelationGraph'),bx,a7['h']);}),b5=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/updateWorkspace'),bx,a7['h']);}),b6=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/getUserWorkspaceView'),bx,a7['h']);}),b7=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('workspace/deleteWorkspace'),bx,a7['h']);}),b8=bx=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(Object(a7['p'])('file/getImageOcrText/'['concat'](bx)),a7['h']);}),b9=()=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(''['concat']('https://cdn.wostatic.cn','/dist/installers/electron-versions.json?t=')['concat'](Date['now']()),{},!0x0);}),ba=()=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(''['concat']('https://cdn.wostatic.cn','/app.json?t=')['concat'](Date['now']()),{},!0x0);}),bb=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('pages/deletePage'),bx,a7['h']);}),bc=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('pages/getRandomPageId'),bx,a7['h']);}),bd=(bx,by)=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/getWechatConfig'),{'url':bx,'pageUrl':by},a7['h'],!0x0);}),bf=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('share/createPageShare'),bx,a7['h']);}),bg=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('share/cancelPageShare'),bx,a7['h']);}),bh=bx=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(Object(a7['p'])('share/getShareInfo/'['concat'](bx)),a7['h']);}),bi=(bx,by)=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(Object(a7['p'])('share/getBlockPosterInfo/'['concat'](by,'/')['concat'](bx)),a7['h']);}),bj=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('share/createPageShareReport'),bx,a7['h']);}),bk=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/getOfficePreviewURL'),bx,a7['h'],!0x0);}),bl=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/refreshOfficePreviewToken'),bx,a7['h']);}),bm=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/queryFileDataByParams'),bx,a7['h']);}),bn=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/translate'),bx,a7['h']);}),bo=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('puppeteer/export'),bx,a7['h']);}),bp=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('notice/sendUserNotice'),bx,a7['h']);}),bq=()=>ao(void 0x0,null,function*(){return yield Object(a7['i'])(Object(a7['p'])('order/items/all'),a7['h']);}),br=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('file/searchCoverImage'),bx,a7['h']);}),bs=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('transaction/syncPageConfig'),bx,a7['h']);}),bt=(bx,by)=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('pages/getCachedDailyPage'),{'workspaceId':bx,'title':by},a7['h']);}),bu=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('pages/setCachedDailyPage'),bx,a7['h']);}),bv=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('order/checkHasSigned'),{'workspaceId':bx},a7['h']);}),bw=bx=>ao(void 0x0,null,function*(){return yield Object(a7['n'])(Object(a7['p'])('order/sign/unsign'),{'workspaceId':bx},a7['h']);});},'sAZg':function(a,b,c){'use strict';c['d'](b,'a',function(){return d;});var d=function(f,g){for(var h=arguments['length'],j=new Array(h>0x2?h-0x2:0x0),k=0x2;k<h;k++)j[k-0x2]=arguments[k];if(f(...j))return g(...j);};},'sDH/':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('WRmh'),g=d('odX6');class h{constructor(){var j=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:[],k=arguments['length']>0x1?arguments[0x1]:void 0x0,l=arguments['length']>0x2?arguments[0x2]:void 0x0;for(var m of(this['permissionPersistence']=k,this['permissionProtector']=l,this['permissions']=new Map(),j))this['permissions']['set'](m['target'],m);}static['isSharedPage'](j,k){var m=Object(g['b'])('dataStore'),p=Object(g['b'])('spaceStore'),q=m['getBlockPermissions'](k),v=m['getBlockProperty'](k,'workspace_id');if(this['isWorkspacePage'](j,k)&&!p['isSpaceGuest'](v))return!0x1;var w=new Set(),x=new Set(),y=new Set();for(var z of q=q['filter'](A=>A['type']!==f['e']['Public'])){if(z['type']===f['e']['User'])z['user_id']===j?w['add'](z):x['add'](z);else z['type']===f['e']['Group']&&y['add'](z);}return x['size']>0x0&&w['size']>0x0||y['size']>0x0||p['isSpaceGuest'](v)&&w['size']>0x0;}static['isPublicPage'](j,k){var l=Object(g['b'])('dataStore')['getBlockPermissions'](k);for(var m of l)if(m['type']===f['e']['Public']&&m['role']!==f['d']['None'])return!0x0;return!0x1;}static['isPrivatePage'](j,k){var l=Object(g['b'])('dataStore')['getBlockPermissions'](k);if(this['isWorkspacePage'](j,k))return!0x1;var m=new Set(),p=new Set();for(var q of l){if(q['type']===f['e']['User'])q['user_id']===j?m['add'](q):p['add'](q);else q['type']===f['e']['Group']&&p['add'](q);}return 0x0===p['size']&&0x1===m['size'];}static['isWorkspacePage'](j,k){var l=Object(g['b'])('dataStore')['getBlockPermissions'](k);for(var m of l)if(m['type']===f['e']['Space']&&m['role']!==f['d']['None'])return!0x0;return!0x1;}static['isAllUsersPage'](j){var k=Object(g['b'])('dataStore')['getBlockPermissions'](j),l=new Set();for(var m of k)m['type']===f['e']['Public']&&m['role']&&l['add'](m);return l['size']>0x0;}['delPermission'](j,k){return!!this['canDelPermission'](k)&&(this['permissions']['delete'](k['target']),this['permissionPersistence']['persist'](this['toStorePermissions'](j)),!0x0);}['forceDelPermission'](j,k){return this['permissions']['delete'](k['target']),this['permissionPersistence']['persist'](this['toStorePermissions'](j)),!0x0;}['getPermission'](j){var k=this['permissions']['get'](j);if(k)return{'target':k['target'],'type':k['type'],'role':k['role']['name'],'blockId':k['blockId'],'override':k['override'],'index':k['index']};}['hasPermission'](j){return this['permissions']['has'](j);}['setPermission'](j,k){var l;if(this['canSetPermission'](k)){var m=this['permissions']['get'](k['target']);return m&&(k['index']=null!=(l=m['index'])?l:this['permissions']['size']),this['permissions']['set'](k['target'],f['c']['fromPermission'](k)),this['permissionPersistence']['persist'](this['toStorePermissions'](j)),!0x0;}return!0x1;}['canDelPermission'](j){var k=Array['from'](this['permissions']['values']())['filter'](l=>l['target']!==j['target'])['map'](l=>l['toPermission']());return this['permissionProtector']['isExistFullAccess'](k);}['canSetPermission'](j){var k=!0x1,l=Array['from'](this['permissions']['values']())['map'](m=>m['target']===j['target']?(k=!0x0,{'type':j['type'],'role':j['role'],'target':j['target'],'blockId':j['blockId'],'override':j['override'],'index':j['index']}):m['toPermission']());return k||l['push']({'type':j['type'],'role':j['role'],'target':j['target'],'blockId':j['blockId'],'override':j['override'],'index':j['index']}),this['permissionProtector']['isExistFullAccess'](l);}['toPermissions'](){var j=Array['from'](this['permissions']['values']());return j['forEach']((k,l)=>{null==k['index']&&(k['index']=l);}),j['sort']((k,l)=>k['priority']()-l['priority']())['map'](k=>k['toPermission']());}['toStorePermissions'](j){var k=[];return Array['from'](this['permissions']['values']())['sort']((l,m)=>{var n,p;return(null!=(n=l['index'])?n:0x0)-(null!=(p=m['index'])?p:0x0);})['forEach'](l=>{if(!l['blockId'])throw new Error('权限系统错误'['concat'](j));l['blockId']===j&&k['push'](l['toPagePermission']());}),k;}}},'sTNU':function(a,b,c){'use strict';(function(d){c['d'](b,'b',function(){return f;}),c['d'](b,'a',function(){return g;}),c['d'](b,'c',function(){return h;});var f={'USER_HEAD':'user_head','USER_AVATAR':'user_avatar','WORKSPACE_ICON':'workspace_icon','GROUP_ICON':'group_icon','IMAGE':'image','FILE':'file','IMPORT':'import','ICON':'icon','COVER':'cover','VIDEO':'video','AUDIO':'audio','LATEX':'latex','STATIC':'static'},g=(d['env']['OSS_BUCKET_CDN_DOMAIN_NONSECURE'],0x600000),h=0x40000000;}['call'](this,c('8oxB')));},'tLNE':function(j,k,q){'use strict';var w=q('sEfC'),x=q['n'](w),z=q('2vnA'),A=q('9rbq'),B=q('uMVv'),C=q('odX6'),D=q('bXzw'),E=q('fZkv'),F=q('b/CI'),G=q('WRmh'),H=Object['defineProperty'],J=Object['getOwnPropertyDescriptor'],K=Object['getOwnPropertySymbols'],L=Object['prototype']['hasOwnProperty'],M=Object['prototype']['propertyIsEnumerable'],N=(R,T,U)=>T in R?H(R,T,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':U}):R[T]=U,O=(R,T)=>{for(var U in T||(T={}))L['call'](T,U)&&N(R,U,T[U]);if(K){for(var U of K(T))M['call'](T,U)&&N(R,U,T[U]);}return R;},P=(R,T,U,V)=>{for(var W,X=V>0x1?void 0x0:V?J(T,U):T,Y=R['length']-0x1;Y>=0x0;Y--)(W=R[Y])&&(X=(V?W(T,U,X):W(X))||X);return V&&X&&H(T,U,X),X;};Object(z['configure'])({'enforceActions':'never'});class Q{constructor(){var R=this;this['columnSelected']=new Map(),this['blockCords']={},this['selectedNode']=[],this['selectedCell']=new Set(),this['galleryInfo']=null,this['selectedDatabaseCell']={'databaseBlockId':'','databaseId':'','rowBlockId':'','propertyId':'','offsetX':0x0,'offsetY':0x0,'posX':0x0,'posY':0x0,'rows':0x0,'columns':0x0},this['startSelectedCell']='',this['_selectedRootNode']=[],this['backupSelectedRootNode']=[],this['initEditorView']=T=>{T&&(this['_intersectionObserver']=null,this['editorView']=T);},this['initBlock']=(T,U,V,W)=>{if(V){if(this['blockCords'][T]=this['blockCords'][T]||new Map(),!(null==U?void 0x0:U['startsWith']('ref-'))){var [X,Y]=U['split']('-'),Z=[...this['blockCords'][T]['keys']()]['find'](a0=>Y?a0['endsWith'](X):a0['startsWith'](X));Z&&this['blockCords'][T]['delete'](Z);}this['blockCords'][T]['set'](U,{'clientRect':{},'type':W});}},this['deleteFromBlockCord']=T=>{this['blockCords'][T]&&delete this['blockCords'][T];},this['initEditorUI']=()=>{this['headBarVisible']=!0x0,this['sideBarVisible']=!0x1,this['shareSidebarVisible']=!0x1,this['introductionVisible']=!0x0,this['offline']=!0x1,this['hoverItem']={},this['hoverMenuItem']={};},this['setFocusBlockId']=T=>{this['focusBlockId']=T;},this['setOffline']=T=>{T!==this['offline']&&(this['offline']=T);},this['savingState']=T=>{this['saving']=T;},this['setSelectedCell']=(T,U)=>{this['clearSelectedCell'](),this['selectedCell']=new Set(U),this['selectedTable']=T,this['selectedCell']['forEach'](V=>{this['addCellShadow'](T,V);});},this['getSelectedCellRange']=T=>{var U=-0x1,V=-0x1,W=-0x1,X=-0x1,Y=0x0,Z=0x0;return T['forEach']((a0,a1)=>{a0['column']['forEach']((a2,a3)=>{a2['id']===this['startSelectedCell']&&(Y=a1,Z=a3),this['selectedCell']['has'](a2['id'])&&((U<0x0||a1<U)&&(U=a1),(V<0x0||a1>V)&&(V=a1),(W<0x0||a3<W)&&(W=a3),(X<0x0||a3>X)&&(X=a3));});}),{'columnStart':U,'columnEnd':V,'rowStart':W,'rowEnd':X,'srcRow':Z,'srcColumn':Y};},this['setStartSelectedCell']=T=>{this['startSelectedCell']=T;},this['addCellShadow']=(T,U)=>{var V=this['domAPI']['$']('#id-'['concat'](T,'\x20#id-')['concat'](U));V&&V['classList']['add']('cell-shadow');},this['clearCellShadow']=T=>{var U=this['domAPI']['$']('#id-'['concat'](T),!0x0);U&&U['forEach'](V=>V['classList']['remove']('cell-shadow'));},this['cellSelectedShadowClear']=()=>{this['selectedCell']['forEach'](T=>{this['clearCellShadow'](T);});},this['clearSelectedShadow']=T=>{this['selectedNode']['length']&&this['clearSelectedNode'](T),this['selectedCell']['size']&&this['clearSelectedCell'](T),this['clearDatabaseCellSelectedShadow']();},this['clearDatabaseCellSelectedShadow']=()=>{var T,{databaseBlockId:U}=this['selectedDatabaseCell'];if(U){var V=this['domAPI']['$']('#database-block-'['concat'](U,'\x20.database-selected-shadow'));if(V){for(var W=V['childNodes']['length']-0x1;W>=0x0;W--)null==(T=V['childNodes'][W])||T['remove']();this['selectedDatabaseCell']={'databaseId':'','databaseBlockId':'','rowBlockId':'','propertyId':'','offsetX':0x0,'offsetY':0x0,'posX':0x0,'posY':0x0,'rows':0x0,'columns':0x0};}}},this['createShadowNode']=function(){var T=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},U=arguments['length']>0x1?arguments[0x1]:void 0x0,V=arguments['length']>0x2?arguments[0x2]:void 0x0,W=!V||R['pageActionCheckStore']['hasPageActionLimit'](V,G['g']['EditPage']),X=document['createElement']('div');X['className']='database-shadow-div';var Y=O(O({'height':0x0,'position':'absolute','width':0x0,'top':0x0,'left':0x0},T),U?{'border':'1px\x20solid\x20rgba(207,\x2086,\x2089,\x200.48)'}:W?{'background':'rgba(255,\x2071,\x2071,\x200.15)'}:{});return U&&V&&(W||(X['className']='database-shadow-div\x20lockCell',X['innerHTML']='<svg\x20width=\x2224\x22\x20height=\x2224\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20xmlns=\x22http://www.w3.org/2000/svg\x22><path\x20fill-rule=\x22evenodd\x22\x20clip-rule=\x22evenodd\x22\x20d=\x22M12\x203a4.8\x204.8\x200\x20014.794\x204.586l.005.214v2.316a2.802\x202.802\x200\x20011.994\x202.495l.006.189v6a2.8\x202.8\x200\x2001-2.63\x202.795L16\x2021.6H8a2.8\x202.8\x200\x2001-2.795-2.63L5.2\x2018.8v-6c0-1.268.843-2.34\x202-2.684V7.8A4.8\x204.8\x200\x200112\x203zm4\x208.6H8a1.2\x201.2\x200\x2000-1.195\x201.077L6.8\x2012.8v6a1.2\x201.2\x200\x20001.078\x201.194l.122.006h8a1.2\x201.2\x200\x20001.194-1.077l.006-.123v-6a1.2\x201.2\x200\x2000-1.077-1.194l-.123-.006zm-4-7a3.2\x203.2\x200\x2000-3.196\x203.018L8.8\x207.8V10h6.4V7.8a3.2\x203.2\x200\x2000-2.84-3.18l-.178-.015-.182-.005z\x22\x20fill=\x22#2C2C2C\x22></path></svg>')),R['domAPI']['styleSettings'](X,Y),X;},this['setDatabaseCellSelectedShadow']=()=>{var {databaseBlockId:T,posX:U,posY:V,offsetX:W,offsetY:X,propertyId:Y,rowBlockId:Z}=this['selectedDatabaseCell'],a0=this['databaseViewStore']['getTableView'](T),{width:a1,height:a2}=a0['getSelectedShadowRect'](Math['min'](U,U+W),Math['min'](V,V+X),Math['abs'](W),Math['abs'](X)),{id:a3,propertyId:a4}=a0['getCellInfoByOffset'](Math['min'](U,U+W),Math['min'](V,V+X)),a5=this['domAPI']['$']('#database-block-'['concat'](T,'\x20.database-selected-shadow')),a6=this['domAPI']['$']('#database-block-'['concat'](T,'\x20.cell-')['concat'](Z,'-')['concat'](Y)),{width:a7,height:a8}=a6['getBoundingClientRect'](),a9=this['createShadowNode']({'height':''['concat'](a8+0x1,'px'),'width':''['concat'](a7+0x1,'px'),'top':''['concat'](((null==a6?void 0x0:a6['offsetTop'])||0x0)+0x21,'px'),'left':''['concat']((null==a6?void 0x0:a6['offsetLeft'])||0x0,'px')},!0x0,this['screenStore']['currentScreen']['isNotInWorkspace']?'':a3);a5['appendChild'](a9);var aa=this['domAPI']['$']('#database-block-'['concat'](T,'\x20.cell-')['concat'](a3,'-')['concat'](a4)),ab=this['createShadowNode']({'height':''['concat'](a2,'px'),'width':''['concat'](a1,'px'),'top':''['concat'](((null==aa?void 0x0:aa['offsetTop'])||0x0)+0x21+0x1,'px'),'left':''['concat']((null==aa?void 0x0:aa['offsetLeft'])||0x0,'px')},!0x1,this['screenStore']['currentScreen']['isNotInWorkspace']?'':a3);a5['appendChild'](ab);},this['setDatabaseCellSelected']=T=>{this['clearDatabaseCellSelectedShadow']();var U=this['databaseViewStore']['getTableView'](T['databaseBlockId']),{posX:V,posY:W,rows:X,columns:Y}=U['getCellOffset'](T['propertyId'],T['rowBlockId']);this['selectedDatabaseCell']=O(O(O({},this['selectedDatabaseCell']),T),{'posX':V,'posY':W,'rows':X,'columns':Y}),this['setDatabaseCellSelectedShadow']();},this['setSelectedNode']=(T,U)=>{this['domAPI']['removeAllRangesAndBlur'](),this['clearSelectedNode'](),U&&(this['columnSelected']=U);var {editorStore:V,dataStore:W}=this,X='string'==typeof T?[T]:T,Y=(X=Array['from'](new Set(X)))['slice'](0x0),Z=[],a0=a1=>{var a2=W['getBlockValue'](a1);Z['includes'](a1)||(Z['push'](a1),a2['type']!==A['y']['PAGE']&&a2['sub_nodes']&&a2['sub_nodes']['length']&&a2['sub_nodes']['forEach'](a3=>{X['includes'](a3)&&X['splice'](X['indexOf'](a3),0x1);var a4=W['getBlockValue'](a3);!a4['id']||Y['includes'](a3)||['row','column']['includes'](a4['type'])||Y['push'](a3),a0(a3);}));};return Y['forEach'](a0),this['selectedNode']=Y,this['selectedRootNode']=X,this['backupSelectedRootNode']=X,V['addMissionExecuteAfterRender'](()=>{this['selectedRootNode']['forEach'](a1=>this['selectedShadowSet'](a1,U));}),X;},this['hideHeadBar']=()=>{this['headBarVisible']=!0x1;},this['showHeadBar']=()=>{this['headBarVisible']=!0x0;},this['hideIntroduction']=()=>{this['introductionVisible']=!0x1;},this['showIntroduction']=()=>{this['introductionVisible']=!0x0;},this['hideSideBar']=()=>{this['sideBarVisible']=!0x1,Object(E['d'])(''),B['c'](A['mc'],!0x1);},this['showSideBar']=()=>{this['sideBarVisible']=!0x0,Object(E['g'])(''),B['c'](A['mc'],!0x0);},this['setShareSideBarHidden']=()=>{this['shareSidebarVisible']=!0x1,Object(E['d'])(''),B['c'](A['ic'],!0x1);},this['setShareSideBarVisible']=()=>{this['shareSidebarVisible']=!0x0,Object(E['g'])(''),B['c'](A['ic'],!0x0);},this['setPageDisconnect']=T=>{this['pageDisconnect']=T;},this['setHoverIconType']=T=>{this['hoverItem']['id']&&(this['hoverItem']['iconType']=T);},this['clearHoverIcon']=()=>{this['hoverItem']={},this['websocketStore']['setHoverOccurrence'](null);},this['setHoverIcon']=T=>{var {screenId:U,item:V,left:W,top:X}=T;this['hoverItem']=O({},V),this['hoverItem']['screenId']=U,this['hoverItem']['posX']=W,this['hoverItem']['posY']=X,this['websocketStore']['setHoverOccurrence'](V['id']);},this['clearAuxiliaryMenu']=()=>{this['hoverMenuItem']={};},this['setAuxiliaryMenu']=T=>{var {screenId:U,item:V,left:W,top:X,right:Y}=T;this['hoverMenuItem']=O({},V),this['hoverMenuItem']['screenId']=U,this['hoverMenuItem']['left']=W,this['hoverMenuItem']['top']=X,this['hoverMenuItem']['right']=Y;},this['showGallery']=T=>{var {id:U,databaseBlockId:V,rowBlockId:W,propertyId:X,imageSrc:Y}=T;this['galleryVisible']=!0x0,this['galleryInfo']={'id':U,'databaseBlockId':V,'rowBlockId':W,'propertyId':X,'imageSrc':Y},this['editorStore']['preventEditorKeydownAction'](!0x0);},this['hideGallery']=()=>{this['galleryVisible']=!0x1,this['galleryInfo']=null,this['editorStore']['preventEditorKeydownAction'](!0x1);},this['recalculateBlockPosition']=T=>{Object['keys'](this['blockCords'])['forEach'](U=>{if(!T||U===T){for(var [V,W]of this['blockCords'][U]['entries']())if(null==V?void 0x0:V['startsWith']('ref-')){var X=this['domAPI']['$']('#screen-'['concat'](U,'\x20#id-')['concat'](V));X['dataset']['screenId']=U,X['dataset']['blockId']=V,this['intersectionObserver']['observe'](X);}else{var [Y,Z]=V['split']('-'),a0=this['domAPI']['$'](Z?'#screen-'['concat'](U,'\x20#id-column-')['concat'](Z,'\x20#id-')['concat'](Y):'#screen-'['concat'](U,'\x20#id-')['concat'](Y));a0['dataset']['screenId']=T,a0['dataset']['blockId']=Y,Z&&(a0['dataset']['columnId']=Z),this['intersectionObserver']['observe'](a0);}}});},this['resizeScreen']=()=>{var T=document['querySelector']('#screen-'['concat'](this['screenStore']['mainScreen']['screenId']));T&&T['offsetWidth']&&this['screenStore']['mainScreen']['setWidth'](T['offsetWidth']);var U=document['querySelector']('#screen-'['concat'](this['screenStore']['secondScreen']['screenId']));U&&U['offsetWidth']&&this['screenStore']['secondScreen']['setWidth'](U['offsetWidth']);},this['debounceResizeScreen']=x()(this['resizeScreen'],0x64),this['debounceRecalculateBlockPosition']=x()(this['recalculateBlockPosition'],0xa),this['longerDebounceRecalculateBlockPosition']=x()(this['recalculateBlockPosition'],0x3e8),this['selectedShadowSet']=(T,U)=>{if(U&&U['has'](T))U['get'](T)['forEach'](W=>{this['domAPI']['$']('#id-column-'['concat'](W,'\x20#id-')['concat'](T))['parentElement']&&this['domAPI']['$']('#id-column-'['concat'](W,'\x20#id-')['concat'](T))['parentElement']['classList']['add']('position-relative');var X=this['domAPI']['$']('#id-column-'['concat'](W,'\x20.node-')['concat'](T,'>.node-selected-shadow'));this['domAPI']['styleSettings'](X,{'display':'block'});});else{this['domAPI']['$']('#id-'['concat'](T))['parentElement']&&this['domAPI']['$']('#id-'['concat'](T))['parentElement']['classList']['add']('position-relative');var V=this['domAPI']['$']('.node-'['concat'](T,'>.node-selected-shadow'));this['domAPI']['styleSettings'](V,{'display':'block'});}},this['selectedShadowClear']=()=>this['domAPI']['$']('~.node-selected-shadow',!0x0)['forEach'](T=>{T['parentElement']&&T['parentElement']['classList']['remove']('position-relative'),this['domAPI']['styleSettings'](T,{'display':'none'});}),this['getSortedIdList']=T=>this['sortSelectedRootNode'](T['map'](U=>({'id':U,'rootId':this['findRootNode'](U)}))),this['findRootNode']=T=>{var {parent_id:U}=this['dataStore']['getBlockValue'](T),V=this['dataStore']['getBlockValue'](U);return V['id']===this['blockStore']['pageId']||!V['type']&&!V['id']?T:this['findRootNode'](U);},this['sortSelectedRootNode']=T=>{var {blockStore:U}=this,V=this['dataStore']['getBlockValue'](U['pageId']);if(null==V?void 0x0:V['id']){var W=[];if(V['type']===A['y']['DATABASE']){var X=this['databaseViewStore']['getDataView'](V['id']);X&&X['page_sort']&&X['page_sort']['length']&&(W=[...X['page_sort']]);}else W=this['dataStore']['getBlockProperty'](U['pageId'],'sub_nodes');if(W){for(var Y=[],Z=[...T],a0=[],a1=a8=>Z['findIndex'](a9=>{var {rootId:aa}=a9;return aa===W[a8];}),a2=a8=>{var a9=a1(a8);a9>-0x1&&(Y['push'](Z['splice'](a9,0x1)[0x0]['id']),a0['push'](W[a8]),a1(a8)>-0x1&&a2(a8));},a3=0x0;a3<W['length']&&Z['length'];a3++)a2(a3);for(var a4=[...new Set(a0)]['reduce']((a8,a9)=>[...a8,...this['blockAPI']['findAllChildrenNodes']([a9])],[]),a5=[],a6=function(a8){if(!Y['length'])return'break';var a9=a4[a8],aa=Y['findIndex'](ab=>ab===a9);aa>-0x1&&a5['push'](Y['splice'](aa,0x1)[0x0]);},a7=0x0;a7<a4['length'];a7++){if('break'===a6(a7))break;}return a5;}}},this['initEditorUI']();}get['cursorPos'](){return F['a']['getInstance']()['mainCursor'];}set['cursorPos'](R){F['a']['getInstance']()['setMainCursor'](R);}get['selectedRootNode'](){return this['_selectedRootNode']||[];}set['selectedRootNode'](R){for(var T=this,U=[],V=function(Y){U['find'](Z=>T['dataStore']['getSourceId'](Z,!0x1)===T['dataStore']['getSourceId'](R[Y],!0x1))||U['push'](R[Y]);},W=R['length']-0x1;W>=0x0;W--)V(W);var X=this['getSortedIdList'](U);this['_selectedRootNode']=X;}get['intersectionObserver'](){if(this['_intersectionObserver'])return this['_intersectionObserver'];try{this['_intersectionObserver']=new IntersectionObserver((R,T)=>{R['forEach'](U=>{T['unobserve'](U['target']);var {blockId:V,screenId:W,columnId:X}=U['target']['dataset'];V&&Object(z['runInAction'])(()=>{if(this['blockCords'][W]){var Y=X?this['blockCords'][W]['get'](''['concat'](V,'-')['concat'](X)):this['blockCords'][W]['get'](V);Y&&(Y['clientRect']=U['boundingClientRect']);}});});},{});}catch(R){this['_intersectionObserver']={'observe':()=>{}};}return this['_intersectionObserver'];}['clearSelectedCell'](R){R&&0x3===R['which']||(this['cellSelectedShadowClear'](),this['selectedCell']['clear'](),this['selectedTable']='');}['clearSelectedNode'](R){R&&0x3===R['which']||(this['selectedNode']['length']&&(this['selectedNode']=[],this['selectedRootNode']=[],this['selectedShadowClear']()),this['columnSelected']['clear']());}}P([z['observable']],Q['prototype'],'headBarVisible',0x2),P([z['observable']],Q['prototype'],'sideBarVisible',0x2),P([z['observable']],Q['prototype'],'shareSidebarVisible',0x2),P([z['observable']],Q['prototype'],'introductionVisible',0x2),P([z['observable']],Q['prototype'],'saving',0x2),P([z['observable']],Q['prototype'],'offline',0x2),P([z['observable']],Q['prototype'],'pageDisconnect',0x2),P([z['observable']],Q['prototype'],'hoverItem',0x2),P([z['observable']],Q['prototype'],'hoverMenuItem',0x2),P([z['observable']],Q['prototype'],'focusBlockId',0x2),P([z['observable']],Q['prototype'],'galleryVisible',0x2),P([z['computed']],Q['prototype'],'cursorPos',0x1),P([C['b']],Q['prototype'],'popperStore',0x2),P([C['b']],Q['prototype'],'pageActionCheckStore',0x2),P([C['b']],Q['prototype'],'blockStore',0x2),P([C['b']],Q['prototype'],'editorStore',0x2),P([C['b']],Q['prototype'],'pageStore',0x2),P([C['b']],Q['prototype'],'blockAPI',0x2),P([C['b']],Q['prototype'],'cursorAPI',0x2),P([C['b']],Q['prototype'],'domAPI',0x2),P([C['b']],Q['prototype'],'scrollAPI',0x2),P([C['b']],Q['prototype'],'dataStore',0x2),P([C['b']],Q['prototype'],'biLinkStore',0x2),P([C['b']],Q['prototype'],'routerStore',0x2),P([C['b']],Q['prototype'],'screenStore',0x2),P([C['b']],Q['prototype'],'databaseViewStore',0x2),P([C['b']],Q['prototype'],'websocketStore',0x2),P([z['action']],Q['prototype'],'initEditorUI',0x2),P([z['action']],Q['prototype'],'setFocusBlockId',0x2),P([z['action']],Q['prototype'],'setOffline',0x2),P([z['action']],Q['prototype'],'savingState',0x2),P([z['action']],Q['prototype'],'setSelectedCell',0x2),P([z['action']],Q['prototype'],'setStartSelectedCell',0x2),P([z['action']],Q['prototype'],'clearSelectedCell',0x1),P([z['action']],Q['prototype'],'setSelectedNode',0x2),P([z['action']],Q['prototype'],'clearSelectedNode',0x1),P([z['action']],Q['prototype'],'hideHeadBar',0x2),P([z['action']],Q['prototype'],'showHeadBar',0x2),P([z['action']],Q['prototype'],'hideIntroduction',0x2),P([z['action']],Q['prototype'],'showIntroduction',0x2),P([z['action']],Q['prototype'],'hideSideBar',0x2),P([z['action']],Q['prototype'],'showSideBar',0x2),P([z['action']],Q['prototype'],'setShareSideBarHidden',0x2),P([z['action']],Q['prototype'],'setShareSideBarVisible',0x2),P([z['action']],Q['prototype'],'setPageDisconnect',0x2),P([z['action']],Q['prototype'],'setHoverIconType',0x2),P([z['action']],Q['prototype'],'clearHoverIcon',0x2),P([z['action']],Q['prototype'],'setHoverIcon',0x2),P([z['action']],Q['prototype'],'clearAuxiliaryMenu',0x2),P([z['action']],Q['prototype'],'setAuxiliaryMenu',0x2),P([z['action']],Q['prototype'],'recalculateBlockPosition',0x2),k['a']=Object(D['a'])(Q);},'tTLm':function(q,z,F){'use strict';F['d'](z,'l',function(){return Z;}),F['d'](z,'m',function(){return a0;}),F['d'](z,'v',function(){return a1;}),F['d'](z,'n',function(){return a2;}),F['d'](z,'u',function(){return a3;}),F['d'](z,'s',function(){return a4;}),F['d'](z,'t',function(){return a5;}),F['d'](z,'r',function(){return a6;}),F['d'](z,'k',function(){return a7;}),F['d'](z,'g',function(){return a8;}),F['d'](z,'h',function(){return a9;}),F['d'](z,'p',function(){return aa;}),F['d'](z,'j',function(){return ab;}),F['d'](z,'q',function(){return ac;}),F['d'](z,'a',function(){return ad;}),F['d'](z,'b',function(){return ae;}),F['d'](z,'i',function(){return af;}),F['d'](z,'o',function(){return ag;}),F['d'](z,'f',function(){return ah;}),F['d'](z,'e',function(){return ai;}),F['d'](z,'d',function(){return aj;}),F['d'](z,'c',function(){return ak;});var G=F('odX6'),H=F('+XjY'),J=F('aD9L'),K=Object['defineProperty'],Q=Object['getOwnPropertyDescriptor'],U=Object['getOwnPropertySymbols'],V=Object['prototype']['hasOwnProperty'],W=Object['prototype']['propertyIsEnumerable'],X=(ap,aq,ar)=>aq in ap?K(ap,aq,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':ar}):ap[aq]=ar,Y=(ap,aq,ar,as)=>{for(var at,au=as>0x1?void 0x0:as?Q(aq,ar):aq,av=ap['length']-0x1;av>=0x0;av--)(at=ap[av])&&(au=(as?at(aq,ar,au):at(au))||au);return as&&au&&K(aq,ar,au),au;},Z='mousedown',a0='mousemove',a1='wheel',a2='mouseup',a3='touchstart',a4='touchend',a5='touchmove',a6='touchcancel',a7='longpress',a8='focusin',a9='focusout',aa='pointerup',ab='keydown',ac='selectionchange',ad='click',ae='clickcapture',af='input',ag='paste',ah='copy',ai='contextmenu',aj='compositionstart',ak='compositionend',al=['.wolai-backdrop'],am=[];class an{constructor(){this['wheel']={},this['touchstart']={},this['touchend']={},this['touchmove']={},this['touchcancel']={},this['longpress']={},this['focusin']={},this['focusout']={},this['pointerup']={},this['longPressTimer']=-0x1,this['lastTouchStartEvent']=null,this['lastTouchMoveEvent']=null,this['register']=(ap,aq,ar,as)=>{this[ap][aq]=this[ap][aq]||[],this[ap][aq]['push'](((at,au)=>{for(var av in au||(au={}))V['call'](au,av)&&X(at,av,au[av]);if(U){for(var av of U(au))W['call'](au,av)&&X(at,av,au[av]);}return at;})({'callback':ar},as));},this['fireKeyDownEvent']=(ap,aq,ar)=>{if(aq['forceTrigger']||!this['editorStore']['preventEditorKeydown']||this['editorStore']['preventEditorKeydownId']&&this['editorStore']['preventEditorKeydownId']===ap){var {mac:as,windows:at}=aq,au=!0x1;if(as||at){if(Object(J['g'])())Boolean(ar['metaKey'])===as['includes'](H['c']['META'])&&Boolean(ar['ctrlKey'])===as['includes'](H['c']['CTRL'])&&Boolean(ar['altKey'])===as['includes'](H['c']['ALT'])&&Boolean(ar['shiftKey'])===as['includes'](H['c']['SHIFT'])&&as['filter'](aw=>![H['c']['META'],H['c']['CTRL'],H['c']['ALT'],H['c']['SHIFT']]['includes'](aw))['includes'](ar['keyCode'])&&(au=!0x0);else{if(Object(J['h'])()){var av=[...at,...as];!av['find'](aw=>[H['c']['META'],H['c']['CTRL'],H['c']['ALT'],H['c']['SHIFT']]['includes'](aw))&&av['includes'](ar['keyCode'])&&(au=!0x0);}else Boolean(ar['metaKey'])===at['includes'](H['c']['META'])&&Boolean(ar['ctrlKey'])===at['includes'](H['c']['CTRL'])&&Boolean(ar['altKey'])===at['includes'](H['c']['ALT'])&&Boolean(ar['shiftKey'])===at['includes'](H['c']['SHIFT'])&&at['filter'](aw=>![H['c']['META'],H['c']['CTRL'],H['c']['ALT'],H['c']['SHIFT']]['includes'](aw))['includes'](ar['keyCode'])&&(au=!0x0);}}else au=!0x0;if(au=au&&this['judgeIfTrigger'](ar['target'],aq))try{aq['callback'](ar);}catch(aw){throw console['error']('contrib\x20['['concat'](ap,']\x20error')),aw;}}},this['judgeIfTrigger']=(ap,aq)=>{var {include:ar=[],exclude:as=[]}=aq,at=!0x1;return'function'==typeof ar&&(ar=ar()),'function'==typeof as&&(as=as()),ar=[...ar,...am],as=[...as,...al],ar['length']||as['length']||(at=!0x0),ar['length']?(ar['forEach'](au=>{for(var av=this['domAPI']['$'](au,!0x0),aw=0x0;aw<av['length'];aw++)if(av[aw]['contains'](ap)||av[aw]===ap){at=!0x0;break;}}),as['length']&&as['filter'](au=>!ar['includes'](au))['forEach'](au=>{for(var av=this['domAPI']['$']('~'['concat'](au),!0x0),aw=0x0;aw<av['length'];aw++)if(av[aw]['contains'](ap)||av[aw]===ap){at=!0x1;break;}})):as['length']&&(at=!0x0,as['forEach'](au=>{for(var av=this['domAPI']['$']('~'['concat'](au),!0x0),aw=0x0;aw<av['length'];aw++)if(av[aw]['contains'](ap)||av[aw]===ap){at=!0x1;break;}})),at;},this['fireEvent']=(ap,aq,ar,as)=>{if(document['querySelector']('#wolai-page-layout')){var at=ar['target'];aq['forEach'](au=>{if(as===ab||as===ag)this['fireKeyDownEvent'](ap,au,ar);else{if(this['judgeIfTrigger'](at,au))try{au['callback'](ar);}catch(av){console['error']('contrib\x20['['concat'](ap,']\x20error')),console['error'](av);}}});}},this['mockKeyEvent']=(ap,aq,ar)=>{var as;document['createEvent']&&(window['KeyEvent']?(as=document['createEvent']('KeyEvents'))['initKeyEvent'](aq,!0x0,!0x0,window,!0x0,!0x1,!0x1,!0x1,ar,0x0):((as=document['createEvent']('UIEvents'))['initUIEvent'](aq,!0x0,!0x0,window,0x1),delete as['keyCode'],void 0x0===as['keyCode']?Object['defineProperty'](as,'keyCode',{'value':ar}):as['key']=String['fromCharCode'](ar)),ap['dispatchEvent'](as));},this['onMouseDown']=ap=>{Object['keys'](this['mousedown'])['forEach'](aq=>this['fireEvent'](aq,this['mousedown'][aq],ap,Z));},this['onMouseUp']=ap=>{Object['keys'](this['mouseup'])['forEach'](aq=>this['fireEvent'](aq,this['mouseup'][aq],ap,a2));},this['onMouseMove']=ap=>{Object['keys'](this['mousemove'])['forEach'](aq=>this['fireEvent'](aq,this['mousemove'][aq],ap,a0));},this['onWheel']=ap=>{Object['keys'](this['wheel'])['forEach'](aq=>this['fireEvent'](aq,this['wheel'][aq],ap,a1));},this['onKeyDown']=ap=>{var aq=!0x1;if(Object(J['g'])()){if(ap['ctrlKey']&&ap['keyCode']===H['c']['N']){var ar=this['cursorAPI']['getNodeByCursor']();ar&&this['cursorAPI']['computedCursorInMultiLine'](ar['id'],ar['type'],'down')||(ap['preventDefault'](),this['mockKeyEvent'](ap['target'],ab,H['c']['DOWN']),aq=!0x0);}else{if(ap['ctrlKey']&&ap['keyCode']===H['c']['P']){var as=this['cursorAPI']['getNodeByCursor']();as&&this['cursorAPI']['computedCursorInMultiLine'](as['id'],as['type'],'up')||(ap['preventDefault'](),this['mockKeyEvent'](ap['target'],ab,H['c']['UP']),aq=!0x0);}else ap['ctrlKey']&&ap['keyCode']===H['c']['B']?(this['mockKeyEvent'](ap['target'],ab,H['c']['LEFT']),aq=!0x0):ap['ctrlKey']&&ap['keyCode']===H['c']['F']&&(this['mockKeyEvent'](ap['target'],ab,H['c']['RIGHT']),aq=!0x0);}}aq||Object['keys'](this['keydown'])['forEach'](at=>this['fireEvent'](at,this['keydown'][at],ap,ab));},this['onTouchStart']=ap=>{Object['keys'](this['touchstart'])['forEach'](aq=>this['fireEvent'](aq,this['touchstart'][aq],ap,a3)),this['longPressTimer']=window['setTimeout'](()=>{this['longPressTimer']=-0x1,this['onLongPress'](ap);},0x226);},this['onTouchEnd']=ap=>{-0x1!==this['longPressTimer']&&(window['clearTimeout'](this['longPressTimer']),this['longPressTimer']=-0x1),this['lastTouchMoveEvent']&&Object['keys'](this['touchend'])['forEach'](aq=>this['fireEvent'](aq,this['touchend'][aq],this['lastTouchMoveEvent'],a4));},this['onTouchMove']=ap=>{var aq,ar,as=null==(ar=null==(aq=ap['touches'])?void 0x0:aq[0x0])?void 0x0:ar['force'];Object(J['f'])()&&as>0.5&&this['onLongPress'](ap),-0x1!==this['longPressTimer']&&(clearTimeout(this['longPressTimer']),this['longPressTimer']=-0x1),this['lastTouchMoveEvent']=ap,Object['keys'](this['touchmove'])['forEach'](at=>this['fireEvent'](at,this['touchmove'][at],ap,a5));},this['onTouchCancel']=ap=>{Object['keys'](this['touchcancel'])['forEach'](aq=>this['fireEvent'](aq,this['touchcancel'][aq],ap,a6));},this['onLongPress']=ap=>{Object['keys'](this['longpress'])['forEach'](aq=>this['fireEvent'](aq,this['longpress'][aq],ap,a7));},this['onFocusIn']=ap=>{Object['keys'](this['focusin'])['forEach'](aq=>this['fireEvent'](aq,this['focusin'][aq],ap,a8));},this['onFocusOut']=ap=>{Object['keys'](this['focusout'])['forEach'](aq=>this['fireEvent'](aq,this['focusout'][aq],ap,a9));},this['onPointerUp']=ap=>{Object['keys'](this['pointerup'])['forEach'](aq=>this['fireEvent'](aq,this['pointerup'][aq],ap,aa));},this['onSelectionChange']=ap=>{var aq=window['getSelection']();Object['defineProperty'](ap,'target',{'value':aq['anchorNode']}),Object['defineProperty'](ap,'currentTarget',{'value':aq['anchorNode']}),Object['defineProperty'](ap,'selection',{'value':aq}),Object['keys'](this['selectionchange'])['forEach'](ar=>this['fireEvent'](ar,this['selectionchange'][ar],ap,ac));},this['onClick']=ap=>{Object['keys'](this['click'])['forEach'](aq=>this['fireEvent'](aq,this['click'][aq],ap,ad));},this['onClickCapture']=ap=>{Object['keys'](this['clickcapture'])['forEach'](aq=>this['fireEvent'](aq,this['clickcapture'][aq],ap,ae));},this['onInput']=ap=>{Object['keys'](this['input'])['forEach'](aq=>this['fireEvent'](aq,this['input'][aq],ap,af));},this['onPaste']=ap=>{Object['keys'](this['paste'])['forEach'](aq=>this['fireEvent'](aq,this['paste'][aq],ap,ag));},this['onContextMenu']=ap=>{Object['keys'](this['contextmenu'])['forEach'](aq=>this['fireEvent'](aq,this['contextmenu'][aq],ap,ai));},this['onCompositionStart']=ap=>{Object['keys'](this['compositionstart'])['forEach'](aq=>this['fireEvent'](aq,this['compositionstart'][aq],ap,aj));},this['onCompositionEnd']=ap=>{Object['keys'](this['compositionend'])['forEach'](aq=>this['fireEvent'](aq,this['compositionend'][aq],ap,ak));},this['onCopy']=ap=>{Object['keys'](this['copy'])['forEach'](aq=>this['fireEvent'](aq,this['copy'][aq],ap,ah));},this['mousedown']={},this['mouseup']={},this['mousemove']={},this['keydown']={},this['click']={},this['clickcapture']={},this['selectionchange']={},this['input']={},this['paste']={},this['contextmenu']={},this['compositionstart']={},this['compositionend']={},this['copy']={},this['paste']={};}}Y([G['b']],an['prototype'],'domAPI',0x2),Y([G['b']],an['prototype'],'editorStore',0x2),Y([G['b']],an['prototype'],'cursorAPI',0x2);var ao=new an();z['w']=ao;},'twDv':function(b,d,f){'use strict';f['d'](d,'e',function(){return g;}),f['d'](d,'f',function(){return h;}),f['d'](d,'d',function(){return j;}),f['d'](d,'a',function(){return k;}),f['d'](d,'c',function(){return l;}),f['d'](d,'b',function(){return m;});var g=(p=>(p[p['Block']=0x0]='Block',p[p['TextStyle']=0x1]='TextStyle',p))(g||{}),h={'B':'bold','i':'italic','U':'underline','S':'strikethrough','<>':'code','BiLink':'bilink','Link':'link','Equation':'equation'},j={'visible':!0x1,'index':0x0,'groups':[{'name':'block','label':'块操作','items':[{'name':'add'},{'name':'transform'},{'name':'unindent'},{'name':'indent'},{'name':'image'},{'name':'paste'},{'name':'trash'},{'name':'undo'},{'name':'redo'}]},{'name':'textStyle','label':'文本样式','items':[{'name':'back'},{'name':'bold'},{'name':'italic'},{'name':'underline'},{'name':'strikethrough'},{'name':'code'},{'name':'bilink'},{'name':'equation'}]}]},k={'visible':!0x1,'name':'add','groups':[{'name':'basic','label':'基础块列表','items':[{'name':'TEXT','label':'文本'},{'name':'TODO_LIST','label':'待办列表'},{'name':'TODO_LIST_PRO','label':'待办列表\x20-\x20高级'},{'name':'HEADER_H1','label':'主标题'},{'name':'HEADER_H2','label':'大标题'},{'name':'HEADER_H3','label':'中标题'},{'name':'HEADER_H4','label':'小标题'},{'name':'TOGGLE_HEADER_H1','label':'折叠主标题'},{'name':'TOGGLE_HEADER_H2','label':'折叠大标题'},{'name':'TOGGLE_HEADER_H3','label':'折叠中标题'},{'name':'TOGGLE_HEADER_H4','label':'折叠小标题'},{'name':'PAGE','label':'页面'},{'name':'DIVIDER','label':'分割线'},{'name':'BULLET_LIST','label':'列表'},{'name':'ENUM_LIST','label':'数字列表'},{'name':'TOGGLE_LIST','label':'折叠列表'},{'name':'QUOTE','label':'引述文字'},{'name':'CALLOUT','label':'着重文字'},{'name':'CODE','label':'代码片段'}]},{'name':'media','label':'媒体与附件','items':[{'name':'IMAGE','label':'图片'},{'name':'VIDEO','label':'视频'},{'name':'AUDIO','label':'音频'},{'name':'FILE','label':'文件'},{'name':'EMBED','label':'嵌入'},{'name':'BOOKMARK','label':'书签'}]}]},l={'visible':!0x1,'name':'transform','groups':[{'name':'basic','label':'将当前块转换为','items':[{'name':'TEXT','label':'文本'},{'name':'TODO_LIST','label':'待办列表'},{'name':'TODO_LIST_PRO','label':'待办列表\x20-\x20高级'},{'name':'HEADER_H1','label':'主标题'},{'name':'HEADER_H2','label':'大标题'},{'name':'HEADER_H3','label':'中标题'},{'name':'HEADER_H4','label':'小标题'},{'name':'TOGGLE_HEADER_H1','label':'折叠主标题'},{'name':'TOGGLE_HEADER_H2','label':'折叠大标题'},{'name':'TOGGLE_HEADER_H3','label':'折叠中标题'},{'name':'TOGGLE_HEADER_H4','label':'折叠小标题'},{'name':'PAGE','label':'页面'},{'name':'DIVIDER','label':'分割线'},{'name':'BULLET_LIST','label':'列表'},{'name':'ENUM_LIST','label':'数字列表'},{'name':'TOGGLE_LIST','label':'折叠列表'},{'name':'QUOTE','label':'引述文字'},{'name':'CALLOUT','label':'着重文字'},{'name':'CODE','label':'代码片段'}]}]},m=k;},'uMVv':function(b,d,f){'use strict';f['d'](d,'a',function(){return j;}),f['d'](d,'c',function(){return k;}),f['d'](d,'b',function(){return l;}),f['d'](d,'d',function(){return m;});var g=f('TdDX'),h=f('odX6'),j=(p,q)=>{var u=Object(h['b'])('userStore');return u&&u['userId']&&!q?g['get'](''['concat'](u['userId'],'_')['concat'](p)):g['get'](p);},k=(p,q,u)=>{var v=Object(h['b'])('userStore');v&&v['userId']&&!u?g['set'](''['concat'](v['userId'],'_')['concat'](p),q):g['set'](p,q);},l=(p,q)=>{var u=Object(h['b'])('userStore');u&&u['userId']&&!q?g['remove'](''['concat'](u['userId'],'_')['concat'](p)):g['remove'](p);},m=(p,q,u)=>{var v=j(p),w=v&&Array['isArray'](v)?v:[];if(w['includes'](q)){var x=w['indexOf'](q);w['splice'](x,0x1);}u&&w['length']>=u&&(w=w['slice'](w['length']-u+0x1)),w['push'](q),k(p,w);};},'uidj':function(j,k,q){'use strict';q['d'](k,'f',function(){return D;}),q['d'](k,'b',function(){return E;}),q['d'](k,'d',function(){return F;}),q['d'](k,'e',function(){return G;}),q['d'](k,'g',function(){return H;}),q['d'](k,'c',function(){return I;}),q['d'](k,'a',function(){return K;}),q['d'](k,'h',function(){return L;});var v=q('Rsoz'),w=q('9rbq'),x=Object['defineProperty'],z=Object['getOwnPropertySymbols'],A=Object['prototype']['hasOwnProperty'],B=Object['prototype']['propertyIsEnumerable'],C=(M,N,O)=>N in M?x(M,N,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':O}):M[N]=O,D=Object['freeze']({'PERSONAL_FAMILY':'personal_family','PERSONAL_PRO':'personal_pro','TEAM_STANDARD':'team_standard','TEAM_PRO':'team_pro','TEAM_ENTERPRISE':'team_enterprise','TEAM_ENTERPRISE_TRYOUT':'team_enterprise_tryout'}),E=Object['freeze']('free'),F=Object['freeze']({'PERSONAL_FAMILY':'personal_family','PERSONAL_PRO':'personal_pro','TEAM_STANDARD':'team_standard','TEAM_PRO':'team_pro','TEAM_ENTERPRISE':'team_enterprise','FREE':E,'TEAM_FREE':'team_free','TEAM_ENTERPRISE_TRYOUT':'team_enterprise_tryout'}),G=[F['PERSONAL_PRO'],F['PERSONAL_FAMILY'],F['TEAM_STANDARD'],F['TEAM_PRO'],F['TEAM_ENTERPRISE'],F['TEAM_ENTERPRISE_TRYOUT']],H=[F['TEAM_FREE'],F['TEAM_STANDARD'],F['TEAM_PRO'],F['TEAM_ENTERPRISE'],F['TEAM_ENTERPRISE_TRYOUT']],I=M=>({[F['PERSONAL_PRO']]:v['a']['t'](w['cb']['PERSONAL_PRO_PLAN'],'个人专业版空间',{'ns':'editor'}),[F['FREE']]:v['a']['t'](w['cb']['FREE_PLAN'],'个人免费版空间',{'ns':'editor'}),[F['PERSONAL_FAMILY']]:v['a']['t'](w['cb']['PERSONAL_FAMILY_PLAN'],'家庭版空间',{'ns':'editor'}),[F['TEAM_FREE']]:v['a']['t'](w['cb']['TEMA_FREE_PLAN'],'团队试用版空间',{'ns':'editor'}),[F['TEAM_STANDARD']]:v['a']['t'](w['cb']['TEAM_STANDARD_PLAN'],'小组版空间',{'ns':'editor'}),[F['TEAM_PRO']]:v['a']['t'](w['cb']['TEAM_PRO_PLAN'],'团队版空间',{'ns':'editor'}),[F['TEAM_ENTERPRISE']]:v['a']['t'](w['cb']['TEAM_ENTERPRISE_PLAN'],'企业版空间',{'ns':'editor'}),[F['TEAM_ENTERPRISE_TRYOUT']]:v['a']['t'](w['cb']['TEAM_TRYOUT_PLAN'],'企业试用版空间',{'ns':'editor'})}[M]),J=Object['freeze']({'REDEEM_PRO_PLAN_HALF_MONTH':{'type':'REDEEM_PRO_PLAN_HALF_MONTH','amount':-0x14,'numberOfMonth':0.5},'REDEEM_PRO_PLAN_ONE_MONTH':{'type':'REDEEM_PRO_PLAN_ONE_MONTH','amount':-0x1e,'numberOfMonth':0x1},'REDEEM_PRO_PLAN_THREE_MONTHS':{'type':'REDEEM_PRO_PLAN_THREE_MONTHS','amount':-0x5a,'numberOfMonth':0x3},'REDEEM_PRO_PLAN_ONE_YEAR':{'type':'REDEEM_PRO_PLAN_ONE_YEAR','amount':-0x168,'numberOfMonth':0xc}}),K=Object['freeze'](((M,N)=>{for(var O in N||(N={}))A['call'](N,O)&&C(M,O,N[O]);if(z){for(var O of z(N))B['call'](N,O)&&C(M,O,N[O]);}return M;})({'INVITATION_SUCCESS':{'type':'INVITATION_SUCCESS','amount':0x5},'INVITATION_SUCCESS_BEYOND_MAXIMUM':{'type':'INVITATION_SUCCESS_BEYOND_MAXIMUM','amount':0x0},'SIGN_UP_WITH_REFERRAL':{'type':'SIGN_UP_WITH_REFERRAL','amount':0x14},'GIFT':{'type':'GIFT'},'FIRST_TIME_SET_CAREER':{'type':'FIRST_TIME_SET_CAREER','amount':0x2},'FIRST_TIME_SET_CHANNEL':{'type':'FIRST_TIME_SET_CHANNEL','amount':0x2},'FIRST_TIME_SET_INDUSTRY':{'type':'FIRST_TIME_SET_INDUSTRY','amount':0x2},'FIRST_TIME_SET_TEAM_SIZE':{'type':'FIRST_TIME_SET_TEAM_SIZE','amount':0x2},'SET_USER_BASIC_INFO_BEYOND_MAXIMUM':{'type':'SET_USER_BASIC_INFO_BEYOND_MAXIMUM','amount':0x0}},J)),L=M=>({[K['SIGN_UP_WITH_REFERRAL']['type']]:v['a']['t']('creditsByInvitation','受邀注册赠送'),[J['REDEEM_PRO_PLAN_HALF_MONTH']['type']]:v['a']['t']('redeem15d','兑换15天个人专业版时长'),[J['REDEEM_PRO_PLAN_ONE_MONTH']['type']]:v['a']['t']('redeem30d','兑换30天个人专业版时长'),[J['REDEEM_PRO_PLAN_THREE_MONTHS']['type']]:v['a']['t']('redeem90d','兑换90天个人专业版时长'),[J['REDEEM_PRO_PLAN_ONE_YEAR']['type']]:v['a']['t']('redeem365d','兑换365天个人专业版时长')}[M]);},'uoYi':function(j,q,x){'use strict';x['d'](q,'i',function(){return N;}),x['d'](q,'h',function(){return P;}),x['d'](q,'f',function(){return Q;}),x['d'](q,'g',function(){return V;}),x['d'](q,'e',function(){return W;}),x['d'](q,'c',function(){return X;}),x['d'](q,'b',function(){return Y;}),x['d'](q,'a',function(){return Z;}),x['d'](q,'d',function(){return a0;});var z=x('vN+2'),A=x['n'](z),B=x('CxY0'),C=x('Rsoz'),D=x('vDqi'),F=x['n'](D),G=x('RG8n'),H=x('9rbq'),J=x('odX6'),K=x('aD9L'),L=x('F4U0');function M(a1){var a2=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x400;this['message']=a1||C['a']['t']('services.utils.help.unknownError','未知错误，请稍后重试',{'ns':'editor'}),this['code']=a2,this['name']='NetworkError';}M['prototype']=new Error(),M['prototype']['constructor']=M;var N=(a1,a2,a3)=>{var a4=new URL('https://api.wolai.com');return Object(B['format'])({'protocol':a4['protocol'],'host':a4['host'],'pathname':'v1/'['concat'](a1),'query':a2});},P={'withCredentials':!0x0};function Q(a1){var a2=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1],a3=Object(J['b'])('notificationStore'),a4=Object(J['b'])('pageStore'),a5=Object(J['b'])('workspaceStore'),a6=Object(J['b'])('userStore');a5['inApp']&&a1&&(a1['headers']['X-Secret-Code']||a1['headers']['x-secret-code'])&&a5['sendCookieToApp'](a1['headers']['X-Secret-Code']||a1['headers']['x-secret-code']);var a7=a1['data'];if(!(a1['status']>=0xc8&&a1['status']<0x190))throw new Error(a1);if(R(a7)){if('object'==typeof a7)return a7;throw'string'==typeof a7?(a2||a3['enqueueSnackbar']({'message':C['a']['t']('services.utils.requestApiError','请求错误({{url}})：{{error}}',{'ns':'editor','url':(a1['config']['url']||'')['split']('/v1')[0x1]||'','error':a7}),'options':{'variant':'error'}}),new M(a7)):new Error(a1);}if(!T(a7)||![0x7d0,0x7e3,0x7de]['includes'](a7['code'])){if(T(a7)&&0x3e8===a7['code'])return a7['data'];throw a2||(T(a7)&&0x1068===a7['code']&&!H['gb']?a4['setConfirmOpen']({'type':'alert','title':'','contents':C['a']['t']('services.utils.help.syncCloudDataError','同步云端数据出错：{{message}}',{'ns':'editor','message':a7['message']}),'singleButton':!0x0,'success':()=>{window['location']['reload']();}}):T(a7)&&0x1776===a7['code']&&!H['gb']?a4['setConfirmOpen']({'contents':C['a']['t']('services.utils.helper.uploadNoPermission','<div>上传权限因违反<a\x20style=\x22color:\x20#cf5659;\x22\x20href=\x22{{serviceUrl}}\x22\x20target=\x22_blank\x22>服务条款</a>被冻结，如有疑义可提交<a\x20style=\x22color:\x20#cf5659;\x22\x20href=\x22{{appealUrl}}\x22\x20target=\x22_blank\x22>账户申诉</a>。</div>',{'ns':'editor','serviceUrl':H['Ob']['SERVICE_DOCUMENT'],'appealUrl':H['Ob']['APPEAL_DOCUMENT'],'interpolation':{'escapeValue':!0x1}}),'singleButton':!0x0,'transNs':'editor'}):T(a7)&&0x1775===a7['code']&&!H['gb']?a4['setConfirmOpen']({'contents':C['a']['t']('services.utils.helper.shareNoPermission','<div>分享权限因违反<a\x20style=\x22color:\x20#cf5659;\x22\x20href=\x22{{serviceUrl}}\x22\x20target=\x22_blank\x22>服务条款</a>被冻结，如有疑义可提交<a\x20style=\x22color:\x20#cf5659;\x22\x20href=\x22{{appealUrl}}\x22\x20target=\x22_blank\x22>账户申诉</a>。</div>',{'ns':'editor','serviceUrl':H['Ob']['SERVICE_DOCUMENT'],'appealUrl':H['Ob']['APPEAL_DOCUMENT'],'interpolation':{'escapeValue':!0x1}}),'singleButton':!0x0}):a3['enqueueSnackbar']({'message':a7['message']||a7['ErrorMessage'],'options':{'variant':'error'}})),new M(a7['message']||a7['ErrorMessage'],a7['code']||a7['ErrorCode']);}if(a6['screenLocked'])return a7['data'];if(a1['config']['url']['includes']('login'))throw new M(a7['message']||a7['ErrorMessage'],a7['code']||a7['ErrorCode']);window['location']['href']=a5['inApp']?'/logout?inApp=true':'/logout';}function R(a1){return!a1['code']&&!a1['ErrorCode'];}function T(a1){return a1['code']||a1['ErrorCode'];}function U(a1){var a2=Object(J['b'])('workspaceStore');return a1['headers']&&(a1['headers']['wolai-os-platform']=Object(K['a'])(),a1['headers']['wolai-app-version']=G['a'],a1['headers']['wolai-client-platform']=Object(K['b'])(),a1['headers']['wolai-client-version']='',Object(K['e'])()&&(a1['headers']['wolai-client-version']=L['b']),a2['inApp']&&(a1['headers']['wolai-client-version']=a2['appVersion'])),a1;}F['a']['interceptors']['request']['use'](U);var V=a1=>{var a2=new Map(),a3=F['a']['create'](),a4=F['a']['CancelToken'];function a5(a7){return a1?a1(a7):''['concat'](a7['url'],'-')['concat'](a7['method']);}function a6(a7){var a8=a2['get'](a5(a7));a8&&(a8['cancel'](),a2['delete'](a5(a7)));}return a3['interceptors']['request']['use'](a7=>{a6(a7);var a8=a4['source']();return a2['set'](a5(a7),a8),a7['cancelToken']=a8['token'],a7;}),a3['interceptors']['request']['use'](U),a3['interceptors']['response']['use'](a7=>(a6(a7['config']),a7)),{'post':H['gb']?A['a']:a3['post'],'get':H['gb']?A['a']:a3['get'],'put':H['gb']?A['a']:a3['put'],'delete':H['gb']?A['a']:a3['delete']};},W=H['gb']?A['a']:F['a']['put'],X=H['gb']?A['a']:F['a']['patch'],Y=H['gb']?A['a']:F['a']['get'],Z=H['gb']?A['a']:F['a']['delete'],a0=H['gb']?A['a']:F['a']['post'];},'v6je':function(b,f,g){'use strict';var j=g('mwIZ'),k=g['n'](j),m=g('9rbq'),q=g('odX6'),v=g('aD9L'),w=g('FcDI'),x=Object['defineProperty'],y=Object['getOwnPropertyDescriptor'],z=(C,D,E,F)=>{for(var G,H=F>0x1?void 0x0:F?y(D,E):D,I=C['length']-0x1;I>=0x0;I--)(G=C[I])&&(H=(F?G(D,E,H):G(H))||H);return F&&H&&x(D,E,H),H;},A=C=>void 0x0===C;class B{constructor(){this['focusXPos']=0x0,this['setTitleCursor']=C=>{var D=Object['keys'](this['dataStore']['getBlocksByPage'](C));this['blockAPI']['getTitlePlainTextById'](C)?0x1===D['length']&&this['editorStore']['moveCursorAfterRender']({'id':C,'position':'end','noScroll':!0x0},0x64):this['editorStore']['moveCursorAfterRender']({'id':C,'position':'start','noScroll':!0x0},0x64);},this['ifCursorInLineStart']=()=>{var [C]=this['domAPI']['getSelection']();if(!C)return!0x1;var {anchorNode:D,anchorOffset:E}=document['getSelection'](),F=/^\n$/['test'](D['nodeValue']);return 0x0===C['totalOffset']||C&&0x0===C['index']&&0x1===C['totalOffset']&&0x1===E&&F;},this['ifCursorInLineEnd']=(C,D)=>{var [,E]=this['domAPI']['getSelection']();if(!E)return!0x1;for(var F=D?this['blockAPI']['getCaptionById'](D):C?this['blockAPI']['getCellNodeTitle'](E['nodeId'],C):this['blockAPI']['getNodeTitle'](E['nodeId']),G=E['totalOffset'],H=0x0;H<F['length'];H++){var I=F[H];I[0x1]&&I[0x1]['find'](J=>m['r']['includes'](J[0x0]))?G-=0x1:G-=I[0x0]['length'];}return!!(0x0===G||-0x1===G&&F[F['length']-0x1][0x0]['endsWith']('\x0a\x0a'));},this['getNodeByCursor']=()=>{var {anchorNode:C}=document['getSelection'](),D=this['domAPI']['getNodeIdByElement'](C);return this['domAPI']['existCursorInEditor']()&&D?this['dataStore']['getBlockValue'](D):null;},this['moveCursor']=C=>{if(!this['screenStore']['currentScreen']['locked']){Object(v['h'])()&&Object(w['a'])();try{var {id:D,position:E}=C;E=E||C['pos'];var {cellId:F,isCodeCaption:G}=C,H=this['dataStore']['getBlockValue'](D);if(!H['id'])return;if(D!==this['screenStore']['currentScreen']['id']&&!m['O']['includes'](H['type'])){var I=this['blockAPI']['nextBlockId'](D);I&&(D=I,E='start');}var J=G?this['blockAPI']['getCodeCaptionContentDom'](D):this['blockAPI']['getNodeContentDom'](F?[D,F]:D,!0x0);if(k()(H,'attributes.marquee')&&(J=this['blockAPI']['getMarqueeNodeContentDom'](D)),!J)for(;m['K']['includes'](H['type']);){var K='persist'===E?this['blockAPI']['nextBlockId'](D):'persist-bottom'===E?this['blockAPI']['previousBlockId'](D):null;if(!K)break;if(D=K,J=this['blockAPI']['getNodeContentDom'](K,!0x0))break;H=this['dataStore']['getBlockValue'](K);}if(!J)return;var L=G?this['blockAPI']['getCaptionById'](D):F?this['blockAPI']['getCellNodeTitle'](D,F):this['blockAPI']['getNodeTitle'](D,!0x0);if('end'===E)this['setCursorPosByTitle'](J,this['blockAPI']['getTitleCursorOffsetByTitle'](L));else{if('start'===E)this['setCursorPosByTitle'](J,0x0);else{if('persist'===E||'persist-bottom'===E){var M=this['domAPI']['isInViewport'](J),N=this['domAPI']['getScreenByElement'](J);M?this['setCursorPosByLastPos'](J,E):this['scrollAPI']['scrollIntoView'](N['screenId'],D,{'duration':0x0,'callBack':()=>{this['setCursorPosByLastPos'](J,E);}});}else{if(A(E['x'])||A(E['y'])){if(A(E['start'])||A(E['end'])){var {offset:O}=E;this['setCursorPosByTitle'](J,O);}else this['setRangePos']({'id':D,'pos':E});}else{var {x:P,y:Q}=E;this['setCursorPosByCoords'](J,P,Q);}}}}if(!C['noScroll']){if(this['popperStore']['modalStatus']['basic-block-list'])return;this['scrollAPI']['checkIfScrollY'](D),F&&this['scrollAPI']['checkTableIfScrollX'](D,F);}this['saveCurrentCursorPos']();}catch(R){}}},this['getCursorPosByOffset']=(C,D)=>{if(0x0===D)return{'node':C,'offset':0x0};var E=(F,G)=>{var H,I,J=G;if(!(null==(H=null==F?void 0x0:F['childNodes'])?void 0x0:H['length'])){if(this['domAPI']['hasClass'](F,'emoji-node')){var K=Array['prototype']['indexOf']['call'](F['parentElement']['childNodes'],F);return{'node':F['parentElement'],'offset':0x0===G?K:K+0x1};}return{'node':F,'offset':G};}for(var L=0x0;L<F['childNodes']['length'];L++){var M=F['childNodes'][L];if(this['domAPI']['noEditNode'](M)){if(0x0===J)return{'node':F,'offset':L};if(0x1===J)return{'node':F,'offset':L+0x1};J-=0x1;}else{var N='';if(null==(I=null==M?void 0x0:M['childNodes'])?void 0x0:I['length']){for(var O=0x0;O<M['childNodes']['length'];O++)this['domAPI']['hasClass'](M['childNodes'][O],'emoji-node')?N+=M['childNodes'][O]['alt']:N+=M['childNodes'][O]['nodeValue']||M['childNodes'][O]['textContent'];}else this['domAPI']['hasClass'](M,'emoji-node')?N+=M['alt']:N+=M['nodeValue']||M['textContent'];var P=N['length'];if(!(J>P||J===P&&N['endsWith']('\x0a')&&L<F['childNodes']['length']-0x1))return E(M,J);J-=P;}}};return E(C,D);},this['setCursorPosByTitle']=(C,D)=>{var {node:E,offset:F}=this['getCursorPosByOffset'](C,D);this['setCursorPos'](E,F),this['setCursorXPosition']();},this['setCursorPosByCoords']=(C,D,E)=>{var F,G,H;document['caretPositionFromPoint']?(F=document['caretPositionFromPoint'](D,E))&&(G=F['offsetNode'],H=F['offset'],this['setCursorPos'](G,H),C&&C['focus']()):document['caretRangeFromPoint']&&(F=document['caretRangeFromPoint'](D,E))&&(G=F['startContainer'],H=F['startOffset'],this['setCursorPos'](G,H),C&&C['focus']());},this['setCursorPosByLastPos']=(C,D)=>{var E=D,F=this['domAPI']['getElementPosition'](C),{left:G,right:H}=F,{top:I,bottom:J}=F;I+=0xa,J-=0xa;var {xPos:K}=this['domAPI']['getSelectionCoords'](),L=this['focusXPos']||K;this['setCursorPosByCoords'](C,L<G||H<L?G:L,'persist-bottom'===E?J:I);},this['setCursorXPosition']=()=>{var {xPos:C}=this['domAPI']['getSelectionCoords']();C&&(this['focusXPos']=C,this['saveCurrentCursorPos']());},this['saveCurrentCursorPos']=C=>{var [D,E]=this['domAPI']['getSelection']();if(D){var {cellId:F,codeId:G}=this['domAPI']['getCellDataProps']();if(this['domAPI']['isSelectionCaret']()){var {nodeId:H,totalOffset:I}=D;this['editorUI']['focusBlockId']=H,this['editorUI']['cursorPos']={'id':H,'cellId':F,'isCodeCaption':Boolean(G),'pos':C||{'offset':I}},this['websocketStore']['setOccurrence']({'blockId':this['editorUI']['cursorPos']['id'],'cellId':F,'startOffset':I,'endOffset':I});}else this['editorUI']['focusBlockId']=D['nodeId'],this['editorUI']['cursorPos']={'id':D['nodeId'],'cellId':F,'isCodeCaption':Boolean(G),'pos':C||{'start':D['totalOffset'],'end':E['totalOffset']}},this['websocketStore']['setOccurrence']({'blockId':this['editorUI']['cursorPos']['id'],'cellId':F,'startOffset':D['totalOffset'],'endOffset':E['totalOffset']});}},this['getInlineEquationNode']=C=>{if(C)return this['domAPI']['hasClass'](C['parentElement'],'equation-node')?C['parentElement']:this['getInlineEquationNode'](C['parentElement']);},this['setCursorPos']=(C,D)=>{if(C&&document['body']['contains'](C)){if(C['nodeType']===Node['TEXT_NODE']&&(this['domAPI']['noEditNode'](C['parentElement'])||C['parentElement']&&this['domAPI']['hasClass'](C['parentElement']['parentElement'],'base'))){if(this['domAPI']['hasClass'](C['parentElement'],'katex-node')||C['parentElement']&&this['domAPI']['hasClass'](C['parentElement']['parentElement'],'base')){C=this['getInlineEquationNode'](C)||C;var E=this['domAPI']['getContenteditableParent'](C);D=Array['prototype']['findIndex']['call'](E['childNodes'],J=>J['contains'](C)),C=E;}else{if(D/C['nodeValue']['length']>0.5){var F=this['domAPI']['getContenteditableParent'](C);D=Array['prototype']['findIndex']['call'](F['childNodes'],J=>J['contains'](C))+0x1,C=F;}else{var G=this['domAPI']['getContenteditableParent'](C);D=Array['prototype']['findIndex']['call'](G['childNodes'],J=>J['contains'](C)),C=G;}}}var H=document['getSelection'](),I=document['createRange']();C['nodeType']===Node['TEXT_NODE']?D=D<=C['length']?D:C['length']:void 0x0!==C['innerText']&&(0x1===C['childNodes']['length']&&'IMG'===C['childNodes'][0x0]['nodeName']||(D=D<=C['innerText']['length']?D:C['innerText']['length'])),I['setStart'](C,D),I['collapse'](!0x0),H['removeAllRanges'](),H['addRange'](I);}},this['setRangePos']=C=>{var {id:D,pos:E,cellId:F}=C||this['editorUI']['cursorPos'],G=this['blockAPI']['getNodeContentDom'](F?[D,F]:D),H=this['getCursorPosByOffset'](G,E['start']),I=this['getCursorPosByOffset'](G,E['end']);if(H&&I){var {node:J,offset:K}=H,{node:L,offset:M}=I,N=document['createRange']();N['setStart'](J,K),N['setEnd'](L,M),document['getSelection']()['removeAllRanges'](),document['getSelection']()['addRange'](N);}},this['getSelectionCoordsByOffset']=(C,D,E)=>{var F=this['getCursorPosByOffset'](C,D),G=this['getCursorPosByOffset'](C,E),H=null,I=null,J=null;if(F&&G){var {node:K,offset:L}=F,{node:M,offset:N}=G,O=document['createRange']();O['setStart'](K,L),O['setEnd'](M,N);var P,Q,R=window['document'];if(O['getClientRects']&&(O['collapse'](!0x0),(P=O['getClientRects']())['length']>0x0&&(Q=P[P['length']-0x1]),Q&&(H=Q['left'],I=Q['top'],J=Q['height'])),0x0===H&&0x0===I||void 0x0===Q){var S=R['createElement']('span');if(S['getClientRects']){S['appendChild'](R['createTextNode']('​')),S['style']['display']='inline-block',S['style']['width']='0px',O['insertNode'](S),(Q=S['getBoundingClientRect']())&&(H=Q['left'],I=Q['top'],J=Q['height']);var T=S['parentNode'];T['removeChild'](S),T['normalize']();}}}return{'xPos':H,'yPos':I,'height':J};},this['computedCursorInMultiLine']=(C,D,E)=>{var F,{cellId:G,codeId:H}=this['domAPI']['getCellDataProps'](),I=H?this['blockAPI']['getCodeCaptionContentDom'](C):this['blockAPI']['getNodeContentDom'](G?[C,G]:C),{top:J,bottom:K}=this['domAPI']['getElementPosition'](I),{yPos:L}=this['domAPI']['getSelectionCoords']();[m['y']['TOGGLE_LIST'],m['y']['QUOTE'],m['y']['CALLOUT'],m['y']['TEXT'],m['y']['BULLET_LIST'],m['y']['ENUM_LIST'],m['y']['TODO_LIST'],m['y']['TODO_LIST_PRO'],m['y']['TOGGLE_TODO_LIST'],m['y']['TOGGLE_TODO_LIST_PRO']]['includes'](D)?F=0x1e:[m['y']['TOGGLE_HEADER_H3'],m['y']['HEADER_H3']]['includes'](D)?F=0x24:[m['y']['TOGGLE_HEADER_H2'],m['y']['HEADER_H2']]['includes'](D)?F=0x2a:[m['y']['TOGGLE_HEADER_H1'],m['y']['HEADER_H1']]['includes'](D)?F=0x33:D===m['y']['CODE']?F=0x15:D===m['y']['SIMPLE_TABLE']&&(F=0x16);var M=L-J-(0x3+(D===m['y']['QUOTE']||D===m['y']['CALLOUT']?0x8:0x0))<=0x5,N=K-L-0x3-F<=0x5;return!!Boolean(K-J-0x3>=F)&&('down'!==E||N?'up'===E&&!M&&(this['scrollAPI']['checkIfScrollY'](C),!0x0):(this['scrollAPI']['checkIfScrollY'](C),!0x0));},this['getCursorSplitTxt']=(C,D)=>{var E=D?this['blockAPI']['getCaptionById'](C):this['blockAPI']['getNodeTitle'](C),[F,G]=this['domAPI']['getSelection']();if(!F||!G)return{'before':[['']],'after':[['']]};var {index:H,innerOffset:I}=F,{index:J,innerOffset:K}=G,L=[],M=[],N=O=>O&&O[0x1]&&O[0x1]['find'](P=>m['r']['includes'](P[0x0]));return E['forEach']((O,P)=>{if(O){var Q=JSON['parse'](JSON['stringify'](O));P<H?L['push'](Q):P===H&&(N(O)?I>0x0&&L['push'](Q):(Q[0x0]=O[0x0]['substr'](0x0,I),Q[0x0]&&L['push'](Q)));}}),E['forEach']((O,P)=>{var Q=JSON['parse'](JSON['stringify'](O));P===J?N(O)?0x0===K&&M['push'](Q):(Q[0x0]=O[0x0]['substr'](K),Q[0x0]&&M['push'](Q)):P>J&&M['push'](Q);}),0x1===M['length']&&'\x0a'===M[0x0][0x0]&&(M[0x0][0x0]=''),{'before':L['length']?L:[['']],'after':M['length']?M:[['']]};},this['moveCursorToEnd']=C=>{if(window['getSelection']&&C){C['focus']();var D=window['getSelection']();try{D&&(D['selectAllChildren'](C),D['collapseToEnd']());}catch(E){}}},this['moveToLastCursorPosition']=()=>{this['moveCursor'](this['editorUI']['lastPos']);};}}z([q['b']],B['prototype'],'blockStore',0x2),z([q['b']],B['prototype'],'dataStore',0x2),z([q['b']],B['prototype'],'editorStore',0x2),z([q['b']],B['prototype'],'websocketStore',0x2),z([q['b']],B['prototype'],'blockAPI',0x2),z([q['b']],B['prototype'],'domAPI',0x2),z([q['b']],B['prototype'],'scrollAPI',0x2),z([q['b']],B['prototype'],'editorUI',0x2),z([q['b']],B['prototype'],'screenStore',0x2),z([q['b']],B['prototype'],'popperStore',0x2),f['a']=B;},'vXTk':function(b,f,g){'use strict';var h=g('2vnA'),j=g('wAMK'),k=g('odX6'),m=g('bXzw'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],v=(y,z,A,B)=>{for(var C,D=B>0x1?void 0x0:B?q(z,A):z,E=y['length']-0x1;E>=0x0;E--)(C=y[E])&&(D=(B?C(z,A,D):C(D))||D);return B&&D&&p(z,A,D),D;},w=(y,z,A)=>new Promise((B,C)=>{var D=G=>{try{F(A['next'](G));}catch(H){C(H);}},E=G=>{try{F(A['throw'](G));}catch(H){C(H);}},F=G=>G['done']?B(G['value']):Promise['resolve'](G['value'])['then'](D,E);F((A=A['apply'](y,z))['next']());});class x{constructor(){this['sentInvitations']=new Map(),this['receivedInvitations']=new Map(),this['init']=()=>w(this,null,function*(){this['sentInvitations']=new Map(),this['receivedInvitations']=new Map(),yield this['fetchReceivedInvitations']();}),this['fetchReceivedInvitations']=()=>w(this,null,function*(){var {userId:y}=this['userStore'];if(y){var z=(yield Object(j['i'])(y))||[];this['receivedInvitations']=new Map(z['map'](A=>[A['id'],A]));}}),this['fetchSentInvitations']=()=>w(this,null,function*(){var {spaceId:y}=this['spaceStore'];if(y){var z=yield Object(j['j'])(y,j['a']['Member']);this['sentInvitations']=new Map(z['map'](A=>[A['id'],A]));}});}get['receivedUnrespondedInvitations'](){return Array['from'](this['receivedInvitations'])['map'](y=>y[0x1])['filter'](y=>-0x1===y['responded_time']&&!0x0===y['is_active']);}}v([h['observable']],x['prototype'],'sentInvitations',0x2),v([h['observable']],x['prototype'],'receivedInvitations',0x2),v([k['b']],x['prototype'],'userStore',0x2),v([k['b']],x['prototype'],'spaceStore',0x2),v([h['action']],x['prototype'],'init',0x2),v([h['action']],x['prototype'],'fetchReceivedInvitations',0x2),v([h['computed']],x['prototype'],'receivedUnrespondedInvitations',0x1),v([h['action']],x['prototype'],'fetchSentInvitations',0x2),f['a']=Object(m['a'])(x);},'vc3F':function(a){a['exports']=JSON['parse']('{\x22iframeWhitelist\x22:[\x22figma.com\x22,\x22processon.com\x22,\x22dropbox.com\x22,\x22twitter.com\x22,\x22slack.com\x22,\x22amap.com\x22,\x22modao.cc\x22,\x22shimo.im\x22,\x22jianguoyun.com\x22,\x22jiandaoyun.com\x22,\x22yuque.com\x22,\x22dingding.com\x22,\x22wps.com\x22,\x22youdao.com\x22,\x22qiniu.com\x22,\x22worktile.com\x22,\x22teambition.com\x22,\x22bilibili.com\x22,\x22v.qq.com\x22,\x22v.youku.com\x22,\x22youtube.com\x22,\x22processon.com\x22,\x22facebook.com\x22,\x22twitter.com\x22,\x22taobao.com\x22,\x22docs.qq.com\x22,\x22onedrive.live.com\x22,\x22dida365.com\x22,\x22geogebra.org\x22,\x22latexlive.com\x22,\x22gitmind.cn\x22,\x22sharepoint.com\x22,\x22codepen.io\x22,\x22edrawsoft.com\x22,\x22edrawsoft.cn\x22,\x22craft.do\x22],\x22wolaiTeamWorkspace\x22:[\x229MasDefJhGY91gVh628UBS\x22]}');},'vqfu':function(b,d,f){'use strict';var g=f('ijCd'),h=f['n'](g),j=f('f9x4'),k=f('llz1'),l=class{static['validate'](p,q,u){var v=l['actuators'][q];return v||console['error']('未实现单选类型'['concat'](q,'操作符')),v(p,u);}static['convert'](p,q,u){if(l['actuators'][q]||console['error']('未实现单选类型'['concat'](q,'操作符')),!l['validate'](p,q,u)){var v=l['convertors'][q];v||console['error']('未实现单选类型\x20'['concat'](q,'\x20转换')),v(p,u);}}},m=l;m['operators']=[j['k']['Equal'],j['k']['NotEqual'],j['k']['Empty'],j['k']['NotEmpty']],m['actuators']={[j['k']['Equal']]:(p,q)=>{var {value:u}=p['values']()['next']();return h()(u,q);},[j['k']['NotEqual']]:(p,q)=>{var {value:u}=p['values']()['next']();return!h()(u,q);},[j['k']['Empty']]:p=>0x0===p['size'],[j['k']['NotEmpty']]:p=>0x0!==p['size']},m['convertors']={[j['k']['Equal']]:(p,q)=>{p['clear'](),p['add'](q);},[j['k']['NotEqual']]:()=>{},[j['k']['Empty']]:p=>{p['clear']();},[j['k']['NotEmpty']]:()=>{}},k['a']['registerValidator'](j['p']['Select'],m),k['a']['registerValidator'](j['p']['MultiSelect'],m);},'vyO4':function(j,q,x){'use strict';x['d'](q,'a',function(){return a4;});var z=x('2vnA'),A=x('BkRI'),B=x['n'](A),C=x('vN+2'),D=x['n'](C),F=x('7+vZ'),G=x('f9x4'),H=x('1rK0'),J=x('paMO'),K=x('OIS1'),L=x('95X5'),M=x('5mAU'),N=x('KiBK'),Q=x('Rsoz'),R=Object['defineProperty'],U=Object['defineProperties'],V=Object['getOwnPropertyDescriptor'],W=Object['getOwnPropertyDescriptors'],X=Object['getOwnPropertySymbols'],Y=Object['prototype']['hasOwnProperty'],Z=Object['prototype']['propertyIsEnumerable'],a0=(a5,a6,a7)=>a6 in a5?R(a5,a6,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a7}):a5[a6]=a7,a1=(a5,a6)=>{for(var a7 in a6||(a6={}))Y['call'](a6,a7)&&a0(a5,a7,a6[a7]);if(X){for(var a7 of X(a6))Z['call'](a6,a7)&&a0(a5,a7,a6[a7]);}return a5;},a2=(a5,a6,a7,a8)=>{for(var a9,aa=a8>0x1?void 0x0:a8?V(a6,a7):a6,ab=a5['length']-0x1;ab>=0x0;ab--)(a9=a5[ab])&&(aa=(a8?a9(a6,a7,aa):a9(aa))||aa);return a8&&aa&&R(a6,a7,aa),aa;},a3=(a5,a6,a7)=>new Promise((a8,a9)=>{var aa=ad=>{try{ac(a7['next'](ad));}catch(ae){a9(ae);}},ab=ad=>{try{ac(a7['throw'](ad));}catch(ae){a9(ae);}},ac=ad=>ad['done']?a8(ad['value']):Promise['resolve'](ad['value'])['then'](aa,ab);ac((a7=a7['apply'](a5,a6))['next']());});class a4 extends H['a']{constructor(a5,a6){super(a5,a6),this['type']=G['h']['Gallery'],this['queryAggregation']=D['a'],this['syncRemoteAggregation']=D['a'],this['type']=G['h']['Gallery'],this['loading']=!0x1,this['disposers']['push'](Object(z['reaction'])(()=>this['columns']['size'],()=>{var a7;(null==(a7=this['grouping'])?void 0x0:a7['property'])?(this['columns']['forEach'](a8=>{var a9=''['concat'](a8['option_id']);a8&&!this['columnQuerys']['has'](a9)&&this['columnQuerys']['add'](a9);}),this['columns']['size']||this['columnQuerys']['clear']()):(this['columnQuerys']['clear'](),this['columnQuerys']['add']('all',!0x0));},{'fireImmediately':!0x0}),Object(z['reaction'])(()=>{var a7;return null==(a7=this['property'])?void 0x0:a7['type'];},()=>{this['check']();},{'fireImmediately':!0x0}),Object(z['reaction'])(()=>this['columnQuerys']['pending'],a7=>{a7?this['rowDisposers']['forEach'](a8=>a8()):this['dataStore']['getDataRows'](this['table_id'])['forEach'](a8=>{this['rowDisposers']['push'](Object(z['reaction'])(()=>a8['version'],()=>{0x0===a8['status']?this['columnQuerys']['forEach'](a9=>a9['deleteRow'](a8['block_id'])):this['grouping']['property']&&this['property']&&this['computedGroup']([a8]);}));});}));}get['title'](){return this['data']['title']||Q['a']['t']('stores.database.board.defaultGalleryViewTitle','画廊视图',{'ns':'editor'});}get['settings'](){return Object['assign']({'page_size':0x32},this['data']['settings']);}get['grouping'](){return this['data']['grouping']||{'property':''};}get['canGroupBy'](){return this['dataStore']['getDataTable'](this['table_id'])['properties']['filter'](a5=>[G['p']['Select'],G['p']['MultiSelect'],G['p']['People'],G['p']['LastEditedBy'],G['p']['CreatedBy']]['includes'](a5['type']));}get['visibleColumns'](){return[...this['columns']['values']()]['filter'](a5=>!a5['hidden']);}get['hiddenColumns'](){return[...this['columns']['values']()]['filter'](a5=>a5['hidden']);}get['allColumns'](){return[...this['columns']['values']()];}get['columnTitles'](){var a5=new Map(),a6=new Set(Array['from'](this['columns']['keys']()));a6['delete'](void 0x0),a6['delete']('undefined');var a7=[...a6['keys']()];return this['grouping']['property']&&a7['forEach'](a8=>{if([G['p']['People'],G['p']['CreatedBy'],G['p']['LastEditedBy']]['includes'](this['property']['type'])){var a9=M['a']['people']([a8]);a5['set'](a8,a9||[['']]);}else{var aa=M['a']['select']([a8],this['table_id']);a5['set'](a8,aa||[['']]);}}),a5;}get['property'](){return this['grouping']['property']?this['dataSource']['getProperty'](this['grouping']['property']):{'type':G['p']['Text'],'id':'','name':''};}get['columns'](){return this['grouping']['property']?this['property']?this['canGroupBy']['every'](a5=>a5['id']!==this['property']['id'])?new Map():new Map(this['data']['columns']['filter'](a5=>a5['property_id']===this['grouping']['property'])['map'](a5=>{return[a5['option_id'],(a6=a1({},a5),a7={'property_id':this['grouping']['property']},U(a6,W(a7)))];var a6,a7;})):new Map():new Map([['all',{'hidden':!0x1,'property_id':'all','option_id':'all'}]]);}['deleteRow'](a5){this['columnQuerys']['forEach'](a6=>{a6['deleteRow'](a5);});}['hasColumn'](a5){return this['columns']['has'](a5);}['createRow'](a5,a6,a7,a8,a9){var aa='undefined'===a8?void 0x0:a8,ab={'table_id':this['table_id'],'block_id':a5||Object(K['b'])(),'properties':{},'created_time':new Date()['toISOString'](),'created_by':this['userStore']['userId'],'edited_time':new Date()['toISOString'](),'edited_by':this['userStore']['userId'],'version':0x1};if(this['dataSource']['hasRow'](null==a6?void 0x0:a6['block_id'])){var ac=a6['duplicate'](a5,a7);ab=B()(a1(a1({},ab),ac));}else{var ad=(null==a6?void 0x0:a6['getData'])?a6['getData']():a6;ab=B()(a1(a1({},ab),ad)),ab=this['validation']['convert'](ab);}if(this['grouping']['property']){var ae=new M['a'](this['table_id'],ab);ae['parse'](),Array['isArray'](a9)&&a9['length']&&a9['forEach'](af=>{ae['deleteOptionId'](af,this['grouping']['property']);}),aa&&ae['addOptionId'](aa,this['grouping']['property']),ab['properties'][this['grouping']['property']]='',ab['properties'][this['grouping']['property']]=ae['convert'](this['grouping']['property'])||[[]];}return ab;}['getRowNearby'](a5,a6,a7){var a8=void 0x0===a7?'undefined':a7;if(this['columnQuerys']['has'](a8)){var a9=this['columnQuerys']['get'](a8),aa=this['dataStore']['getDataRow'](this['table_id'],a5),ab=a9['ids']||[];if(aa){var ac=ab['indexOf'](a5);return-0x1===ac?{'prev_block_id':ab[ab['length']-0x1]||'','next_block_id':''}:{'prev_block_id':'after'===a6?a5:ac>0x0?ab[ac-0x1]:'','next_block_id':'before'===a6?a5:ac<ab['length']&&ab[ac+0x1]||''};}return{'prev_block_id':ab[ab['length']-0x1]||'','next_block_id':''};}return console['warn']('无此分组',a8),{'prev_block_id':'','next_block_id':''};}['insertRow'](a5,a6){var a7=this['dataStore']['getDataRow'](this['table_id'],a5);if(a7){if(this['grouping']['property']){var a8=new M['a'](this['table_id'],a7);a8['parse'](this['grouping']['property']);var a9=a8['getOptionIds'](this['grouping']['property']);a9['size']||a9['add']('undefined'),a9['forEach'](aa=>{this['columnQuerys']['has'](aa)&&this['columnQuerys']['get'](aa)['insertRow'](a5,a6);});}else{if(this['columnQuerys']['has']('all'))this['columnQuerys']['get']('all')['insertRow'](a5,a6);}}}['loadMore'](a5,a6){return a3(this,null,function*(){a5?yield this['columnQuerys']['reFresh'](a6):yield this['columnQuerys']['pagination']();});}['changeSearch'](a5,a6){this['columnQuerys']['changeSearch'](a5),a6||this['loadMore'](!0x0);}['getColumnIds'](a5){return this['columnQuerys']['has'](''['concat'](a5))?this['columnQuerys']['get'](''['concat'](a5))['ids']:[];}['getColumnTitle'](a5){return this['columnTitles']['get'](a5)||[[]];}['check'](){if(!this['columns']['size']&&!this['checking']){if(this['canGroupBy']['some'](a6=>a6['id']===this['property']['id']))return;this['checking']=!0x0;var a5=new J['a']();N['a']['changeViewGroupBy'](this['view_id'],'',a5),a5['commit'](()=>a3(this,null,function*(){yield this['queryGalleryColumns'](),this['checking']=!0x1;}));}}['computedGroup'](a5){a5['forEach'](a6=>{var a7;if(this['columnQuerys']['forEach'](aa=>{aa['deleteRow'](a6['block_id']);}),this['validation']['validate'](a6)){var a8=new M['a'](this['table_id'],a6);a8['parse'](this['grouping']['property']);var a9=a8['getOptionIds'](this['grouping']['property']);!a9['size']&&[G['p']['Select'],G['p']['MultiSelect']]['includes'](null==(a7=this['property'])?void 0x0:a7['type'])&&a9['add']('undefined'),a9['forEach'](aa=>{this['columnQuerys']['has'](aa)&&this['columnQuerys']['get'](aa)['addRow'](a6['block_id']);});}});}['refresh'](){this['columnQuerys']['reFresh']();}['queryGalleryColumns'](){return a3(this,null,function*(){this['loading']=!0x0;var {columns:a5,property:a6}=yield Object(F['b'])({'table_id':this['table_id'],'view_id':this['view_id']},G['h']['Gallery']),a7=a6||'',a8=a7?a5:[{'hidden':!0x1,'property_id':'all','option_id':'all'}];this['grouping']['property']===a7&&(this['dataStore']['syncDataViews']({[this['view_id']]:{'columns':a8,'view_id':this['view_id'],'grouping':{'property':a7}}}),yield this['loadMore'](!0x0)),this['loading']=!0x1;});}}a2([z['observable']],a4['prototype'],'checking',0x2),a2([z['computed']],a4['prototype'],'title',0x1),a2([z['computed']],a4['prototype'],'settings',0x1),a2([z['computed']],a4['prototype'],'grouping',0x1),a2([z['computed']],a4['prototype'],'canGroupBy',0x1),a2([z['computed']],a4['prototype'],'visibleColumns',0x1),a2([z['computed']],a4['prototype'],'hiddenColumns',0x1),a2([z['computed']],a4['prototype'],'allColumns',0x1),a2([z['computed']],a4['prototype'],'columnTitles',0x1),a2([z['computed']],a4['prototype'],'property',0x1),a2([z['computed']],a4['prototype'],'columns',0x1),a2([z['action']],a4['prototype'],'computedGroup',0x1),a2([Object(L['a'])(0x3e8,{'maxWait':0x2710})],a4['prototype'],'refresh',0x1);},'wAMK':function(f,j,k){'use strict';k['d'](j,'a',function(){return v;}),k['d'](j,'e',function(){return w;}),k['d'](j,'b',function(){return x;}),k['d'](j,'d',function(){return y;}),k['d'](j,'j',function(){return z;}),k['d'](j,'i',function(){return A;}),k['d'](j,'g',function(){return B;}),k['d'](j,'f',function(){return C;}),k['d'](j,'c',function(){return D;}),k['d'](j,'h',function(){return E;}),k['d'](j,'k',function(){return F;});var m=k('5D19'),q=(G,H,I)=>new Promise((J,K)=>{var L=O=>{try{N(I['next'](O));}catch(P){K(P);}},M=O=>{try{N(I['throw'](O));}catch(P){K(P);}},N=O=>O['done']?J(O['value']):Promise['resolve'](O['value'])['then'](L,M);N((I=I['apply'](G,H))['next']());}),v=(G=>(G['Guest']='guest',G['Member']='member',G))(v||{}),w=G=>q(void 0x0,null,function*(){var {workspaceId:H,inviter:I,mobile:J,countryCode:K,workspace:L}=G;return yield Object(m['n'])(Object(m['p'])('account/privateInvitation'),{'workspace':L,'workspaceId':H,'inviter':I,'mobile':J,'countryCode':K,'inviteType':'member'},m['h']);}),x=G=>q(void 0x0,null,function*(){return yield Object(m['o'])(Object(m['p'])('account/privateInvitation'),{'invitationId':G,'invitationAction':'accept'},m['h']);}),y=G=>q(void 0x0,null,function*(){return yield Object(m['a'])(Object(m['p'])('account/privateInvitation',{'invitationId':G}),m['h']);}),z=(G,H)=>q(void 0x0,null,function*(){return yield Object(m['i'])(Object(m['p'])('account/privateInvitations',{'workspaceId':G,'invitationType':H}),m['h']);}),A=(G,H)=>q(void 0x0,null,function*(){var I=yield Object(m['i'])(Object(m['p'])('account/privateInvitations',{'inviteeId':G,'invitationType':H}),m['h']);return null==I?void 0x0:I['data'];}),B=G=>q(void 0x0,null,function*(){return yield Object(m['i'])(Object(m['p'])('account/privateInvitation',{'invitationId':G}),m['h']);}),C=G=>q(void 0x0,null,function*(){var {workspaceId:H,inviter:I}=G;return yield Object(m['n'])(Object(m['p'])('account/publicInvitation'),{'workspaceId':H,'inviter':I},m['h']);}),D=G=>q(void 0x0,null,function*(){return yield Object(m['o'])(Object(m['p'])('account/publicInvitation'),{'invitationId':G},m['h']);}),E=G=>q(void 0x0,null,function*(){return yield Object(m['i'])(Object(m['p'])('account/publicInvitation',{'invitationId':G}),m['h']);}),F=G=>q(void 0x0,null,function*(){return yield Object(m['i'])(Object(m['p'])('account/publicInvitations',{'workspaceId':G}),m['h']);});},'wK8x':function(f,j,k){'use strict';k['d'](j,'b',function(){return E;}),k['d'](j,'c',function(){return F;}),k['d'](j,'d',function(){return G;}),k['d'](j,'a',function(){return H;});var q=k('5D19'),v=Object['defineProperty'],w=Object['defineProperties'],x=Object['getOwnPropertyDescriptors'],y=Object['getOwnPropertySymbols'],z=Object['prototype']['hasOwnProperty'],A=Object['prototype']['propertyIsEnumerable'],B=(I,J,K)=>J in I?v(I,J,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':K}):I[J]=K,C=(I,J)=>{for(var K in J||(J={}))z['call'](J,K)&&B(I,K,J[K]);if(y){for(var K of y(J))A['call'](J,K)&&B(I,K,J[K]);}return I;},D=(I,J,K)=>new Promise((L,M)=>{var N=Q=>{try{P(K['next'](Q));}catch(R){M(R);}},O=Q=>{try{P(K['throw'](Q));}catch(R){M(R);}},P=Q=>Q['done']?L(Q['value']):Promise['resolve'](Q['value'])['then'](N,O);P((K=K['apply'](I,J))['next']());}),E=(I,J)=>D(void 0x0,null,function*(){return yield Object(q['n'])(Object(q['p'])('snapshot/getAll'),{'page_id':I,'lastSequence':J},q['h'],!0x0);}),F=(I,J)=>D(void 0x0,null,function*(){var K=yield Object(q['n'])(Object(q['p'])('snapshot/get'),{'page_id':I,'edited_time_by_minute':J},q['h'],!0x0),L=K['url'],M=yield Object(q['i'])(L,{},!0x0);return C(C({},K),M);}),G=(I,J)=>D(void 0x0,null,function*(){return yield Object(q['n'])(Object(q['p'])('snapshot/restore'),{'page_id':I,'edited_time_by_minute':J},q['h'],!0x0);}),H=I=>D(void 0x0,null,function*(){return yield Object(q['n'])(Object(q['p'])('snapshot/batchCreate'),I,(J=C({},q['h']),K={'ignoreFlyMode':!0x0},w(J,x(K))));var J,K;});},'wUqq':function(b,d,f){'use strict';var g=f('Y+p1'),h=f['n'](g),j=f('f9x4'),k=f('llz1'),l=class{static['validate'](p,q,u){var v=l['actuators'][q];return v||console['error']('未实现勾选框类型'['concat'](q,'操作符')),v(p,u);}static['convert'](p,q,u){if(l['actuators'][q]||console['error']('未实现勾选框类型'['concat'](q,'操作符')),!l['validate'](p,q,u)){var v=l['convertors'][q];v||console['error']('未实现勾选框类型\x20'['concat'](q,'\x20转换')),v(p,u);}}},m=l;m['operators']=[j['k']['Equal'],j['k']['NotEqual']],m['actuators']={[j['k']['Equal']]:(p,q)=>{var {value:u}=p['values']()['next']();return q?h()(u,'True'):!h()(u,'True');},[j['k']['NotEqual']]:(p,q)=>{var {value:u}=p['values']()['next']();return q?!h()(u,'True'):h()(u,'True');}},m['convertors']={[j['k']['Equal']]:(p,q)=>{p['add'](q?'True':'False');},[j['k']['NotEqual']]:()=>{}},k['a']['registerValidator'](j['p']['Checkbox'],m);},'wujz':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;}),d['d'](c,'b',function(){return j;});var f=d('5D19'),g=(k,l,m)=>new Promise((p,q)=>{var u=x=>{try{w(m['next'](x));}catch(y){q(y);}},v=x=>{try{w(m['throw'](x));}catch(y){q(y);}},w=x=>x['done']?p(x['value']):Promise['resolve'](x['value'])['then'](u,v);w((m=m['apply'](k,l))['next']());}),h=k=>g(void 0x0,null,function*(){var l=yield Object(f['i'])(Object(f['p'])('page-status/isFollower/'['concat'](k)),f['h'],!0x0);return null==l?void 0x0:l['isFollower'];}),j=(k,l)=>g(void 0x0,null,function*(){return yield Object(f['n'])(Object(f['p'])('page-status/updateFollowerData'),{'page_id':k,'action':l},f['h'],!0x0);});},'wxQR':function(j,q,w){'use strict';w['d'](q,'r',function(){return x;}),w['d'](q,'j',function(){return z;}),w['d'](q,'s',function(){return A;}),w['d'](q,'t',function(){return B;}),w['d'](q,'p',function(){return C;}),w['d'](q,'o',function(){return D;}),w['d'](q,'i',function(){return E;}),w['d'](q,'b',function(){return F;}),w['d'](q,'k',function(){return G;}),w['d'](q,'a',function(){return H;}),w['d'](q,'q',function(){return J;}),w['d'](q,'c',function(){return K;}),w['d'](q,'h',function(){return L;}),w['d'](q,'d',function(){return M;}),w['d'](q,'e',function(){return N;}),w['d'](q,'f',function(){return O;}),w['d'](q,'g',function(){return P;}),w['d'](q,'l',function(){return Q;}),w['d'](q,'n',function(){return R;}),w['d'](q,'m',function(){return T;});var x=''['concat']('wolai','.user_v2'),z=''['concat']('wolai','.block'),A=''['concat']('wolai','.user_workspace_view'),B=''['concat']('wolai','.workspace'),C=''['concat']('wolai','.reference'),D='Wolai',E='trans',F='error_data',G='wolai_cache',H='cached_signed_urls',J='wolai_sync',K='sync_block',L='sync_reference',M='sync_dirty_block',N='sync_dirty_workspace',O='sync_image',P='sync_records_block',Q='database.meta',R='database.view',T='database.data';},'wxiS':function(b,c,d){'use strict';d['d'](c,'a',function(){return g;}),d['d'](c,'b',function(){return h;});var f=d('2xkG'),g=j=>{var k=j['toLowerCase']();return f['a']['filter'](l=>[...l['keyWord']]['find'](m=>m['indexOf'](k)>-0x1))['sort']((l,m)=>{var n=l['keyWord']['indexOf'](k),p=m['keyWord']['indexOf'](k);return-0x1!==n&&-0x1!==p?n-p:-0x1===p&&-0x1!==n?-0x1:-0x1===n&&-0x1!==p?0x1:0x0;});},h=j=>{var k=f['a']['find'](l=>l['name']['toLowerCase']()===j['toString']()['toLowerCase']());return k||{};};},'x3qf':function(j,q,x){'use strict';var z=x('mwIZ'),A=x['n'](z),B=x('2vnA'),C=x('odX6'),D=x('9rbq'),F=x('OIS1'),G=x('uidj'),H=x('Lr0L'),J=x('9r/k'),K=x('QWxR'),L=x('RC5D'),M=x('paMO'),N=x('WRmh'),P=Object['defineProperty'],Q=Object['defineProperties'],R=Object['getOwnPropertyDescriptor'],U=Object['getOwnPropertyDescriptors'],V=Object['getOwnPropertySymbols'],W=Object['prototype']['hasOwnProperty'],X=Object['prototype']['propertyIsEnumerable'],Y=(a3,a4,a5)=>a4 in a3?P(a3,a4,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a5}):a3[a4]=a5,Z=(a3,a4)=>{for(var a5 in a4||(a4={}))W['call'](a4,a5)&&Y(a3,a5,a4[a5]);if(V){for(var a5 of V(a4))X['call'](a4,a5)&&Y(a3,a5,a4[a5]);}return a3;},a0=(a3,a4,a5,a6)=>{for(var a7,a8=a6>0x1?void 0x0:a6?R(a4,a5):a4,a9=a3['length']-0x1;a9>=0x0;a9--)(a7=a3[a9])&&(a8=(a6?a7(a4,a5,a8):a7(a8))||a8);return a6&&a8&&P(a4,a5,a8),a8;},a1=(a3,a4,a5)=>new Promise((a6,a7)=>{var a8=ab=>{try{aa(a5['next'](ab));}catch(ac){a7(ac);}},a9=ab=>{try{aa(a5['throw'](ab));}catch(ac){a7(ac);}},aa=ab=>ab['done']?a6(ab['value']):Promise['resolve'](ab['value'])['then'](a8,a9);aa((a5=a5['apply'](a3,a4))['next']());});class a2{constructor(a3){var a4=this,{type:a5}=a3;this['setWidth']=a6=>{this['width']=a6;},this['setDirectoryWidth']=a6=>{this['directoryWidth']=a6;},this['setEditorWidthInFullMode']=a6=>{this['editorWidthInFullMode']=a6;},this['setPageProperty']=a6=>a1(this,null,function*(){var a7=this['pageActionCheckStore']['hasPagePublicActionLimit'](a6['value']['id'],N['g']['ViewPage']),a8=this['pageActionCheckStore']['hasPagePublicActionLimit'](a6['value']['id'],N['g']['EditPage']),a9=this['pageActionCheckStore']['hasPagePublicActionLimit'](a6['value']['id'],N['g']['CreateComment']);if(this['editable']=this['pageActionCheckStore']['hasPageActionLimit'](a6['value']['id'],N['g']['EditPage'])||a8,this['commentable']=this['pageActionCheckStore']['hasPageActionLimit'](a6['value']['id'],N['g']['EditComment'])||a9,this['blockLocked']=A()(a6,['value','setting','block_locked']),this['locked']='read'===A()(a6,['role'])||'readable'===A()(a6,['role'])||!this['editable']||this['blockLocked'],D['gb']){var aa=this['pageStore']['isPrivatePermission'](this['id']);this['offlineLocked']=!aa;}!this['offlineLocked']&&this['userStore']['isLogin']||(this['locked']=!0x0),this['deleted']=!0x1===A()(a6,'active'),this['showOutdated']=!this['deleted']&&'main'===this['type']&&this['spaceStore']['proPlanWillOutdated'](),this['readOnly']='read'===A()(a6,['role']),this['isNotInWorkspace']=a6['isPublic']||this['readOnly'],null===this['userStore']['userEditLocked']&&this['isNotInWorkspace']&&this['userStore']['setEditLocked'](this['isNotInWorkspace']),this['hiddenProButton']=this['isNotInWorkspace']||this['userStore']['isSpaceGuest'](this['userStore']['userId']),this['isShowDirectory']=A()(a6,['value','setting','block_isShowDirectorySuspended']),this['fullWidthMode']=!this['workspaceStore']['isPdf']&&A()(a6,['value','setting','block_full_width']),this['smallTextMode']=A()(a6,['value','setting','block_small_text']),this['tocFullSize']=!0x0,this['showTemplateButton']=A()(a6,['value','setting','block_show_template_button']),this['showShareSidebar']=A()(a6,['value','setting','block_show_share_sidebar']),this['isAllowCopy']=A()(a6,['value','setting','block_allow_copy']),this['isAllowDiscuss']=A()(a6,['value','setting','block_allow_discuss']),this['fontFamily']=A()(a6,['value','setting','block_font_family'],'default'),this['blockMargin']=A()(a6,['value','setting','block_margin'],'default'),this['showReferenceCount']=A()(a6,['value','setting','block_show_reference_count'],!0x0),this['toggleReferenceList']=A()(a6,['value','setting','block_toggle_reference_list']),this['hiddenSubpage']=A()(a6,['value','setting','block_hidden_subpage']),this['embedParentId']=A()(a6,['value','setting','block_embed_parent_id']),this['accessible']=this['readOnly']||this['editable']||a7||a8||a9,this['shareExtraInfo']=yield this['dataStore']['getShareExtraInfo'](A()(a6,['value','id'])),![G['d']['FREE'],G['d']['TEAM_FREE']]['includes'](this['spaceStore']['planType'])||!this['readOnly']||this['workspaceStore']['inApp']||this['workspaceStore']['isPreview']||'hide'===this['shareBanner']||!this['isAllowCopy']&&this['userStore']['isLogin']||(this['shareBanner']='show');}),this['hideShareBanner']=()=>{this['shareBanner']='hide';},this['setPageDeleted']=a6=>{this['deleted']=a6;},this['setPageOutdated']=a6=>{this['showOutdated']=a6;},this['unLockPage']=function(){var a6=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];a4['userStore']['isLogin']&&(a4['editable']?a4['locked']=a6:a4['locked']=!0x0);},this['setLoading']=a6=>{this['loading']=a6;},this['setDatabaseRowLoading']=a6=>{this['databaseRowLoading']=a6;},this['setLoadingMore']=a6=>{this['loadingMore']=a6;},this['setShareStatus']=a6=>{this['isShare']=a6;},this['setLastRowId']=()=>{var {sub_nodes:a6=[]}=this['dataStore']['getBlockValue'](this['id'])||{},a7=a6['slice'](-0x1)[0x0];a7&&this['lastRowId']!==a7&&(this['lastRowId']=a7);},this['setPermissionLoaded']=a6=>{this['permissionLoaded']=a6;},this['initShareStatus']=()=>{var a6=this['pageStore']['isPublicPermission'](this['id']);this['setShareStatus'](a6);},this['setPageLocked']=a6=>{if(this['pageActionCheckStore']['hasPageActionLimit'](this['id'],N['g']['EditPage'])){this['locked']=a6,this['blockLocked']=a6;var a7=new M['a']({'ignoreLock':!0x0});this['blockStore']['setBlockFormat'](a7,this['id'],{'block_locked':a6,'block_locked_by':this['userStore']['userId']}),a7['commit']();}},this['setDatabaseLocked']=(a6,a7)=>{if(this['pageActionCheckStore']['hasPageActionLimit'](a6,N['g']['EditPage'])){var a8=new M['a']({'ignoreLock':!0x0});this['blockStore']['setBlockFormat'](a8,a6,{'database_locked':a7,'database_locked_by':this['userStore']['userId']}),this['editorStore']['invokeObserver'](a8);}},this['setPageSetting']=(a6,a7)=>{switch(a6){case'full_width':this['fullWidthMode']=Boolean(a7);break;case'small_text':this['smallTextMode']=Boolean(a7);break;case'toc_full_size':this['tocFullSize']=Boolean(a7);break;case'show_template_button':this['showTemplateButton']=Boolean(a7);break;case'show_share_sidebar':this['showShareSidebar']=Boolean(a7);break;case'isShowDirectorySuspended':this['isShowDirectory']=Boolean(a7);break;case'allow_copy':this['isAllowCopy']=Boolean(a7);break;case'allow_discuss':this['isAllowDiscuss']=Boolean(a7);break;case'font_family':this['fontFamily']=a7||'defalut';break;case'margin':this['blockMargin']=a7||'defalut';break;case'show_reference_count':this['showReferenceCount']=Boolean(a7);break;case'toggle_reference_list':this['toggleReferenceList']=Boolean(a7);break;case'hidden_subpage':this['hiddenSubpage']=Boolean(a7);break;case'embed_parent_id':this['embedParentId']=a7;}var a8=new M['a']();this['blockStore']['setBlockFormat'](a8,this['id'],{['block_'['concat'](a6)]:a7}),this['editorUI']['debounceRecalculateBlockPosition'](this['screenId']),a8['commit'](),this['questStore']['track']('page-setting-'['concat'](a6,'-')['concat'](a7));},this['type']=a5,this['nodeIdList']=[],this['tableIdList']=[],this['allTypeNodeIdList']=[],this['readOnly']=null,this['loading']=!0x0,this['hiddenProButton']=!0x1,this['loadingMore']=!0x1,this['databaseRowLoading']=!0x0,this['editable']=!0x1,this['pageData']={},this['screenId']=Object(F['b'])(),this['width']=0x0,this['hash']='',this['directoryWidth']=0x0,this['editorWidthInFullMode']=0x0,this['permissionLoaded']=!0x1,this['shareBanner']='',this['visitors']=[],this['utils']=new H['a'](this),this['layout']=new J['a'](this),this['data']=new K['a'](this),this['visitor']=new L['a'](this);}get['locked'](){return this['_locked']||this['isNotInWorkspace']&&this['userStore']['userEditLocked'];}set['locked'](a3){this['_locked']=a3;}['getPageStatistics'](){var a3=this['utils']['traverseBlock'](this['id'],[]),a4=a3['length']||0x0,a5='',a6=this['dataStore']['getBlockProperty'](this['id'],'edited_time')||0x0,a7=this['dataStore']['getBlockProperty'](this['id'],'edited_by'),a8=this['dataStore']['getBlockProperty'](this['id'],'created_time')||new Date()['getTime']();a3['forEach'](ad=>{a5&&(a5+='\x0a');var ae=this['dataStore']['getBlockValue'](ad);if(ae['type']===D['y']['SIMPLE_TABLE']){var af=this['blockAPI']['getTableCells'](ae),ag='';af['forEach'](aj=>{aj['column']['forEach'](ak=>{var al=this['blockAPI']['getTitlePlainTextByTitle'](A()(ak,'attributes.title'));al&&(ag?ag+='\x0a'['concat'](al):ag=al);});}),a5+=ag;}else{var ah=this['blockAPI']['getTitlePlainTextById'](ad)||'';a5+=ah;}var ai=ae['edited_time'];ai&&Number(ai)>a6&&(a6=Number(ai),a7=ae['edited_by']);}),a5=a5['replace'](/\r\n/g,'\x0a');var a9,{hasProgressBar:aa,percentage:ab,pendingPercentage:ac}=this['editorStore']['getProgressBarPercentageData'](a3);return a9=Z(Z({},this['utils']['statistics'](a5)),{'blockCount':a4}),Q(a9,U({'lastEditedTime':a6,'createTime':a8,'lastEditedBy':a7,'hasProgressBar':aa,'percentage':ab,'pendingPercentage':ac}));}['renderPageData'](){this['layout']['renderPageData'](),this['renderDirectory']();}['getPageData'](){return this['layout']['getPageData']();}['renderDirectory'](){this['directory']=this['layout']['getAllHeader'](),this['readOnly']&&!this['directory']['length']&&(this['isShowDirectory']=!0x1);}['fetchPageData'](a3){var a4=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,a5=arguments['length']>0x2?arguments[0x2]:void 0x0;return a1(this,null,function*(){yield this['data']['fetchPageData'](a3,a4,a5);});}['fetchPageSnapshotData'](a3){return a1(this,null,function*(){yield this['data']['fetchPageSnapshotData'](a3);});}['fetchPageTemplateData'](a3){return a1(this,null,function*(){yield this['data']['fetchPageTemplateData'](a3);});}}a0([C['b']],a2['prototype'],'dataStore',0x2),a0([C['b']],a2['prototype'],'blockStore',0x2),a0([C['b']],a2['prototype'],'editorUI',0x2),a0([C['b']],a2['prototype'],'userStore',0x2),a0([C['b']],a2['prototype'],'blockAPI',0x2),a0([C['b']],a2['prototype'],'spaceStore',0x2),a0([C['b']],a2['prototype'],'pageStore',0x2),a0([C['b']],a2['prototype'],'workspaceStore',0x2),a0([C['b']],a2['prototype'],'routerStore',0x2),a0([C['b']],a2['prototype'],'editorStore',0x2),a0([C['b']],a2['prototype'],'biLinkStore',0x2),a0([C['b']],a2['prototype'],'domAPI',0x2),a0([C['b']],a2['prototype'],'pageActionCheckStore',0x2),a0([C['b']],a2['prototype'],'cursorAPI',0x2),a0([C['b']],a2['prototype'],'questStore',0x2),a0([B['computed']],a2['prototype'],'locked',0x1),Object(B['decorate'])(a2,{'type':B['observable'],'id':B['observable'],'hash':B['observable'],'loading':B['observable'],'loadingMore':B['observable'],'databaseRowLoading':B['observable'],'_locked':B['observable'],'blockLocked':B['observable'],'editable':B['observable'],'accessible':B['observable'],'isNotInWorkspace':B['observable'],'deleted':B['observable'],'showOutdated':B['observable'],'readOnly':B['observable'],'hiddenProButton':B['observable'],'isShowDirectory':B['observable'],'fullWidthMode':B['observable'],'smallTextMode':B['observable'],'tocFullSize':B['observable'],'showTemplateButton':B['observable'],'showShareSidebar':B['observable'],'shareExtraInfo':B['observable'],'isAllowCopy':B['observable'],'fontFamily':B['observable'],'blockMargin':B['observable'],'showReferenceCount':B['observable'],'toggleReferenceList':B['observable'],'hiddenSubpage':B['observable'],'embedParentId':B['observable'],'isShare':B['observable'],'pageDataRenderId':B['observable'],'lastRowId':B['observable'],'directory':B['observable'],'width':B['observable'],'directoryWidth':B['observable'],'editorWidthInFullMode':B['observable'],'permissionLoaded':B['observable'],'shareBanner':B['observable'],'visitors':B['observable']}),q['a']=a2;},'x9Bn':function(j,q,x){'use strict';x['d'](q,'g',function(){return X;}),x['d'](q,'m',function(){return Y;}),x['d'](q,'l',function(){return Z;}),x['d'](q,'e',function(){return a0;}),x['d'](q,'d',function(){return a1;}),x['d'](q,'n',function(){return a2;}),x['d'](q,'h',function(){return a3;}),x['d'](q,'i',function(){return a4;}),x['d'](q,'j',function(){return a5;}),x['d'](q,'b',function(){return a6;}),x['d'](q,'c',function(){return a7;}),x['d'](q,'t',function(){return a8;}),x['d'](q,'s',function(){return a9;}),x['d'](q,'p',function(){return aa;}),x['d'](q,'q',function(){return ab;}),x['d'](q,'r',function(){return ac;}),x['d'](q,'o',function(){return ad;}),x['d'](q,'k',function(){return ae;}),x['d'](q,'a',function(){return af;}),x['d'](q,'f',function(){return ag;});var z=x('5D19'),F=x('aD9L'),G=Object['defineProperty'],H=Object['defineProperties'],J=Object['getOwnPropertyDescriptors'],K=Object['getOwnPropertySymbols'],M=Object['prototype']['hasOwnProperty'],Q=Object['prototype']['propertyIsEnumerable'],R=(ah,ai,aj)=>ai in ah?G(ah,ai,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':aj}):ah[ai]=aj,U=(ah,ai)=>{for(var aj in ai||(ai={}))M['call'](ai,aj)&&R(ah,aj,ai[aj]);if(K){for(var aj of K(ai))Q['call'](ai,aj)&&R(ah,aj,ai[aj]);}return ah;},V=(ah,ai)=>H(ah,J(ai)),W=(ah,ai,aj)=>new Promise((ak,al)=>{var am=ap=>{try{ao(aj['next'](ap));}catch(aq){al(aq);}},an=ap=>{try{ao(aj['throw'](ap));}catch(aq){al(aq);}},ao=ap=>ap['done']?ak(ap['value']):Promise['resolve'](ap['value'])['then'](am,an);ao((aj=aj['apply'](ah,ai))['next']());}),X=ah=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/checkRecommendCode'),{'code':ah},z['h']);}),Y=ah=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/getUserName'),{'code':ah},z['h']);}),Z=ah=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/getPromoInfo'),{'code':ah},z['h']);}),a0=(ah,ai,aj)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/checkMobile'),{'phoneNumber':ah,'countryCode':ai,'type':aj},z['h']);}),a1=ah=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/checkLoginEmail'),{'email':ah},z['h']);}),a2=(ah,ai,aj)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/getUserCaptcha'),{'userId':ah,'nvc':ai,'type':aj},z['h']);}),a3=(ah,ai,aj)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/checkUserCaptcha'),{'userId':ah,'captcha':ai,'email':aj},z['h']);}),a4=(ah,ai,aj,ak,al)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/getCaptcha'),{'phoneNumber':ah,'nvc':ai,'type':aj,'countryCode':ak,'userId':al},z['h']);}),a5=(ah,ai,aj,ak)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/getCaptcha'),{'email':ah,'nvc':ai,'type':aj,'userId':ak},z['h']);}),a6=(ah,ai,aj)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/checkCaptcha'),{'phoneNumber':ah,'captcha':ai,'countryCode':aj},z['h']);}),a7=(ah,ai)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/checkCaptcha'),{'email':ah,'captcha':ai},z['h']);}),a8=(ah,ai,aj,ak)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/resetPassword'),{'phoneNumber':ah,'password':ai,'captcha':aj,'countryCode':ak},z['h']);}),a9=(ah,ai,aj)=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/auth/resetPassword'),{'email':ah,'password':ai,'captcha':aj},z['h']);}),aa=ah=>W(void 0x0,null,function*(){var ai=z['h'];return Object(F['f'])()&&(ai=V(U({},ai),{'headers':{'X-Wolai-Login-Token':!0x0}})),yield Object(z['n'])(Object(z['p'])('authentication/auth/login'),V(U({},ah),{'userAgent':navigator['userAgent']}),ai);}),ab=()=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/logout'),{},z['h']);}),ac=()=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/logoutAll'),{},z['h']);}),ad=()=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/getUserInfo'),{},z['h']);}),ae=ah=>W(void 0x0,null,function*(){return yield Object(z['i'])(Object(z['p'])('authentication/user/getPosterUserInfo/'['concat'](ah)),z['h']);}),af=()=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/checkCSOnline'),{},z['h']);}),ag=ah=>W(void 0x0,null,function*(){return yield Object(z['n'])(Object(z['p'])('authentication/user/checkPassword'),{'code':ah},z['h']);});},'xFgN':function(b,c,d){'use strict';d['d'](c,'a',function(){return h;});var f=d('9rbq'),g=d('qX4z'),h=Object(g['j'])()?f['hb']?'https://msg.api.wol.ai':'https://msg.api.wolai.com':'https://msg-test.api-test.wolai.com';},'xQld':function(a){a['exports']=JSON['parse']('{\x22unreachableIframeList\x22:[\x22wolai.com\x22],\x22unreachableIframeListException\x22:[\x22static-test.wolai.com\x22]}');},'xWF0':function(j,q,x){'use strict';var z=x('2vnA'),A=x('mwIZ'),B=x['n'](A),C=x('D1y2'),D=x['n'](C),F=x('odX6'),G=x('bXzw'),H=x('9rbq'),J=x('xZ6H'),K=x('+Heo'),L=x('Tk+0'),M=x('OIS1'),N=Object['defineProperty'],P=Object['defineProperties'],Q=Object['getOwnPropertyDescriptor'],R=Object['getOwnPropertyDescriptors'],T=Object['getOwnPropertySymbols'],U=Object['prototype']['hasOwnProperty'],V=Object['prototype']['propertyIsEnumerable'],W=(a1,a2,a3)=>a2 in a1?N(a1,a2,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a3}):a1[a2]=a3,X=(a1,a2)=>{for(var a3 in a2||(a2={}))U['call'](a2,a3)&&W(a1,a3,a2[a3]);if(T){for(var a3 of T(a2))V['call'](a2,a3)&&W(a1,a3,a2[a3]);}return a1;},Y=(a1,a2)=>P(a1,R(a2)),Z=(a1,a2,a3,a4)=>{for(var a5,a6=a4>0x1?void 0x0:a4?Q(a2,a3):a2,a7=a1['length']-0x1;a7>=0x0;a7--)(a5=a1[a7])&&(a6=(a4?a5(a2,a3,a6):a5(a6))||a6);return a4&&a6&&N(a2,a3,a6),a6;};class a0{constructor(){this['notes']=z['observable']['map'](),this['notePopovers']=z['observable']['map'](),this['pageNotes']=z['observable']['map'](),this['footnotes']=z['observable']['map'](),this['expanded']=!0x0,this['handlers']={},this['openNotePopper']=(a1,a2,a3)=>{if(this['closeNotePopper'](),this['anchorEl']=a1,this['editorStore']['preventEditorKeydownAction'](!0x0),a2['noteId']){var a4=new K['a'](Y(X({'anchorEl':a1},a2),{'refId':Object(M['b'])()}));this['notePopovers']['set'](a4['refId'],a4),this['notePopover']=a4;}else{var a5=J['a']['createNote']({'note_id':a2['noteId'],'note_type':a2['noteType']});this['notes']['set'](a5['note_id'],a5);var a6=new K['a'](Y(X({'refId':Object(M['b'])(),'anchorEl':a1},a2),{'noteId':a5['note_id'],'isCreating':!0x0,'isTextActionBar':a3}));a6['editable'](!0x0),this['notePopovers']['set'](a6['refId'],a6),this['notePopover']=a6;}this['notePopover']['updatePosition'](a1['getBoundingClientRect']());},this['bindHandler']=(a1,a2)=>{this['handlers'][a1]=a2;},this['closeNotePopper']=()=>{this['editorStore']['preventEditorKeydownAction'](!0x1),this['notePopovers']['forEach'](a1=>{a1['isPin']||this['notePopovers']['delete'](a1['refId']);}),this['notePopover']=null;},this['isNote']=a1=>a1&&a1[0x1]&&a1[0x1]['some'](a2=>[L['a']['Note'],L['a']['Footnote']]['includes'](a2[0x0])),this['notes']=z['observable']['map']();}['addNote'](a1,a2,a3,a4){if(this['notes']['has'](a2['note_id'])){var a5=this['notes']['get'](a2['note_id']);a5['edited_time']<a2['edited_time']&&a5['update'](a2),a5['addRef']({'renderId':a1,'blockId':a3,'cellId':a4});}else this['notes']['set'](a2['note_id'],new J['a'](X({},a2))),this['notes']['get'](a2['note_id'])['addRef']({'renderId':a1,'blockId':a3,'cellId':a4});}['clearFootnoteNumero'](a1){this['footnotes']['has'](a1)||this['footnotes']['set'](a1,new Map()),this['pageNotes']['has'](a1)||this['pageNotes']['set'](a1,new Set()),this['pageNotes']['get'](a1)['forEach'](a3=>{var a4=this['notes']['get'](a3);a4&&a4['clearRef']();});var a2=this['footnotes']['get'](a1);a2['forEach'](a3=>{var {positons:a4,noteId:a5}=a3,a6=this['notes']['get'](a5);a6&&a6['clearRef'](),[...a4['keys']()]['forEach'](a7=>{var a8=this['dataStore']['getBlockValue'](a7);this['blockStore']['setBlockDirty'](a8);});}),a2['clear']();}['matchAndRenumber'](a1,a2,a3){var {pageId:a4,blockId:a5,cellId:a6}=a3;if(a6){if(a1['has'](''['concat'](a5,'-')['concat'](a6)))return;a1['add'](''['concat'](a5,'-')['concat'](a6));}else{if(a1['has'](a5))return;a1['add'](a5);}var a7,a8=this['footnotes']['get'](a4),a9=this['pageNotes']['get'](a4),aa=!0x1;return Array['isArray'](a2)&&(a7=a2['map'](ab=>Array['isArray'](ab)?ab['map'](ac=>Array['isArray'](ac)?ac['map'](ad=>{var ae;if([L['a']['Note'],L['a']['Footnote']]['includes'](ad[0x0])){var [af,ag,ah]=ad,ai=Object(M['b'])();if(this['addNote'](ai,Y(X({},ah),{'content':ag,'note_type':af}),a5,a6),af===L['a']['Footnote']){if(a8['has'](ah['note_id'])){var aj=a8['get'](ah['note_id'])['positons'];aj['has'](a5)?a6&&aj['get'](a5)['add'](a6):aj['set'](a5,new Set(a6?[a6]:[]));}else a8['set'](ah['note_id'],{'noteId':ah['note_id'],'positons':new Map([[a5,new Set(a6?[a6]:[])]]),'numero':a8['size']+0x1});}else a9['add'](ah['note_id']);return aa=!0x0,J['a']['buildSectionStyle'](Y(X({},ah),{'note_id':ah['note_id'],'content':ag,'note_type':af,'numero':af===L['a']['Footnote']?null==(ae=a8['get'](ah['note_id']))?void 0x0:ae['numero']:void 0x0}));}return'BiLink'===ad[0x0]&&ad[0x2]&&this['match'](a4,this['dataStore']['getBlockValue'](ad[0x2]),a1),ad;}):ac):ab)),aa?a7:void 0x0;}['match'](a1,a2){var a3=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:new Set(),a4=!0x1;if(a2['type']===H['y']['SIMPLE_TABLE'])this['blockAPI']['getTableCells'](a2)['forEach'](a7=>{a7['column']['forEach'](a8=>{var a9=this['matchAndRenumber'](a3,a8['attributes']['title'],{'pageId':a1,'blockId':a2['id'],'cellId':a8['id']});a9&&(a4=!0x0,a8['attributes']['title']=a9);});});else{var a5=B()(a2,'attributes.title',[['']]),a6=this['matchAndRenumber'](a3,a5,{'pageId':a1,'blockId':a2['id']});a6&&(a4=!0x0,D()(a2,'attributes.title',a6));}return a4&&this['dataStore']['syncBlockData']([a2]),a4;}['compareHasChange'](a1,a2,a3){var a4=a3?this['blockAPI']['getCellNodeTitle'](a2,a3):this['blockAPI']['getNodeTitle'](a2),a5=(a8,a9)=>{if(this['isNote'](a9)){var [aa,,ab]=a9[0x1][0x0];aa===L['a']['Footnote']&&a8['push'](null==ab?void 0x0:ab['note_id']);}return a8;},a6=(a1||[['']])['reduce'](a5,[]),a7=(a4||[['']])['reduce'](a5,[]);return a6['length']!==a7['length']||a6['some']((a8,a9)=>a8!==a7[a9]);}['toggleExpanded'](a1){this['expanded']=a1;}}Z([F['b']],a0['prototype'],'editorStore',0x2),Z([F['b']],a0['prototype'],'blockStore',0x2),Z([F['b']],a0['prototype'],'dataStore',0x2),Z([F['b']],a0['prototype'],'blockAPI',0x2),Z([z['observable']],a0['prototype'],'notes',0x2),Z([z['observable']['shallow']],a0['prototype'],'notePopovers',0x2),Z([z['observable']],a0['prototype'],'pageNotes',0x2),Z([z['observable']],a0['prototype'],'footnotes',0x2),Z([z['observable']],a0['prototype'],'expanded',0x2),Z([z['observable']],a0['prototype'],'anchorEl',0x2),Z([z['observable']],a0['prototype'],'notePopover',0x2),Z([z['action']],a0['prototype'],'openNotePopper',0x2),Z([z['action']],a0['prototype'],'closeNotePopper',0x2),Z([z['action']],a0['prototype'],'match',0x1),q['a']=Object(G['a'])(a0);},'xZ6H':function(b,f,g){'use strict';g['d'](f,'a',function(){return v;});var h=g('2vnA'),j=g('OIS1'),k=g('Tk+0'),m=Object['defineProperty'],p=Object['getOwnPropertyDescriptor'],q=(w,x,y,z)=>{for(var A,B=z>0x1?void 0x0:z?p(x,y):x,C=w['length']-0x1;C>=0x0;C--)(A=w[C])&&(B=(z?A(x,y,B):A(B))||B);return z&&B&&m(x,y,B),B;},u=class{constructor(w){this['reference']=new Set(),this['note_id']=w['note_id']||Object(j['b'])(),this['note_type']=w['note_type']||k['a']['Note'],this['edited_time']=w['edited_time']||Date['now'](),this['content']=w['content']||[['']],this['label']=w['label']||'',this['numero']=w['numero']||0x1,w['note_id']||(this['isCreating']=!0x0);}static['parseSection'](w){var x=[];return Array['isArray'](w)&&w['forEach'](y=>{var z=y[0x0];if([k['a']['Footnote'],k['a']['Note']]['includes'](y[0x0])){var A=y[0x1],B=y[0x2];x['push']({'note_id':B['note_id'],'content':A,'note_type':z,'label':B['label']||''});}}),x;}static['buildSectionStyle'](w){var x=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1];return[w['note_type'],w['content']||[['']],{'note_id':w['note_id'],'label':w['label'],'edited_time':x?Date['now']():w['edited_time']||Date['now'](),'numero':w['numero']}];}static['createNote'](w){return new u(w);}['toJson'](){return{'note_id':this['note_id'],'note_type':this['note_type'],'content':Object(h['toJS'])(this['content'])};}['update'](w){Object['keys'](w)['forEach'](x=>{['label','content']['includes'](x)&&(this[x]=w[x]);}),this['edited_time']=Date['now']();}['renumber'](w){this['numero']=w;}['addRef'](w){this['reference']['add'](w);}['clearRef'](){this['reference']['clear']();}},v=u;q([h['observable']],v['prototype'],'isLoading',0x2),q([h['observable']],v['prototype'],'content',0x2),q([h['observable']],v['prototype'],'label',0x2),q([h['observable']],v['prototype'],'status',0x2);},'yKWy':function(j,k,q){'use strict';var v=q('23mu'),w=q('9rbq'),x=q('odX6'),y=q('z7Vv'),z=Object['defineProperty'],A=Object['defineProperties'],B=Object['getOwnPropertyDescriptor'],C=Object['getOwnPropertyDescriptors'],D=Object['getOwnPropertySymbols'],E=Object['prototype']['hasOwnProperty'],F=Object['prototype']['propertyIsEnumerable'],G=(K,L,M)=>L in K?z(K,L,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':M}):K[L]=M,H=(K,L)=>{for(var M in L||(L={}))E['call'](L,M)&&G(K,M,L[M]);if(D){for(var M of D(L))F['call'](L,M)&&G(K,M,L[M]);}return K;},I=(K,L)=>A(K,C(L));class J extends v['a']{constructor(K,L){super(K),this['trans']=L;}['createPage'](K,L,M){var N=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'workspace',O=arguments['length']>0x4?arguments[0x4]:void 0x0;return this['set'](K,w['Db'],[],I(H({},Object(y['f'])(O)),{'type':w['y']['PAGE'],'id':K,'workspace_id':L,'parent_id':M,'parent_type':N,'status':w['w']['ACTIVE']})),this['trans']['history']['update'](K,w['Db'],[],{'active':!0x1,'status':w['w']['TRASH']}),this;}['updatePage'](K,L){return this['update'](K,w['Db'],[],I(H({},Object(y['f'])(L)),{'type':w['y']['PAGE']})),this['trans']['history']['update'](K,w['Db'],[],this['getBlockUndoData'](K,'',Object['keys'](L))),this;}['updateDatabase'](K,L){return this['update'](K,w['Db'],[],I(H({},Object(y['f'])(L)),{'type':w['y']['DATABASE']})),this['trans']['history']['update'](K,w['Db'],[],this['getBlockUndoData'](K,'',Object['keys'](L))),this;}['addNewPageInWorkspace'](K,L,M){var N=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'workspace',O=arguments['length']>0x4?arguments[0x4]:void 0x0;return this['createPage'](K,L,M,N,O)['listBefore'](L,w['yc'],['pages'],K),this['trans']['history']['listRemove'](L,w['yc'],['pages'],K),this['blockStore']['reconcileBlocks'](this['trans']),this;}['addNewSubPage'](K,L,M){var N=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:'workspace',O=arguments['length']>0x4?arguments[0x4]:void 0x0;return this['createPage'](K,L,M,N,O)['updatePage'](K,{'page_id':M})['listAfter'](M,w['Db'],['sub_nodes'],K),this['trans']['history']['listRemove'](M,w['Db'],['sub_nodes'],K),this['blockStore']['reconcileBlocks'](this['trans']),this;}['addNewDatabasePage'](K,L,M,N){var O=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:'workspace',P=arguments['length']>0x5?arguments[0x5]:void 0x0;return this['createPage'](K,M,N,O,P)['updatePage'](K,{'page_id':L,'status':w['w']['ACTIVE']}),this['blockStore']['reconcileBlocks'](this['trans']),this;}['removePageInWorkspace'](K,L,M){M?this['updateDatabase'](K,{'active':!0x1})['listRemove'](L,w['yc'],['pages'],K):this['updatePage'](K,{'active':!0x1})['listRemove'](L,w['yc'],['pages'],K);var N=this['dataStore']['getSpace'](L),O=N['pages']['indexOf'](K);return O>=0x0&&(0x0===O?this['trans']['history']['listBefore'](L,w['yc'],['pages'],{'id':K}):this['trans']['history']['listAfter'](L,w['yc'],['pages'],{'after':N['pages'][O-0x1],'id':K})),this['blockStore']['reconcileBlocks'](this['trans']),this;}['addPageInWorkspace'](K,L,M){return M?this['listAfter'](L,w['yc'],['pages'],{'after':M,'id':K}):this['listBefore'](L,w['yc'],['pages'],{'id':K}),this['trans']['history']['listRemove'](L,w['yc'],['pages'],K),this['blockStore']['reconcileBlocks'](this['trans']),this;}['restorePageInWorkspace'](K,L){return this['listBefore'](L,w['yc'],['pages'],K),this['trans']['history']['listRemove'](L,w['yc'],['pages'],K),this['blockStore']['reconcileBlocks'](this['trans']),this;}}((K,L,M,N)=>{for(var O,P=N>0x1?void 0x0:N?B(L,M):L,Q=K['length']-0x1;Q>=0x0;Q--)(O=K[Q])&&(P=(N?O(L,M,P):O(P))||P);N&&P&&z(L,M,P);})([x['b']],J['prototype'],'blockStore',0x2),k['a']=J;},'yQqL':function(j,k,q){'use strict';q['d'](k,'a',function(){return L;});var v=q('2vnA'),w=q('mwIZ'),x=q['n'](w),z=q('8ZWo'),A=q('J+jj'),B=q('odX6'),C=q('9rbq'),D=q('paMO'),E=q('WRmh'),F=q('Tk+0'),G=Object['defineProperty'],H=Object['getOwnPropertyDescriptor'],I=(M,N,O,P)=>{for(var Q,R=P>0x1?void 0x0:P?H(N,O):N,S=M['length']-0x1;S>=0x0;S--)(Q=M[S])&&(R=(P?Q(N,O,R):Q(R))||R);return P&&R&&G(N,O,R),R;},J=(M,N,O)=>new Promise((P,Q)=>{var R=U=>{try{T(O['next'](U));}catch(V){Q(V);}},S=U=>{try{T(O['throw'](U));}catch(V){Q(V);}},T=U=>U['done']?P(U['value']):Promise['resolve'](U['value'])['then'](R,S);T((O=O['apply'](M,N))['next']());}),K=class{constructor(M){this['changeTitleStyle']=(N,O,P,Q)=>{if(this['selection']){var [R,S]=this['selection'];if(R&&S){var T=R['totalOffset'],U=S['totalOffset'],V=this['addStyleInTitle'](N,['Comment',P,Q],O,{'startTotalOffset':T,'endTotalOffset':U}),W=new D['a']({'ignoreLock':!0x0});O?this['editorStore']['modifyCellContentComment'](N,O,V):this['editorStore']['modifyContentComment'](N,V,W),this['editorStore']['invokeObserver'](W);}}},this['addStyleInTitle']=(N,O,P,Q)=>{var {startTotalOffset:R,endTotalOffset:S}=Q,T=[],U=P?this['blockAPI']['getCellNodeTitle'](N,P):this['blockAPI']['getNodeTitle'](N),[V,W,X]=this['blockAPI']['sliceTitle'](U,R,S);return T['push'](...V),W&&(W['forEach'](Y=>{var Z=[F['a']['Note'],F['a']['Footnote']]['includes'](x()(Y,'[1][0][0]',''));if(Y[0x0]||Z){var a0=Y[0x1]||[];if(0x0===a0['length'])return a0['push'](O),void(Y[0x1]=a0);a0['find'](a1=>{if(a1&&0x3===a1['length']){var a2=a1[0x0];if('comment'===a2['toLowerCase']()&&a2[0x1]===O[0x1]&&a2[0x2]===O[0x2])return!0x0;}return!0x1;})||a0['push'](O),Y[0x1]=a0;}}),T['push'](...W)),T['push'](...X),this['blockAPI']['rearrangeNodeTitle'](T);},this['delCommentInTitle']=N=>{var O=[];(N['cellId']?this['blockAPI']['getCellNodeTitle'](N['blockId'],N['cellId']):this['blockAPI']['getNodeTitle'](N['blockId']))['forEach'](P=>{if(P){if(P['length']<0x2)return O['push'](P);var Q=[];P['forEach'](R=>{if(!Array['isArray'](R))return Q['push'](R);var S=[];R['forEach'](T=>{if(!Array['isArray'](T))return S['push'](T);if(0x3!==T['length'])return S['push'](T);'comment'===T[0x0]['toLowerCase']()?T[0x2]!==N['discussId']&&S['push'](T):S['push'](T);}),S['length']>0x0&&Q['push'](S);}),O['push'](Q);}}),N['cellId']?this['editorStore']['modifyCellContentText'](N['blockId'],N['cellId'],O):this['editorStore']['modifyContentText'](N['blockId'],O);},this['lastCommentId']=0x0,this['comments']=[],this['loading']=!0x1,this['createBy']=M['creator'],this['blockId']=M['blockId'],this['tableCellId']=M['tableCellId'],this['selection']=M['selection'],this['discussId']=M['discussId'],this['discussContext']=M['discussContext'],this['discussStatus']=M['discussStatus'],this['wholeBlockDiscuss']=M['wholeBlockDiscuss'];}get['canEditComment'](){return this['screenStore']['currentScreen']['isNotInWorkspace']?this['createBy']===this['userStore']['userId']:this['pageActionCheckStore']['hasPageActionLimit'](this['blockId'],E['g']['EditComment']);}get['canCreateComment'](){var M=this['pageActionCheckStore']['hasPagePublicActionLimit'](this['blockId'],E['g']['CreateComment']);return this['screenStore']['currentScreen']['isNotInWorkspace']?M:this['pageActionCheckStore']['hasPageActionLimit'](this['blockId'],E['g']['CreateComment'])||M;}get['canRemoveComment'](){var M=this['userStore']['userId']===this['createBy'];return'fL1N6cDuSJV7MbhuRhCj5U'===this['userStore']['userId']&&(M=!0x0),M&&(M=this['pageActionCheckStore']['hasPageActionLimit'](this['blockId'],E['g']['RemoveComment'])),M;}get['canHandleDiscuss'](){return!!this['userStore']['isAdmin']||this['createBy']===this['userStore']['userId'];}static['createNewDiscuss'](M){return new K({'blockId':M['blockId'],'discussId':M['discussId'],'tableCellId':M['tableCellId'],'selection':M['selection'],'discussStatus':z['a']['Opening'],'discussContext':M['discussContext'],'wholeBlockDiscuss':M['wholeBlockDiscuss'],'creator':M['creator']});}static['getBlockDiscusses'](M){return J(this,null,function*(){var N=yield Object(z['c'])({'blockId':M['blockId'],'discussIds':M['discussIds']['slice'](),'discussStatus':M['discussStatus']}),O=[];return N['discusses']['forEach'](P=>{var Q=new K({'creator':P['create_by'],'blockId':P['block_id'],'tableCellId':M['tableCellId'],'discussId':P['discuss_id'],'discussStatus':P['discuss_status'],'discussContext':P['discuss_context'],'wholeBlockDiscuss':P['is_block_comment']});P['comments']['forEach'](R=>{var S=new A['a'](Q,{'blockId':R['block_id'],'discussId':R['discuss_id'],'commentId':R['comment_id'],'commentMentions':R['comment_mentions'],'commentTitles':R['comment_titles'],'createBy':R['create_by'],'createTime':R['create_time']});Q['comments']['push'](S);}),O['push'](Q);}),O;});}['createComment'](M){return J(this,null,function*(){if(!this['creating'])try{this['creating']=!0x0;var N=this['dataStore']['getBlockValue'](this['blockId']),O=this['discussContext'];N&&N['type']===C['y']['PAGE']&&(O=this['blockAPI']['getTitlePlainTextById'](this['blockId']));var P={'blockId':this['blockId'],'discussId':this['discussId'],'discussContext':O,'commentTitles':M['commentTitles'],'commentMentions':M['commentMentions'],'wholeBlockDiscuss':this['wholeBlockDiscuss']},Q=yield Object(z['b'])(P);if(this['comments']['push'](new A['a'](this,{'blockId':Q['comment']['block_id'],'discussId':Q['comment']['discuss_id'],'commentId':Q['comment']['comment_id'],'commentMentions':Q['comment']['comment_mentions'],'commentTitles':Q['comment']['comment_titles'],'createBy':Q['comment']['create_by'],'createTime':new Date(Q['comment']['create_time'])['valueOf']()})),Q&&(this['discussId']=Q['discuss']['discuss_id'],!P['discussId'])){if(this['wholeBlockDiscuss']){var R=[];if(N['block_discuss_ids'])try{R=N['block_discuss_ids'];}catch(T){console['error'](T);}var S=new Set(R);S['add'](Q['discuss']['discuss_id']),N['block_discuss_ids']=Array['from'](S),this['updateDiscuss'](this['blockId'],N['attributes']['title'],N['block_discuss_ids']),this['dataStore']['syncBlockData']([N]),this['blockStore']['setBlockDirty'](N,!0x0),this['discussPopperStore']['updateBlockDiscussCount'](N),this['selection']||this['editorStore']['invokeObserver']();}this['changeTitleStyle'](this['blockId'],this['tableCellId'],Q['comment']['comment_id'],Q['comment']['discuss_id']);}}catch(U){this['creating']=!0x1,console['error'](U);}finally{this['creating']=!0x1;}});}['updateDiscuss'](M,N,O){var P=this['blockAPI']['getTitleDiscussIds'](N);if(O){var Q=O;P=[...new Set(P['concat'](Q))];}this['discussPopperStore']['changeDiscussCount'](M,P);}['removeComment'](M){return J(this,null,function*(){try{this['discussPopperStore']['isLoading']=!0x0,this['comments']=this['comments']['filter'](N=>N['commentId']!==M),(yield Object(z['f'])({'blockId':this['blockId'],'discussId':this['discussId'],'commentId':M}))['success']&&0x0===this['comments']['length']&&(yield this['removeDiscuss'](),this['discussPopperStore']['handleCloseDiscussPopover'](),this['editorStore']['invokeObserver']());}catch(N){console['error'](N);}finally{this['discussPopperStore']['isLoading']=!0x1;}});}['updateComment'](M,N,O){return J(this,null,function*(){return yield Object(z['i'])({'blockId':this['blockId'],'discussId':this['discussId'],'commentId':M,'commentTitles':N,'commentMentions':O});});}['removeDiscuss'](){return J(this,null,function*(){if((yield Object(z['e'])({'blockId':this['blockId'],'discussId':this['discussId'],'discussStatus':this['discussStatus']}))['success']){this['delCommentInTitle']({'blockId':this['blockId'],'cellId':this['tableCellId'],'discussId':this['discussId']});var M=this['dataStore']['getBlockValue'](this['blockId']),N=[],O=[];M['resolved_discuss_ids']&&(O=M['resolved_discuss_ids']),M['block_discuss_ids']&&(N=M['block_discuss_ids']);var P=new Set(O);P['delete'](this['discussId']);var Q=new Set(N);Q['delete'](this['discussId']),M['resolved_discuss_ids']=Array['from'](P),M['block_discuss_ids']=Array['from'](Q),this['dataStore']['syncBlockData'](M),this['blockStore']['setBlockDirty'](M),this['discussPopperStore']['updateBlockDiscussCount'](M);}});}['resolveDiscuss'](){return J(this,null,function*(){if(!(yield Object(z['h'])({'blockId':this['blockId'],'discussId':this['discussId']}))['success'])return!0x1;var M=this['dataStore']['getBlockValue'](this['blockId']),N=[];M['resolved_discuss_ids']&&(N=M['resolved_discuss_ids']);var O=new Set(N);return O['add'](this['discussId']),M['resolved_discuss_ids']=Array['from'](O),this['dataStore']['syncBlockData'](M),this['blockStore']['setBlockDirty'](M),this['discussPopperStore']['updateBlockDiscussCount'](M),!0x0;});}['reopenDiscuss'](){return J(this,null,function*(){yield Object(z['g'])({'blockId':this['blockId'],'discussId':this['discussId']});var M=this['dataStore']['getBlockValue'](this['blockId']),N=[];M['resolved_discuss_ids']&&(N=M['resolved_discuss_ids']);var O=new Set(N);O['delete'](this['discussId']),M['resolved_discuss_ids']=Array['from'](O),this['dataStore']['syncBlockData'](M),this['blockStore']['setBlockDirty'](M),this['discussPopperStore']['updateBlockDiscussCount'](M);});}['getDiscussComments'](){return J(this,null,function*(){try{this['loading']=!0x0;var M=yield Object(z['d'])({'blockId':this['blockId'],'discussId':this['discussId'],'lastCommentId':this['lastCommentId']});this['lastCommentId']=M['lastCommentId'],M['comments']['forEach'](N=>{this['comments']['push'](new A['a'](this,{'blockId':N['block_id'],'discussId':N['discuss_id'],'commentId':N['comment_id'],'commentMentions':N['comment_mentions'],'commentTitles':N['comment_titles'],'createBy':N['create_by'],'createTime':N['create_time']}));});}catch(N){this['loading']=!0x1,console['error'](N);}finally{this['loading']=!0x1;}});}['handleResolveDiscuss'](){return J(this,null,function*(){var M=!0x1;try{this['resolving']=!0x0,M=yield this['resolveDiscuss'](),this['resolving']=!0x1;}catch(N){this['resolving']=!0x1,console['error'](N);}return M;});}['handleReopenDiscuss'](){return J(this,null,function*(){try{this['resolving']=!0x0,yield this['reopenDiscuss'](),this['resolving']=!0x1;}catch(M){this['resolving']=!0x1,console['error'](M);}});}['handleSaveDiscussComment'](M){return J(this,null,function*(){yield this['createComment'](M);});}['navToDiscussBlock'](){if(this['discussPopperStore']['discussSelection']['pageId']){var M=this['discussPopperStore']['discussSelection']['pageId'],N=this['discussPopperStore']['discussSelection']['blockId'],O=''['concat'](M,'#')['concat'](N);this['routerStore']['history']['push'](''['concat'](O));}}},L=K;I([B['b']],L['prototype'],'dataStore',0x2),I([B['b']],L['prototype'],'blockStore',0x2),I([B['b']],L['prototype'],'routerStore',0x2),I([B['b']],L['prototype'],'userStore',0x2),I([B['b']],L['prototype'],'editorStore',0x2),I([B['b']],L['prototype'],'screenStore',0x2),I([B['b']],L['prototype'],'editorUI',0x2),I([B['b']],L['prototype'],'domAPI',0x2),I([B['b']],L['prototype'],'blockAPI',0x2),I([B['b']],L['prototype'],'discussPopperStore',0x2),I([B['b']],L['prototype'],'pageActionCheckStore',0x2),I([B['a']],L['prototype'],'textActionBar',0x2),I([v['observable']],L['prototype'],'loading',0x2),I([v['observable']],L['prototype'],'resolving',0x2),I([v['observable']],L['prototype'],'creating',0x2),I([v['observable']],L['prototype'],'comments',0x2),I([v['action']['bound']],L['prototype'],'removeDiscuss',0x1),I([v['action']['bound']],L['prototype'],'handleResolveDiscuss',0x1),I([v['action']['bound']],L['prototype'],'handleReopenDiscuss',0x1),I([v['action']['bound']],L['prototype'],'handleSaveDiscussComment',0x1),I([v['action']['bound']],L['prototype'],'navToDiscussBlock',0x1);},'ypnR':function(j,k,q){'use strict';var w=q('q1tI'),x=q('TSYQ'),z=q['n'](x),A=q('TyAF'),B=q('CjiS'),C=q('umvS'),D=q('TFnf'),E=q('GVSF'),F=q('akmu'),G=q('b7jQ'),H=q('O8tK'),J=q('9Koi'),K=q('odX6'),L=q('2WhD'),M=q('6tnN'),N=q('aD9L'),O=q('FVQS'),P=q('GOWI'),Q={'color':'var(--color-basic-700)','padding':0x0,'&.Mui-checked':{'color':'var(--wolai-red)'}};k['a']=Object(A['b'])(function(){var Z=Object(K['b'])('pageStore'),a0=Object(K['b'])('userStore'),{t:a1}=Object(J['a'])('editor'),[a2,a3]=w['useState'](!0x1),[a4,a5]=w['useState'](!0x1),[a6,a7]=w['useState'](!0x1),a8=['share','openShare'],{open:a9=!0x1,title:aa,contents:ab,success:ac,hideButton:ad,loading:ae,singleButton:af,successText:ag,footnote:ah,successButtonId:ai,showTooltip:aj,tooltipType:ak,adjustMobile:al,mobileSingleButton:am,cancelText:an,allowBackdropClose:ao,agree:ap,agreeText:aq,agreeButtonId:ar,extendText:as,extend:at,alignContentsCenter:au,extendType:av}=Z['confirm'];w['useEffect'](()=>(a8['includes'](av)&&a9&&a5(!0x0),()=>{a5(!0x1);}),[av,a9]);var aw=(ay,az)=>{(ao&&'backdropClick'===az||'backdropClick'!==az)&&Z['setConfirmOpen'](!0x1);},ax=()=>{return ay=this,az=null,aA=function*(){ac&&(a7(!0x0),yield ac(),a7(!0x1)),Z['setConfirmOpen'](!0x1);},new Promise((aB,aC)=>{var aD=aG=>{try{aF(aA['next'](aG));}catch(aH){aC(aH);}},aE=aG=>{try{aF(aA['throw'](aG));}catch(aH){aC(aH);}},aF=aG=>aG['done']?aB(aG['value']):Promise['resolve'](aG['value'])['then'](aD,aE);aF((aA=aA['apply'](ay,az))['next']());});var ay,az,aA;};if(al&&(Object(N['h'])()||Object(N['i'])()))return w['createElement'](C['a'],{'open':a9,'id':'confirm-modal','onClose':aw,'fullWidth':!0x0,'maxWidth':'xs','classes':{'paper':L['mobilePaper']},'aria-labelledby':'alert-dialog-title','aria-describedby':'alert-dialog-description'},w['createElement']('div',{'className':L['mobileContent']},w['createElement']('div',{'className':L['title']},aa),w['createElement']('div',{'className':L['contentMobile'],'dangerouslySetInnerHTML':{'__html':ab}})),!ad&&w['createElement']('div',{'className':L['mobileButtonContainer']},!am&&w['createElement']('div',{'className':L['mobileCancelButton'],'onClick':()=>Z['setConfirmOpen'](!0x1)},a1('editor.confirm.action.cancel','取消')),w['createElement']('div',{'className':z()(L['mobileSuccessButton'],{[L['borderLeft']]:!am}),'onClick':()=>ax()},ag||a1('editor.confirm.action.gotIt','知道了'))));return w['createElement']('div',null,w['createElement'](C['a'],{'open':a9,'id':'confirm-modal','onClose':aw,'fullWidth':!0x0,'maxWidth':'xs','scroll':'body','classes':{'paper':ad?L['paper']:L['defaultPaper']},'aria-labelledby':'alert-dialog-title','aria-describedby':'alert-dialog-description'},aa&&w['createElement'](G['a'],{'id':'alert-dialog-title'},w['createElement']('div',{'className':L['title']},aa)),w['createElement'](E['a'],null,ae&&w['createElement']('div',{'style':{'height':0x1e,'textAlign':'center','marginTop':ad?0x1e:0x0}},w['createElement']('div',{'className':'spinner-border\x20spinner-border-sm','style':{'color':'#eee','width':'1.5rem','height':'1.5rem'}},w['createElement']('span',{'className':'sr-only'},'Loading...'))),ab&&w['createElement'](F['a'],{'style':{'color':'var(--color-basic-800)','display':'flex','justifyContent':au?'center':'flex-start','alignItems':'center','margin':0x0}},w['createElement']('div',{'style':{'fontSize':0xe,'lineHeight':1.5,'padding':'16px\x2020px','marginTop':ad?ae?-0xa:0x1e:0x0},'dangerouslySetInnerHTML':{'__html':ab}})),'share'===av?w['createElement']('div',{'className':L['checkboxItem']},w['createElement'](H['a'],{'sx':Q,'id':'share-checkbox','value':!a4,'onClick':ay=>a5(!a4)}),w['createElement']('label',{'htmlFor':'share-checkbox'},'我已明确知晓并愿意承担页面公开后产生的一切风险与损失')):'openShare'===av?w['createElement']('div',{'className':L['checkboxItem']},w['createElement'](H['a'],{'sx':Q,'id':'open-share-checkbox','value':!a4,'onClick':ay=>a5(!a4)}),w['createElement']('label',{'htmlFor':'open-share-checkbox'},'我已阅读并同意《',w['createElement']('span',{'className':'jumpUrl','onClick':()=>{window['open'](''['concat']('https://www.wolai.com','/tdk7y5CCvGxGf3kPrCohpi'));}},'公开分享服务条款'),'》')):null),ah&&w['createElement']('div',{'className':L['footnote'],'dangerouslySetInnerHTML':{'__html':ah}}),!ad&&w['createElement'](D['a'],{'style':{'justifyContent':'flex-end','borderColor':'var(--color-basic-100)','borderTopStyle':'solid','borderTopWidth':ab?0x1:0x0}},w['createElement']('div',{'className':L['buttonContainer']},as&&w['createElement'](O['a'],{'handleSubmit':()=>{at&&at(),Z['setConfirmOpen'](!0x1);},'label':as||a1('editor.confirm.action.cancel','取消'),'buttonStyle':{'position':'absolute','left':'-100px','border':'none','width':'90px','minWidth':'30px','textDecoration':'underline','color':'var(--color-basic-600)','boxShadow':'none'},'type':'default'}),!af&&w['createElement'](O['a'],{'buttonStyle':{'marginRight':'12px'},'handleSubmit':()=>{Z['setConfirmOpen'](!0x1);},'label':an||a1('editor.confirm.action.cancel','取消'),'type':'default'}),w['createElement'](O['a'],{'id':ai,'disabled':a6||['share','openShare']['includes'](av)&&a4,'tooltip':{'title':a4?'share'===av?'请仔细阅读并勾选同意风险告知':'openShare'===av?w['createElement']('div',null,'请仔细阅读并勾选同意',w['createElement']('span',{'className':'gray'},'《公开分享服务条款》')):'':'','placement':'top'},'handleSubmit':ax,'label':ag||a1('editor.confirm.action.ok','确定'),'buttonStyle':{'width':ag?'auto':'90px','minWidth':'90px','padding':ag?'3px\x2010px':'0px'},'type':'primary'}),aq&&w['createElement'](O['a'],{'id':ar,'handleSubmit':()=>{ap&&ap(),Z['setConfirmOpen'](!0x1);},'label':aq||a1('editor.confirm.action.ok','确定'),'buttonStyle':{'width':aq?'auto':'90px','minWidth':'90px','padding':aq?'3px\x2010px':'0px','marginLeft':'12px'},'type':'primary'}))),w['createElement'](M['a'],{'type':ak,'hidden':!aj||!0x0,'innerStyle':{'marginTop':0x0,'marginBottom':0x0,'position':'relative','bottom':'8px'}})),w['createElement'](B['a'],{'style':{'zIndex':0x270f},'open':a2,'onClose':()=>a3(!0x1)},w['createElement']('div',null,w['createElement'](P['a'],{'eduTips':!0x0,'step':a0['email']?'1':'2','mobile':a0['mobile'],'closeModal':()=>a3(!0x1),'email':a0['email'],'toBind':!0x1}))));});},'z1rV':function(j,q,x){'use strict';x['d'](q,'a',function(){return a4;});var z=x('2vnA'),A=x('BkRI'),B=x['n'](A),C=x('vN+2'),D=x['n'](C),F=x('7+vZ'),G=x('f9x4'),H=x('1rK0'),J=x('paMO'),K=x('OIS1'),L=x('95X5'),M=x('5mAU'),N=x('KiBK'),Q=x('Rsoz'),R=Object['defineProperty'],U=Object['defineProperties'],V=Object['getOwnPropertyDescriptor'],W=Object['getOwnPropertyDescriptors'],X=Object['getOwnPropertySymbols'],Y=Object['prototype']['hasOwnProperty'],Z=Object['prototype']['propertyIsEnumerable'],a0=(a5,a6,a7)=>a6 in a5?R(a5,a6,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':a7}):a5[a6]=a7,a1=(a5,a6)=>{for(var a7 in a6||(a6={}))Y['call'](a6,a7)&&a0(a5,a7,a6[a7]);if(X){for(var a7 of X(a6))Z['call'](a6,a7)&&a0(a5,a7,a6[a7]);}return a5;},a2=(a5,a6,a7,a8)=>{for(var a9,aa=a8>0x1?void 0x0:a8?V(a6,a7):a6,ab=a5['length']-0x1;ab>=0x0;ab--)(a9=a5[ab])&&(aa=(a8?a9(a6,a7,aa):a9(aa))||aa);return a8&&aa&&R(a6,a7,aa),aa;},a3=(a5,a6,a7)=>new Promise((a8,a9)=>{var aa=ad=>{try{ac(a7['next'](ad));}catch(ae){a9(ae);}},ab=ad=>{try{ac(a7['throw'](ad));}catch(ae){a9(ae);}},ac=ad=>ad['done']?a8(ad['value']):Promise['resolve'](ad['value'])['then'](aa,ab);ac((a7=a7['apply'](a5,a6))['next']());});class a4 extends H['a']{constructor(a5,a6){super(a5,a6),this['type']=G['h']['List'],this['queryAggregation']=D['a'],this['syncRemoteAggregation']=D['a'],this['type']=G['h']['List'],this['loading']=!0x1,this['disposers']['push'](Object(z['reaction'])(()=>this['columns']['size'],()=>{var a7;(null==(a7=this['grouping'])?void 0x0:a7['property'])?(this['columns']['forEach'](a8=>{var a9=''['concat'](a8['option_id']);a8&&!this['columnQuerys']['has'](a9)&&this['columnQuerys']['add'](a9);}),this['columns']['size']||this['columnQuerys']['clear']()):(this['columnQuerys']['clear'](),this['columnQuerys']['add']('all',!0x0));},{'fireImmediately':!0x0}),Object(z['reaction'])(()=>{var a7;return null==(a7=this['property'])?void 0x0:a7['type'];},()=>{this['check']();},{'fireImmediately':!0x0}),Object(z['reaction'])(()=>this['columnQuerys']['pending'],a7=>{a7?this['rowDisposers']['forEach'](a8=>a8()):this['dataStore']['getDataRows'](this['table_id'])['forEach'](a8=>{this['rowDisposers']['push'](Object(z['reaction'])(()=>a8['version'],()=>{0x0===a8['status']?this['columnQuerys']['forEach'](a9=>a9['deleteRow'](a8['block_id'])):this['grouping']['property']&&this['property']&&this['computedGroup']([a8]);}));});}));}get['title'](){return this['data']['title']||Q['a']['t']('stores.database.board.defaultListViewTitle','列表视图',{'ns':'editor'});}get['settings'](){return Object['assign']({'page_size':0x32},this['data']['settings']);}get['grouping'](){return this['data']['grouping']||{'property':''};}get['canGroupBy'](){return this['dataStore']['getDataTable'](this['table_id'])['properties']['filter'](a5=>[G['p']['Select'],G['p']['MultiSelect'],G['p']['People'],G['p']['LastEditedBy'],G['p']['CreatedBy']]['includes'](a5['type']));}get['visibleColumns'](){return[...this['columns']['values']()]['filter'](a5=>!a5['hidden']);}get['hiddenColumns'](){return[...this['columns']['values']()]['filter'](a5=>a5['hidden']);}get['allColumns'](){return[...this['columns']['values']()];}get['columnTitles'](){var a5=new Map(),a6=new Set(Array['from'](this['columns']['keys']()));a6['delete'](void 0x0),a6['delete']('undefined');var a7=[...a6['keys']()];return this['grouping']['property']&&a7['forEach'](a8=>{if([G['p']['People'],G['p']['CreatedBy'],G['p']['LastEditedBy']]['includes'](this['property']['type'])){var a9=M['a']['people']([a8]);a5['set'](a8,a9||[['']]);}else{var aa=M['a']['select']([a8],this['table_id']);a5['set'](a8,aa||[['']]);}}),a5;}get['property'](){return this['grouping']['property']?this['dataSource']['getProperty'](this['grouping']['property']):{'type':G['p']['Text'],'id':'','name':''};}get['columns'](){return this['grouping']['property']?this['property']?this['canGroupBy']['every'](a5=>a5['id']!==this['property']['id'])?new Map():new Map(this['data']['columns']['filter'](a5=>a5['property_id']===this['grouping']['property'])['map'](a5=>{return[a5['option_id'],(a6=a1({},a5),a7={'property_id':this['grouping']['property']},U(a6,W(a7)))];var a6,a7;})):new Map():new Map([['all',{'hidden':!0x1,'property_id':'all','option_id':'all'}]]);}['deleteRow'](a5){this['columnQuerys']['forEach'](a6=>{a6['deleteRow'](a5);});}['hasColumn'](a5){return this['columns']['has'](a5);}['createRow'](a5,a6,a7,a8,a9){var aa='undefined'===a8?void 0x0:a8,ab={'table_id':this['table_id'],'block_id':a5||Object(K['b'])(),'properties':{},'created_time':new Date()['toISOString'](),'created_by':this['userStore']['userId'],'edited_time':new Date()['toISOString'](),'edited_by':this['userStore']['userId'],'version':0x1};if(this['dataSource']['hasRow'](null==a6?void 0x0:a6['block_id'])){var ac=a6['duplicate'](a5,a7);ab=B()(a1(a1({},ab),ac));}else{var ad=(null==a6?void 0x0:a6['getData'])?a6['getData']():a6;ab=B()(a1(a1({},ab),ad)),ab=this['validation']['convert'](ab);}if(this['grouping']['property']){var ae=new M['a'](this['table_id'],ab);ae['parse'](),Array['isArray'](a9)&&a9['length']&&a9['forEach'](af=>{ae['deleteOptionId'](af,this['grouping']['property']);}),aa&&ae['addOptionId'](aa,this['grouping']['property']),ab['properties'][this['grouping']['property']]='',ab['properties'][this['grouping']['property']]=ae['convert'](this['grouping']['property'])||[[]];}return ab;}['getRowNearby'](a5,a6,a7){var a8=void 0x0===a7?'undefined':a7;if(this['columnQuerys']['has'](a8)){var a9=this['columnQuerys']['get'](a8),aa=this['dataStore']['getDataRow'](this['table_id'],a5),ab=a9['ids']||[];if(aa){var ac=ab['indexOf'](a5);return-0x1===ac?{'prev_block_id':ab[ab['length']-0x1]||'','next_block_id':''}:{'prev_block_id':'after'===a6?a5:ac>0x0?ab[ac-0x1]:'','next_block_id':'before'===a6?a5:ac<ab['length']&&ab[ac+0x1]||''};}return{'prev_block_id':ab[ab['length']-0x1]||'','next_block_id':''};}return console['warn']('无此分组',a8),{'prev_block_id':'','next_block_id':''};}['insertRow'](a5,a6){var a7=this['dataStore']['getDataRow'](this['table_id'],a5);if(a7){if(this['grouping']['property']){var a8=new M['a'](this['table_id'],a7);a8['parse'](this['grouping']['property']);var a9=a8['getOptionIds'](this['grouping']['property']);a9['size']||a9['add']('undefined'),a9['forEach'](aa=>{this['columnQuerys']['has'](aa)&&this['columnQuerys']['get'](aa)['insertRow'](a5,a6);});}else{if(this['columnQuerys']['has']('all'))this['columnQuerys']['get']('all')['insertRow'](a5,a6);}}}['loadMore'](a5,a6){return a3(this,null,function*(){a5?yield this['columnQuerys']['reFresh'](a6):yield this['columnQuerys']['pagination']();});}['changeSearch'](a5,a6){this['columnQuerys']['changeSearch'](a5),a6||this['loadMore'](!0x0);}['getColumnIds'](a5){return this['columnQuerys']['has'](''['concat'](a5))?this['columnQuerys']['get'](''['concat'](a5))['ids']:[];}['getColumnTitle'](a5){return this['columnTitles']['get'](a5)||[[]];}['check'](){if(!this['columns']['size']&&!this['checking']){if(this['canGroupBy']['some'](a6=>a6['id']===this['property']['id']))return;this['checking']=!0x0;var a5=new J['a']();N['a']['changeViewGroupBy'](this['view_id'],'',a5),a5['commit'](()=>a3(this,null,function*(){yield this['queryListColumns'](),this['checking']=!0x1;}));}}['computedGroup'](a5){a5['forEach'](a6=>{var a7;if(this['columnQuerys']['forEach'](aa=>{aa['deleteRow'](a6['block_id']);}),this['validation']['validate'](a6)){var a8=new M['a'](this['table_id'],a6);a8['parse'](this['grouping']['property']);var a9=a8['getOptionIds'](this['grouping']['property']);!a9['size']&&[G['p']['Select'],G['p']['MultiSelect']]['includes'](null==(a7=this['property'])?void 0x0:a7['type'])&&a9['add']('undefined'),a9['forEach'](aa=>{this['columnQuerys']['has'](aa)&&this['columnQuerys']['get'](aa)['addRow'](a6['block_id']);});}});}['refresh'](){this['columnQuerys']['reFresh']();}['queryListColumns'](){return a3(this,null,function*(){this['loading']=!0x0;var {columns:a5,property:a6}=yield Object(F['b'])({'table_id':this['table_id'],'view_id':this['view_id']},G['h']['List']),a7=a6||'',a8=a7?a5:[{'hidden':!0x1,'property_id':'all','option_id':'all'}];this['grouping']['property']===a7&&(this['dataStore']['syncDataViews']({[this['view_id']]:{'columns':a8,'view_id':this['view_id'],'grouping':{'property':a7}}}),yield this['loadMore'](!0x0)),this['loading']=!0x1;});}}a2([z['observable']],a4['prototype'],'checking',0x2),a2([z['computed']],a4['prototype'],'title',0x1),a2([z['computed']],a4['prototype'],'settings',0x1),a2([z['computed']],a4['prototype'],'grouping',0x1),a2([z['computed']],a4['prototype'],'canGroupBy',0x1),a2([z['computed']],a4['prototype'],'visibleColumns',0x1),a2([z['computed']],a4['prototype'],'hiddenColumns',0x1),a2([z['computed']],a4['prototype'],'allColumns',0x1),a2([z['computed']],a4['prototype'],'columnTitles',0x1),a2([z['computed']],a4['prototype'],'property',0x1),a2([z['computed']],a4['prototype'],'columns',0x1),a2([z['action']],a4['prototype'],'computedGroup',0x1),a2([Object(L['a'])(0x3e8,{'maxWait':0x2710})],a4['prototype'],'refresh',0x1);},'z7Vv':function(b,f,g){'use strict';g['d'](f,'f',function(){return k;}),g['d'](f,'d',function(){return m;}),g['d'](f,'a',function(){return p;}),g['d'](f,'c',function(){return q;}),g['d'](f,'e',function(){return u;}),g['d'](f,'b',function(){return v;});var h=g('1uat'),j=g['n'](h),k=function(){var w=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},x={};return Object['keys'](w)['forEach'](y=>{'object'==typeof w[y]?x[y]=JSON['stringify'](w[y]):x[y]=w[y];}),x;},m=function(){var w=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{},x={};return Object['keys'](w)['forEach'](y=>{try{'string'==typeof w[y]?x[y]=JSON['parse'](w[y]):x[y]=w[y];}catch(z){x[y]=w[y];}}),x;};function p(w){for(var x=w,y=0x1;y<=0xa;)x=j()(x)['toString'](),y++;return x;}function q(w,x){return x?{[w]:x}:{};}var u=function(w){var x,y=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1];return Boolean(null!=(x={'true':0x1,'false':0x0,0x0:0x0,0x1:0x1}[w])?x:y);},v=function(){var w=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:'';return w['replace'](/\D/g,'');};},'zBCj':function(j,k,q){'use strict';q['d'](k,'a',function(){return I;});var v=q('mwIZ'),w=q['n'](v),x=q('2vnA'),y=q('odX6'),z=q('8ZWo'),A=q('yQqL'),B=q('9rbq'),C=q('WRmh'),D=q('bXzw'),E=Object['defineProperty'],F=Object['getOwnPropertyDescriptor'],G=(K,L,M,N)=>{for(var O,P=N>0x1?void 0x0:N?F(L,M):L,Q=K['length']-0x1;Q>=0x0;Q--)(O=K[Q])&&(P=(N?O(L,M,P):O(P))||P);return N&&P&&E(L,M,P),P;},H=(K,L,M)=>new Promise((N,O)=>{var P=S=>{try{R(M['next'](S));}catch(T){O(T);}},Q=S=>{try{R(M['throw'](S));}catch(T){O(T);}},R=S=>S['done']?N(S['value']):Promise['resolve'](S['value'])['then'](P,Q);R((M=M['apply'](K,L))['next']());}),I=(K=>(K[K['UnHandle']=0x0]='UnHandle',K[K['Handled']=0x1]='Handled',K))(I||{});class J{get['isOpen'](){return this['isOpening'];}['getBlockDiscussIds'](K){var L=this['dataStore']['getSourceId'](K);return this['blockDiscussIdsMap'][L];}get['canReadComment'](){var K=this['pageActionCheckStore']['hasPagePublicActionLimit'](this['discussSelection']['blockId'],C['g']['ReadComment']);return this['screenStore']['currentScreen']['isNotInWorkspace']?K:this['pageActionCheckStore']['hasPageActionLimit'](this['discussSelection']['blockId'],C['g']['ReadComment'])||K;}get['canRemoveComment'](){return this['pageActionCheckStore']['hasPageActionLimit'](this['discussSelection']['blockId'],C['g']['RemoveComment']);}get['canCreateComment'](){var K=this['pageActionCheckStore']['hasPagePublicActionLimit'](this['discussSelection']['blockId'],C['g']['CreateComment']);return this['screenStore']['currentScreen']['isNotInWorkspace']?K:this['pageActionCheckStore']['hasPageActionLimit'](this['discussSelection']['blockId'],C['g']['CreateComment'])||K;}constructor(){this['isOpening']=!0x1,this['isLoading']=!0x1,this['showLoginModal']=!0x1,this['openingBlockDiscussStores']=[],this['resolvedBlockDiscussStores']=[],this['blockDiscussIdsMap']=new Map(),this['discussPopover']={'open':!0x1,'activeTab':0x0},this['clearDiscussSelection']();}['clearDiscussSelection'](){this['discussSelection']={'blockId':'','selectText':'','selection':void 0x0,'discussIds':[],'wholeBlockDiscuss':!0x1,'cursorInfo':void 0x0};}['scrollToBottom'](){this['modalRef']&&(this['modalRef']['scrollTop']=this['modalRef']['scrollHeight']);}['closeLoginModal'](){this['showLoginModal']=!0x1,this['discussSelection']&&this['anchorEl']&&this['openDiscussPopover'](this['anchorEl'],this['discussSelection'])['catch'](console['error']);}['setDiscussCount'](K){var L=this['dataStore']['getBlockValue'](K);this['updateBlockDiscussCount'](L);}['updateBlockDiscussCount'](K,L){var M=new Set();K['type']===B['y']['SIMPLE_TABLE']&&this['blockAPI']['getTableCells'](K)['forEach'](P=>{P['column']['forEach'](Q=>{this['blockAPI']['getTitleDiscussIds'](Q['attributes']['title'])['forEach'](R=>{M['add'](R);});});});var N=null!=L?L:w()(K,'attributes.title',[['']]);(this['blockAPI']['getTitleDiscussIds'](N)['forEach'](P=>{M['add'](P);}),K['block_discuss_ids'])&&K['block_discuss_ids']['forEach'](P=>{M['add'](P);}),K['resolved_discuss_ids']&&K['resolved_discuss_ids']['forEach'](P=>{M['delete'](P);});var O=this['blockDiscussIdsMap']['get'](K['id']);O?(O['clear'](),M['forEach'](P=>{O['add'](P);})):this['blockDiscussIdsMap']['set'](K['id'],M);}['changeDiscussCount'](K,L){var M=this['dataStore']['getBlockValue'](K);this['updateBlockDiscussCount'](M,L);}['saveModalReference'](K){this['modalRef']=K;}['updateDiscussPopover'](K){var L=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0;if(K instanceof Element)this['anchorEl']=K;else{var M=K['getBoundingClientRect']();this['anchorEl']={'clientWidth':M['width'],'clientHeight':M['height'],'getBoundingClientRect':()=>new DOMRect(M['x'],M['y'],M['width'],M['height'])},document['execCommand']('backColor',!0x1,'rgba(255,\x2071,\x2071,\x200.3)');}this['discussPopover']={'open':!0x0,'activeTab':L};}['updateDiscussSelection'](K){var L;L=K['cursorInfo']?K['cursorInfo']['tableCellId']:K['tableCellId'],this['discussSelection']={'pageId':K['pageId'],'blockId':K['blockId'],'discussIds':K['discussIds'],'selection':K['selection'],'selectText':K['selectText'],'wholeBlockDiscuss':K['wholeBlockDiscuss'],'openAllDiscuss':K['openAllDiscuss'],'tableCellId':L,'isPageDiscuss':K['isPageDiscuss'],'cursorInfo':K['cursorInfo']};}['reloadAllDiscusses'](K){return H(this,null,function*(){this['openingBlockDiscussStores']=[],this['resolvedBlockDiscussStores']=[];var L=this['discussSelection']['discussIds'],M=[];if(K){var N=this['dataStore']['getBlockValue'](this['discussSelection']['blockId']);N&&N['resolved_discuss_ids']&&M['push'](...N['resolved_discuss_ids']);}try{this['isLoading']=!0x0;var O=yield Promise['all']([A['a']['getBlockDiscusses']({'blockId':this['discussSelection']['blockId'],'discussIds':L,'tableCellId':this['discussSelection']['tableCellId'],'discussStatus':z['a']['Opening']}),A['a']['getBlockDiscusses']({'blockId':this['discussSelection']['blockId'],'discussIds':M,'tableCellId':this['discussSelection']['tableCellId'],'discussStatus':z['a']['Resolved']})]);this['openingBlockDiscussStores']=O[0x0],this['resolvedBlockDiscussStores']=O[0x1],0x0===this['openingBlockDiscussStores']['length']&&this['resolvedBlockDiscussStores']['length']>0x0?this['discussPopover']['activeTab']=0x1:this['discussPopover']['activeTab']=0x0,this['discussSelection']['isPageDiscuss']&&(this['discussPopover']['activeTab']=0x1);}catch(P){this['isLoading']=!0x1,console['error'](P);}finally{this['isLoading']=!0x1;}});}['openDiscussPopover'](K,L){return H(this,null,function*(){var M;if(!B['gb']&&(L['blockId']=this['dataStore']['getSourceId'](L['blockId']),this['openingBlockDiscussStores']=[],this['resolvedBlockDiscussStores']=[],this['updateDiscussSelection'](L),this['canReadComment']))try{if(this['updateDiscussPopover'](K,null!=(M=L['activeTab'])?M:0x0),this['isOpening']=!0x0,this['editorStore']['preventEditorKeydownAction'](!0x0),0x0===L['discussIds']['length'])return void(this['creatingBlockDiscussStores']=A['a']['createNewDiscuss']({'blockId':L['blockId'],'discussId':0x0,'tableCellId':L['tableCellId'],'discussContext':L['selectText'],'wholeBlockDiscuss':L['wholeBlockDiscuss'],'selection':L['selection']}));this['creatingBlockDiscussStores']=void 0x0,yield this['reloadAllDiscusses'](L['openAllDiscuss']),this['scrollToBottom']();}catch(N){console['error'](N);}});}['changeActiveDiscussTab'](K){this['discussPopover']['activeTab']=K;}['handleCloseDiscussPopover'](){var K=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];if(this['isOpening']=!0x1,this['editorStore']['preventEditorKeydownAction'](!0x1),this['discussPopover']={'open':!0x1,'activeTab':0x0},K){var {blockId:L}=this['discussSelection'];this['blockStore']['setBlockDirty'](this['dataStore']['getBlockValue'](L)),this['editorStore']['invokeObserver']();}this['discussSelection']['cursorInfo']&&this['editorStore']['moveCursorAfterRender']({'id':this['discussSelection']['cursorInfo']['blockId'],'cellId':this['discussSelection']['cursorInfo']['tableCellId'],'position':this['discussSelection']['cursorInfo']['cursorPosition']})['catch'](console['error']),this['clearDiscussSelection']();}}G([y['b']],J['prototype'],'screenStore',0x2),G([y['b']],J['prototype'],'editorStore',0x2),G([y['b']],J['prototype'],'blockStore',0x2),G([y['b']],J['prototype'],'dataStore',0x2),G([y['b']],J['prototype'],'pageActionCheckStore',0x2),G([y['b']],J['prototype'],'blockAPI',0x2),G([x['observable']],J['prototype'],'discussPopover',0x2),G([x['observable']],J['prototype'],'isOpening',0x2),G([x['observable']],J['prototype'],'isLoading',0x2),G([x['observable']],J['prototype'],'showLoginModal',0x2),G([x['observable']],J['prototype'],'discussSelection',0x2),G([x['observable']],J['prototype'],'creatingBlockDiscussStores',0x2),G([x['observable']],J['prototype'],'openingBlockDiscussStores',0x2),G([x['observable']],J['prototype'],'resolvedBlockDiscussStores',0x2),G([x['observable']],J['prototype'],'blockDiscussIdsMap',0x2),G([x['action']['bound']],J['prototype'],'closeLoginModal',0x1),G([x['action']['bound']],J['prototype'],'setDiscussCount',0x1),G([x['action']['bound']],J['prototype'],'updateBlockDiscussCount',0x1),G([x['action']['bound']],J['prototype'],'changeDiscussCount',0x1),G([x['action']['bound']],J['prototype'],'saveModalReference',0x1),G([x['action']['bound']],J['prototype'],'updateDiscussPopover',0x1),G([x['action']['bound']],J['prototype'],'openDiscussPopover',0x1),G([x['action']['bound']],J['prototype'],'changeActiveDiscussTab',0x1),G([x['action']['bound']],J['prototype'],'handleCloseDiscussPopover',0x1),k['b']=Object(D['a'])(J);},'zG5R':function(b,f,g){'use strict';g['d'](f,'g',function(){return v;}),g['d'](f,'b',function(){return w;}),g['d'](f,'a',function(){return x;}),g['d'](f,'e',function(){return y;}),g['d'](f,'f',function(){return z;}),g['d'](f,'d',function(){return A;}),g['d'](f,'c',function(){return B;});var j=g('Rsoz'),k=''['concat']('https://api.wolai.com','/v1/icon'),m=''['concat']('https://cdn.wostatic.cn','/twemoji/'),q=''['concat']('https://cdn.wostatic.cn','/twemoji/'),v='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAFKADAAQAAAABAAAAFAAAAACy3fD9AAABG0lEQVQ4Ee2UMU7DMBSG04DElLFIHIChaiSO0ali4BwcARZUpp6gh2BAAlU9QZcuPQVtOrQbCNHy/a6NEikWT4nExC99tuO89yd24pckR13RzWAHezgY+SJuC6+Qg5PMNmA1icWt8cg7NFMYwBLuoAAlWaT8LjxCH17AvbIMhrpoqBvy5LFJaTJvomU3lVYlZTIUknWZx+hqG3LTYFa93eLq37DF5vnUP9nDSx42gXs48w82d6c1kU/MhYOuwz+qiYlO1S35ohRdHpem40MZhr9cB126hRUsYAwWhVyVvp/icG3JjMSE4lBoD+eg8qW9OoFQGxn+Kr3ZOTz4SHm5D6DiqKW34Y38Hjjpq6o4qgx9wKeRd5/zTO/MvgGHOWNG89+XIAAAAABJRU5ErkJggg==',w=''['concat'](m)['concat']('13.1.0/','svg/'),x=''['concat'](q)['concat']('13.1.0/','png/'),y=''['concat'](m)['concat']('13.1.0/','twemoji-sprite-64.png'),z='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYwICg4ODEwMykgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+5L6n6L655qCPL+epuumhtemdouWkh+S7vSAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IuS+p+i+ueagjy/nqbrpobXpnaLlpIfku70tMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IumAj+aYjmZhdmljb27lpIfku70iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMDAwMDAwLCAyLjAwMDAwMCkiIGZpbGw9IiNCQ0IzQjMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi4yMDE2NTE2LDAgQzEzLjUyMjQyMDEsMCAxNC4wMDEzNjI2LDAuMTM3NTE5NDI0IDE0LjQ4NDIxNTksMC4zOTU3NTIxNTQgQzE0Ljk2NzA2OTEsMC42NTM5ODQ4ODQgMTUuMzQ2MDE1MSwxLjAzMjkzMDkyIDE1LjYwNDI0NzgsMS41MTU3ODQxNCBMMTUuNjQ5ODY1MywxLjYwMzcyMDgyIEMxNS44Nzg2NDQ1LDIuMDU5NzgzMTIgMTYsMi41NTc2MjY1MiAxNiwzLjc5ODM0ODQ0IEwxNiwxMi4yMDE2NTE2IEwxNS45OTg0ODg0LDEyLjQzMjcwMzIgQzE1Ljk4Mjg4NzYsMTMuNTgwNDg4MSAxNS44NDY4MzAxLDE0LjAzMDYyNjUgMTUuNjA0MjQ3OCwxNC40ODQyMTU5IEMxNS4zNDYwMTUxLDE0Ljk2NzA2OTEgMTQuOTY3MDY5MSwxNS4zNDYwMTUxIDE0LjQ4NDIxNTksMTUuNjA0MjQ3OCBMMTQuMzk2Mjc5MiwxNS42NDk4NjUzIEMxMy45NDAyMTY5LDE1Ljg3ODY0NDUgMTMuNDQyMzczNSwxNiAxMi4yMDE2NTE2LDE2IEwzLjc5ODM0ODQ0LDE2IEwzLjU2NzI5Njc2LDE1Ljk5ODQ4ODQgQzIuNDE5NTExOTMsMTUuOTgyODg3NiAxLjk2OTM3MzUzLDE1Ljg0NjgzMDEgMS41MTU3ODQxNCwxNS42MDQyNDc4IEMxLjAzMjkzMDkyLDE1LjM0NjAxNTEgMC42NTM5ODQ4ODQsMTQuOTY3MDY5MSAwLjM5NTc1MjE1NCwxNC40ODQyMTU5IEwwLjM1MDEzNDY2NCwxNC4zOTYyNzkyIEMwLjEyODczNTQ5NywxMy45NTQ5Mjg2IDAuMDA3OTQxMTcxODUsMTMuNDc0NDQ4OSAwLjAwMDM3ODM3MzczMywxMi4zMTk0MjU5IEwwLDMuNzk4MzQ4NDQgQzAsMi40Nzc1Nzk5NCAwLjEzNzUxOTQyNCwxLjk5ODYzNzM3IDAuMzk1NzUyMTU0LDEuNTE1Nzg0MTQgQzAuNjUzOTg0ODg0LDEuMDMyOTMwOTIgMS4wMzI5MzA5MiwwLjY1Mzk4NDg4NCAxLjUxNTc4NDE0LDAuMzk1NzUyMTU0IEwxLjYwMzcyMDgyLDAuMzUwMTM0NjY0IEMyLjA0NTA3MTQzLDAuMTI4NzM1NDk3IDIuNTI1NTUxMDYsMC4wMDc5NDExNzE4NSAzLjY4MDU3NDEzLDAuMDAwMzc4MzczNzMzIEwxMi4yMDE2NTE2LDAgWiBNMTIuMjk2MDQ3OSwxLjc3Nzk1MzI1IEwzLjcwMzk1MjEzLDEuNzc3OTUzMjUgTDMuNDQ4MzI3LDEuNzgwNjYyOTcgQzIuNzkyODY0OTIsMS43OTI5MDAxMyAyLjU3NDg2MTg3LDEuODQ1Mzk5MjQgMi4zNTQxODIxMSwxLjk2MzQyMDA2IEMyLjE4MTEzOTUxLDIuMDU1OTY0MjYgMi4wNTU5NjQyNiwyLjE4MTEzOTUxIDEuOTYzNDIwMDYsMi4zNTQxODIxMSBDMS44MzEyMzY3NCwyLjYwMTM0MzQ0IDEuNzgxMjQzODYsMi44NDUxNDcxMSAxLjc3Nzk1MzI1LDMuNzAzOTUyMTMgTDEuNzc3OTUzMjUsMTIuMjk2MDQ3OSBMMS43ODA2NjI5NywxMi41NTE2NzMgQzEuNzkyOTAwMTMsMTMuMjA3MTM1MSAxLjg0NTM5OTI0LDEzLjQyNTEzODEgMS45NjM0MjAwNiwxMy42NDU4MTc5IEMyLjA1NTk2NDI2LDEzLjgxODg2MDUgMi4xODExMzk1MSwxMy45NDQwMzU3IDIuMzU0MTgyMTEsMTQuMDM2NTc5OSBDMi42MDEzNDM0NCwxNC4xNjg3NjMzIDIuODQ1MTQ3MTEsMTQuMjE4NzU2MSAzLjcwMzk1MjEzLDE0LjIyMjA0NjcgTDEyLjIwMTY1MTYsMTQuMjIyMjIyMiBDMTMuMTM3NDQyNiwxNC4yMjIyMjIyIDEzLjM4OTgyOTQsMTQuMTczNDg0MSAxMy42NDU4MTc5LDE0LjAzNjU3OTkgQzEzLjgxODg2MDUsMTMuOTQ0MDM1NyAxMy45NDQwMzU3LDEzLjgxODg2MDUgMTQuMDM2NTc5OSwxMy42NDU4MTc5IEMxNC4xNjg3NjMzLDEzLjM5ODY1NjYgMTQuMjE4NzU2MSwxMy4xNTQ4NTI5IDE0LjIyMjA0NjcsMTIuMjk2MDQ3OSBMMTQuMjIyMjIyMiwzLjc5ODM0ODQ0IEMxNC4yMjIyMjIyLDIuODYyNTU3MzcgMTQuMTczNDg0MSwyLjYxMDE3MDYzIDE0LjAzNjU3OTksMi4zNTQxODIxMSBDMTMuOTQ0MDM1NywyLjE4MTEzOTUxIDEzLjgxODg2MDUsMi4wNTU5NjQyNiAxMy42NDU4MTc5LDEuOTYzNDIwMDYgQzEzLjM5ODY1NjYsMS44MzEyMzY3NCAxMy4xNTQ4NTI5LDEuNzgxMjQzODYgMTIuMjk2MDQ3OSwxLjc3Nzk1MzI1IFogTTQuNjY2NjY2NjcsOS44NjY2NjY2NyBDNS40NzY2ODQzLDkuODY2NjY2NjcgNi4xMzMzMzMzMywxMC41MjMzMTU3IDYuMTMzMzMzMzMsMTEuMzMzMzMzMyBDNi4xMzMzMzMzMywxMi4xNDMzNTEgNS40NzY2ODQzLDEyLjggNC42NjY2NjY2NywxMi44IEMzLjg1NjY0OTAzLDEyLjggMy4yLDEyLjE0MzM1MSAzLjIsMTEuMzMzMzMzMyBDMy4yLDEwLjUyMzMxNTcgMy44NTY2NDkwMyw5Ljg2NjY2NjY3IDQuNjY2NjY2NjcsOS44NjY2NjY2NyBaIiBpZD0i5b2i54q257uT5ZCIIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=',A=()=>[{'label':j['a']['t']('dynamicIconList.today','动态日历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.todayDesc','总是显示今天的日期',{'ns':'editor'}),'type':'1','pro':!0x1,'params':{'locale':'cn','pro':'0'},'url':k},{'label':j['a']['t']('dynamicIconList.today','动态日历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.todayDesc','总是显示今天的日期',{'ns':'editor'}),'type':'1','pro':!0x1,'params':{'locale':'en','pro':'0'},'url':k},{'label':j['a']['t']('dynamicIconList.countdown','倒数日',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.countdownTip','显示指定日期与当前日期相隔的天数',{'ns':'editor'}),'type':'6','pro':!0x0,'params':{'locale':'cn','pro':'1'},'url':k}],B=()=>[{'label':j['a']['t']('dynamicIconList.calendar','自定义日历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.calendarDesc','显示一个指定的日期',{'ns':'editor'}),'type':'2','pro':!0x0,'params':{'locale':'cn','date':'2020-06-15','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.calendar','自定义日历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.calendarDesc','显示一个指定的日期',{'ns':'editor'}),'type':'3','pro':!0x0,'params':{'locale':'cn','date':'2020-06-15','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.weekCalendar','自定义周历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.weekCalendarDesc','显示一个指定日期对应的周数',{'ns':'editor'}),'type':'10','pro':!0x0,'params':{'locale':'cn','date':'2020-06-15','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.monthCalendar','自定义月历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.monthCalendarDesc','显示一个指定的日期',{'ns':'editor'}),'type':'4','pro':!0x0,'params':{'locale':'cn','date':'2020-06-15','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.yearCalendar','自定义年历',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.yearCalendarDesc','显示一个指定的日期',{'ns':'editor'}),'type':'5','pro':!0x0,'params':{'locale':'cn','date':'2021-06-15','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.percentage','百分比图标',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.percentageDesc','显示指定的百分比',{'ns':'editor'}),'type':'7','pro':!0x0,'params':{'content':'100','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.alphabet','自定义字母数字图标',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.alphabetDesc','显示指定的内容',{'ns':'editor'}),'type':'8','pro':!0x0,'params':{'content':'wolai','pro':'1'},'url':k},{'label':j['a']['t']('dynamicIconList.chinese','自定义汉字图标',{'ns':'editor'}),'description':j['a']['t']('dynamicIconList.chineseDesc','显示指定的内容',{'ns':'editor'}),'type':'9','pro':!0x0,'params':{'content':'我','pro':'1'},'url':k}];},'zc9a':function(b,c,d){'use strict';var f=d('kVqw'),g=class{constructor(){var j=this;this['initialize']=()=>{var k=[],l=function(p,q){var s=k['find'](v=>v instanceof q);void 0x0===s&&(s=new q(),k['push'](s));var u=q['implementedFunctions'][p]['method'];j['instanceFunctions']['set'](p,[u,s]);};for(var [m,n]of this['instancePlugins']['entries']())l(m,n);},this['instanceFunctions']=new Map(),this['instancePlugins']=new Map(g['plugins']),this['initialize']();}['getFunction'](j){var k='string'==typeof j?j:j['name'],l=this['instanceFunctions']['get'](k);if(l){var [m,n]=l;return n[m];}}static['registryFunction'](j){var k=function(m){var n=j[m];Object['keys'](n['implementedFunctions'])['forEach'](p=>{var q=n['implementedFunctions'][p]['method'];Object['prototype']['hasOwnProperty']['call'](n['prototype'],q)&&g['plugins']['set'](p,n);});};for(var l of Object['getOwnPropertyNames'](j))k(l);}['setCacheValue'](j,k){g['cacheValues']['set'](j,k);}['hasCacheValue'](j){return g['cacheValues']['has'](j);}['getCacheValue'](j){return g['cacheValues']['get'](j);}},h=g;h['plugins']=new Map(),h['cacheValues']=new f['a'](0x3e8),c['a']=h;},'zsTL':function(f,g,j){'use strict';j['d'](g,'a',function(){return D;});var k=j('kYPY'),m=j('f9x4'),q=j('Rsoz'),v=Object['defineProperty'],w=Object['defineProperties'],x=Object['getOwnPropertyDescriptors'],y=Object['getOwnPropertySymbols'],z=Object['prototype']['hasOwnProperty'],A=Object['prototype']['propertyIsEnumerable'],B=(E,F,G)=>F in E?v(E,F,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':G}):E[F]=G,C=(E,F)=>{for(var G in F||(F={}))z['call'](F,G)&&B(E,G,F[G]);if(y){for(var G of y(F))A['call'](F,G)&&B(E,G,F[G]);}return E;};function D(E,F,G){var H,I,J=C({},G);return J['properties']=J['properties']||E['properties']['map'](K=>({'id':K['id']})),J['grouping']={'property':''},J['columns']=[],H=C({},Object(k['a'])(E,F,J)),I={'type':m['h']['List'],'title':Object(k['b'])(q['a']['t']('stores.database.board.defaultListViewTitle','列表视图',{'ns':'editor'}),J),'grouping':J['grouping'],'columns':J['columns'],'version':J['version']||0x0},w(H,x(I));}},'zulp':function(b,f,g){'use strict';g['d'](f,'a',function(){return v;});var h=g('odX6'),j=g('paMO'),k=g('WRmh'),m=g('Mucf'),p=Object['defineProperty'],q=Object['getOwnPropertyDescriptor'],u=(w,x,y,z)=>{for(var A,B=z>0x1?void 0x0:z?q(x,y):x,C=w['length']-0x1;C>=0x0;C--)(A=w[C])&&(B=(z?A(x,y,B):A(B))||B);return z&&B&&p(x,y,B),B;};class v{constructor(w){this['pageId']=w;}['persist'](w){var x=this['dataStore']['getBlockValue'](this['pageId']);if(x){x['permissions']=w['map'](z=>{if(z['type']===k['e']['Public']){if(z['role']===k['d']['Public'])return{'type':z['type']};if(z['role']===k['d']['Readable'])return{'type':z['type']};}return z;});var y=new j['a']({'ignoreLock':!0x0});y['block']['updateBlock'](this['pageId'],{'permissions':x['permissions']},[],m['e']['UPDATE_PERMISSION']),y['commit'](),this['screenStore']['screens']['forEach'](z=>{z['id']===this['pageId']&&z['setPageProperty'](this['dataStore']['getBlock'](this['pageId']));});}}}u([h['b']],v['prototype'],'dataStore',0x2),u([h['b']],v['prototype'],'screenStore',0x2);},'zvOU':function(f,j,k){'use strict';k['d'](j,'a',function(){return F;});var m=k('H+6e'),q=k['n'](m),v=k('Y+p1'),w=k['n'](v),x=k('E+oP'),y=k['n'](x),z=k('J2m7'),A=k['n'](z),B=k('xkGU'),C=k['n'](B),D=k('9rbq'),E=k('odX6');class F{static['updateVersForTrans'](G){var H=Object(E['b'])('dataStore'),I=Object(E['b'])('spaceStore'),J=[];C()(G,K=>{C()(K['operations'],L=>{var M;if(J['push']([L['table'],L['id']]),L['table']===D['Db']){var N=H['blocks'][L['id']];if(!N||!N['value'])return;y()(null==(M=N['value'])?void 0x0:M['page_id'])||J['push']([D['Db'],N['value']['page_id']]),H['isTopPage'](N['value'])&&J['push']([D['yc'],N['value']['parent_id']]);}});}),J=q()(J,w['a']),C()(J,K=>{var [L,M]=K;switch(L){case D['yc']:var N=A()(I['workspaces'],{'id':M});if(!N)break;N['version']=N['version']||0x0,N['version']+=0x1;break;case D['xc']:var O=A()(I['spaceViews'],{'id':M});if(!O)break;O['version']=O['version']||0x0,O['version']+=0x1;break;case D['Db']:var P=H['blocks'][M];if(!P||!P['value'])break;P['value']['version']=P['value']['version']||0x0,P['value']['version']+=0x1;break;case D['Jb']:var Q=H['getDataTable'](M);if(!Q)break;Q['version']=Q['version']||0x0,Q['version']+=0x1;break;case D['Lb']:var R=H['getDataView'](M);if(!R)break;R['version']=R['version']||0x0,R['version']+=0x1;break;case D['Kb']:var S=H['dataRows']['get'](M);if(!S)break;S['version']=S['version']||0x0,S['version']+=0x1,S['version'];}});}}},'zxdN':function(a,b,c){'use strict';c['d'](b,'a',function(){return f;});var d=c('Rsoz');function f(){return[[d['a']['t']('base.common.countryCode.China','中国',{'ns':'editor'}),'+86'],[d['a']['t']('base.common.countryCode.UnitedStates','美国',{'ns':'editor'}),'+1'],[d['a']['t']('base.common.countryCode.Canada','加拿大',{'ns':'editor'}),'+1'],[d['a']['t']('base.common.countryCode.UnitedKingdom','英国',{'ns':'editor'}),'+44'],[d['a']['t']('base.common.countryCode.Australia','澳大利亚',{'ns':'editor'}),'+61'],[d['a']['t']('base.common.countryCode.NewZealand','新西兰',{'ns':'editor'}),'+64'],[d['a']['t']('base.common.countryCode.Germany','德国',{'ns':'editor'}),'+49'],[d['a']['t']('base.common.countryCode.France','法国',{'ns':'editor'}),'+33'],[d['a']['t']('base.common.countryCode.Japan','日本',{'ns':'editor'}),'+81'],[d['a']['t']('base.common.countryCode.Korea','韩国',{'ns':'editor'}),'+82'],[d['a']['t']('base.common.countryCode.Russia','俄罗斯',{'ns':'editor'}),'+7'],[d['a']['t']('base.common.countryCode.Albania','阿尔巴尼亚',{'ns':'editor'}),'+355'],[d['a']['t']('base.common.countryCode.Algeria','阿尔及利亚',{'ns':'editor'}),'+213'],[d['a']['t']('base.common.countryCode.Afghanistan','阿富汗',{'ns':'editor'}),'+93'],[d['a']['t']('base.common.countryCode.Argentina','阿根廷',{'ns':'editor'}),'+54'],[d['a']['t']('base.common.countryCode.Ireland','爱尔兰',{'ns':'editor'}),'+353'],[d['a']['t']('base.common.countryCode.Egypt','埃及',{'ns':'editor'}),'+20'],[d['a']['t']('base.common.countryCode.Ethiopia','埃塞俄比亚',{'ns':'editor'}),'+251'],[d['a']['t']('base.common.countryCode.Estonia','爱沙尼亚',{'ns':'editor'}),'+372'],[d['a']['t']('base.common.countryCode.UnitedArabEmirates','阿拉伯联合酋长国',{'ns':'editor'}),'+971'],[d['a']['t']('base.common.countryCode.Aruba','阿鲁巴',{'ns':'editor'}),'+297'],[d['a']['t']('base.common.countryCode.Oman','阿曼',{'ns':'editor'}),'+968'],[d['a']['t']('base.common.countryCode.Andorra','安道尔',{'ns':'editor'}),'+376'],[d['a']['t']('base.common.countryCode.Angola','安哥拉',{'ns':'editor'}),'+244'],[d['a']['t']('base.common.countryCode.Anguilla','安圭拉岛',{'ns':'editor'}),'+1264'],[d['a']['t']('base.common.countryCode.AntiguaAndBarbuda','安提瓜和巴布达',{'ns':'editor'}),'+1268'],[d['a']['t']('base.common.countryCode.Australia','澳大利亚',{'ns':'editor'}),'+61'],[d['a']['t']('base.common.countryCode.Austria','奥地利',{'ns':'editor'}),'+43'],[d['a']['t']('base.common.countryCode.Azerbaijan','阿塞拜疆',{'ns':'editor'}),'+994'],[d['a']['t']('base.common.countryCode.Barbados','巴巴多斯岛',{'ns':'editor'}),'+1246'],[d['a']['t']('base.common.countryCode.PapuaNewGuinea','巴布亚新几内亚',{'ns':'editor'}),'+675'],[d['a']['t']('base.common.countryCode.Bahamas','巴哈马',{'ns':'editor'}),'+1242'],[d['a']['t']('base.common.countryCode.Belarus','白俄罗斯',{'ns':'editor'}),'+375'],[d['a']['t']('base.common.countryCode.Bermuda','百慕大群岛',{'ns':'editor'}),'+1441'],[d['a']['t']('base.common.countryCode.Pakistan','巴基斯坦',{'ns':'editor'}),'+92'],[d['a']['t']('base.common.countryCode.Paraguay','巴拉圭',{'ns':'editor'}),'+595'],[d['a']['t']('base.common.countryCode.Bahrain','巴林',{'ns':'editor'}),'+973'],[d['a']['t']('base.common.countryCode.Panama','巴拿马',{'ns':'editor'}),'+507'],[d['a']['t']('base.common.countryCode.Bulgaria','保加利亚',{'ns':'editor'}),'+359'],[d['a']['t']('base.common.countryCode.Brazil','巴西',{'ns':'editor'}),'+55'],[d['a']['t']('base.common.countryCode.Benin','贝宁',{'ns':'editor'}),'+229'],[d['a']['t']('base.common.countryCode.Belgium','比利时',{'ns':'editor'}),'+32'],[d['a']['t']('base.common.countryCode.Iceland','冰岛',{'ns':'editor'}),'+354'],[d['a']['t']('base.common.countryCode.Botswana','博茨瓦纳',{'ns':'editor'}),'+267'],[d['a']['t']('base.common.countryCode.PuertoRico','波多黎各',{'ns':'editor'}),'+1'],[d['a']['t']('base.common.countryCode.Poland','波兰',{'ns':'editor'}),'+48'],[d['a']['t']('base.common.countryCode.Bolivia','玻利维亚',{'ns':'editor'}),'+591'],[d['a']['t']('base.common.countryCode.Belize','伯利兹',{'ns':'editor'}),'+501'],[d['a']['t']('base.common.countryCode.BosniaAndHerzegovina','波斯尼亚和黑塞哥维那',{'ns':'editor'}),'+387'],[d['a']['t']('base.common.countryCode.Bhutan','不丹',{'ns':'editor'}),'+975'],[d['a']['t']('base.common.countryCode.BurkinaFaso','布基纳法索',{'ns':'editor'}),'+226'],[d['a']['t']('base.common.countryCode.Burundi','布隆迪',{'ns':'editor'}),'+257'],[d['a']['t']('base.common.countryCode.NorthKorea','朝鲜',{'ns':'editor'}),'+850'],[d['a']['t']('base.common.countryCode.EquatorialGuinea','赤道几内亚',{'ns':'editor'}),'+240'],[d['a']['t']('base.common.countryCode.Denmark','丹麦',{'ns':'editor'}),'+45'],[d['a']['t']('base.common.countryCode.Germany','德国',{'ns':'editor'}),'+49'],[d['a']['t']('base.common.countryCode.DiegoGarcia','帝汶岛',{'ns':'editor'}),'+670'],[d['a']['t']('base.common.countryCode.Togo','多哥',{'ns':'editor'}),'+228'],[d['a']['t']('base.common.countryCode.Dominica','多米尼加',{'ns':'editor'}),'+1767'],[d['a']['t']('base.common.countryCode.DominicanRepublic','多米尼加共和国',{'ns':'editor'}),'+1809'],[d['a']['t']('base.common.countryCode.Ecuador','厄瓜多尔',{'ns':'editor'}),'+593'],[d['a']['t']('base.common.countryCode.Eritrea','厄立特里亚',{'ns':'editor'}),'+291'],[d['a']['t']('base.common.countryCode.Russia','俄罗斯',{'ns':'editor'}),'+7'],[d['a']['t']('base.common.countryCode.France','法国',{'ns':'editor'}),'+33'],[d['a']['t']('base.common.countryCode.FaroeIslands','法罗群岛',{'ns':'editor'}),'+298'],[d['a']['t']('base.common.countryCode.FrenchPolynesia','法属玻利尼西亚',{'ns':'editor'}),'+689'],[d['a']['t']('base.common.countryCode.FrenchGuiana','法属圭亚那',{'ns':'editor'}),'+594'],[d['a']['t']('base.common.countryCode.Fiji','斐济',{'ns':'editor'}),'+679'],[d['a']['t']('base.common.countryCode.Philippines','菲律宾',{'ns':'editor'}),'+63'],[d['a']['t']('base.common.countryCode.Finland','芬兰',{'ns':'editor'}),'+358'],[d['a']['t']('base.common.countryCode.Gambia','冈比亚',{'ns':'editor'}),'+220'],[d['a']['t']('base.common.countryCode.Congo','刚果共和国',{'ns':'editor'}),'+243'],[d['a']['t']('base.common.countryCode.CongoDemocraticRepublic','刚果民主共和国',{'ns':'editor'}),'+242'],[d['a']['t']('base.common.countryCode.Greenland','格陵兰',{'ns':'editor'}),'+299'],[d['a']['t']('base.common.countryCode.Grenada','格林纳达',{'ns':'editor'}),'+1473'],[d['a']['t']('base.common.countryCode.Colombia','哥伦比亚',{'ns':'editor'}),'+57'],[d['a']['t']('base.common.countryCode.CostaRica','哥斯达黎加',{'ns':'editor'}),'+506'],[d['a']['t']('base.common.countryCode.Guam','关岛',{'ns':'editor'}),'+1671'],[d['a']['t']('base.common.countryCode.Cuba','古巴',{'ns':'editor'}),'+53'],[d['a']['t']('base.common.countryCode.Guyana','圭亚那',{'ns':'editor'}),'+592'],[d['a']['t']('base.common.countryCode.Korea','韩国',{'ns':'editor'}),'+82'],[d['a']['t']('base.common.countryCode.Kazakhstan','哈萨克斯坦',{'ns':'editor'}),'+7'],[d['a']['t']('base.common.countryCode.Montenegro','黑山共和国',{'ns':'editor'}),'+382'],[d['a']['t']('base.common.countryCode.Netherlands','荷兰',{'ns':'editor'}),'+31'],[d['a']['t']('base.common.countryCode.Honduras','洪都拉斯',{'ns':'editor'}),'+504'],[d['a']['t']('base.common.countryCode.Haiti','海地',{'ns':'editor'}),'+509'],[d['a']['t']('base.common.countryCode.Ghana','加纳',{'ns':'editor'}),'+233'],[d['a']['t']('base.common.countryCode.Canada','加拿大',{'ns':'editor'}),'+1'],[d['a']['t']('base.common.countryCode.Cambodia','柬埔寨',{'ns':'editor'}),'+855'],[d['a']['t']('base.common.countryCode.Gabon','加蓬',{'ns':'editor'}),'+241'],[d['a']['t']('base.common.countryCode.Djibouti','吉布提',{'ns':'editor'}),'+253'],[d['a']['t']('base.common.countryCode.CzechRepublic','捷克',{'ns':'editor'}),'+420'],[d['a']['t']('base.common.countryCode.Kyrgyzstan','吉尔吉斯斯坦',{'ns':'editor'}),'+996'],[d['a']['t']('base.common.countryCode.Zimbabwe','津巴布韦',{'ns':'editor'}),'+263'],[d['a']['t']('base.common.countryCode.Guinea','几内亚',{'ns':'editor'}),'+224'],[d['a']['t']('base.common.countryCode.CaymanIslands','开曼群岛',{'ns':'editor'}),'+1345'],[d['a']['t']('base.common.countryCode.Cameroon','喀麦隆',{'ns':'editor'}),'+237'],[d['a']['t']('base.common.countryCode.Qatar','卡塔尔',{'ns':'editor'}),'+974'],[d['a']['t']('base.common.countryCode.Croatia','克罗地亚',{'ns':'editor'}),'+385'],[d['a']['t']('base.common.countryCode.Comoros','科摩罗',{'ns':'editor'}),'+269'],[d['a']['t']('base.common.countryCode.Kenya','肯尼亚',{'ns':'editor'}),'+254'],[d['a']['t']('base.common.countryCode.IvoryCoast','科特迪瓦',{'ns':'editor'}),'+225'],[d['a']['t']('base.common.countryCode.Kuwait','科威特',{'ns':'editor'}),'+965'],[d['a']['t']('base.common.countryCode.Laos','老挝',{'ns':'editor'}),'+856'],[d['a']['t']('base.common.countryCode.Latvia','拉脱维亚',{'ns':'editor'}),'+371'],[d['a']['t']('base.common.countryCode.Lebanon','黎巴嫩',{'ns':'editor'}),'+961'],[d['a']['t']('base.common.countryCode.Liberia','利比里亚',{'ns':'editor'}),'+231'],[d['a']['t']('base.common.countryCode.Libya','利比亚',{'ns':'editor'}),'+218'],[d['a']['t']('base.common.countryCode.Liechtenstein','列支敦士登',{'ns':'editor'}),'+423'],[d['a']['t']('base.common.countryCode.Lithuania','立陶宛',{'ns':'editor'}),'+370'],[d['a']['t']('base.common.countryCode.Romania','罗马尼亚',{'ns':'editor'}),'+40'],[d['a']['t']('base.common.countryCode.Luxembourg','卢森堡',{'ns':'editor'}),'+352'],[d['a']['t']('base.common.countryCode.Madagascar','马达加斯加',{'ns':'editor'}),'+261'],[d['a']['t']('base.common.countryCode.Maldives','马尔代夫',{'ns':'editor'}),'+960'],[d['a']['t']('base.common.countryCode.Malta','马耳他',{'ns':'editor'}),'+356'],[d['a']['t']('base.common.countryCode.Malaysia','马来西亚',{'ns':'editor'}),'+60'],[d['a']['t']('base.common.countryCode.Malawi','马拉维',{'ns':'editor'}),'+265'],[d['a']['t']('base.common.countryCode.Mali','马里',{'ns':'editor'}),'+223'],[d['a']['t']('base.common.countryCode.UnitedStates','美国',{'ns':'editor'}),'+1'],[d['a']['t']('base.common.countryCode.Mongolia','蒙古',{'ns':'editor'}),'+976'],[d['a']['t']('base.common.countryCode.Bangladesh','孟加拉国',{'ns':'editor'}),'+880'],[d['a']['t']('base.common.countryCode.Myanmar','缅甸',{'ns':'editor'}),'+95'],[d['a']['t']('base.common.countryCode.Peru','秘鲁',{'ns':'editor'}),'+51'],[d['a']['t']('base.common.countryCode.Monaco','摩纳哥',{'ns':'editor'}),'+373'],[d['a']['t']('base.common.countryCode.Morocco','摩洛哥',{'ns':'editor'}),'+212'],[d['a']['t']('base.common.countryCode.Mozambique','莫桑比克',{'ns':'editor'}),'+258'],[d['a']['t']('base.common.countryCode.Mexico','墨西哥',{'ns':'editor'}),'+52'],[d['a']['t']('base.common.countryCode.Namibia','纳米比亚',{'ns':'editor'}),'+264'],[d['a']['t']('base.common.countryCode.SouthAfrica','南非',{'ns':'editor'}),'+27'],[d['a']['t']('base.common.countryCode.Nepal','尼泊尔',{'ns':'editor'}),'+977'],[d['a']['t']('base.common.countryCode.Nicaragua','尼加拉瓜',{'ns':'editor'}),'+505'],[d['a']['t']('base.common.countryCode.Niger','尼日尔',{'ns':'editor'}),'+227'],[d['a']['t']('base.common.countryCode.Nigeria','尼日利亚',{'ns':'editor'}),'+234'],[d['a']['t']('base.common.countryCode.Norway','挪威',{'ns':'editor'}),'+47'],[d['a']['t']('base.common.countryCode.Portugal','葡萄牙',{'ns':'editor'}),'+351'],[d['a']['t']('base.common.countryCode.Georgia','格鲁吉亚',{'ns':'editor'}),'+995'],[d['a']['t']('base.common.countryCode.Japan','日本',{'ns':'editor'}),'+81'],[d['a']['t']('base.common.countryCode.Sweden','瑞典',{'ns':'editor'}),'+46'],[d['a']['t']('base.common.countryCode.Switzerland','瑞士',{'ns':'editor'}),'+41'],[d['a']['t']('base.common.countryCode.ElSalvador','萨尔瓦多',{'ns':'editor'}),'+503'],[d['a']['t']('base.common.countryCode.SierraLeone','塞拉利昂',{'ns':'editor'}),'+232'],[d['a']['t']('base.common.countryCode.Senegal','塞内加尔',{'ns':'editor'}),'+221'],[d['a']['t']('base.common.countryCode.Cyprus','塞浦路斯',{'ns':'editor'}),'+357'],[d['a']['t']('base.common.countryCode.Seychelles','塞舌尔',{'ns':'editor'}),'+248'],[d['a']['t']('base.common.countryCode.WesternSamoa','西萨摩亚',{'ns':'editor'}),'+685'],[d['a']['t']('base.common.countryCode.SaudiArabia','沙特阿拉伯',{'ns':'editor'}),'+966'],[d['a']['t']('base.common.countryCode.SaoTomeAndPrincipe','圣多美和普林西比',{'ns':'editor'}),'+239'],[d['a']['t']('base.common.countryCode.SaintLucia','圣卢西亚',{'ns':'editor'}),'+1758'],[d['a']['t']('base.common.countryCode.SanMarino','圣马力诺',{'ns':'editor'}),'+378'],[d['a']['t']('base.common.countryCode.SaintVincentAndTheGrenadines','圣文森特岛',{'ns':'editor'}),'+1784'],[d['a']['t']('base.common.countryCode.SriLanka','斯里兰卡',{'ns':'editor'}),'+94'],[d['a']['t']('base.common.countryCode.Slovakia','斯洛伐克',{'ns':'editor'}),'+421'],[d['a']['t']('base.common.countryCode.Slovenia','斯洛文尼亚',{'ns':'editor'}),'+386'],[d['a']['t']('base.common.countryCode.Swaziland','斯威士兰',{'ns':'editor'}),'+268'],[d['a']['t']('base.common.countryCode.Sudan','苏丹',{'ns':'editor'}),'+249'],[d['a']['t']('base.common.countryCode.Suriname','苏里南',{'ns':'editor'}),'+597'],[d['a']['t']('base.common.countryCode.Somalia','索马里',{'ns':'editor'}),'+252'],[d['a']['t']('base.common.countryCode.Thailand','泰国',{'ns':'editor'}),'+66'],[d['a']['t']('base.common.countryCode.Tajikistan','塔吉克斯坦',{'ns':'editor'}),'+992'],[d['a']['t']('base.common.countryCode.Tonga','汤加',{'ns':'editor'}),'+676'],[d['a']['t']('base.common.countryCode.Uganda','乌干达',{'ns':'editor'}),'+256'],[d['a']['t']('base.common.countryCode.TurksAndCaicosIslands','特克斯和凯科斯群岛',{'ns':'editor'}),'+1649'],[d['a']['t']('base.common.countryCode.TrinidadAndTobago','特立尼达和多巴哥',{'ns':'editor'}),'+1868'],[d['a']['t']('base.common.countryCode.Turkey','土耳其',{'ns':'editor'}),'+90'],[d['a']['t']('base.common.countryCode.Turkmenistan','土库曼斯坦',{'ns':'editor'}),'+993'],[d['a']['t']('base.common.countryCode.Tunisia','突尼斯',{'ns':'editor'}),'+216'],[d['a']['t']('base.common.countryCode.Vanuatu','瓦努阿图',{'ns':'editor'}),'+678'],[d['a']['t']('base.common.countryCode.Guatemala','危地马拉',{'ns':'editor'}),'+502'],[d['a']['t']('base.common.countryCode.Venezuela','委内瑞拉',{'ns':'editor'}),'+58'],[d['a']['t']('base.common.countryCode.Ukraine','乌克兰',{'ns':'editor'}),'+380'],[d['a']['t']('base.common.countryCode.Uruguay','乌拉圭',{'ns':'editor'}),'+598'],[d['a']['t']('base.common.countryCode.Uzbekistan','乌兹别克斯坦',{'ns':'editor'}),'+998'],[d['a']['t']('base.common.countryCode.Spain','西班牙',{'ns':'editor'}),'+34'],[d['a']['t']('base.common.countryCode.Greece','希腊',{'ns':'editor'}),'+30'],[d['a']['t']('base.common.countryCode.Singapore','新加坡',{'ns':'editor'}),'+65'],[d['a']['t']('base.common.countryCode.NewZealand','新西兰',{'ns':'editor'}),'+64'],[d['a']['t']('base.common.countryCode.Hungary','匈牙利',{'ns':'editor'}),'+36'],[d['a']['t']('base.common.countryCode.Syria','叙利亚',{'ns':'editor'}),'+963'],[d['a']['t']('base.common.countryCode.Jamaica','牙买加',{'ns':'editor'}),'+1876'],[d['a']['t']('base.common.countryCode.Armenia','亚美尼亚',{'ns':'editor'}),'+374'],[d['a']['t']('base.common.countryCode.Yemen','也门',{'ns':'editor'}),'+967'],[d['a']['t']('base.common.countryCode.Italy','意大利',{'ns':'editor'}),'+39'],[d['a']['t']('base.common.countryCode.Iraq','伊拉克',{'ns':'editor'}),'+964'],[d['a']['t']('base.common.countryCode.Iran','伊朗',{'ns':'editor'}),'+98'],[d['a']['t']('base.common.countryCode.India','印度',{'ns':'editor'}),'+91'],[d['a']['t']('base.common.countryCode.Indonesia','印度尼西亚',{'ns':'editor'}),'+62'],[d['a']['t']('base.common.countryCode.UnitedKingdom','英国',{'ns':'editor'}),'+44'],[d['a']['t']('base.common.countryCode.Israel','以色列',{'ns':'editor'}),'+972'],[d['a']['t']('base.common.countryCode.Jordan','约旦',{'ns':'editor'}),'+962'],[d['a']['t']('base.common.countryCode.Vietnam','越南',{'ns':'editor'}),'+84'],[d['a']['t']('base.common.countryCode.Zambia','赞比亚',{'ns':'editor'}),'+260'],[d['a']['t']('base.common.countryCode.Jersey','泽西岛',{'ns':'editor'}),'+44'],[d['a']['t']('base.common.countryCode.Chad','乍得',{'ns':'editor'}),'+235'],[d['a']['t']('base.common.countryCode.Gibraltar','直布罗陀',{'ns':'editor'}),'+350'],[d['a']['t']('base.common.countryCode.Chile','智利',{'ns':'editor'}),'+56'],[d['a']['t']('base.common.countryCode.CentralAfricanRepublic','中非共和国',{'ns':'editor'}),'+236'],[d['a']['t']('base.common.countryCode.China','中国',{'ns':'editor'}),'+86'],[d['a']['t']('base.common.countryCode.Macau','中国澳门特别行政区',{'ns':'editor'}),'+853'],[d['a']['t']('base.common.countryCode.Taiwan','中国台湾',{'ns':'editor'}),'+886'],[d['a']['t']('base.common.countryCode.HongKong','中国香港特别行政区',{'ns':'editor'}),'+852']];}}},[['eBiW',0x18,0x1c,0x58,0x45,0x15,0x28,0x2f]],[0x0,0x3,0x6,0x9,0x8,0x7,0xf,0xe,0xd,0x14,0x12,0x13,0x1a,0x1b,0x19,0x20,0x5b,0x46,0x1,0x2,0x4,0x5,0xb,0xa,0x11,0x10,0x16,0x17,0x1e,0x1d,0x31,0x2b,0x37,0x29,0x4b,0x3a]]);